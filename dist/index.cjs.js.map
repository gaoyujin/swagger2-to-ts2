{"version":3,"file":"index.cjs.js","sources":["../node_modules/commander/lib/error.js","../node_modules/commander/lib/argument.js","../node_modules/commander/lib/help.js","../node_modules/commander/lib/option.js","../node_modules/commander/lib/suggestSimilar.js","../node_modules/commander/lib/command.js","../node_modules/commander/index.js","../node_modules/commander/esm.mjs","../src/lib/core/help.js","../node_modules/chalk/node_modules/color-name/index.js","../node_modules/chalk/node_modules/color-convert/conversions.js","../node_modules/chalk/node_modules/color-convert/route.js","../node_modules/chalk/node_modules/color-convert/index.js","../node_modules/chalk/node_modules/ansi-styles/index.js","../node_modules/chalk/node_modules/has-flag/index.js","../node_modules/chalk/node_modules/supports-color/index.js","../node_modules/chalk/source/util.js","../node_modules/chalk/source/templates.js","../node_modules/chalk/source/index.js","../src/lib/utils/log.js","../node_modules/webidl-conversions/lib/index.js","../node_modules/whatwg-url/lib/utils.js","../node_modules/tr46/index.js","../node_modules/whatwg-url/lib/url-state-machine.js","../node_modules/whatwg-url/lib/URL-impl.js","../node_modules/whatwg-url/lib/URL.js","../node_modules/whatwg-url/lib/public-api.js","../node_modules/node-fetch/lib/index.mjs","../src/models/controllerEntity.ts","../src/models/fileEntity.ts","../src/swagger/convertData.ts","../node_modules/ejs/lib/utils.js","../node_modules/ejs/lib/ejs.js","../src/lib/utils/file.js","../src/swagger/opApi.ts","../src/swagger/opApiUse.ts","../src/swagger/opModel.ts","../src/swagger/opFile.ts","../node_modules/call-me-maybe/src/next.js","../node_modules/call-me-maybe/src/maybe.js","../node_modules/http2-client/lib/utils.js","../node_modules/http2-client/lib/request-options.js","../node_modules/http2-client/lib/request.js","../node_modules/http2-client/lib/http.js","../node_modules/http2-client/lib/https.js","../node_modules/http2-client/lib/index.js","../node_modules/node-fetch-h2/lib/index.mjs","../node_modules/yaml/dist/PlainValue-ec8e588e.js","../node_modules/yaml/dist/parse-cst.js","../node_modules/yaml/dist/resolveSeq-d03cb037.js","../node_modules/yaml/dist/warnings-1000a372.js","../node_modules/yaml/dist/Schema-88e323a7.js","../node_modules/yaml/dist/Document-9b4560a1.js","../node_modules/yaml/dist/index.js","../node_modules/yaml/index.js","../node_modules/reftools/lib/jptr.js","../node_modules/reftools/lib/isref.js","../node_modules/reftools/lib/clone.js","../node_modules/reftools/lib/recurse.js","../node_modules/reftools/lib/dereference.js","../node_modules/fast-safe-stringify/index.js","../node_modules/oas-kit-common/index.js","../node_modules/oas-resolver/index.js","../node_modules/oas-schema-walker/index.js","../node_modules/swagger2openapi/lib/statusCodes.js","../node_modules/swagger2openapi/index.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/lib/core/AxiosError.js","../node_modules/delayed-stream/lib/delayed_stream.js","../node_modules/combined-stream/lib/combined_stream.js","../node_modules/mime-db/index.js","../node_modules/mime-types/index.js","../node_modules/asynckit/lib/defer.js","../node_modules/asynckit/lib/async.js","../node_modules/asynckit/lib/abort.js","../node_modules/asynckit/lib/iterate.js","../node_modules/asynckit/lib/state.js","../node_modules/asynckit/lib/terminator.js","../node_modules/asynckit/parallel.js","../node_modules/asynckit/serialOrdered.js","../node_modules/asynckit/serial.js","../node_modules/asynckit/index.js","../node_modules/form-data/lib/populate.js","../node_modules/form-data/lib/form_data.js","../node_modules/axios/lib/helpers/toFormData.js","../node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/defaults/transitional.js","../node_modules/axios/lib/platform/node/classes/URLSearchParams.js","../node_modules/axios/lib/platform/node/index.js","../node_modules/axios/lib/helpers/toURLEncodedForm.js","../node_modules/axios/lib/helpers/formDataToJSON.js","../node_modules/axios/lib/defaults/index.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/core/AxiosHeaders.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/cancel/CanceledError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/proxy-from-env/index.js","../node_modules/ms/index.js","../node_modules/debug/src/common.js","../node_modules/debug/src/browser.js","../node_modules/follow-redirects/debug.js","../node_modules/has-flag/index.js","../node_modules/supports-color/index.js","../node_modules/debug/src/node.js","../node_modules/debug/src/index.js","../node_modules/follow-redirects/index.js","../node_modules/axios/lib/env/data.js","../node_modules/axios/lib/helpers/parseProtocol.js","../node_modules/axios/lib/helpers/fromDataURI.js","../node_modules/axios/lib/helpers/throttle.js","../node_modules/axios/lib/helpers/speedometer.js","../node_modules/axios/lib/helpers/AxiosTransformStream.js","../node_modules/axios/lib/helpers/readBlob.js","../node_modules/axios/lib/helpers/formDataToStream.js","../node_modules/axios/lib/helpers/ZlibHeaderTransformStream.js","../node_modules/axios/lib/helpers/callbackify.js","../node_modules/axios/lib/adapters/http.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/adapters/adapters.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/helpers/validator.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js","../node_modules/axios/lib/helpers/HttpStatusCode.js","../node_modules/axios/lib/axios.js","../src/swagger/index.ts","../src/lib/core/actions.js","../src/lib/core/create.js","../src/main.ts"],"sourcesContent":["// @ts-check\n\n/**\n * CommanderError class\n * @class\n */\nclass CommanderError extends Error {\n  /**\n   * Constructs the CommanderError class\n   * @param {number} exitCode suggested exit code which could be used with process.exit\n   * @param {string} code an id string representing the error\n   * @param {string} message human-readable description of the error\n   * @constructor\n   */\n  constructor(exitCode, code, message) {\n    super(message);\n    // properly capture stack trace in Node.js\n    Error.captureStackTrace(this, this.constructor);\n    this.name = this.constructor.name;\n    this.code = code;\n    this.exitCode = exitCode;\n    this.nestedError = undefined;\n  }\n}\n\n/**\n * InvalidArgumentError class\n * @class\n */\nclass InvalidArgumentError extends CommanderError {\n  /**\n   * Constructs the InvalidArgumentError class\n   * @param {string} [message] explanation of why argument is invalid\n   * @constructor\n   */\n  constructor(message) {\n    super(1, 'commander.invalidArgument', message);\n    // properly capture stack trace in Node.js\n    Error.captureStackTrace(this, this.constructor);\n    this.name = this.constructor.name;\n  }\n}\n\nexports.CommanderError = CommanderError;\nexports.InvalidArgumentError = InvalidArgumentError;\n","const { InvalidArgumentError } = require('./error.js');\n\n// @ts-check\n\nclass Argument {\n  /**\n   * Initialize a new command argument with the given name and description.\n   * The default is that the argument is required, and you can explicitly\n   * indicate this with <> around the name. Put [] around the name for an optional argument.\n   *\n   * @param {string} name\n   * @param {string} [description]\n   */\n\n  constructor(name, description) {\n    this.description = description || '';\n    this.variadic = false;\n    this.parseArg = undefined;\n    this.defaultValue = undefined;\n    this.defaultValueDescription = undefined;\n    this.argChoices = undefined;\n\n    switch (name[0]) {\n      case '<': // e.g. <required>\n        this.required = true;\n        this._name = name.slice(1, -1);\n        break;\n      case '[': // e.g. [optional]\n        this.required = false;\n        this._name = name.slice(1, -1);\n        break;\n      default:\n        this.required = true;\n        this._name = name;\n        break;\n    }\n\n    if (this._name.length > 3 && this._name.slice(-3) === '...') {\n      this.variadic = true;\n      this._name = this._name.slice(0, -3);\n    }\n  }\n\n  /**\n   * Return argument name.\n   *\n   * @return {string}\n   */\n\n  name() {\n    return this._name;\n  }\n\n  /**\n   * @api private\n   */\n\n  _concatValue(value, previous) {\n    if (previous === this.defaultValue || !Array.isArray(previous)) {\n      return [value];\n    }\n\n    return previous.concat(value);\n  }\n\n  /**\n   * Set the default value, and optionally supply the description to be displayed in the help.\n   *\n   * @param {any} value\n   * @param {string} [description]\n   * @return {Argument}\n   */\n\n  default(value, description) {\n    this.defaultValue = value;\n    this.defaultValueDescription = description;\n    return this;\n  }\n\n  /**\n   * Set the custom handler for processing CLI command arguments into argument values.\n   *\n   * @param {Function} [fn]\n   * @return {Argument}\n   */\n\n  argParser(fn) {\n    this.parseArg = fn;\n    return this;\n  }\n\n  /**\n   * Only allow argument value to be one of choices.\n   *\n   * @param {string[]} values\n   * @return {Argument}\n   */\n\n  choices(values) {\n    this.argChoices = values.slice();\n    this.parseArg = (arg, previous) => {\n      if (!this.argChoices.includes(arg)) {\n        throw new InvalidArgumentError(`Allowed choices are ${this.argChoices.join(', ')}.`);\n      }\n      if (this.variadic) {\n        return this._concatValue(arg, previous);\n      }\n      return arg;\n    };\n    return this;\n  }\n\n  /**\n   * Make argument required.\n   */\n  argRequired() {\n    this.required = true;\n    return this;\n  }\n\n  /**\n   * Make argument optional.\n   */\n  argOptional() {\n    this.required = false;\n    return this;\n  }\n}\n\n/**\n * Takes an argument and returns its human readable equivalent for help usage.\n *\n * @param {Argument} arg\n * @return {string}\n * @api private\n */\n\nfunction humanReadableArgName(arg) {\n  const nameOutput = arg.name() + (arg.variadic === true ? '...' : '');\n\n  return arg.required\n    ? '<' + nameOutput + '>'\n    : '[' + nameOutput + ']';\n}\n\nexports.Argument = Argument;\nexports.humanReadableArgName = humanReadableArgName;\n","const { humanReadableArgName } = require('./argument.js');\n\n/**\n * TypeScript import types for JSDoc, used by Visual Studio Code IntelliSense and `npm run typescript-checkJS`\n * https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html#import-types\n * @typedef { import(\"./argument.js\").Argument } Argument\n * @typedef { import(\"./command.js\").Command } Command\n * @typedef { import(\"./option.js\").Option } Option\n */\n\n// @ts-check\n\n// Although this is a class, methods are static in style to allow override using subclass or just functions.\nclass Help {\n  constructor() {\n    this.helpWidth = undefined;\n    this.sortSubcommands = false;\n    this.sortOptions = false;\n    this.showGlobalOptions = false;\n  }\n\n  /**\n   * Get an array of the visible subcommands. Includes a placeholder for the implicit help command, if there is one.\n   *\n   * @param {Command} cmd\n   * @returns {Command[]}\n   */\n\n  visibleCommands(cmd) {\n    const visibleCommands = cmd.commands.filter(cmd => !cmd._hidden);\n    if (cmd._hasImplicitHelpCommand()) {\n      // Create a command matching the implicit help command.\n      const [, helpName, helpArgs] = cmd._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/);\n      const helpCommand = cmd.createCommand(helpName)\n        .helpOption(false);\n      helpCommand.description(cmd._helpCommandDescription);\n      if (helpArgs) helpCommand.arguments(helpArgs);\n      visibleCommands.push(helpCommand);\n    }\n    if (this.sortSubcommands) {\n      visibleCommands.sort((a, b) => {\n        // @ts-ignore: overloaded return type\n        return a.name().localeCompare(b.name());\n      });\n    }\n    return visibleCommands;\n  }\n\n  /**\n   * Compare options for sort.\n   *\n   * @param {Option} a\n   * @param {Option} b\n   * @returns number\n   */\n  compareOptions(a, b) {\n    const getSortKey = (option) => {\n      // WYSIWYG for order displayed in help. Short used for comparison if present. No special handling for negated.\n      return option.short ? option.short.replace(/^-/, '') : option.long.replace(/^--/, '');\n    };\n    return getSortKey(a).localeCompare(getSortKey(b));\n  }\n\n  /**\n   * Get an array of the visible options. Includes a placeholder for the implicit help option, if there is one.\n   *\n   * @param {Command} cmd\n   * @returns {Option[]}\n   */\n\n  visibleOptions(cmd) {\n    const visibleOptions = cmd.options.filter((option) => !option.hidden);\n    // Implicit help\n    const showShortHelpFlag = cmd._hasHelpOption && cmd._helpShortFlag && !cmd._findOption(cmd._helpShortFlag);\n    const showLongHelpFlag = cmd._hasHelpOption && !cmd._findOption(cmd._helpLongFlag);\n    if (showShortHelpFlag || showLongHelpFlag) {\n      let helpOption;\n      if (!showShortHelpFlag) {\n        helpOption = cmd.createOption(cmd._helpLongFlag, cmd._helpDescription);\n      } else if (!showLongHelpFlag) {\n        helpOption = cmd.createOption(cmd._helpShortFlag, cmd._helpDescription);\n      } else {\n        helpOption = cmd.createOption(cmd._helpFlags, cmd._helpDescription);\n      }\n      visibleOptions.push(helpOption);\n    }\n    if (this.sortOptions) {\n      visibleOptions.sort(this.compareOptions);\n    }\n    return visibleOptions;\n  }\n\n  /**\n   * Get an array of the visible global options. (Not including help.)\n   *\n   * @param {Command} cmd\n   * @returns {Option[]}\n   */\n\n  visibleGlobalOptions(cmd) {\n    if (!this.showGlobalOptions) return [];\n\n    const globalOptions = [];\n    for (let parentCmd = cmd.parent; parentCmd; parentCmd = parentCmd.parent) {\n      const visibleOptions = parentCmd.options.filter((option) => !option.hidden);\n      globalOptions.push(...visibleOptions);\n    }\n    if (this.sortOptions) {\n      globalOptions.sort(this.compareOptions);\n    }\n    return globalOptions;\n  }\n\n  /**\n   * Get an array of the arguments if any have a description.\n   *\n   * @param {Command} cmd\n   * @returns {Argument[]}\n   */\n\n  visibleArguments(cmd) {\n    // Side effect! Apply the legacy descriptions before the arguments are displayed.\n    if (cmd._argsDescription) {\n      cmd._args.forEach(argument => {\n        argument.description = argument.description || cmd._argsDescription[argument.name()] || '';\n      });\n    }\n\n    // If there are any arguments with a description then return all the arguments.\n    if (cmd._args.find(argument => argument.description)) {\n      return cmd._args;\n    }\n    return [];\n  }\n\n  /**\n   * Get the command term to show in the list of subcommands.\n   *\n   * @param {Command} cmd\n   * @returns {string}\n   */\n\n  subcommandTerm(cmd) {\n    // Legacy. Ignores custom usage string, and nested commands.\n    const args = cmd._args.map(arg => humanReadableArgName(arg)).join(' ');\n    return cmd._name +\n      (cmd._aliases[0] ? '|' + cmd._aliases[0] : '') +\n      (cmd.options.length ? ' [options]' : '') + // simplistic check for non-help option\n      (args ? ' ' + args : '');\n  }\n\n  /**\n   * Get the option term to show in the list of options.\n   *\n   * @param {Option} option\n   * @returns {string}\n   */\n\n  optionTerm(option) {\n    return option.flags;\n  }\n\n  /**\n   * Get the argument term to show in the list of arguments.\n   *\n   * @param {Argument} argument\n   * @returns {string}\n   */\n\n  argumentTerm(argument) {\n    return argument.name();\n  }\n\n  /**\n   * Get the longest command term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  longestSubcommandTermLength(cmd, helper) {\n    return helper.visibleCommands(cmd).reduce((max, command) => {\n      return Math.max(max, helper.subcommandTerm(command).length);\n    }, 0);\n  }\n\n  /**\n   * Get the longest option term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  longestOptionTermLength(cmd, helper) {\n    return helper.visibleOptions(cmd).reduce((max, option) => {\n      return Math.max(max, helper.optionTerm(option).length);\n    }, 0);\n  }\n\n  /**\n   * Get the longest global option term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  longestGlobalOptionTermLength(cmd, helper) {\n    return helper.visibleGlobalOptions(cmd).reduce((max, option) => {\n      return Math.max(max, helper.optionTerm(option).length);\n    }, 0);\n  }\n\n  /**\n   * Get the longest argument term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  longestArgumentTermLength(cmd, helper) {\n    return helper.visibleArguments(cmd).reduce((max, argument) => {\n      return Math.max(max, helper.argumentTerm(argument).length);\n    }, 0);\n  }\n\n  /**\n   * Get the command usage to be displayed at the top of the built-in help.\n   *\n   * @param {Command} cmd\n   * @returns {string}\n   */\n\n  commandUsage(cmd) {\n    // Usage\n    let cmdName = cmd._name;\n    if (cmd._aliases[0]) {\n      cmdName = cmdName + '|' + cmd._aliases[0];\n    }\n    let parentCmdNames = '';\n    for (let parentCmd = cmd.parent; parentCmd; parentCmd = parentCmd.parent) {\n      parentCmdNames = parentCmd.name() + ' ' + parentCmdNames;\n    }\n    return parentCmdNames + cmdName + ' ' + cmd.usage();\n  }\n\n  /**\n   * Get the description for the command.\n   *\n   * @param {Command} cmd\n   * @returns {string}\n   */\n\n  commandDescription(cmd) {\n    // @ts-ignore: overloaded return type\n    return cmd.description();\n  }\n\n  /**\n   * Get the subcommand summary to show in the list of subcommands.\n   * (Fallback to description for backwards compatibility.)\n   *\n   * @param {Command} cmd\n   * @returns {string}\n   */\n\n  subcommandDescription(cmd) {\n    // @ts-ignore: overloaded return type\n    return cmd.summary() || cmd.description();\n  }\n\n  /**\n   * Get the option description to show in the list of options.\n   *\n   * @param {Option} option\n   * @return {string}\n   */\n\n  optionDescription(option) {\n    const extraInfo = [];\n\n    if (option.argChoices) {\n      extraInfo.push(\n        // use stringify to match the display of the default value\n        `choices: ${option.argChoices.map((choice) => JSON.stringify(choice)).join(', ')}`);\n    }\n    if (option.defaultValue !== undefined) {\n      // default for boolean and negated more for programmer than end user,\n      // but show true/false for boolean option as may be for hand-rolled env or config processing.\n      const showDefault = option.required || option.optional ||\n        (option.isBoolean() && typeof option.defaultValue === 'boolean');\n      if (showDefault) {\n        extraInfo.push(`default: ${option.defaultValueDescription || JSON.stringify(option.defaultValue)}`);\n      }\n    }\n    // preset for boolean and negated are more for programmer than end user\n    if (option.presetArg !== undefined && option.optional) {\n      extraInfo.push(`preset: ${JSON.stringify(option.presetArg)}`);\n    }\n    if (option.envVar !== undefined) {\n      extraInfo.push(`env: ${option.envVar}`);\n    }\n    if (extraInfo.length > 0) {\n      return `${option.description} (${extraInfo.join(', ')})`;\n    }\n\n    return option.description;\n  }\n\n  /**\n   * Get the argument description to show in the list of arguments.\n   *\n   * @param {Argument} argument\n   * @return {string}\n   */\n\n  argumentDescription(argument) {\n    const extraInfo = [];\n    if (argument.argChoices) {\n      extraInfo.push(\n        // use stringify to match the display of the default value\n        `choices: ${argument.argChoices.map((choice) => JSON.stringify(choice)).join(', ')}`);\n    }\n    if (argument.defaultValue !== undefined) {\n      extraInfo.push(`default: ${argument.defaultValueDescription || JSON.stringify(argument.defaultValue)}`);\n    }\n    if (extraInfo.length > 0) {\n      const extraDescripton = `(${extraInfo.join(', ')})`;\n      if (argument.description) {\n        return `${argument.description} ${extraDescripton}`;\n      }\n      return extraDescripton;\n    }\n    return argument.description;\n  }\n\n  /**\n   * Generate the built-in help text.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {string}\n   */\n\n  formatHelp(cmd, helper) {\n    const termWidth = helper.padWidth(cmd, helper);\n    const helpWidth = helper.helpWidth || 80;\n    const itemIndentWidth = 2;\n    const itemSeparatorWidth = 2; // between term and description\n    function formatItem(term, description) {\n      if (description) {\n        const fullText = `${term.padEnd(termWidth + itemSeparatorWidth)}${description}`;\n        return helper.wrap(fullText, helpWidth - itemIndentWidth, termWidth + itemSeparatorWidth);\n      }\n      return term;\n    }\n    function formatList(textArray) {\n      return textArray.join('\\n').replace(/^/gm, ' '.repeat(itemIndentWidth));\n    }\n\n    // Usage\n    let output = [`Usage: ${helper.commandUsage(cmd)}`, ''];\n\n    // Description\n    const commandDescription = helper.commandDescription(cmd);\n    if (commandDescription.length > 0) {\n      output = output.concat([helper.wrap(commandDescription, helpWidth, 0), '']);\n    }\n\n    // Arguments\n    const argumentList = helper.visibleArguments(cmd).map((argument) => {\n      return formatItem(helper.argumentTerm(argument), helper.argumentDescription(argument));\n    });\n    if (argumentList.length > 0) {\n      output = output.concat(['Arguments:', formatList(argumentList), '']);\n    }\n\n    // Options\n    const optionList = helper.visibleOptions(cmd).map((option) => {\n      return formatItem(helper.optionTerm(option), helper.optionDescription(option));\n    });\n    if (optionList.length > 0) {\n      output = output.concat(['Options:', formatList(optionList), '']);\n    }\n\n    if (this.showGlobalOptions) {\n      const globalOptionList = helper.visibleGlobalOptions(cmd).map((option) => {\n        return formatItem(helper.optionTerm(option), helper.optionDescription(option));\n      });\n      if (globalOptionList.length > 0) {\n        output = output.concat(['Global Options:', formatList(globalOptionList), '']);\n      }\n    }\n\n    // Commands\n    const commandList = helper.visibleCommands(cmd).map((cmd) => {\n      return formatItem(helper.subcommandTerm(cmd), helper.subcommandDescription(cmd));\n    });\n    if (commandList.length > 0) {\n      output = output.concat(['Commands:', formatList(commandList), '']);\n    }\n\n    return output.join('\\n');\n  }\n\n  /**\n   * Calculate the pad width from the maximum term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  padWidth(cmd, helper) {\n    return Math.max(\n      helper.longestOptionTermLength(cmd, helper),\n      helper.longestGlobalOptionTermLength(cmd, helper),\n      helper.longestSubcommandTermLength(cmd, helper),\n      helper.longestArgumentTermLength(cmd, helper)\n    );\n  }\n\n  /**\n   * Wrap the given string to width characters per line, with lines after the first indented.\n   * Do not wrap if insufficient room for wrapping (minColumnWidth), or string is manually formatted.\n   *\n   * @param {string} str\n   * @param {number} width\n   * @param {number} indent\n   * @param {number} [minColumnWidth=40]\n   * @return {string}\n   *\n   */\n\n  wrap(str, width, indent, minColumnWidth = 40) {\n    // Full \\s characters, minus the linefeeds.\n    const indents = ' \\\\f\\\\t\\\\v\\u00a0\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff';\n    // Detect manually wrapped and indented strings by searching for line break followed by spaces.\n    const manualIndent = new RegExp(`[\\\\n][${indents}]+`);\n    if (str.match(manualIndent)) return str;\n    // Do not wrap if not enough room for a wrapped column of text (as could end up with a word per line).\n    const columnWidth = width - indent;\n    if (columnWidth < minColumnWidth) return str;\n\n    const leadingStr = str.slice(0, indent);\n    const columnText = str.slice(indent).replace('\\r\\n', '\\n');\n    const indentString = ' '.repeat(indent);\n    const zeroWidthSpace = '\\u200B';\n    const breaks = `\\\\s${zeroWidthSpace}`;\n    // Match line end (so empty lines don't collapse),\n    // or as much text as will fit in column, or excess text up to first break.\n    const regex = new RegExp(`\\n|.{1,${columnWidth - 1}}([${breaks}]|$)|[^${breaks}]+?([${breaks}]|$)`, 'g');\n    const lines = columnText.match(regex) || [];\n    return leadingStr + lines.map((line, i) => {\n      if (line === '\\n') return ''; // preserve empty lines\n      return ((i > 0) ? indentString : '') + line.trimEnd();\n    }).join('\\n');\n  }\n}\n\nexports.Help = Help;\n","const { InvalidArgumentError } = require('./error.js');\n\n// @ts-check\n\nclass Option {\n  /**\n   * Initialize a new `Option` with the given `flags` and `description`.\n   *\n   * @param {string} flags\n   * @param {string} [description]\n   */\n\n  constructor(flags, description) {\n    this.flags = flags;\n    this.description = description || '';\n\n    this.required = flags.includes('<'); // A value must be supplied when the option is specified.\n    this.optional = flags.includes('['); // A value is optional when the option is specified.\n    // variadic test ignores <value,...> et al which might be used to describe custom splitting of single argument\n    this.variadic = /\\w\\.\\.\\.[>\\]]$/.test(flags); // The option can take multiple values.\n    this.mandatory = false; // The option must have a value after parsing, which usually means it must be specified on command line.\n    const optionFlags = splitOptionFlags(flags);\n    this.short = optionFlags.shortFlag;\n    this.long = optionFlags.longFlag;\n    this.negate = false;\n    if (this.long) {\n      this.negate = this.long.startsWith('--no-');\n    }\n    this.defaultValue = undefined;\n    this.defaultValueDescription = undefined;\n    this.presetArg = undefined;\n    this.envVar = undefined;\n    this.parseArg = undefined;\n    this.hidden = false;\n    this.argChoices = undefined;\n    this.conflictsWith = [];\n    this.implied = undefined;\n  }\n\n  /**\n   * Set the default value, and optionally supply the description to be displayed in the help.\n   *\n   * @param {any} value\n   * @param {string} [description]\n   * @return {Option}\n   */\n\n  default(value, description) {\n    this.defaultValue = value;\n    this.defaultValueDescription = description;\n    return this;\n  }\n\n  /**\n   * Preset to use when option used without option-argument, especially optional but also boolean and negated.\n   * The custom processing (parseArg) is called.\n   *\n   * @example\n   * new Option('--color').default('GREYSCALE').preset('RGB');\n   * new Option('--donate [amount]').preset('20').argParser(parseFloat);\n   *\n   * @param {any} arg\n   * @return {Option}\n   */\n\n  preset(arg) {\n    this.presetArg = arg;\n    return this;\n  }\n\n  /**\n   * Add option name(s) that conflict with this option.\n   * An error will be displayed if conflicting options are found during parsing.\n   *\n   * @example\n   * new Option('--rgb').conflicts('cmyk');\n   * new Option('--js').conflicts(['ts', 'jsx']);\n   *\n   * @param {string | string[]} names\n   * @return {Option}\n   */\n\n  conflicts(names) {\n    this.conflictsWith = this.conflictsWith.concat(names);\n    return this;\n  }\n\n  /**\n   * Specify implied option values for when this option is set and the implied options are not.\n   *\n   * The custom processing (parseArg) is not called on the implied values.\n   *\n   * @example\n   * program\n   *   .addOption(new Option('--log', 'write logging information to file'))\n   *   .addOption(new Option('--trace', 'log extra details').implies({ log: 'trace.txt' }));\n   *\n   * @param {Object} impliedOptionValues\n   * @return {Option}\n   */\n  implies(impliedOptionValues) {\n    let newImplied = impliedOptionValues;\n    if (typeof impliedOptionValues === 'string') {\n      // string is not documented, but easy mistake and we can do what user probably intended.\n      newImplied = { [impliedOptionValues]: true };\n    }\n    this.implied = Object.assign(this.implied || {}, newImplied);\n    return this;\n  }\n\n  /**\n   * Set environment variable to check for option value.\n   *\n   * An environment variable is only used if when processed the current option value is\n   * undefined, or the source of the current value is 'default' or 'config' or 'env'.\n   *\n   * @param {string} name\n   * @return {Option}\n   */\n\n  env(name) {\n    this.envVar = name;\n    return this;\n  }\n\n  /**\n   * Set the custom handler for processing CLI option arguments into option values.\n   *\n   * @param {Function} [fn]\n   * @return {Option}\n   */\n\n  argParser(fn) {\n    this.parseArg = fn;\n    return this;\n  }\n\n  /**\n   * Whether the option is mandatory and must have a value after parsing.\n   *\n   * @param {boolean} [mandatory=true]\n   * @return {Option}\n   */\n\n  makeOptionMandatory(mandatory = true) {\n    this.mandatory = !!mandatory;\n    return this;\n  }\n\n  /**\n   * Hide option in help.\n   *\n   * @param {boolean} [hide=true]\n   * @return {Option}\n   */\n\n  hideHelp(hide = true) {\n    this.hidden = !!hide;\n    return this;\n  }\n\n  /**\n   * @api private\n   */\n\n  _concatValue(value, previous) {\n    if (previous === this.defaultValue || !Array.isArray(previous)) {\n      return [value];\n    }\n\n    return previous.concat(value);\n  }\n\n  /**\n   * Only allow option value to be one of choices.\n   *\n   * @param {string[]} values\n   * @return {Option}\n   */\n\n  choices(values) {\n    this.argChoices = values.slice();\n    this.parseArg = (arg, previous) => {\n      if (!this.argChoices.includes(arg)) {\n        throw new InvalidArgumentError(`Allowed choices are ${this.argChoices.join(', ')}.`);\n      }\n      if (this.variadic) {\n        return this._concatValue(arg, previous);\n      }\n      return arg;\n    };\n    return this;\n  }\n\n  /**\n   * Return option name.\n   *\n   * @return {string}\n   */\n\n  name() {\n    if (this.long) {\n      return this.long.replace(/^--/, '');\n    }\n    return this.short.replace(/^-/, '');\n  }\n\n  /**\n   * Return option name, in a camelcase format that can be used\n   * as a object attribute key.\n   *\n   * @return {string}\n   * @api private\n   */\n\n  attributeName() {\n    return camelcase(this.name().replace(/^no-/, ''));\n  }\n\n  /**\n   * Check if `arg` matches the short or long flag.\n   *\n   * @param {string} arg\n   * @return {boolean}\n   * @api private\n   */\n\n  is(arg) {\n    return this.short === arg || this.long === arg;\n  }\n\n  /**\n   * Return whether a boolean option.\n   *\n   * Options are one of boolean, negated, required argument, or optional argument.\n   *\n   * @return {boolean}\n   * @api private\n   */\n\n  isBoolean() {\n    return !this.required && !this.optional && !this.negate;\n  }\n}\n\n/**\n * This class is to make it easier to work with dual options, without changing the existing\n * implementation. We support separate dual options for separate positive and negative options,\n * like `--build` and `--no-build`, which share a single option value. This works nicely for some\n * use cases, but is tricky for others where we want separate behaviours despite\n * the single shared option value.\n */\nclass DualOptions {\n  /**\n   * @param {Option[]} options\n   */\n  constructor(options) {\n    this.positiveOptions = new Map();\n    this.negativeOptions = new Map();\n    this.dualOptions = new Set();\n    options.forEach(option => {\n      if (option.negate) {\n        this.negativeOptions.set(option.attributeName(), option);\n      } else {\n        this.positiveOptions.set(option.attributeName(), option);\n      }\n    });\n    this.negativeOptions.forEach((value, key) => {\n      if (this.positiveOptions.has(key)) {\n        this.dualOptions.add(key);\n      }\n    });\n  }\n\n  /**\n   * Did the value come from the option, and not from possible matching dual option?\n   *\n   * @param {any} value\n   * @param {Option} option\n   * @returns {boolean}\n   */\n  valueFromOption(value, option) {\n    const optionKey = option.attributeName();\n    if (!this.dualOptions.has(optionKey)) return true;\n\n    // Use the value to deduce if (probably) came from the option.\n    const preset = this.negativeOptions.get(optionKey).presetArg;\n    const negativeValue = (preset !== undefined) ? preset : false;\n    return option.negate === (negativeValue === value);\n  }\n}\n\n/**\n * Convert string from kebab-case to camelCase.\n *\n * @param {string} str\n * @return {string}\n * @api private\n */\n\nfunction camelcase(str) {\n  return str.split('-').reduce((str, word) => {\n    return str + word[0].toUpperCase() + word.slice(1);\n  });\n}\n\n/**\n * Split the short and long flag out of something like '-m,--mixed <value>'\n *\n * @api private\n */\n\nfunction splitOptionFlags(flags) {\n  let shortFlag;\n  let longFlag;\n  // Use original very loose parsing to maintain backwards compatibility for now,\n  // which allowed for example unintended `-sw, --short-word` [sic].\n  const flagParts = flags.split(/[ |,]+/);\n  if (flagParts.length > 1 && !/^[[<]/.test(flagParts[1])) shortFlag = flagParts.shift();\n  longFlag = flagParts.shift();\n  // Add support for lone short flag without significantly changing parsing!\n  if (!shortFlag && /^-[^-]$/.test(longFlag)) {\n    shortFlag = longFlag;\n    longFlag = undefined;\n  }\n  return { shortFlag, longFlag };\n}\n\nexports.Option = Option;\nexports.splitOptionFlags = splitOptionFlags;\nexports.DualOptions = DualOptions;\n","const maxDistance = 3;\n\nfunction editDistance(a, b) {\n  // https://en.wikipedia.org/wiki/Damerau–Levenshtein_distance\n  // Calculating optimal string alignment distance, no substring is edited more than once.\n  // (Simple implementation.)\n\n  // Quick early exit, return worst case.\n  if (Math.abs(a.length - b.length) > maxDistance) return Math.max(a.length, b.length);\n\n  // distance between prefix substrings of a and b\n  const d = [];\n\n  // pure deletions turn a into empty string\n  for (let i = 0; i <= a.length; i++) {\n    d[i] = [i];\n  }\n  // pure insertions turn empty string into b\n  for (let j = 0; j <= b.length; j++) {\n    d[0][j] = j;\n  }\n\n  // fill matrix\n  for (let j = 1; j <= b.length; j++) {\n    for (let i = 1; i <= a.length; i++) {\n      let cost = 1;\n      if (a[i - 1] === b[j - 1]) {\n        cost = 0;\n      } else {\n        cost = 1;\n      }\n      d[i][j] = Math.min(\n        d[i - 1][j] + 1, // deletion\n        d[i][j - 1] + 1, // insertion\n        d[i - 1][j - 1] + cost // substitution\n      );\n      // transposition\n      if (i > 1 && j > 1 && a[i - 1] === b[j - 2] && a[i - 2] === b[j - 1]) {\n        d[i][j] = Math.min(d[i][j], d[i - 2][j - 2] + 1);\n      }\n    }\n  }\n\n  return d[a.length][b.length];\n}\n\n/**\n * Find close matches, restricted to same number of edits.\n *\n * @param {string} word\n * @param {string[]} candidates\n * @returns {string}\n */\n\nfunction suggestSimilar(word, candidates) {\n  if (!candidates || candidates.length === 0) return '';\n  // remove possible duplicates\n  candidates = Array.from(new Set(candidates));\n\n  const searchingOptions = word.startsWith('--');\n  if (searchingOptions) {\n    word = word.slice(2);\n    candidates = candidates.map(candidate => candidate.slice(2));\n  }\n\n  let similar = [];\n  let bestDistance = maxDistance;\n  const minSimilarity = 0.4;\n  candidates.forEach((candidate) => {\n    if (candidate.length <= 1) return; // no one character guesses\n\n    const distance = editDistance(word, candidate);\n    const length = Math.max(word.length, candidate.length);\n    const similarity = (length - distance) / length;\n    if (similarity > minSimilarity) {\n      if (distance < bestDistance) {\n        // better edit distance, throw away previous worse matches\n        bestDistance = distance;\n        similar = [candidate];\n      } else if (distance === bestDistance) {\n        similar.push(candidate);\n      }\n    }\n  });\n\n  similar.sort((a, b) => a.localeCompare(b));\n  if (searchingOptions) {\n    similar = similar.map(candidate => `--${candidate}`);\n  }\n\n  if (similar.length > 1) {\n    return `\\n(Did you mean one of ${similar.join(', ')}?)`;\n  }\n  if (similar.length === 1) {\n    return `\\n(Did you mean ${similar[0]}?)`;\n  }\n  return '';\n}\n\nexports.suggestSimilar = suggestSimilar;\n","const EventEmitter = require('events').EventEmitter;\nconst childProcess = require('child_process');\nconst path = require('path');\nconst fs = require('fs');\nconst process = require('process');\n\nconst { Argument, humanReadableArgName } = require('./argument.js');\nconst { CommanderError } = require('./error.js');\nconst { Help } = require('./help.js');\nconst { Option, splitOptionFlags, DualOptions } = require('./option.js');\nconst { suggestSimilar } = require('./suggestSimilar');\n\n// @ts-check\n\nclass Command extends EventEmitter {\n  /**\n   * Initialize a new `Command`.\n   *\n   * @param {string} [name]\n   */\n\n  constructor(name) {\n    super();\n    /** @type {Command[]} */\n    this.commands = [];\n    /** @type {Option[]} */\n    this.options = [];\n    this.parent = null;\n    this._allowUnknownOption = false;\n    this._allowExcessArguments = true;\n    /** @type {Argument[]} */\n    this._args = [];\n    /** @type {string[]} */\n    this.args = []; // cli args with options removed\n    this.rawArgs = [];\n    this.processedArgs = []; // like .args but after custom processing and collecting variadic\n    this._scriptPath = null;\n    this._name = name || '';\n    this._optionValues = {};\n    this._optionValueSources = {}; // default, env, cli etc\n    this._storeOptionsAsProperties = false;\n    this._actionHandler = null;\n    this._executableHandler = false;\n    this._executableFile = null; // custom name for executable\n    this._executableDir = null; // custom search directory for subcommands\n    this._defaultCommandName = null;\n    this._exitCallback = null;\n    this._aliases = [];\n    this._combineFlagAndOptionalValue = true;\n    this._description = '';\n    this._summary = '';\n    this._argsDescription = undefined; // legacy\n    this._enablePositionalOptions = false;\n    this._passThroughOptions = false;\n    this._lifeCycleHooks = {}; // a hash of arrays\n    /** @type {boolean | string} */\n    this._showHelpAfterError = false;\n    this._showSuggestionAfterError = true;\n\n    // see .configureOutput() for docs\n    this._outputConfiguration = {\n      writeOut: (str) => process.stdout.write(str),\n      writeErr: (str) => process.stderr.write(str),\n      getOutHelpWidth: () => process.stdout.isTTY ? process.stdout.columns : undefined,\n      getErrHelpWidth: () => process.stderr.isTTY ? process.stderr.columns : undefined,\n      outputError: (str, write) => write(str)\n    };\n\n    this._hidden = false;\n    this._hasHelpOption = true;\n    this._helpFlags = '-h, --help';\n    this._helpDescription = 'display help for command';\n    this._helpShortFlag = '-h';\n    this._helpLongFlag = '--help';\n    this._addImplicitHelpCommand = undefined; // Deliberately undefined, not decided whether true or false\n    this._helpCommandName = 'help';\n    this._helpCommandnameAndArgs = 'help [command]';\n    this._helpCommandDescription = 'display help for command';\n    this._helpConfiguration = {};\n  }\n\n  /**\n   * Copy settings that are useful to have in common across root command and subcommands.\n   *\n   * (Used internally when adding a command using `.command()` so subcommands inherit parent settings.)\n   *\n   * @param {Command} sourceCommand\n   * @return {Command} `this` command for chaining\n   */\n  copyInheritedSettings(sourceCommand) {\n    this._outputConfiguration = sourceCommand._outputConfiguration;\n    this._hasHelpOption = sourceCommand._hasHelpOption;\n    this._helpFlags = sourceCommand._helpFlags;\n    this._helpDescription = sourceCommand._helpDescription;\n    this._helpShortFlag = sourceCommand._helpShortFlag;\n    this._helpLongFlag = sourceCommand._helpLongFlag;\n    this._helpCommandName = sourceCommand._helpCommandName;\n    this._helpCommandnameAndArgs = sourceCommand._helpCommandnameAndArgs;\n    this._helpCommandDescription = sourceCommand._helpCommandDescription;\n    this._helpConfiguration = sourceCommand._helpConfiguration;\n    this._exitCallback = sourceCommand._exitCallback;\n    this._storeOptionsAsProperties = sourceCommand._storeOptionsAsProperties;\n    this._combineFlagAndOptionalValue = sourceCommand._combineFlagAndOptionalValue;\n    this._allowExcessArguments = sourceCommand._allowExcessArguments;\n    this._enablePositionalOptions = sourceCommand._enablePositionalOptions;\n    this._showHelpAfterError = sourceCommand._showHelpAfterError;\n    this._showSuggestionAfterError = sourceCommand._showSuggestionAfterError;\n\n    return this;\n  }\n\n  /**\n   * Define a command.\n   *\n   * There are two styles of command: pay attention to where to put the description.\n   *\n   * @example\n   * // Command implemented using action handler (description is supplied separately to `.command`)\n   * program\n   *   .command('clone <source> [destination]')\n   *   .description('clone a repository into a newly created directory')\n   *   .action((source, destination) => {\n   *     console.log('clone command called');\n   *   });\n   *\n   * // Command implemented using separate executable file (description is second parameter to `.command`)\n   * program\n   *   .command('start <service>', 'start named service')\n   *   .command('stop [service]', 'stop named service, or all if no name supplied');\n   *\n   * @param {string} nameAndArgs - command name and arguments, args are `<required>` or `[optional]` and last may also be `variadic...`\n   * @param {Object|string} [actionOptsOrExecDesc] - configuration options (for action), or description (for executable)\n   * @param {Object} [execOpts] - configuration options (for executable)\n   * @return {Command} returns new command for action handler, or `this` for executable command\n   */\n\n  command(nameAndArgs, actionOptsOrExecDesc, execOpts) {\n    let desc = actionOptsOrExecDesc;\n    let opts = execOpts;\n    if (typeof desc === 'object' && desc !== null) {\n      opts = desc;\n      desc = null;\n    }\n    opts = opts || {};\n    const [, name, args] = nameAndArgs.match(/([^ ]+) *(.*)/);\n\n    const cmd = this.createCommand(name);\n    if (desc) {\n      cmd.description(desc);\n      cmd._executableHandler = true;\n    }\n    if (opts.isDefault) this._defaultCommandName = cmd._name;\n    cmd._hidden = !!(opts.noHelp || opts.hidden); // noHelp is deprecated old name for hidden\n    cmd._executableFile = opts.executableFile || null; // Custom name for executable file, set missing to null to match constructor\n    if (args) cmd.arguments(args);\n    this.commands.push(cmd);\n    cmd.parent = this;\n    cmd.copyInheritedSettings(this);\n\n    if (desc) return this;\n    return cmd;\n  }\n\n  /**\n   * Factory routine to create a new unattached command.\n   *\n   * See .command() for creating an attached subcommand, which uses this routine to\n   * create the command. You can override createCommand to customise subcommands.\n   *\n   * @param {string} [name]\n   * @return {Command} new command\n   */\n\n  createCommand(name) {\n    return new Command(name);\n  }\n\n  /**\n   * You can customise the help with a subclass of Help by overriding createHelp,\n   * or by overriding Help properties using configureHelp().\n   *\n   * @return {Help}\n   */\n\n  createHelp() {\n    return Object.assign(new Help(), this.configureHelp());\n  }\n\n  /**\n   * You can customise the help by overriding Help properties using configureHelp(),\n   * or with a subclass of Help by overriding createHelp().\n   *\n   * @param {Object} [configuration] - configuration options\n   * @return {Command|Object} `this` command for chaining, or stored configuration\n   */\n\n  configureHelp(configuration) {\n    if (configuration === undefined) return this._helpConfiguration;\n\n    this._helpConfiguration = configuration;\n    return this;\n  }\n\n  /**\n   * The default output goes to stdout and stderr. You can customise this for special\n   * applications. You can also customise the display of errors by overriding outputError.\n   *\n   * The configuration properties are all functions:\n   *\n   *     // functions to change where being written, stdout and stderr\n   *     writeOut(str)\n   *     writeErr(str)\n   *     // matching functions to specify width for wrapping help\n   *     getOutHelpWidth()\n   *     getErrHelpWidth()\n   *     // functions based on what is being written out\n   *     outputError(str, write) // used for displaying errors, and not used for displaying help\n   *\n   * @param {Object} [configuration] - configuration options\n   * @return {Command|Object} `this` command for chaining, or stored configuration\n   */\n\n  configureOutput(configuration) {\n    if (configuration === undefined) return this._outputConfiguration;\n\n    Object.assign(this._outputConfiguration, configuration);\n    return this;\n  }\n\n  /**\n   * Display the help or a custom message after an error occurs.\n   *\n   * @param {boolean|string} [displayHelp]\n   * @return {Command} `this` command for chaining\n   */\n  showHelpAfterError(displayHelp = true) {\n    if (typeof displayHelp !== 'string') displayHelp = !!displayHelp;\n    this._showHelpAfterError = displayHelp;\n    return this;\n  }\n\n  /**\n   * Display suggestion of similar commands for unknown commands, or options for unknown options.\n   *\n   * @param {boolean} [displaySuggestion]\n   * @return {Command} `this` command for chaining\n   */\n  showSuggestionAfterError(displaySuggestion = true) {\n    this._showSuggestionAfterError = !!displaySuggestion;\n    return this;\n  }\n\n  /**\n   * Add a prepared subcommand.\n   *\n   * See .command() for creating an attached subcommand which inherits settings from its parent.\n   *\n   * @param {Command} cmd - new subcommand\n   * @param {Object} [opts] - configuration options\n   * @return {Command} `this` command for chaining\n   */\n\n  addCommand(cmd, opts) {\n    if (!cmd._name) {\n      throw new Error(`Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()`);\n    }\n\n    opts = opts || {};\n    if (opts.isDefault) this._defaultCommandName = cmd._name;\n    if (opts.noHelp || opts.hidden) cmd._hidden = true; // modifying passed command due to existing implementation\n\n    this.commands.push(cmd);\n    cmd.parent = this;\n    return this;\n  }\n\n  /**\n   * Factory routine to create a new unattached argument.\n   *\n   * See .argument() for creating an attached argument, which uses this routine to\n   * create the argument. You can override createArgument to return a custom argument.\n   *\n   * @param {string} name\n   * @param {string} [description]\n   * @return {Argument} new argument\n   */\n\n  createArgument(name, description) {\n    return new Argument(name, description);\n  }\n\n  /**\n   * Define argument syntax for command.\n   *\n   * The default is that the argument is required, and you can explicitly\n   * indicate this with <> around the name. Put [] around the name for an optional argument.\n   *\n   * @example\n   * program.argument('<input-file>');\n   * program.argument('[output-file]');\n   *\n   * @param {string} name\n   * @param {string} [description]\n   * @param {Function|*} [fn] - custom argument processing function\n   * @param {*} [defaultValue]\n   * @return {Command} `this` command for chaining\n   */\n  argument(name, description, fn, defaultValue) {\n    const argument = this.createArgument(name, description);\n    if (typeof fn === 'function') {\n      argument.default(defaultValue).argParser(fn);\n    } else {\n      argument.default(fn);\n    }\n    this.addArgument(argument);\n    return this;\n  }\n\n  /**\n   * Define argument syntax for command, adding multiple at once (without descriptions).\n   *\n   * See also .argument().\n   *\n   * @example\n   * program.arguments('<cmd> [env]');\n   *\n   * @param {string} names\n   * @return {Command} `this` command for chaining\n   */\n\n  arguments(names) {\n    names.split(/ +/).forEach((detail) => {\n      this.argument(detail);\n    });\n    return this;\n  }\n\n  /**\n   * Define argument syntax for command, adding a prepared argument.\n   *\n   * @param {Argument} argument\n   * @return {Command} `this` command for chaining\n   */\n  addArgument(argument) {\n    const previousArgument = this._args.slice(-1)[0];\n    if (previousArgument && previousArgument.variadic) {\n      throw new Error(`only the last argument can be variadic '${previousArgument.name()}'`);\n    }\n    if (argument.required && argument.defaultValue !== undefined && argument.parseArg === undefined) {\n      throw new Error(`a default value for a required argument is never used: '${argument.name()}'`);\n    }\n    this._args.push(argument);\n    return this;\n  }\n\n  /**\n   * Override default decision whether to add implicit help command.\n   *\n   *    addHelpCommand() // force on\n   *    addHelpCommand(false); // force off\n   *    addHelpCommand('help [cmd]', 'display help for [cmd]'); // force on with custom details\n   *\n   * @return {Command} `this` command for chaining\n   */\n\n  addHelpCommand(enableOrNameAndArgs, description) {\n    if (enableOrNameAndArgs === false) {\n      this._addImplicitHelpCommand = false;\n    } else {\n      this._addImplicitHelpCommand = true;\n      if (typeof enableOrNameAndArgs === 'string') {\n        this._helpCommandName = enableOrNameAndArgs.split(' ')[0];\n        this._helpCommandnameAndArgs = enableOrNameAndArgs;\n      }\n      this._helpCommandDescription = description || this._helpCommandDescription;\n    }\n    return this;\n  }\n\n  /**\n   * @return {boolean}\n   * @api private\n   */\n\n  _hasImplicitHelpCommand() {\n    if (this._addImplicitHelpCommand === undefined) {\n      return this.commands.length && !this._actionHandler && !this._findCommand('help');\n    }\n    return this._addImplicitHelpCommand;\n  }\n\n  /**\n   * Add hook for life cycle event.\n   *\n   * @param {string} event\n   * @param {Function} listener\n   * @return {Command} `this` command for chaining\n   */\n\n  hook(event, listener) {\n    const allowedValues = ['preSubcommand', 'preAction', 'postAction'];\n    if (!allowedValues.includes(event)) {\n      throw new Error(`Unexpected value for event passed to hook : '${event}'.\nExpecting one of '${allowedValues.join(\"', '\")}'`);\n    }\n    if (this._lifeCycleHooks[event]) {\n      this._lifeCycleHooks[event].push(listener);\n    } else {\n      this._lifeCycleHooks[event] = [listener];\n    }\n    return this;\n  }\n\n  /**\n   * Register callback to use as replacement for calling process.exit.\n   *\n   * @param {Function} [fn] optional callback which will be passed a CommanderError, defaults to throwing\n   * @return {Command} `this` command for chaining\n   */\n\n  exitOverride(fn) {\n    if (fn) {\n      this._exitCallback = fn;\n    } else {\n      this._exitCallback = (err) => {\n        if (err.code !== 'commander.executeSubCommandAsync') {\n          throw err;\n        } else {\n          // Async callback from spawn events, not useful to throw.\n        }\n      };\n    }\n    return this;\n  }\n\n  /**\n   * Call process.exit, and _exitCallback if defined.\n   *\n   * @param {number} exitCode exit code for using with process.exit\n   * @param {string} code an id string representing the error\n   * @param {string} message human-readable description of the error\n   * @return never\n   * @api private\n   */\n\n  _exit(exitCode, code, message) {\n    if (this._exitCallback) {\n      this._exitCallback(new CommanderError(exitCode, code, message));\n      // Expecting this line is not reached.\n    }\n    process.exit(exitCode);\n  }\n\n  /**\n   * Register callback `fn` for the command.\n   *\n   * @example\n   * program\n   *   .command('serve')\n   *   .description('start service')\n   *   .action(function() {\n   *      // do work here\n   *   });\n   *\n   * @param {Function} fn\n   * @return {Command} `this` command for chaining\n   */\n\n  action(fn) {\n    const listener = (args) => {\n      // The .action callback takes an extra parameter which is the command or options.\n      const expectedArgsCount = this._args.length;\n      const actionArgs = args.slice(0, expectedArgsCount);\n      if (this._storeOptionsAsProperties) {\n        actionArgs[expectedArgsCount] = this; // backwards compatible \"options\"\n      } else {\n        actionArgs[expectedArgsCount] = this.opts();\n      }\n      actionArgs.push(this);\n\n      return fn.apply(this, actionArgs);\n    };\n    this._actionHandler = listener;\n    return this;\n  }\n\n  /**\n   * Factory routine to create a new unattached option.\n   *\n   * See .option() for creating an attached option, which uses this routine to\n   * create the option. You can override createOption to return a custom option.\n   *\n   * @param {string} flags\n   * @param {string} [description]\n   * @return {Option} new option\n   */\n\n  createOption(flags, description) {\n    return new Option(flags, description);\n  }\n\n  /**\n   * Add an option.\n   *\n   * @param {Option} option\n   * @return {Command} `this` command for chaining\n   */\n  addOption(option) {\n    const oname = option.name();\n    const name = option.attributeName();\n\n    // store default value\n    if (option.negate) {\n      // --no-foo is special and defaults foo to true, unless a --foo option is already defined\n      const positiveLongFlag = option.long.replace(/^--no-/, '--');\n      if (!this._findOption(positiveLongFlag)) {\n        this.setOptionValueWithSource(name, option.defaultValue === undefined ? true : option.defaultValue, 'default');\n      }\n    } else if (option.defaultValue !== undefined) {\n      this.setOptionValueWithSource(name, option.defaultValue, 'default');\n    }\n\n    // register the option\n    this.options.push(option);\n\n    // handler for cli and env supplied values\n    const handleOptionValue = (val, invalidValueMessage, valueSource) => {\n      // val is null for optional option used without an optional-argument.\n      // val is undefined for boolean and negated option.\n      if (val == null && option.presetArg !== undefined) {\n        val = option.presetArg;\n      }\n\n      // custom processing\n      const oldValue = this.getOptionValue(name);\n      if (val !== null && option.parseArg) {\n        try {\n          val = option.parseArg(val, oldValue);\n        } catch (err) {\n          if (err.code === 'commander.invalidArgument') {\n            const message = `${invalidValueMessage} ${err.message}`;\n            this.error(message, { exitCode: err.exitCode, code: err.code });\n          }\n          throw err;\n        }\n      } else if (val !== null && option.variadic) {\n        val = option._concatValue(val, oldValue);\n      }\n\n      // Fill-in appropriate missing values. Long winded but easy to follow.\n      if (val == null) {\n        if (option.negate) {\n          val = false;\n        } else if (option.isBoolean() || option.optional) {\n          val = true;\n        } else {\n          val = ''; // not normal, parseArg might have failed or be a mock function for testing\n        }\n      }\n      this.setOptionValueWithSource(name, val, valueSource);\n    };\n\n    this.on('option:' + oname, (val) => {\n      const invalidValueMessage = `error: option '${option.flags}' argument '${val}' is invalid.`;\n      handleOptionValue(val, invalidValueMessage, 'cli');\n    });\n\n    if (option.envVar) {\n      this.on('optionEnv:' + oname, (val) => {\n        const invalidValueMessage = `error: option '${option.flags}' value '${val}' from env '${option.envVar}' is invalid.`;\n        handleOptionValue(val, invalidValueMessage, 'env');\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * Internal implementation shared by .option() and .requiredOption()\n   *\n   * @api private\n   */\n  _optionEx(config, flags, description, fn, defaultValue) {\n    if (typeof flags === 'object' && flags instanceof Option) {\n      throw new Error('To add an Option object use addOption() instead of option() or requiredOption()');\n    }\n    const option = this.createOption(flags, description);\n    option.makeOptionMandatory(!!config.mandatory);\n    if (typeof fn === 'function') {\n      option.default(defaultValue).argParser(fn);\n    } else if (fn instanceof RegExp) {\n      // deprecated\n      const regex = fn;\n      fn = (val, def) => {\n        const m = regex.exec(val);\n        return m ? m[0] : def;\n      };\n      option.default(defaultValue).argParser(fn);\n    } else {\n      option.default(fn);\n    }\n\n    return this.addOption(option);\n  }\n\n  /**\n   * Define option with `flags`, `description` and optional\n   * coercion `fn`.\n   *\n   * The `flags` string contains the short and/or long flags,\n   * separated by comma, a pipe or space. The following are all valid\n   * all will output this way when `--help` is used.\n   *\n   *     \"-p, --pepper\"\n   *     \"-p|--pepper\"\n   *     \"-p --pepper\"\n   *\n   * @example\n   * // simple boolean defaulting to undefined\n   * program.option('-p, --pepper', 'add pepper');\n   *\n   * program.pepper\n   * // => undefined\n   *\n   * --pepper\n   * program.pepper\n   * // => true\n   *\n   * // simple boolean defaulting to true (unless non-negated option is also defined)\n   * program.option('-C, --no-cheese', 'remove cheese');\n   *\n   * program.cheese\n   * // => true\n   *\n   * --no-cheese\n   * program.cheese\n   * // => false\n   *\n   * // required argument\n   * program.option('-C, --chdir <path>', 'change the working directory');\n   *\n   * --chdir /tmp\n   * program.chdir\n   * // => \"/tmp\"\n   *\n   * // optional argument\n   * program.option('-c, --cheese [type]', 'add cheese [marble]');\n   *\n   * @param {string} flags\n   * @param {string} [description]\n   * @param {Function|*} [fn] - custom option processing function or default value\n   * @param {*} [defaultValue]\n   * @return {Command} `this` command for chaining\n   */\n\n  option(flags, description, fn, defaultValue) {\n    return this._optionEx({}, flags, description, fn, defaultValue);\n  }\n\n  /**\n  * Add a required option which must have a value after parsing. This usually means\n  * the option must be specified on the command line. (Otherwise the same as .option().)\n  *\n  * The `flags` string contains the short and/or long flags, separated by comma, a pipe or space.\n  *\n  * @param {string} flags\n  * @param {string} [description]\n  * @param {Function|*} [fn] - custom option processing function or default value\n  * @param {*} [defaultValue]\n  * @return {Command} `this` command for chaining\n  */\n\n  requiredOption(flags, description, fn, defaultValue) {\n    return this._optionEx({ mandatory: true }, flags, description, fn, defaultValue);\n  }\n\n  /**\n   * Alter parsing of short flags with optional values.\n   *\n   * @example\n   * // for `.option('-f,--flag [value]'):\n   * program.combineFlagAndOptionalValue(true);  // `-f80` is treated like `--flag=80`, this is the default behaviour\n   * program.combineFlagAndOptionalValue(false) // `-fb` is treated like `-f -b`\n   *\n   * @param {Boolean} [combine=true] - if `true` or omitted, an optional value can be specified directly after the flag.\n   */\n  combineFlagAndOptionalValue(combine = true) {\n    this._combineFlagAndOptionalValue = !!combine;\n    return this;\n  }\n\n  /**\n   * Allow unknown options on the command line.\n   *\n   * @param {Boolean} [allowUnknown=true] - if `true` or omitted, no error will be thrown\n   * for unknown options.\n   */\n  allowUnknownOption(allowUnknown = true) {\n    this._allowUnknownOption = !!allowUnknown;\n    return this;\n  }\n\n  /**\n   * Allow excess command-arguments on the command line. Pass false to make excess arguments an error.\n   *\n   * @param {Boolean} [allowExcess=true] - if `true` or omitted, no error will be thrown\n   * for excess arguments.\n   */\n  allowExcessArguments(allowExcess = true) {\n    this._allowExcessArguments = !!allowExcess;\n    return this;\n  }\n\n  /**\n   * Enable positional options. Positional means global options are specified before subcommands which lets\n   * subcommands reuse the same option names, and also enables subcommands to turn on passThroughOptions.\n   * The default behaviour is non-positional and global options may appear anywhere on the command line.\n   *\n   * @param {Boolean} [positional=true]\n   */\n  enablePositionalOptions(positional = true) {\n    this._enablePositionalOptions = !!positional;\n    return this;\n  }\n\n  /**\n   * Pass through options that come after command-arguments rather than treat them as command-options,\n   * so actual command-options come before command-arguments. Turning this on for a subcommand requires\n   * positional options to have been enabled on the program (parent commands).\n   * The default behaviour is non-positional and options may appear before or after command-arguments.\n   *\n   * @param {Boolean} [passThrough=true]\n   * for unknown options.\n   */\n  passThroughOptions(passThrough = true) {\n    this._passThroughOptions = !!passThrough;\n    if (!!this.parent && passThrough && !this.parent._enablePositionalOptions) {\n      throw new Error('passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)');\n    }\n    return this;\n  }\n\n  /**\n    * Whether to store option values as properties on command object,\n    * or store separately (specify false). In both cases the option values can be accessed using .opts().\n    *\n    * @param {boolean} [storeAsProperties=true]\n    * @return {Command} `this` command for chaining\n    */\n\n  storeOptionsAsProperties(storeAsProperties = true) {\n    this._storeOptionsAsProperties = !!storeAsProperties;\n    if (this.options.length) {\n      throw new Error('call .storeOptionsAsProperties() before adding options');\n    }\n    return this;\n  }\n\n  /**\n   * Retrieve option value.\n   *\n   * @param {string} key\n   * @return {Object} value\n   */\n\n  getOptionValue(key) {\n    if (this._storeOptionsAsProperties) {\n      return this[key];\n    }\n    return this._optionValues[key];\n  }\n\n  /**\n   * Store option value.\n   *\n   * @param {string} key\n   * @param {Object} value\n   * @return {Command} `this` command for chaining\n   */\n\n  setOptionValue(key, value) {\n    return this.setOptionValueWithSource(key, value, undefined);\n  }\n\n  /**\n    * Store option value and where the value came from.\n    *\n    * @param {string} key\n    * @param {Object} value\n    * @param {string} source - expected values are default/config/env/cli/implied\n    * @return {Command} `this` command for chaining\n    */\n\n  setOptionValueWithSource(key, value, source) {\n    if (this._storeOptionsAsProperties) {\n      this[key] = value;\n    } else {\n      this._optionValues[key] = value;\n    }\n    this._optionValueSources[key] = source;\n    return this;\n  }\n\n  /**\n    * Get source of option value.\n    * Expected values are default | config | env | cli | implied\n    *\n    * @param {string} key\n    * @return {string}\n    */\n\n  getOptionValueSource(key) {\n    return this._optionValueSources[key];\n  }\n\n  /**\n    * Get source of option value. See also .optsWithGlobals().\n    * Expected values are default | config | env | cli | implied\n    *\n    * @param {string} key\n    * @return {string}\n    */\n\n  getOptionValueSourceWithGlobals(key) {\n    // global overwrites local, like optsWithGlobals\n    let source;\n    getCommandAndParents(this).forEach((cmd) => {\n      if (cmd.getOptionValueSource(key) !== undefined) {\n        source = cmd.getOptionValueSource(key);\n      }\n    });\n    return source;\n  }\n\n  /**\n   * Get user arguments from implied or explicit arguments.\n   * Side-effects: set _scriptPath if args included script. Used for default program name, and subcommand searches.\n   *\n   * @api private\n   */\n\n  _prepareUserArgs(argv, parseOptions) {\n    if (argv !== undefined && !Array.isArray(argv)) {\n      throw new Error('first parameter to parse must be array or undefined');\n    }\n    parseOptions = parseOptions || {};\n\n    // Default to using process.argv\n    if (argv === undefined) {\n      argv = process.argv;\n      // @ts-ignore: unknown property\n      if (process.versions && process.versions.electron) {\n        parseOptions.from = 'electron';\n      }\n    }\n    this.rawArgs = argv.slice();\n\n    // make it a little easier for callers by supporting various argv conventions\n    let userArgs;\n    switch (parseOptions.from) {\n      case undefined:\n      case 'node':\n        this._scriptPath = argv[1];\n        userArgs = argv.slice(2);\n        break;\n      case 'electron':\n        // @ts-ignore: unknown property\n        if (process.defaultApp) {\n          this._scriptPath = argv[1];\n          userArgs = argv.slice(2);\n        } else {\n          userArgs = argv.slice(1);\n        }\n        break;\n      case 'user':\n        userArgs = argv.slice(0);\n        break;\n      default:\n        throw new Error(`unexpected parse option { from: '${parseOptions.from}' }`);\n    }\n\n    // Find default name for program from arguments.\n    if (!this._name && this._scriptPath) this.nameFromFilename(this._scriptPath);\n    this._name = this._name || 'program';\n\n    return userArgs;\n  }\n\n  /**\n   * Parse `argv`, setting options and invoking commands when defined.\n   *\n   * The default expectation is that the arguments are from node and have the application as argv[0]\n   * and the script being run in argv[1], with user parameters after that.\n   *\n   * @example\n   * program.parse(process.argv);\n   * program.parse(); // implicitly use process.argv and auto-detect node vs electron conventions\n   * program.parse(my-args, { from: 'user' }); // just user supplied arguments, nothing special about argv[0]\n   *\n   * @param {string[]} [argv] - optional, defaults to process.argv\n   * @param {Object} [parseOptions] - optionally specify style of options with from: node/user/electron\n   * @param {string} [parseOptions.from] - where the args are from: 'node', 'user', 'electron'\n   * @return {Command} `this` command for chaining\n   */\n\n  parse(argv, parseOptions) {\n    const userArgs = this._prepareUserArgs(argv, parseOptions);\n    this._parseCommand([], userArgs);\n\n    return this;\n  }\n\n  /**\n   * Parse `argv`, setting options and invoking commands when defined.\n   *\n   * Use parseAsync instead of parse if any of your action handlers are async. Returns a Promise.\n   *\n   * The default expectation is that the arguments are from node and have the application as argv[0]\n   * and the script being run in argv[1], with user parameters after that.\n   *\n   * @example\n   * await program.parseAsync(process.argv);\n   * await program.parseAsync(); // implicitly use process.argv and auto-detect node vs electron conventions\n   * await program.parseAsync(my-args, { from: 'user' }); // just user supplied arguments, nothing special about argv[0]\n   *\n   * @param {string[]} [argv]\n   * @param {Object} [parseOptions]\n   * @param {string} parseOptions.from - where the args are from: 'node', 'user', 'electron'\n   * @return {Promise}\n   */\n\n  async parseAsync(argv, parseOptions) {\n    const userArgs = this._prepareUserArgs(argv, parseOptions);\n    await this._parseCommand([], userArgs);\n\n    return this;\n  }\n\n  /**\n   * Execute a sub-command executable.\n   *\n   * @api private\n   */\n\n  _executeSubCommand(subcommand, args) {\n    args = args.slice();\n    let launchWithNode = false; // Use node for source targets so do not need to get permissions correct, and on Windows.\n    const sourceExt = ['.js', '.ts', '.tsx', '.mjs', '.cjs'];\n\n    function findFile(baseDir, baseName) {\n      // Look for specified file\n      const localBin = path.resolve(baseDir, baseName);\n      if (fs.existsSync(localBin)) return localBin;\n\n      // Stop looking if candidate already has an expected extension.\n      if (sourceExt.includes(path.extname(baseName))) return undefined;\n\n      // Try all the extensions.\n      const foundExt = sourceExt.find(ext => fs.existsSync(`${localBin}${ext}`));\n      if (foundExt) return `${localBin}${foundExt}`;\n\n      return undefined;\n    }\n\n    // Not checking for help first. Unlikely to have mandatory and executable, and can't robustly test for help flags in external command.\n    this._checkForMissingMandatoryOptions();\n    this._checkForConflictingOptions();\n\n    // executableFile and executableDir might be full path, or just a name\n    let executableFile = subcommand._executableFile || `${this._name}-${subcommand._name}`;\n    let executableDir = this._executableDir || '';\n    if (this._scriptPath) {\n      let resolvedScriptPath; // resolve possible symlink for installed npm binary\n      try {\n        resolvedScriptPath = fs.realpathSync(this._scriptPath);\n      } catch (err) {\n        resolvedScriptPath = this._scriptPath;\n      }\n      executableDir = path.resolve(path.dirname(resolvedScriptPath), executableDir);\n    }\n\n    // Look for a local file in preference to a command in PATH.\n    if (executableDir) {\n      let localFile = findFile(executableDir, executableFile);\n\n      // Legacy search using prefix of script name instead of command name\n      if (!localFile && !subcommand._executableFile && this._scriptPath) {\n        const legacyName = path.basename(this._scriptPath, path.extname(this._scriptPath));\n        if (legacyName !== this._name) {\n          localFile = findFile(executableDir, `${legacyName}-${subcommand._name}`);\n        }\n      }\n      executableFile = localFile || executableFile;\n    }\n\n    launchWithNode = sourceExt.includes(path.extname(executableFile));\n\n    let proc;\n    if (process.platform !== 'win32') {\n      if (launchWithNode) {\n        args.unshift(executableFile);\n        // add executable arguments to spawn\n        args = incrementNodeInspectorPort(process.execArgv).concat(args);\n\n        proc = childProcess.spawn(process.argv[0], args, { stdio: 'inherit' });\n      } else {\n        proc = childProcess.spawn(executableFile, args, { stdio: 'inherit' });\n      }\n    } else {\n      args.unshift(executableFile);\n      // add executable arguments to spawn\n      args = incrementNodeInspectorPort(process.execArgv).concat(args);\n      proc = childProcess.spawn(process.execPath, args, { stdio: 'inherit' });\n    }\n\n    if (!proc.killed) { // testing mainly to avoid leak warnings during unit tests with mocked spawn\n      const signals = ['SIGUSR1', 'SIGUSR2', 'SIGTERM', 'SIGINT', 'SIGHUP'];\n      signals.forEach((signal) => {\n        // @ts-ignore\n        process.on(signal, () => {\n          if (proc.killed === false && proc.exitCode === null) {\n            proc.kill(signal);\n          }\n        });\n      });\n    }\n\n    // By default terminate process when spawned process terminates.\n    // Suppressing the exit if exitCallback defined is a bit messy and of limited use, but does allow process to stay running!\n    const exitCallback = this._exitCallback;\n    if (!exitCallback) {\n      proc.on('close', process.exit.bind(process));\n    } else {\n      proc.on('close', () => {\n        exitCallback(new CommanderError(process.exitCode || 0, 'commander.executeSubCommandAsync', '(close)'));\n      });\n    }\n    proc.on('error', (err) => {\n      // @ts-ignore\n      if (err.code === 'ENOENT') {\n        const executableDirMessage = executableDir\n          ? `searched for local subcommand relative to directory '${executableDir}'`\n          : 'no directory for search for local subcommand, use .executableDir() to supply a custom directory';\n        const executableMissing = `'${executableFile}' does not exist\n - if '${subcommand._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${executableDirMessage}`;\n        throw new Error(executableMissing);\n      // @ts-ignore\n      } else if (err.code === 'EACCES') {\n        throw new Error(`'${executableFile}' not executable`);\n      }\n      if (!exitCallback) {\n        process.exit(1);\n      } else {\n        const wrappedError = new CommanderError(1, 'commander.executeSubCommandAsync', '(error)');\n        wrappedError.nestedError = err;\n        exitCallback(wrappedError);\n      }\n    });\n\n    // Store the reference to the child process\n    this.runningCommand = proc;\n  }\n\n  /**\n   * @api private\n   */\n\n  _dispatchSubcommand(commandName, operands, unknown) {\n    const subCommand = this._findCommand(commandName);\n    if (!subCommand) this.help({ error: true });\n\n    let hookResult;\n    hookResult = this._chainOrCallSubCommandHook(hookResult, subCommand, 'preSubcommand');\n    hookResult = this._chainOrCall(hookResult, () => {\n      if (subCommand._executableHandler) {\n        this._executeSubCommand(subCommand, operands.concat(unknown));\n      } else {\n        return subCommand._parseCommand(operands, unknown);\n      }\n    });\n    return hookResult;\n  }\n\n  /**\n   * Check this.args against expected this._args.\n   *\n   * @api private\n   */\n\n  _checkNumberOfArguments() {\n    // too few\n    this._args.forEach((arg, i) => {\n      if (arg.required && this.args[i] == null) {\n        this.missingArgument(arg.name());\n      }\n    });\n    // too many\n    if (this._args.length > 0 && this._args[this._args.length - 1].variadic) {\n      return;\n    }\n    if (this.args.length > this._args.length) {\n      this._excessArguments(this.args);\n    }\n  }\n\n  /**\n   * Process this.args using this._args and save as this.processedArgs!\n   *\n   * @api private\n   */\n\n  _processArguments() {\n    const myParseArg = (argument, value, previous) => {\n      // Extra processing for nice error message on parsing failure.\n      let parsedValue = value;\n      if (value !== null && argument.parseArg) {\n        try {\n          parsedValue = argument.parseArg(value, previous);\n        } catch (err) {\n          if (err.code === 'commander.invalidArgument') {\n            const message = `error: command-argument value '${value}' is invalid for argument '${argument.name()}'. ${err.message}`;\n            this.error(message, { exitCode: err.exitCode, code: err.code });\n          }\n          throw err;\n        }\n      }\n      return parsedValue;\n    };\n\n    this._checkNumberOfArguments();\n\n    const processedArgs = [];\n    this._args.forEach((declaredArg, index) => {\n      let value = declaredArg.defaultValue;\n      if (declaredArg.variadic) {\n        // Collect together remaining arguments for passing together as an array.\n        if (index < this.args.length) {\n          value = this.args.slice(index);\n          if (declaredArg.parseArg) {\n            value = value.reduce((processed, v) => {\n              return myParseArg(declaredArg, v, processed);\n            }, declaredArg.defaultValue);\n          }\n        } else if (value === undefined) {\n          value = [];\n        }\n      } else if (index < this.args.length) {\n        value = this.args[index];\n        if (declaredArg.parseArg) {\n          value = myParseArg(declaredArg, value, declaredArg.defaultValue);\n        }\n      }\n      processedArgs[index] = value;\n    });\n    this.processedArgs = processedArgs;\n  }\n\n  /**\n   * Once we have a promise we chain, but call synchronously until then.\n   *\n   * @param {Promise|undefined} promise\n   * @param {Function} fn\n   * @return {Promise|undefined}\n   * @api private\n   */\n\n  _chainOrCall(promise, fn) {\n    // thenable\n    if (promise && promise.then && typeof promise.then === 'function') {\n      // already have a promise, chain callback\n      return promise.then(() => fn());\n    }\n    // callback might return a promise\n    return fn();\n  }\n\n  /**\n   *\n   * @param {Promise|undefined} promise\n   * @param {string} event\n   * @return {Promise|undefined}\n   * @api private\n   */\n\n  _chainOrCallHooks(promise, event) {\n    let result = promise;\n    const hooks = [];\n    getCommandAndParents(this)\n      .reverse()\n      .filter(cmd => cmd._lifeCycleHooks[event] !== undefined)\n      .forEach(hookedCommand => {\n        hookedCommand._lifeCycleHooks[event].forEach((callback) => {\n          hooks.push({ hookedCommand, callback });\n        });\n      });\n    if (event === 'postAction') {\n      hooks.reverse();\n    }\n\n    hooks.forEach((hookDetail) => {\n      result = this._chainOrCall(result, () => {\n        return hookDetail.callback(hookDetail.hookedCommand, this);\n      });\n    });\n    return result;\n  }\n\n  /**\n   *\n   * @param {Promise|undefined} promise\n   * @param {Command} subCommand\n   * @param {string} event\n   * @return {Promise|undefined}\n   * @api private\n   */\n\n  _chainOrCallSubCommandHook(promise, subCommand, event) {\n    let result = promise;\n    if (this._lifeCycleHooks[event] !== undefined) {\n      this._lifeCycleHooks[event].forEach((hook) => {\n        result = this._chainOrCall(result, () => {\n          return hook(this, subCommand);\n        });\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Process arguments in context of this command.\n   * Returns action result, in case it is a promise.\n   *\n   * @api private\n   */\n\n  _parseCommand(operands, unknown) {\n    const parsed = this.parseOptions(unknown);\n    this._parseOptionsEnv(); // after cli, so parseArg not called on both cli and env\n    this._parseOptionsImplied();\n    operands = operands.concat(parsed.operands);\n    unknown = parsed.unknown;\n    this.args = operands.concat(unknown);\n\n    if (operands && this._findCommand(operands[0])) {\n      return this._dispatchSubcommand(operands[0], operands.slice(1), unknown);\n    }\n    if (this._hasImplicitHelpCommand() && operands[0] === this._helpCommandName) {\n      if (operands.length === 1) {\n        this.help();\n      }\n      return this._dispatchSubcommand(operands[1], [], [this._helpLongFlag]);\n    }\n    if (this._defaultCommandName) {\n      outputHelpIfRequested(this, unknown); // Run the help for default command from parent rather than passing to default command\n      return this._dispatchSubcommand(this._defaultCommandName, operands, unknown);\n    }\n    if (this.commands.length && this.args.length === 0 && !this._actionHandler && !this._defaultCommandName) {\n      // probably missing subcommand and no handler, user needs help (and exit)\n      this.help({ error: true });\n    }\n\n    outputHelpIfRequested(this, parsed.unknown);\n    this._checkForMissingMandatoryOptions();\n    this._checkForConflictingOptions();\n\n    // We do not always call this check to avoid masking a \"better\" error, like unknown command.\n    const checkForUnknownOptions = () => {\n      if (parsed.unknown.length > 0) {\n        this.unknownOption(parsed.unknown[0]);\n      }\n    };\n\n    const commandEvent = `command:${this.name()}`;\n    if (this._actionHandler) {\n      checkForUnknownOptions();\n      this._processArguments();\n\n      let actionResult;\n      actionResult = this._chainOrCallHooks(actionResult, 'preAction');\n      actionResult = this._chainOrCall(actionResult, () => this._actionHandler(this.processedArgs));\n      if (this.parent) {\n        actionResult = this._chainOrCall(actionResult, () => {\n          this.parent.emit(commandEvent, operands, unknown); // legacy\n        });\n      }\n      actionResult = this._chainOrCallHooks(actionResult, 'postAction');\n      return actionResult;\n    }\n    if (this.parent && this.parent.listenerCount(commandEvent)) {\n      checkForUnknownOptions();\n      this._processArguments();\n      this.parent.emit(commandEvent, operands, unknown); // legacy\n    } else if (operands.length) {\n      if (this._findCommand('*')) { // legacy default command\n        return this._dispatchSubcommand('*', operands, unknown);\n      }\n      if (this.listenerCount('command:*')) {\n        // skip option check, emit event for possible misspelling suggestion\n        this.emit('command:*', operands, unknown);\n      } else if (this.commands.length) {\n        this.unknownCommand();\n      } else {\n        checkForUnknownOptions();\n        this._processArguments();\n      }\n    } else if (this.commands.length) {\n      checkForUnknownOptions();\n      // This command has subcommands and nothing hooked up at this level, so display help (and exit).\n      this.help({ error: true });\n    } else {\n      checkForUnknownOptions();\n      this._processArguments();\n      // fall through for caller to handle after calling .parse()\n    }\n  }\n\n  /**\n   * Find matching command.\n   *\n   * @api private\n   */\n  _findCommand(name) {\n    if (!name) return undefined;\n    return this.commands.find(cmd => cmd._name === name || cmd._aliases.includes(name));\n  }\n\n  /**\n   * Return an option matching `arg` if any.\n   *\n   * @param {string} arg\n   * @return {Option}\n   * @api private\n   */\n\n  _findOption(arg) {\n    return this.options.find(option => option.is(arg));\n  }\n\n  /**\n   * Display an error message if a mandatory option does not have a value.\n   * Called after checking for help flags in leaf subcommand.\n   *\n   * @api private\n   */\n\n  _checkForMissingMandatoryOptions() {\n    // Walk up hierarchy so can call in subcommand after checking for displaying help.\n    for (let cmd = this; cmd; cmd = cmd.parent) {\n      cmd.options.forEach((anOption) => {\n        if (anOption.mandatory && (cmd.getOptionValue(anOption.attributeName()) === undefined)) {\n          cmd.missingMandatoryOptionValue(anOption);\n        }\n      });\n    }\n  }\n\n  /**\n   * Display an error message if conflicting options are used together in this.\n   *\n   * @api private\n   */\n  _checkForConflictingLocalOptions() {\n    const definedNonDefaultOptions = this.options.filter(\n      (option) => {\n        const optionKey = option.attributeName();\n        if (this.getOptionValue(optionKey) === undefined) {\n          return false;\n        }\n        return this.getOptionValueSource(optionKey) !== 'default';\n      }\n    );\n\n    const optionsWithConflicting = definedNonDefaultOptions.filter(\n      (option) => option.conflictsWith.length > 0\n    );\n\n    optionsWithConflicting.forEach((option) => {\n      const conflictingAndDefined = definedNonDefaultOptions.find((defined) =>\n        option.conflictsWith.includes(defined.attributeName())\n      );\n      if (conflictingAndDefined) {\n        this._conflictingOption(option, conflictingAndDefined);\n      }\n    });\n  }\n\n  /**\n   * Display an error message if conflicting options are used together.\n   * Called after checking for help flags in leaf subcommand.\n   *\n   * @api private\n   */\n  _checkForConflictingOptions() {\n    // Walk up hierarchy so can call in subcommand after checking for displaying help.\n    for (let cmd = this; cmd; cmd = cmd.parent) {\n      cmd._checkForConflictingLocalOptions();\n    }\n  }\n\n  /**\n   * Parse options from `argv` removing known options,\n   * and return argv split into operands and unknown arguments.\n   *\n   * Examples:\n   *\n   *     argv => operands, unknown\n   *     --known kkk op => [op], []\n   *     op --known kkk => [op], []\n   *     sub --unknown uuu op => [sub], [--unknown uuu op]\n   *     sub -- --unknown uuu op => [sub --unknown uuu op], []\n   *\n   * @param {String[]} argv\n   * @return {{operands: String[], unknown: String[]}}\n   */\n\n  parseOptions(argv) {\n    const operands = []; // operands, not options or values\n    const unknown = []; // first unknown option and remaining unknown args\n    let dest = operands;\n    const args = argv.slice();\n\n    function maybeOption(arg) {\n      return arg.length > 1 && arg[0] === '-';\n    }\n\n    // parse options\n    let activeVariadicOption = null;\n    while (args.length) {\n      const arg = args.shift();\n\n      // literal\n      if (arg === '--') {\n        if (dest === unknown) dest.push(arg);\n        dest.push(...args);\n        break;\n      }\n\n      if (activeVariadicOption && !maybeOption(arg)) {\n        this.emit(`option:${activeVariadicOption.name()}`, arg);\n        continue;\n      }\n      activeVariadicOption = null;\n\n      if (maybeOption(arg)) {\n        const option = this._findOption(arg);\n        // recognised option, call listener to assign value with possible custom processing\n        if (option) {\n          if (option.required) {\n            const value = args.shift();\n            if (value === undefined) this.optionMissingArgument(option);\n            this.emit(`option:${option.name()}`, value);\n          } else if (option.optional) {\n            let value = null;\n            // historical behaviour is optional value is following arg unless an option\n            if (args.length > 0 && !maybeOption(args[0])) {\n              value = args.shift();\n            }\n            this.emit(`option:${option.name()}`, value);\n          } else { // boolean flag\n            this.emit(`option:${option.name()}`);\n          }\n          activeVariadicOption = option.variadic ? option : null;\n          continue;\n        }\n      }\n\n      // Look for combo options following single dash, eat first one if known.\n      if (arg.length > 2 && arg[0] === '-' && arg[1] !== '-') {\n        const option = this._findOption(`-${arg[1]}`);\n        if (option) {\n          if (option.required || (option.optional && this._combineFlagAndOptionalValue)) {\n            // option with value following in same argument\n            this.emit(`option:${option.name()}`, arg.slice(2));\n          } else {\n            // boolean option, emit and put back remainder of arg for further processing\n            this.emit(`option:${option.name()}`);\n            args.unshift(`-${arg.slice(2)}`);\n          }\n          continue;\n        }\n      }\n\n      // Look for known long flag with value, like --foo=bar\n      if (/^--[^=]+=/.test(arg)) {\n        const index = arg.indexOf('=');\n        const option = this._findOption(arg.slice(0, index));\n        if (option && (option.required || option.optional)) {\n          this.emit(`option:${option.name()}`, arg.slice(index + 1));\n          continue;\n        }\n      }\n\n      // Not a recognised option by this command.\n      // Might be a command-argument, or subcommand option, or unknown option, or help command or option.\n\n      // An unknown option means further arguments also classified as unknown so can be reprocessed by subcommands.\n      if (maybeOption(arg)) {\n        dest = unknown;\n      }\n\n      // If using positionalOptions, stop processing our options at subcommand.\n      if ((this._enablePositionalOptions || this._passThroughOptions) && operands.length === 0 && unknown.length === 0) {\n        if (this._findCommand(arg)) {\n          operands.push(arg);\n          if (args.length > 0) unknown.push(...args);\n          break;\n        } else if (arg === this._helpCommandName && this._hasImplicitHelpCommand()) {\n          operands.push(arg);\n          if (args.length > 0) operands.push(...args);\n          break;\n        } else if (this._defaultCommandName) {\n          unknown.push(arg);\n          if (args.length > 0) unknown.push(...args);\n          break;\n        }\n      }\n\n      // If using passThroughOptions, stop processing options at first command-argument.\n      if (this._passThroughOptions) {\n        dest.push(arg);\n        if (args.length > 0) dest.push(...args);\n        break;\n      }\n\n      // add arg\n      dest.push(arg);\n    }\n\n    return { operands, unknown };\n  }\n\n  /**\n   * Return an object containing local option values as key-value pairs.\n   *\n   * @return {Object}\n   */\n  opts() {\n    if (this._storeOptionsAsProperties) {\n      // Preserve original behaviour so backwards compatible when still using properties\n      const result = {};\n      const len = this.options.length;\n\n      for (let i = 0; i < len; i++) {\n        const key = this.options[i].attributeName();\n        result[key] = key === this._versionOptionName ? this._version : this[key];\n      }\n      return result;\n    }\n\n    return this._optionValues;\n  }\n\n  /**\n   * Return an object containing merged local and global option values as key-value pairs.\n   *\n   * @return {Object}\n   */\n  optsWithGlobals() {\n    // globals overwrite locals\n    return getCommandAndParents(this).reduce(\n      (combinedOptions, cmd) => Object.assign(combinedOptions, cmd.opts()),\n      {}\n    );\n  }\n\n  /**\n   * Display error message and exit (or call exitOverride).\n   *\n   * @param {string} message\n   * @param {Object} [errorOptions]\n   * @param {string} [errorOptions.code] - an id string representing the error\n   * @param {number} [errorOptions.exitCode] - used with process.exit\n   */\n  error(message, errorOptions) {\n    // output handling\n    this._outputConfiguration.outputError(`${message}\\n`, this._outputConfiguration.writeErr);\n    if (typeof this._showHelpAfterError === 'string') {\n      this._outputConfiguration.writeErr(`${this._showHelpAfterError}\\n`);\n    } else if (this._showHelpAfterError) {\n      this._outputConfiguration.writeErr('\\n');\n      this.outputHelp({ error: true });\n    }\n\n    // exit handling\n    const config = errorOptions || {};\n    const exitCode = config.exitCode || 1;\n    const code = config.code || 'commander.error';\n    this._exit(exitCode, code, message);\n  }\n\n  /**\n   * Apply any option related environment variables, if option does\n   * not have a value from cli or client code.\n   *\n   * @api private\n   */\n  _parseOptionsEnv() {\n    this.options.forEach((option) => {\n      if (option.envVar && option.envVar in process.env) {\n        const optionKey = option.attributeName();\n        // Priority check. Do not overwrite cli or options from unknown source (client-code).\n        if (this.getOptionValue(optionKey) === undefined || ['default', 'config', 'env'].includes(this.getOptionValueSource(optionKey))) {\n          if (option.required || option.optional) { // option can take a value\n            // keep very simple, optional always takes value\n            this.emit(`optionEnv:${option.name()}`, process.env[option.envVar]);\n          } else { // boolean\n            // keep very simple, only care that envVar defined and not the value\n            this.emit(`optionEnv:${option.name()}`);\n          }\n        }\n      }\n    });\n  }\n\n  /**\n   * Apply any implied option values, if option is undefined or default value.\n   *\n   * @api private\n   */\n  _parseOptionsImplied() {\n    const dualHelper = new DualOptions(this.options);\n    const hasCustomOptionValue = (optionKey) => {\n      return this.getOptionValue(optionKey) !== undefined && !['default', 'implied'].includes(this.getOptionValueSource(optionKey));\n    };\n    this.options\n      .filter(option => (option.implied !== undefined) &&\n        hasCustomOptionValue(option.attributeName()) &&\n        dualHelper.valueFromOption(this.getOptionValue(option.attributeName()), option))\n      .forEach((option) => {\n        Object.keys(option.implied)\n          .filter(impliedKey => !hasCustomOptionValue(impliedKey))\n          .forEach(impliedKey => {\n            this.setOptionValueWithSource(impliedKey, option.implied[impliedKey], 'implied');\n          });\n      });\n  }\n\n  /**\n   * Argument `name` is missing.\n   *\n   * @param {string} name\n   * @api private\n   */\n\n  missingArgument(name) {\n    const message = `error: missing required argument '${name}'`;\n    this.error(message, { code: 'commander.missingArgument' });\n  }\n\n  /**\n   * `Option` is missing an argument.\n   *\n   * @param {Option} option\n   * @api private\n   */\n\n  optionMissingArgument(option) {\n    const message = `error: option '${option.flags}' argument missing`;\n    this.error(message, { code: 'commander.optionMissingArgument' });\n  }\n\n  /**\n   * `Option` does not have a value, and is a mandatory option.\n   *\n   * @param {Option} option\n   * @api private\n   */\n\n  missingMandatoryOptionValue(option) {\n    const message = `error: required option '${option.flags}' not specified`;\n    this.error(message, { code: 'commander.missingMandatoryOptionValue' });\n  }\n\n  /**\n   * `Option` conflicts with another option.\n   *\n   * @param {Option} option\n   * @param {Option} conflictingOption\n   * @api private\n   */\n  _conflictingOption(option, conflictingOption) {\n    // The calling code does not know whether a negated option is the source of the\n    // value, so do some work to take an educated guess.\n    const findBestOptionFromValue = (option) => {\n      const optionKey = option.attributeName();\n      const optionValue = this.getOptionValue(optionKey);\n      const negativeOption = this.options.find(target => target.negate && optionKey === target.attributeName());\n      const positiveOption = this.options.find(target => !target.negate && optionKey === target.attributeName());\n      if (negativeOption && (\n        (negativeOption.presetArg === undefined && optionValue === false) ||\n        (negativeOption.presetArg !== undefined && optionValue === negativeOption.presetArg)\n      )) {\n        return negativeOption;\n      }\n      return positiveOption || option;\n    };\n\n    const getErrorMessage = (option) => {\n      const bestOption = findBestOptionFromValue(option);\n      const optionKey = bestOption.attributeName();\n      const source = this.getOptionValueSource(optionKey);\n      if (source === 'env') {\n        return `environment variable '${bestOption.envVar}'`;\n      }\n      return `option '${bestOption.flags}'`;\n    };\n\n    const message = `error: ${getErrorMessage(option)} cannot be used with ${getErrorMessage(conflictingOption)}`;\n    this.error(message, { code: 'commander.conflictingOption' });\n  }\n\n  /**\n   * Unknown option `flag`.\n   *\n   * @param {string} flag\n   * @api private\n   */\n\n  unknownOption(flag) {\n    if (this._allowUnknownOption) return;\n    let suggestion = '';\n\n    if (flag.startsWith('--') && this._showSuggestionAfterError) {\n      // Looping to pick up the global options too\n      let candidateFlags = [];\n      let command = this;\n      do {\n        const moreFlags = command.createHelp().visibleOptions(command)\n          .filter(option => option.long)\n          .map(option => option.long);\n        candidateFlags = candidateFlags.concat(moreFlags);\n        command = command.parent;\n      } while (command && !command._enablePositionalOptions);\n      suggestion = suggestSimilar(flag, candidateFlags);\n    }\n\n    const message = `error: unknown option '${flag}'${suggestion}`;\n    this.error(message, { code: 'commander.unknownOption' });\n  }\n\n  /**\n   * Excess arguments, more than expected.\n   *\n   * @param {string[]} receivedArgs\n   * @api private\n   */\n\n  _excessArguments(receivedArgs) {\n    if (this._allowExcessArguments) return;\n\n    const expected = this._args.length;\n    const s = (expected === 1) ? '' : 's';\n    const forSubcommand = this.parent ? ` for '${this.name()}'` : '';\n    const message = `error: too many arguments${forSubcommand}. Expected ${expected} argument${s} but got ${receivedArgs.length}.`;\n    this.error(message, { code: 'commander.excessArguments' });\n  }\n\n  /**\n   * Unknown command.\n   *\n   * @api private\n   */\n\n  unknownCommand() {\n    const unknownName = this.args[0];\n    let suggestion = '';\n\n    if (this._showSuggestionAfterError) {\n      const candidateNames = [];\n      this.createHelp().visibleCommands(this).forEach((command) => {\n        candidateNames.push(command.name());\n        // just visible alias\n        if (command.alias()) candidateNames.push(command.alias());\n      });\n      suggestion = suggestSimilar(unknownName, candidateNames);\n    }\n\n    const message = `error: unknown command '${unknownName}'${suggestion}`;\n    this.error(message, { code: 'commander.unknownCommand' });\n  }\n\n  /**\n   * Set the program version to `str`.\n   *\n   * This method auto-registers the \"-V, --version\" flag\n   * which will print the version number when passed.\n   *\n   * You can optionally supply the  flags and description to override the defaults.\n   *\n   * @param {string} str\n   * @param {string} [flags]\n   * @param {string} [description]\n   * @return {this | string} `this` command for chaining, or version string if no arguments\n   */\n\n  version(str, flags, description) {\n    if (str === undefined) return this._version;\n    this._version = str;\n    flags = flags || '-V, --version';\n    description = description || 'output the version number';\n    const versionOption = this.createOption(flags, description);\n    this._versionOptionName = versionOption.attributeName();\n    this.options.push(versionOption);\n    this.on('option:' + versionOption.name(), () => {\n      this._outputConfiguration.writeOut(`${str}\\n`);\n      this._exit(0, 'commander.version', str);\n    });\n    return this;\n  }\n\n  /**\n   * Set the description.\n   *\n   * @param {string} [str]\n   * @param {Object} [argsDescription]\n   * @return {string|Command}\n   */\n  description(str, argsDescription) {\n    if (str === undefined && argsDescription === undefined) return this._description;\n    this._description = str;\n    if (argsDescription) {\n      this._argsDescription = argsDescription;\n    }\n    return this;\n  }\n\n  /**\n   * Set the summary. Used when listed as subcommand of parent.\n   *\n   * @param {string} [str]\n   * @return {string|Command}\n   */\n  summary(str) {\n    if (str === undefined) return this._summary;\n    this._summary = str;\n    return this;\n  }\n\n  /**\n   * Set an alias for the command.\n   *\n   * You may call more than once to add multiple aliases. Only the first alias is shown in the auto-generated help.\n   *\n   * @param {string} [alias]\n   * @return {string|Command}\n   */\n\n  alias(alias) {\n    if (alias === undefined) return this._aliases[0]; // just return first, for backwards compatibility\n\n    /** @type {Command} */\n    let command = this;\n    if (this.commands.length !== 0 && this.commands[this.commands.length - 1]._executableHandler) {\n      // assume adding alias for last added executable subcommand, rather than this\n      command = this.commands[this.commands.length - 1];\n    }\n\n    if (alias === command._name) throw new Error('Command alias can\\'t be the same as its name');\n\n    command._aliases.push(alias);\n    return this;\n  }\n\n  /**\n   * Set aliases for the command.\n   *\n   * Only the first alias is shown in the auto-generated help.\n   *\n   * @param {string[]} [aliases]\n   * @return {string[]|Command}\n   */\n\n  aliases(aliases) {\n    // Getter for the array of aliases is the main reason for having aliases() in addition to alias().\n    if (aliases === undefined) return this._aliases;\n\n    aliases.forEach((alias) => this.alias(alias));\n    return this;\n  }\n\n  /**\n   * Set / get the command usage `str`.\n   *\n   * @param {string} [str]\n   * @return {String|Command}\n   */\n\n  usage(str) {\n    if (str === undefined) {\n      if (this._usage) return this._usage;\n\n      const args = this._args.map((arg) => {\n        return humanReadableArgName(arg);\n      });\n      return [].concat(\n        (this.options.length || this._hasHelpOption ? '[options]' : []),\n        (this.commands.length ? '[command]' : []),\n        (this._args.length ? args : [])\n      ).join(' ');\n    }\n\n    this._usage = str;\n    return this;\n  }\n\n  /**\n   * Get or set the name of the command.\n   *\n   * @param {string} [str]\n   * @return {string|Command}\n   */\n\n  name(str) {\n    if (str === undefined) return this._name;\n    this._name = str;\n    return this;\n  }\n\n  /**\n   * Set the name of the command from script filename, such as process.argv[1],\n   * or require.main.filename, or __filename.\n   *\n   * (Used internally and public although not documented in README.)\n   *\n   * @example\n   * program.nameFromFilename(require.main.filename);\n   *\n   * @param {string} filename\n   * @return {Command}\n   */\n\n  nameFromFilename(filename) {\n    this._name = path.basename(filename, path.extname(filename));\n\n    return this;\n  }\n\n  /**\n   * Get or set the directory for searching for executable subcommands of this command.\n   *\n   * @example\n   * program.executableDir(__dirname);\n   * // or\n   * program.executableDir('subcommands');\n   *\n   * @param {string} [path]\n   * @return {string|Command}\n   */\n\n  executableDir(path) {\n    if (path === undefined) return this._executableDir;\n    this._executableDir = path;\n    return this;\n  }\n\n  /**\n   * Return program help documentation.\n   *\n   * @param {{ error: boolean }} [contextOptions] - pass {error:true} to wrap for stderr instead of stdout\n   * @return {string}\n   */\n\n  helpInformation(contextOptions) {\n    const helper = this.createHelp();\n    if (helper.helpWidth === undefined) {\n      helper.helpWidth = (contextOptions && contextOptions.error) ? this._outputConfiguration.getErrHelpWidth() : this._outputConfiguration.getOutHelpWidth();\n    }\n    return helper.formatHelp(this, helper);\n  }\n\n  /**\n   * @api private\n   */\n\n  _getHelpContext(contextOptions) {\n    contextOptions = contextOptions || {};\n    const context = { error: !!contextOptions.error };\n    let write;\n    if (context.error) {\n      write = (arg) => this._outputConfiguration.writeErr(arg);\n    } else {\n      write = (arg) => this._outputConfiguration.writeOut(arg);\n    }\n    context.write = contextOptions.write || write;\n    context.command = this;\n    return context;\n  }\n\n  /**\n   * Output help information for this command.\n   *\n   * Outputs built-in help, and custom text added using `.addHelpText()`.\n   *\n   * @param {{ error: boolean } | Function} [contextOptions] - pass {error:true} to write to stderr instead of stdout\n   */\n\n  outputHelp(contextOptions) {\n    let deprecatedCallback;\n    if (typeof contextOptions === 'function') {\n      deprecatedCallback = contextOptions;\n      contextOptions = undefined;\n    }\n    const context = this._getHelpContext(contextOptions);\n\n    getCommandAndParents(this).reverse().forEach(command => command.emit('beforeAllHelp', context));\n    this.emit('beforeHelp', context);\n\n    let helpInformation = this.helpInformation(context);\n    if (deprecatedCallback) {\n      helpInformation = deprecatedCallback(helpInformation);\n      if (typeof helpInformation !== 'string' && !Buffer.isBuffer(helpInformation)) {\n        throw new Error('outputHelp callback must return a string or a Buffer');\n      }\n    }\n    context.write(helpInformation);\n\n    this.emit(this._helpLongFlag); // deprecated\n    this.emit('afterHelp', context);\n    getCommandAndParents(this).forEach(command => command.emit('afterAllHelp', context));\n  }\n\n  /**\n   * You can pass in flags and a description to override the help\n   * flags and help description for your command. Pass in false to\n   * disable the built-in help option.\n   *\n   * @param {string | boolean} [flags]\n   * @param {string} [description]\n   * @return {Command} `this` command for chaining\n   */\n\n  helpOption(flags, description) {\n    if (typeof flags === 'boolean') {\n      this._hasHelpOption = flags;\n      return this;\n    }\n    this._helpFlags = flags || this._helpFlags;\n    this._helpDescription = description || this._helpDescription;\n\n    const helpFlags = splitOptionFlags(this._helpFlags);\n    this._helpShortFlag = helpFlags.shortFlag;\n    this._helpLongFlag = helpFlags.longFlag;\n\n    return this;\n  }\n\n  /**\n   * Output help information and exit.\n   *\n   * Outputs built-in help, and custom text added using `.addHelpText()`.\n   *\n   * @param {{ error: boolean }} [contextOptions] - pass {error:true} to write to stderr instead of stdout\n   */\n\n  help(contextOptions) {\n    this.outputHelp(contextOptions);\n    let exitCode = process.exitCode || 0;\n    if (exitCode === 0 && contextOptions && typeof contextOptions !== 'function' && contextOptions.error) {\n      exitCode = 1;\n    }\n    // message: do not have all displayed text available so only passing placeholder.\n    this._exit(exitCode, 'commander.help', '(outputHelp)');\n  }\n\n  /**\n   * Add additional text to be displayed with the built-in help.\n   *\n   * Position is 'before' or 'after' to affect just this command,\n   * and 'beforeAll' or 'afterAll' to affect this command and all its subcommands.\n   *\n   * @param {string} position - before or after built-in help\n   * @param {string | Function} text - string to add, or a function returning a string\n   * @return {Command} `this` command for chaining\n   */\n  addHelpText(position, text) {\n    const allowedValues = ['beforeAll', 'before', 'after', 'afterAll'];\n    if (!allowedValues.includes(position)) {\n      throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${allowedValues.join(\"', '\")}'`);\n    }\n    const helpEvent = `${position}Help`;\n    this.on(helpEvent, (context) => {\n      let helpStr;\n      if (typeof text === 'function') {\n        helpStr = text({ error: context.error, command: context.command });\n      } else {\n        helpStr = text;\n      }\n      // Ignore falsy value when nothing to output.\n      if (helpStr) {\n        context.write(`${helpStr}\\n`);\n      }\n    });\n    return this;\n  }\n}\n\n/**\n * Output help information if help flags specified\n *\n * @param {Command} cmd - command to output help for\n * @param {Array} args - array of options to search for help flags\n * @api private\n */\n\nfunction outputHelpIfRequested(cmd, args) {\n  const helpOption = cmd._hasHelpOption && args.find(arg => arg === cmd._helpLongFlag || arg === cmd._helpShortFlag);\n  if (helpOption) {\n    cmd.outputHelp();\n    // (Do not have all displayed text available so only passing placeholder.)\n    cmd._exit(0, 'commander.helpDisplayed', '(outputHelp)');\n  }\n}\n\n/**\n * Scan arguments and increment port number for inspect calls (to avoid conflicts when spawning new command).\n *\n * @param {string[]} args - array of arguments from node.execArgv\n * @returns {string[]}\n * @api private\n */\n\nfunction incrementNodeInspectorPort(args) {\n  // Testing for these options:\n  //  --inspect[=[host:]port]\n  //  --inspect-brk[=[host:]port]\n  //  --inspect-port=[host:]port\n  return args.map((arg) => {\n    if (!arg.startsWith('--inspect')) {\n      return arg;\n    }\n    let debugOption;\n    let debugHost = '127.0.0.1';\n    let debugPort = '9229';\n    let match;\n    if ((match = arg.match(/^(--inspect(-brk)?)$/)) !== null) {\n      // e.g. --inspect\n      debugOption = match[1];\n    } else if ((match = arg.match(/^(--inspect(-brk|-port)?)=([^:]+)$/)) !== null) {\n      debugOption = match[1];\n      if (/^\\d+$/.test(match[3])) {\n        // e.g. --inspect=1234\n        debugPort = match[3];\n      } else {\n        // e.g. --inspect=localhost\n        debugHost = match[3];\n      }\n    } else if ((match = arg.match(/^(--inspect(-brk|-port)?)=([^:]+):(\\d+)$/)) !== null) {\n      // e.g. --inspect=localhost:1234\n      debugOption = match[1];\n      debugHost = match[3];\n      debugPort = match[4];\n    }\n\n    if (debugOption && debugPort !== '0') {\n      return `${debugOption}=${debugHost}:${parseInt(debugPort) + 1}`;\n    }\n    return arg;\n  });\n}\n\n/**\n * @param {Command} startCommand\n * @returns {Command[]}\n * @api private\n */\n\nfunction getCommandAndParents(startCommand) {\n  const result = [];\n  for (let command = startCommand; command; command = command.parent) {\n    result.push(command);\n  }\n  return result;\n}\n\nexports.Command = Command;\n","const { Argument } = require('./lib/argument.js');\nconst { Command } = require('./lib/command.js');\nconst { CommanderError, InvalidArgumentError } = require('./lib/error.js');\nconst { Help } = require('./lib/help.js');\nconst { Option } = require('./lib/option.js');\n\n// @ts-check\n\n/**\n * Expose the root command.\n */\n\nexports = module.exports = new Command();\nexports.program = exports; // More explicit access to global command.\n// Implicit export of createArgument, createCommand, and createOption.\n\n/**\n * Expose classes\n */\n\nexports.Argument = Argument;\nexports.Command = Command;\nexports.CommanderError = CommanderError;\nexports.Help = Help;\nexports.InvalidArgumentError = InvalidArgumentError;\nexports.InvalidOptionArgumentError = InvalidArgumentError; // Deprecated\nexports.Option = Option;\n","import commander from './index.js';\n\n// wrapper to provide named exports for ESM.\nexport const {\n  program,\n  createCommand,\n  createArgument,\n  createOption,\n  CommanderError,\n  InvalidArgumentError,\n  InvalidOptionArgumentError, // deprecated old name\n  Command,\n  Argument,\n  Option,\n  Help\n} = commander;\n","import { program } from 'commander'\r\n\r\nexport const helpOptions = () => {\r\n  program.option(\r\n    '-stt2 -swagger2-to-ts2',\r\n    '创建代码的起始命令【如： stt2 http://XXX/swagger-ui.html】'\r\n  )\r\n\r\n  program.option('-i -init', '创建默认的配置文件【swagger2ts.json】')\r\n\r\n  program.on('--help', function () {\r\n    console.log('')\r\n    console.log('usage')\r\n    console.log('   stt2 -v')\r\n    console.log('   stt2 -version')\r\n    console.log('   swagger2-to-ts2 -v')\r\n    console.log('   swagger2-to-ts2 -version')\r\n  })\r\n}\r\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n","const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n","const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n","'use strict';\n\nconst wrapAnsi16 = (fn, offset) => (...args) => {\n\tconst code = fn(...args);\n\treturn `\\u001B[${code + offset}m`;\n};\n\nconst wrapAnsi256 = (fn, offset) => (...args) => {\n\tconst code = fn(...args);\n\treturn `\\u001B[${38 + offset};5;${code}m`;\n};\n\nconst wrapAnsi16m = (fn, offset) => (...args) => {\n\tconst rgb = fn(...args);\n\treturn `\\u001B[${38 + offset};2;${rgb[0]};${rgb[1]};${rgb[2]}m`;\n};\n\nconst ansi2ansi = n => n;\nconst rgb2rgb = (r, g, b) => [r, g, b];\n\nconst setLazyProperty = (object, property, get) => {\n\tObject.defineProperty(object, property, {\n\t\tget: () => {\n\t\t\tconst value = get();\n\n\t\t\tObject.defineProperty(object, property, {\n\t\t\t\tvalue,\n\t\t\t\tenumerable: true,\n\t\t\t\tconfigurable: true\n\t\t\t});\n\n\t\t\treturn value;\n\t\t},\n\t\tenumerable: true,\n\t\tconfigurable: true\n\t});\n};\n\n/** @type {typeof import('color-convert')} */\nlet colorConvert;\nconst makeDynamicStyles = (wrap, targetSpace, identity, isBackground) => {\n\tif (colorConvert === undefined) {\n\t\tcolorConvert = require('color-convert');\n\t}\n\n\tconst offset = isBackground ? 10 : 0;\n\tconst styles = {};\n\n\tfor (const [sourceSpace, suite] of Object.entries(colorConvert)) {\n\t\tconst name = sourceSpace === 'ansi16' ? 'ansi' : sourceSpace;\n\t\tif (sourceSpace === targetSpace) {\n\t\t\tstyles[name] = wrap(identity, offset);\n\t\t} else if (typeof suite === 'object') {\n\t\t\tstyles[name] = wrap(suite[targetSpace], offset);\n\t\t}\n\t}\n\n\treturn styles;\n};\n\nfunction assembleStyles() {\n\tconst codes = new Map();\n\tconst styles = {\n\t\tmodifier: {\n\t\t\treset: [0, 0],\n\t\t\t// 21 isn't widely supported and 22 does the same thing\n\t\t\tbold: [1, 22],\n\t\t\tdim: [2, 22],\n\t\t\titalic: [3, 23],\n\t\t\tunderline: [4, 24],\n\t\t\tinverse: [7, 27],\n\t\t\thidden: [8, 28],\n\t\t\tstrikethrough: [9, 29]\n\t\t},\n\t\tcolor: {\n\t\t\tblack: [30, 39],\n\t\t\tred: [31, 39],\n\t\t\tgreen: [32, 39],\n\t\t\tyellow: [33, 39],\n\t\t\tblue: [34, 39],\n\t\t\tmagenta: [35, 39],\n\t\t\tcyan: [36, 39],\n\t\t\twhite: [37, 39],\n\n\t\t\t// Bright color\n\t\t\tblackBright: [90, 39],\n\t\t\tredBright: [91, 39],\n\t\t\tgreenBright: [92, 39],\n\t\t\tyellowBright: [93, 39],\n\t\t\tblueBright: [94, 39],\n\t\t\tmagentaBright: [95, 39],\n\t\t\tcyanBright: [96, 39],\n\t\t\twhiteBright: [97, 39]\n\t\t},\n\t\tbgColor: {\n\t\t\tbgBlack: [40, 49],\n\t\t\tbgRed: [41, 49],\n\t\t\tbgGreen: [42, 49],\n\t\t\tbgYellow: [43, 49],\n\t\t\tbgBlue: [44, 49],\n\t\t\tbgMagenta: [45, 49],\n\t\t\tbgCyan: [46, 49],\n\t\t\tbgWhite: [47, 49],\n\n\t\t\t// Bright color\n\t\t\tbgBlackBright: [100, 49],\n\t\t\tbgRedBright: [101, 49],\n\t\t\tbgGreenBright: [102, 49],\n\t\t\tbgYellowBright: [103, 49],\n\t\t\tbgBlueBright: [104, 49],\n\t\t\tbgMagentaBright: [105, 49],\n\t\t\tbgCyanBright: [106, 49],\n\t\t\tbgWhiteBright: [107, 49]\n\t\t}\n\t};\n\n\t// Alias bright black as gray (and grey)\n\tstyles.color.gray = styles.color.blackBright;\n\tstyles.bgColor.bgGray = styles.bgColor.bgBlackBright;\n\tstyles.color.grey = styles.color.blackBright;\n\tstyles.bgColor.bgGrey = styles.bgColor.bgBlackBright;\n\n\tfor (const [groupName, group] of Object.entries(styles)) {\n\t\tfor (const [styleName, style] of Object.entries(group)) {\n\t\t\tstyles[styleName] = {\n\t\t\t\topen: `\\u001B[${style[0]}m`,\n\t\t\t\tclose: `\\u001B[${style[1]}m`\n\t\t\t};\n\n\t\t\tgroup[styleName] = styles[styleName];\n\n\t\t\tcodes.set(style[0], style[1]);\n\t\t}\n\n\t\tObject.defineProperty(styles, groupName, {\n\t\t\tvalue: group,\n\t\t\tenumerable: false\n\t\t});\n\t}\n\n\tObject.defineProperty(styles, 'codes', {\n\t\tvalue: codes,\n\t\tenumerable: false\n\t});\n\n\tstyles.color.close = '\\u001B[39m';\n\tstyles.bgColor.close = '\\u001B[49m';\n\n\tsetLazyProperty(styles.color, 'ansi', () => makeDynamicStyles(wrapAnsi16, 'ansi16', ansi2ansi, false));\n\tsetLazyProperty(styles.color, 'ansi256', () => makeDynamicStyles(wrapAnsi256, 'ansi256', ansi2ansi, false));\n\tsetLazyProperty(styles.color, 'ansi16m', () => makeDynamicStyles(wrapAnsi16m, 'rgb', rgb2rgb, false));\n\tsetLazyProperty(styles.bgColor, 'ansi', () => makeDynamicStyles(wrapAnsi16, 'ansi16', ansi2ansi, true));\n\tsetLazyProperty(styles.bgColor, 'ansi256', () => makeDynamicStyles(wrapAnsi256, 'ansi256', ansi2ansi, true));\n\tsetLazyProperty(styles.bgColor, 'ansi16m', () => makeDynamicStyles(wrapAnsi16m, 'rgb', rgb2rgb, true));\n\n\treturn styles;\n}\n\n// Make the export immutable\nObject.defineProperty(module, 'exports', {\n\tenumerable: true,\n\tget: assembleStyles\n});\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","'use strict';\n\nconst stringReplaceAll = (string, substring, replacer) => {\n\tlet index = string.indexOf(substring);\n\tif (index === -1) {\n\t\treturn string;\n\t}\n\n\tconst substringLength = substring.length;\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\treturnValue += string.substr(endIndex, index - endIndex) + substring + replacer;\n\t\tendIndex = index + substringLength;\n\t\tindex = string.indexOf(substring, endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.substr(endIndex);\n\treturn returnValue;\n};\n\nconst stringEncaseCRLFWithFirstIndex = (string, prefix, postfix, index) => {\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\tconst gotCR = string[index - 1] === '\\r';\n\t\treturnValue += string.substr(endIndex, (gotCR ? index - 1 : index) - endIndex) + prefix + (gotCR ? '\\r\\n' : '\\n') + postfix;\n\t\tendIndex = index + 1;\n\t\tindex = string.indexOf('\\n', endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.substr(endIndex);\n\treturn returnValue;\n};\n\nmodule.exports = {\n\tstringReplaceAll,\n\tstringEncaseCRLFWithFirstIndex\n};\n","'use strict';\nconst TEMPLATE_REGEX = /(?:\\\\(u(?:[a-f\\d]{4}|\\{[a-f\\d]{1,6}\\})|x[a-f\\d]{2}|.))|(?:\\{(~)?(\\w+(?:\\([^)]*\\))?(?:\\.\\w+(?:\\([^)]*\\))?)*)(?:[ \\t]|(?=\\r?\\n)))|(\\})|((?:.|[\\r\\n\\f])+?)/gi;\nconst STYLE_REGEX = /(?:^|\\.)(\\w+)(?:\\(([^)]*)\\))?/g;\nconst STRING_REGEX = /^(['\"])((?:\\\\.|(?!\\1)[^\\\\])*)\\1$/;\nconst ESCAPE_REGEX = /\\\\(u(?:[a-f\\d]{4}|{[a-f\\d]{1,6}})|x[a-f\\d]{2}|.)|([^\\\\])/gi;\n\nconst ESCAPES = new Map([\n\t['n', '\\n'],\n\t['r', '\\r'],\n\t['t', '\\t'],\n\t['b', '\\b'],\n\t['f', '\\f'],\n\t['v', '\\v'],\n\t['0', '\\0'],\n\t['\\\\', '\\\\'],\n\t['e', '\\u001B'],\n\t['a', '\\u0007']\n]);\n\nfunction unescape(c) {\n\tconst u = c[0] === 'u';\n\tconst bracket = c[1] === '{';\n\n\tif ((u && !bracket && c.length === 5) || (c[0] === 'x' && c.length === 3)) {\n\t\treturn String.fromCharCode(parseInt(c.slice(1), 16));\n\t}\n\n\tif (u && bracket) {\n\t\treturn String.fromCodePoint(parseInt(c.slice(2, -1), 16));\n\t}\n\n\treturn ESCAPES.get(c) || c;\n}\n\nfunction parseArguments(name, arguments_) {\n\tconst results = [];\n\tconst chunks = arguments_.trim().split(/\\s*,\\s*/g);\n\tlet matches;\n\n\tfor (const chunk of chunks) {\n\t\tconst number = Number(chunk);\n\t\tif (!Number.isNaN(number)) {\n\t\t\tresults.push(number);\n\t\t} else if ((matches = chunk.match(STRING_REGEX))) {\n\t\t\tresults.push(matches[2].replace(ESCAPE_REGEX, (m, escape, character) => escape ? unescape(escape) : character));\n\t\t} else {\n\t\t\tthrow new Error(`Invalid Chalk template style argument: ${chunk} (in style '${name}')`);\n\t\t}\n\t}\n\n\treturn results;\n}\n\nfunction parseStyle(style) {\n\tSTYLE_REGEX.lastIndex = 0;\n\n\tconst results = [];\n\tlet matches;\n\n\twhile ((matches = STYLE_REGEX.exec(style)) !== null) {\n\t\tconst name = matches[1];\n\n\t\tif (matches[2]) {\n\t\t\tconst args = parseArguments(name, matches[2]);\n\t\t\tresults.push([name].concat(args));\n\t\t} else {\n\t\t\tresults.push([name]);\n\t\t}\n\t}\n\n\treturn results;\n}\n\nfunction buildStyle(chalk, styles) {\n\tconst enabled = {};\n\n\tfor (const layer of styles) {\n\t\tfor (const style of layer.styles) {\n\t\t\tenabled[style[0]] = layer.inverse ? null : style.slice(1);\n\t\t}\n\t}\n\n\tlet current = chalk;\n\tfor (const [styleName, styles] of Object.entries(enabled)) {\n\t\tif (!Array.isArray(styles)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!(styleName in current)) {\n\t\t\tthrow new Error(`Unknown Chalk style: ${styleName}`);\n\t\t}\n\n\t\tcurrent = styles.length > 0 ? current[styleName](...styles) : current[styleName];\n\t}\n\n\treturn current;\n}\n\nmodule.exports = (chalk, temporary) => {\n\tconst styles = [];\n\tconst chunks = [];\n\tlet chunk = [];\n\n\t// eslint-disable-next-line max-params\n\ttemporary.replace(TEMPLATE_REGEX, (m, escapeCharacter, inverse, style, close, character) => {\n\t\tif (escapeCharacter) {\n\t\t\tchunk.push(unescape(escapeCharacter));\n\t\t} else if (style) {\n\t\t\tconst string = chunk.join('');\n\t\t\tchunk = [];\n\t\t\tchunks.push(styles.length === 0 ? string : buildStyle(chalk, styles)(string));\n\t\t\tstyles.push({inverse, styles: parseStyle(style)});\n\t\t} else if (close) {\n\t\t\tif (styles.length === 0) {\n\t\t\t\tthrow new Error('Found extraneous } in Chalk template literal');\n\t\t\t}\n\n\t\t\tchunks.push(buildStyle(chalk, styles)(chunk.join('')));\n\t\t\tchunk = [];\n\t\t\tstyles.pop();\n\t\t} else {\n\t\t\tchunk.push(character);\n\t\t}\n\t});\n\n\tchunks.push(chunk.join(''));\n\n\tif (styles.length > 0) {\n\t\tconst errMessage = `Chalk template literal is missing ${styles.length} closing bracket${styles.length === 1 ? '' : 's'} (\\`}\\`)`;\n\t\tthrow new Error(errMessage);\n\t}\n\n\treturn chunks.join('');\n};\n","'use strict';\nconst ansiStyles = require('ansi-styles');\nconst {stdout: stdoutColor, stderr: stderrColor} = require('supports-color');\nconst {\n\tstringReplaceAll,\n\tstringEncaseCRLFWithFirstIndex\n} = require('./util');\n\nconst {isArray} = Array;\n\n// `supportsColor.level` → `ansiStyles.color[name]` mapping\nconst levelMapping = [\n\t'ansi',\n\t'ansi',\n\t'ansi256',\n\t'ansi16m'\n];\n\nconst styles = Object.create(null);\n\nconst applyOptions = (object, options = {}) => {\n\tif (options.level && !(Number.isInteger(options.level) && options.level >= 0 && options.level <= 3)) {\n\t\tthrow new Error('The `level` option should be an integer from 0 to 3');\n\t}\n\n\t// Detect level if not set manually\n\tconst colorLevel = stdoutColor ? stdoutColor.level : 0;\n\tobject.level = options.level === undefined ? colorLevel : options.level;\n};\n\nclass ChalkClass {\n\tconstructor(options) {\n\t\t// eslint-disable-next-line no-constructor-return\n\t\treturn chalkFactory(options);\n\t}\n}\n\nconst chalkFactory = options => {\n\tconst chalk = {};\n\tapplyOptions(chalk, options);\n\n\tchalk.template = (...arguments_) => chalkTag(chalk.template, ...arguments_);\n\n\tObject.setPrototypeOf(chalk, Chalk.prototype);\n\tObject.setPrototypeOf(chalk.template, chalk);\n\n\tchalk.template.constructor = () => {\n\t\tthrow new Error('`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.');\n\t};\n\n\tchalk.template.Instance = ChalkClass;\n\n\treturn chalk.template;\n};\n\nfunction Chalk(options) {\n\treturn chalkFactory(options);\n}\n\nfor (const [styleName, style] of Object.entries(ansiStyles)) {\n\tstyles[styleName] = {\n\t\tget() {\n\t\t\tconst builder = createBuilder(this, createStyler(style.open, style.close, this._styler), this._isEmpty);\n\t\t\tObject.defineProperty(this, styleName, {value: builder});\n\t\t\treturn builder;\n\t\t}\n\t};\n}\n\nstyles.visible = {\n\tget() {\n\t\tconst builder = createBuilder(this, this._styler, true);\n\t\tObject.defineProperty(this, 'visible', {value: builder});\n\t\treturn builder;\n\t}\n};\n\nconst usedModels = ['rgb', 'hex', 'keyword', 'hsl', 'hsv', 'hwb', 'ansi', 'ansi256'];\n\nfor (const model of usedModels) {\n\tstyles[model] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(ansiStyles.color[levelMapping[level]][model](...arguments_), ansiStyles.color.close, this._styler);\n\t\t\t\treturn createBuilder(this, styler, this._isEmpty);\n\t\t\t};\n\t\t}\n\t};\n}\n\nfor (const model of usedModels) {\n\tconst bgModel = 'bg' + model[0].toUpperCase() + model.slice(1);\n\tstyles[bgModel] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(ansiStyles.bgColor[levelMapping[level]][model](...arguments_), ansiStyles.bgColor.close, this._styler);\n\t\t\t\treturn createBuilder(this, styler, this._isEmpty);\n\t\t\t};\n\t\t}\n\t};\n}\n\nconst proto = Object.defineProperties(() => {}, {\n\t...styles,\n\tlevel: {\n\t\tenumerable: true,\n\t\tget() {\n\t\t\treturn this._generator.level;\n\t\t},\n\t\tset(level) {\n\t\t\tthis._generator.level = level;\n\t\t}\n\t}\n});\n\nconst createStyler = (open, close, parent) => {\n\tlet openAll;\n\tlet closeAll;\n\tif (parent === undefined) {\n\t\topenAll = open;\n\t\tcloseAll = close;\n\t} else {\n\t\topenAll = parent.openAll + open;\n\t\tcloseAll = close + parent.closeAll;\n\t}\n\n\treturn {\n\t\topen,\n\t\tclose,\n\t\topenAll,\n\t\tcloseAll,\n\t\tparent\n\t};\n};\n\nconst createBuilder = (self, _styler, _isEmpty) => {\n\tconst builder = (...arguments_) => {\n\t\tif (isArray(arguments_[0]) && isArray(arguments_[0].raw)) {\n\t\t\t// Called as a template literal, for example: chalk.red`2 + 3 = {bold ${2+3}}`\n\t\t\treturn applyStyle(builder, chalkTag(builder, ...arguments_));\n\t\t}\n\n\t\t// Single argument is hot path, implicit coercion is faster than anything\n\t\t// eslint-disable-next-line no-implicit-coercion\n\t\treturn applyStyle(builder, (arguments_.length === 1) ? ('' + arguments_[0]) : arguments_.join(' '));\n\t};\n\n\t// We alter the prototype because we must return a function, but there is\n\t// no way to create a function with a different prototype\n\tObject.setPrototypeOf(builder, proto);\n\n\tbuilder._generator = self;\n\tbuilder._styler = _styler;\n\tbuilder._isEmpty = _isEmpty;\n\n\treturn builder;\n};\n\nconst applyStyle = (self, string) => {\n\tif (self.level <= 0 || !string) {\n\t\treturn self._isEmpty ? '' : string;\n\t}\n\n\tlet styler = self._styler;\n\n\tif (styler === undefined) {\n\t\treturn string;\n\t}\n\n\tconst {openAll, closeAll} = styler;\n\tif (string.indexOf('\\u001B') !== -1) {\n\t\twhile (styler !== undefined) {\n\t\t\t// Replace any instances already present with a re-opening code\n\t\t\t// otherwise only the part of the string until said closing code\n\t\t\t// will be colored, and the rest will simply be 'plain'.\n\t\t\tstring = stringReplaceAll(string, styler.close, styler.open);\n\n\t\t\tstyler = styler.parent;\n\t\t}\n\t}\n\n\t// We can move both next actions out of loop, because remaining actions in loop won't have\n\t// any/visible effect on parts we add here. Close the styling before a linebreak and reopen\n\t// after next line to fix a bleed issue on macOS: https://github.com/chalk/chalk/pull/92\n\tconst lfIndex = string.indexOf('\\n');\n\tif (lfIndex !== -1) {\n\t\tstring = stringEncaseCRLFWithFirstIndex(string, closeAll, openAll, lfIndex);\n\t}\n\n\treturn openAll + string + closeAll;\n};\n\nlet template;\nconst chalkTag = (chalk, ...strings) => {\n\tconst [firstString] = strings;\n\n\tif (!isArray(firstString) || !isArray(firstString.raw)) {\n\t\t// If chalk() was called by itself or with a string,\n\t\t// return the string itself as a string.\n\t\treturn strings.join(' ');\n\t}\n\n\tconst arguments_ = strings.slice(1);\n\tconst parts = [firstString.raw[0]];\n\n\tfor (let i = 1; i < firstString.length; i++) {\n\t\tparts.push(\n\t\t\tString(arguments_[i - 1]).replace(/[{}\\\\]/g, '\\\\$&'),\n\t\t\tString(firstString.raw[i])\n\t\t);\n\t}\n\n\tif (template === undefined) {\n\t\ttemplate = require('./templates');\n\t}\n\n\treturn template(chalk, parts.join(''));\n};\n\nObject.defineProperties(Chalk.prototype, styles);\n\nconst chalk = Chalk(); // eslint-disable-line new-cap\nchalk.supportsColor = stdoutColor;\nchalk.stderr = Chalk({level: stderrColor ? stderrColor.level : 0}); // eslint-disable-line new-cap\nchalk.stderr.supportsColor = stderrColor;\n\nmodule.exports = chalk;\n","import * as chalk from 'chalk'\r\n\r\nexport const hint = (...info) => {\r\n  console.log(chalk.blue(info))\r\n}\r\n\r\nexport const error = (...info) => {\r\n  console.log(chalk.red(info))\r\n}\r\n\r\nexport const clear = () => {\r\n  console.clear()\r\n}\r\n","\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n","\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n","\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n","\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n","\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n","\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n","\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport whatwgUrl from 'whatwg-url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * isSameProtocol reports whether the two provided URLs use the same protocol.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nconst isSameProtocol = function isSameProtocol(destination, original) {\n\tconst orig = new URL$1(original).protocol;\n\tconst dest = new URL$1(destination).protocol;\n\n\treturn orig === dest;\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\tdestroyStream(request.body, error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\n\t\t\tfinalize();\n\t\t});\n\n\t\tfixResponseChunkedTransferBadEnding(req, function (err) {\n\t\t\tif (signal && signal.aborted) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\t\t});\n\n\t\t/* c8 ignore next 18 */\n\t\tif (parseInt(process.version.substring(1)) < 14) {\n\t\t\t// Before Node.js 14, pipeline() does not fully support async iterators and does not always\n\t\t\t// properly handle when the socket close/end events are out of order.\n\t\t\treq.on('socket', function (s) {\n\t\t\t\ts.addListener('close', function (hadError) {\n\t\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\t\tconst hasDataListener = s.listenerCount('data') > 0;\n\n\t\t\t\t\t// if end happened before close but the socket didn't emit an error, do it now\n\t\t\t\t\tif (response && hasDataListener && !hadError && !(signal && signal.aborted)) {\n\t\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\t\tresponse.body.emit('error', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\traw.on('end', function () {\n\t\t\t\t\t// some old IIS servers return zero-length OK deflate responses, so 'data' is never emitted.\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n\tlet socket;\n\n\trequest.on('socket', function (s) {\n\t\tsocket = s;\n\t});\n\n\trequest.on('response', function (response) {\n\t\tconst headers = response.headers;\n\n\t\tif (headers['transfer-encoding'] === 'chunked' && !headers['content-length']) {\n\t\t\tresponse.once('close', function (hadError) {\n\t\t\t\t// tests for socket presence, as in some situations the\n\t\t\t\t// the 'socket' event is not triggered for the request\n\t\t\t\t// (happens in deno), avoids `TypeError`\n\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\tconst hasDataListener = socket && socket.listenerCount('data') > 0;\n\n\t\t\t\tif (hasDataListener && !hadError) {\n\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\terrorCallback(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n\nfunction destroyStream(stream, err) {\n\tif (stream.destroy) {\n\t\tstream.destroy(err);\n\t} else {\n\t\t// node < 8\n\t\tstream.emit('error', err);\n\t\tstream.end();\n\t}\n}\n\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError };\n","export declare type Swagger2Info = {\r\n  description: string // 描述\r\n  version: string // 版本\r\n  title: string // 标题\r\n  termsOfService: string // 服务名称\r\n}\r\n\r\nexport declare type TagsInfo = {\r\n  name: string // 服务名称\r\n  description: string // 服务描述\r\n}\r\n\r\nexport declare type SchemaInfo = {\r\n  $ref: string // \"#/definitions/CreateAdmittanceRatingRequest\"\r\n}\r\n\r\nexport const getEmptySchemaInfo = (): SchemaInfo => {\r\n  return {\r\n    $ref: '', // \"#/definitions/CreateAdmittanceRatingRequest\"\r\n  }\r\n}\r\n\r\nexport declare type ParameterApiInfos = {\r\n  desc: string //\r\n  query: Record<string, string> //\r\n}\r\n\r\nexport declare type ParametersInfo = {\r\n  in: string // \"body\"\r\n  name: string // \"request\"\r\n  description: string // \"request\"\r\n  required: boolean // true\r\n  schema?: SchemaInfo\r\n  type?: string\r\n}\r\n\r\nexport const getEmptyParametersInfo = (): ParametersInfo => {\r\n  return {\r\n    in: '', // \"body\"\r\n    name: '', // \"request\"\r\n    description: '', // \"request\"\r\n    required: true, // true\r\n    schema: getEmptySchemaInfo(),\r\n  }\r\n}\r\n\r\nexport declare type TwoZeroInfo = {\r\n  description: string // \"body\"\r\n  schema: SchemaInfo\r\n}\r\n\r\nexport const getEmptyTwoZeroInfo = (): TwoZeroInfo => {\r\n  return {\r\n    description: '', // \"body\"\r\n    schema: getEmptySchemaInfo(),\r\n  }\r\n}\r\n\r\nexport declare type ResponsesInfo = {\r\n  200: TwoZeroInfo // \"body\"\r\n  201: object //\r\n  401: object //\r\n  403: object //\r\n  404: object\r\n}\r\n\r\nexport const getEmptyResponsesInfo = (): ResponsesInfo => {\r\n  return {\r\n    200: getEmptyTwoZeroInfo(), // \"body\"\r\n    201: {}, //\r\n    401: {}, //\r\n    403: {}, //\r\n    404: {}, //\r\n  }\r\n}\r\n\r\nexport declare type ActionInfo = {\r\n  tags: string[] // 接口描述 [\"品控2.0-准入评级管理\"]\r\n  summary: string // 接口描述 创建准入评级\r\n  operationId: string // 接口定义 createAdmittanceRatingUsingPOST\r\n  consumes: string[] // 提交的数据格式 [\"application/json\"]\r\n  produces: string[] // [\"*/*\"]\r\n  parameters: ParametersInfo[]\r\n  responses: ResponsesInfo\r\n  deprecated: boolean\r\n}\r\n\r\nexport declare type PathsInfo = {\r\n  post?: ActionInfo\r\n  get?: ActionInfo\r\n}\r\n\r\nexport declare enum PropertyType {\r\n  string = 'string',\r\n  boolean = 'boolean',\r\n  array = 'array',\r\n  object = 'object',\r\n  integer = 'integer',\r\n  number = 'number',\r\n}\r\n\r\nexport declare type ArrItem = {\r\n  type: PropertyType\r\n  $ref?: string\r\n}\r\n\r\nexport declare type ObjectItem = {\r\n  type: PropertyType\r\n  items?: ArrItem\r\n}\r\n\r\nexport declare type PropertyInfo = {\r\n  type: PropertyType\r\n  description: string\r\n  items?: ArrItem\r\n  additionalProperties?: ObjectItem\r\n  enum?: string[]\r\n  $ref?: string\r\n}\r\n\r\nexport declare type DefinitionsInfo = {\r\n  type: string\r\n  properties: Record<string, PropertyInfo>\r\n  title: string\r\n  summary?: string\r\n}\r\n\r\nexport declare type Swagger2 = {\r\n  swagger: string // 版本号\r\n  info: Swagger2Info // 服务信息\r\n  host: string // http://localhost:8080\r\n  basePath: string // /\r\n  tags: TagsInfo[] // 服务的描述集合\r\n  paths: Record<string, PathsInfo>\r\n  definitions: Record<string, DefinitionsInfo>\r\n}\r\n","import {\r\n  ParametersInfo,\r\n  PathsInfo,\r\n  ResponsesInfo,\r\n  getEmptyResponsesInfo,\r\n} from './controllerEntity'\r\n\r\nexport declare enum InfoyType {\r\n  string = 'type',\r\n  boolean = 'enum',\r\n}\r\n\r\nexport declare type ApiRefInfo = {\r\n  parametersOrign: ParametersInfo[] | undefined\r\n  parameters: string[] | undefined\r\n  responsesOrign: ResponsesInfo | undefined\r\n  responses: string | undefined\r\n  orignInfo: PathsInfo\r\n}\r\n\r\nexport const getEmptyApiRefInfo = (): ApiRefInfo => {\r\n  return {\r\n    parametersOrign: [],\r\n    parameters: [],\r\n    responsesOrign: getEmptyResponsesInfo(),\r\n    responses: '',\r\n    orignInfo: {},\r\n  }\r\n}\r\n\r\nexport declare type FileDesc = {\r\n  className: string\r\n  apiPaths: Array<string> // 该文件下的API接口集合\r\n  apiRefs: Record<string, ApiRefInfo>\r\n}\r\n\r\nexport const getEmptyFileDesc = (): FileDesc => {\r\n  return {\r\n    className: '',\r\n    apiPaths: [],\r\n    apiRefs: {},\r\n  }\r\n}\r\n\r\nexport declare type PropertyDesc = {\r\n  type?: string\r\n  description?: string\r\n  items?: ItemsDesc\r\n  $ref?: string\r\n  subProperty?: string\r\n}\r\n\r\nexport declare type ItemsDesc = {\r\n  type?: string\r\n  $ref?: string\r\n}\r\n","import { ConfigInfo } from '../models/configEntity'\r\nimport { PathsInfo, Swagger2 } from '../models/controllerEntity'\r\nimport {\r\n  FileDesc,\r\n  getEmptyApiRefInfo,\r\n  getEmptyFileDesc,\r\n} from '../models/fileEntity'\r\n\r\nexport class SwaggerDataToFile {\r\n  swaggerData: Swagger2\r\n  configData: ConfigInfo\r\n  public fileDescData: Record<string, FileDesc> | null\r\n\r\n  constructor(data: Swagger2, configData: ConfigInfo) {\r\n    this.swaggerData = data\r\n    this.configData = configData\r\n\r\n    this.fileDescData = this.processData()\r\n  }\r\n\r\n  // 处理swagger的数据，转换成文件描述\r\n  processData() {\r\n    if (!this.swaggerData || !this.swaggerData.paths) {\r\n      return null\r\n    }\r\n\r\n    let pathArr: Record<string, FileDesc> = {}\r\n\r\n    if (this.configData.fileMode === 'info') {\r\n    } else {\r\n      Object.keys(this.swaggerData.paths).forEach((key) => {\r\n        if (\r\n          this.configData.onlyPath &&\r\n          this.configData.onlyPath.length > 0 &&\r\n          this.configData.onlyPath[0]\r\n        ) {\r\n          // 只生成某个路径\r\n          const only = this.checkOnlyPath(key)\r\n          if (only) {\r\n            this.setClassInfo(pathArr, key)\r\n          }\r\n        } else {\r\n          const exclude = this.checkExclude(key)\r\n          // 未被排除\r\n          if (!exclude) {\r\n            this.setClassInfo(pathArr, key)\r\n          }\r\n        }\r\n      })\r\n    }\r\n\r\n    return pathArr\r\n  }\r\n\r\n  // 实体映射\r\n  setClassInfo(pathArr: Record<string, FileDesc>, key: string) {\r\n    const className = this.checkPaths(key)\r\n    if (className) {\r\n      if (!pathArr[className]) {\r\n        pathArr[className] = getEmptyFileDesc()\r\n      }\r\n      pathArr[className].className = className\r\n      pathArr[className].apiPaths.push(key)\r\n\r\n      if (!pathArr[className].apiRefs[key]) {\r\n        pathArr[className].apiRefs[key] = getEmptyApiRefInfo()\r\n      }\r\n      pathArr[className].apiRefs[key].orignInfo = this.swaggerData.paths[key]\r\n\r\n      pathArr[className].apiRefs[key].parameters = this.setParameters(\r\n        this.swaggerData.paths[key]\r\n      )\r\n\r\n      pathArr[className].apiRefs[key].parametersOrign = undefined\r\n      if (\r\n        this.swaggerData.paths[key].post &&\r\n        this.swaggerData.paths[key].post?.parameters\r\n      ) {\r\n        pathArr[className].apiRefs[key].parametersOrign =\r\n          this.swaggerData.paths[key].post?.parameters\r\n      } else if (\r\n        this.swaggerData.paths[key].get &&\r\n        this.swaggerData.paths[key].get?.parameters\r\n      ) {\r\n        pathArr[className].apiRefs[key].parametersOrign =\r\n          this.swaggerData.paths[key].get?.parameters\r\n      }\r\n\r\n      pathArr[className].apiRefs[key].responses = undefined\r\n      if (\r\n        this.swaggerData.paths[key].post &&\r\n        this.swaggerData.paths[key].post?.responses[200] &&\r\n        this.swaggerData.paths[key].post?.responses[200].schema\r\n      ) {\r\n        pathArr[className].apiRefs[key].responses =\r\n          this.swaggerData.paths[key].post?.responses[200].schema.$ref\r\n      } else if (\r\n        this.swaggerData.paths[key].get &&\r\n        this.swaggerData.paths[key].get?.responses[200] &&\r\n        this.swaggerData.paths[key].get?.responses[200].schema\r\n      ) {\r\n        pathArr[className].apiRefs[key].responses =\r\n          this.swaggerData.paths[key].get?.responses[200].schema.$ref\r\n      }\r\n\r\n      pathArr[className].apiRefs[key].responsesOrign = undefined\r\n      if (\r\n        this.swaggerData.paths[key].post &&\r\n        this.swaggerData.paths[key].post?.responses\r\n      ) {\r\n        pathArr[className].apiRefs[key].responsesOrign =\r\n          this.swaggerData.paths[key].post?.responses\r\n      } else if (\r\n        this.swaggerData.paths[key].get &&\r\n        this.swaggerData.paths[key].get?.responses\r\n      ) {\r\n        pathArr[className].apiRefs[key].responsesOrign =\r\n          this.swaggerData.paths[key].get?.responses\r\n      }\r\n    }\r\n  }\r\n\r\n  // 设置 parameters\r\n  setParameters(pathData: PathsInfo) {\r\n    let resultArr: Array<string> = []\r\n    if (pathData.post && pathData.post.parameters) {\r\n      pathData.post.parameters.forEach((item) => {\r\n        if (item.schema && item.schema.$ref) {\r\n          resultArr.push(item.schema.$ref)\r\n        }\r\n      })\r\n    } else {\r\n      if (pathData.get && pathData.get.parameters) {\r\n        pathData.get.parameters.forEach((item) => {\r\n          if (item.schema && item.schema.$ref) {\r\n            resultArr.push(item.schema.$ref)\r\n          }\r\n        })\r\n      }\r\n    }\r\n    return resultArr\r\n  }\r\n\r\n  // 只生成某个路径\r\n  checkOnlyPath(path: string) {\r\n    let result = false\r\n    if (!path || !this.configData.onlyPath) {\r\n      return result\r\n    }\r\n\r\n    this.configData.onlyPath.forEach((route) => {\r\n      if (route && path.startsWith(route)) {\r\n        result = true\r\n      }\r\n    })\r\n\r\n    return result\r\n  }\r\n\r\n  // 判断是否被排除\r\n  checkExclude(path: string) {\r\n    let result = false\r\n    if (!path || !this.configData.excludeRoute) {\r\n      return result\r\n    }\r\n\r\n    this.configData.excludeRoute.forEach((route) => {\r\n      if (route && path.startsWith(route)) {\r\n        result = true\r\n      }\r\n    })\r\n\r\n    return result\r\n  }\r\n\r\n  // 获取API的文件名称\r\n  checkPaths(path: string) {\r\n    let className = ''\r\n    if (!path || !this.configData.pathRoute) {\r\n      return className\r\n    }\r\n\r\n    // 第一个配置起效\r\n    this.configData.pathRoute.forEach((route) => {\r\n      if (path.startsWith(route) && !className) {\r\n        let pathTemp = path.replace(route, '')\r\n        const pathArr = pathTemp.split('/').filter((item) => item != '')\r\n        className = pathArr[0]\r\n      }\r\n    })\r\n\r\n    return className\r\n  }\r\n\r\n  getFileDesc() {\r\n    return this.fileDescData\r\n  }\r\n}\r\n","/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n/**\n * Private utility functions\n * @module utils\n * @private\n */\n\n'use strict';\n\nvar regExpChars = /[|\\\\{}()[\\]^$+*?.]/g;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar hasOwn = function (obj, key) { return hasOwnProperty.apply(obj, [key]); };\n\n/**\n * Escape characters reserved in regular expressions.\n *\n * If `string` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} string Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\nexports.escapeRegExpChars = function (string) {\n  // istanbul ignore if\n  if (!string) {\n    return '';\n  }\n  return String(string).replace(regExpChars, '\\\\$&');\n};\n\nvar _ENCODE_HTML_RULES = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&#34;',\n  \"'\": '&#39;'\n};\nvar _MATCH_HTML = /[&<>'\"]/g;\n\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n}\n\n/**\n * Stringified version of constants used by {@link module:utils.escapeXML}.\n *\n * It is used in the process of generating {@link ClientFunction}s.\n *\n * @readonly\n * @type {String}\n */\n\nvar escapeFuncStr =\n  'var _ENCODE_HTML_RULES = {\\n'\n+ '      \"&\": \"&amp;\"\\n'\n+ '    , \"<\": \"&lt;\"\\n'\n+ '    , \">\": \"&gt;\"\\n'\n+ '    , \\'\"\\': \"&#34;\"\\n'\n+ '    , \"\\'\": \"&#39;\"\\n'\n+ '    }\\n'\n+ '  , _MATCH_HTML = /[&<>\\'\"]/g;\\n'\n+ 'function encode_char(c) {\\n'\n+ '  return _ENCODE_HTML_RULES[c] || c;\\n'\n+ '};\\n';\n\n/**\n * Escape characters reserved in XML.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @implements {EscapeCallback}\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\n\nexports.escapeXML = function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\n\nfunction escapeXMLToString() {\n  return Function.prototype.toString.call(this) + ';\\n' + escapeFuncStr;\n}\n\ntry {\n  if (typeof Object.defineProperty === 'function') {\n  // If the Function prototype is frozen, the \"toString\" property is non-writable. This means that any objects which inherit this property\n  // cannot have the property changed using an assignment. If using strict mode, attempting that will cause an error. If not using strict\n  // mode, attempting that will be silently ignored.\n  // However, we can still explicitly shadow the prototype's \"toString\" property by defining a new \"toString\" property on this object.\n    Object.defineProperty(exports.escapeXML, 'toString', { value: escapeXMLToString });\n  } else {\n    // If Object.defineProperty() doesn't exist, attempt to shadow this property using the assignment operator.\n    exports.escapeXML.toString = escapeXMLToString;\n  }\n} catch (err) {\n  console.warn('Unable to set escapeXML.toString (is the Function prototype frozen?)');\n}\n\n/**\n * Naive copy of properties from one object to another.\n * Does not recurse into non-scalar properties\n * Does not check to see if the property has a value before copying\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopy = function (to, from) {\n  from = from || {};\n  if ((to !== null) && (to !== undefined)) {\n    for (var p in from) {\n      if (!hasOwn(from, p)) {\n        continue;\n      }\n      if (p === '__proto__' || p === 'constructor') {\n        continue;\n      }\n      to[p] = from[p];\n    }\n  }\n  return to;\n};\n\n/**\n * Naive copy of a list of key names, from one object to another.\n * Only copies property if it is actually defined\n * Does not recurse into non-scalar properties\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @param  {Array} list List of properties to copy\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopyFromList = function (to, from, list) {\n  list = list || [];\n  from = from || {};\n  if ((to !== null) && (to !== undefined)) {\n    for (var i = 0; i < list.length; i++) {\n      var p = list[i];\n      if (typeof from[p] != 'undefined') {\n        if (!hasOwn(from, p)) {\n          continue;\n        }\n        if (p === '__proto__' || p === 'constructor') {\n          continue;\n        }\n        to[p] = from[p];\n      }\n    }\n  }\n  return to;\n};\n\n/**\n * Simple in-process cache implementation. Does not implement limits of any\n * sort.\n *\n * @implements {Cache}\n * @static\n * @private\n */\nexports.cache = {\n  _data: {},\n  set: function (key, val) {\n    this._data[key] = val;\n  },\n  get: function (key) {\n    return this._data[key];\n  },\n  remove: function (key) {\n    delete this._data[key];\n  },\n  reset: function () {\n    this._data = {};\n  }\n};\n\n/**\n * Transforms hyphen case variable into camel case.\n *\n * @param {String} string Hyphen case string\n * @return {String} Camel case string\n * @static\n * @private\n */\nexports.hyphenToCamel = function (str) {\n  return str.replace(/-[a-z]/g, function (match) { return match[1].toUpperCase(); });\n};\n\n/**\n * Returns a null-prototype object in runtimes that support it\n *\n * @return {Object} Object, prototype will be set to null where possible\n * @static\n * @private\n */\nexports.createNullProtoObjWherePossible = (function () {\n  if (typeof Object.create == 'function') {\n    return function () {\n      return Object.create(null);\n    };\n  }\n  if (!({__proto__: null} instanceof Object)) {\n    return function () {\n      return {__proto__: null};\n    };\n  }\n  // Not possible, just pass through\n  return function () {\n    return {};\n  };\n})();\n\n\n","/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n'use strict';\n\n/**\n * @file Embedded JavaScript templating engine. {@link http://ejs.co}\n * @author Matthew Eernisse <mde@fleegix.org>\n * @author Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\n * @project EJS\n * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}\n */\n\n/**\n * EJS internal functions.\n *\n * Technically this \"module\" lies in the same file as {@link module:ejs}, for\n * the sake of organization all the private functions re grouped into this\n * module.\n *\n * @module ejs-internal\n * @private\n */\n\n/**\n * Embedded JavaScript templating engine.\n *\n * @module ejs\n * @public\n */\n\n\nvar fs = require('fs');\nvar path = require('path');\nvar utils = require('./utils');\n\nvar scopeOptionWarned = false;\n/** @type {string} */\nvar _VERSION_STRING = require('../package.json').version;\nvar _DEFAULT_OPEN_DELIMITER = '<';\nvar _DEFAULT_CLOSE_DELIMITER = '>';\nvar _DEFAULT_DELIMITER = '%';\nvar _DEFAULT_LOCALS_NAME = 'locals';\nvar _NAME = 'ejs';\nvar _REGEX_STRING = '(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)';\nvar _OPTS_PASSABLE_WITH_DATA = ['delimiter', 'scope', 'context', 'debug', 'compileDebug',\n  'client', '_with', 'rmWhitespace', 'strict', 'filename', 'async'];\n// We don't allow 'cache' option to be passed in the data obj for\n// the normal `render` call, but this is where Express 2 & 3 put it\n// so we make an exception for `renderFile`\nvar _OPTS_PASSABLE_WITH_DATA_EXPRESS = _OPTS_PASSABLE_WITH_DATA.concat('cache');\nvar _BOM = /^\\uFEFF/;\nvar _JS_IDENTIFIER = /^[a-zA-Z_$][0-9a-zA-Z_$]*$/;\n\n/**\n * EJS template function cache. This can be a LRU object from lru-cache NPM\n * module. By default, it is {@link module:utils.cache}, a simple in-process\n * cache that grows continuously.\n *\n * @type {Cache}\n */\n\nexports.cache = utils.cache;\n\n/**\n * Custom file loader. Useful for template preprocessing or restricting access\n * to a certain part of the filesystem.\n *\n * @type {fileLoader}\n */\n\nexports.fileLoader = fs.readFileSync;\n\n/**\n * Name of the object containing the locals.\n *\n * This variable is overridden by {@link Options}`.localsName` if it is not\n * `undefined`.\n *\n * @type {String}\n * @public\n */\n\nexports.localsName = _DEFAULT_LOCALS_NAME;\n\n/**\n * Promise implementation -- defaults to the native implementation if available\n * This is mostly just for testability\n *\n * @type {PromiseConstructorLike}\n * @public\n */\n\nexports.promiseImpl = (new Function('return this;'))().Promise;\n\n/**\n * Get the path to the included file from the parent file path and the\n * specified path.\n *\n * @param {String}  name     specified path\n * @param {String}  filename parent file path\n * @param {Boolean} [isDir=false] whether the parent file path is a directory\n * @return {String}\n */\nexports.resolveInclude = function(name, filename, isDir) {\n  var dirname = path.dirname;\n  var extname = path.extname;\n  var resolve = path.resolve;\n  var includePath = resolve(isDir ? filename : dirname(filename), name);\n  var ext = extname(name);\n  if (!ext) {\n    includePath += '.ejs';\n  }\n  return includePath;\n};\n\n/**\n * Try to resolve file path on multiple directories\n *\n * @param  {String}        name  specified path\n * @param  {Array<String>} paths list of possible parent directory paths\n * @return {String}\n */\nfunction resolvePaths(name, paths) {\n  var filePath;\n  if (paths.some(function (v) {\n    filePath = exports.resolveInclude(name, v, true);\n    return fs.existsSync(filePath);\n  })) {\n    return filePath;\n  }\n}\n\n/**\n * Get the path to the included file by Options\n *\n * @param  {String}  path    specified path\n * @param  {Options} options compilation options\n * @return {String}\n */\nfunction getIncludePath(path, options) {\n  var includePath;\n  var filePath;\n  var views = options.views;\n  var match = /^[A-Za-z]+:\\\\|^\\//.exec(path);\n\n  // Abs path\n  if (match && match.length) {\n    path = path.replace(/^\\/*/, '');\n    if (Array.isArray(options.root)) {\n      includePath = resolvePaths(path, options.root);\n    } else {\n      includePath = exports.resolveInclude(path, options.root || '/', true);\n    }\n  }\n  // Relative paths\n  else {\n    // Look relative to a passed filename first\n    if (options.filename) {\n      filePath = exports.resolveInclude(path, options.filename);\n      if (fs.existsSync(filePath)) {\n        includePath = filePath;\n      }\n    }\n    // Then look in any views directories\n    if (!includePath && Array.isArray(views)) {\n      includePath = resolvePaths(path, views);\n    }\n    if (!includePath && typeof options.includer !== 'function') {\n      throw new Error('Could not find the include file \"' +\n          options.escapeFunction(path) + '\"');\n    }\n  }\n  return includePath;\n}\n\n/**\n * Get the template from a string or a file, either compiled on-the-fly or\n * read from cache (if enabled), and cache the template if needed.\n *\n * If `template` is not set, the file specified in `options.filename` will be\n * read.\n *\n * If `options.cache` is true, this function reads the file from\n * `options.filename` so it must be set prior to calling this function.\n *\n * @memberof module:ejs-internal\n * @param {Options} options   compilation options\n * @param {String} [template] template source\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned.\n * @static\n */\n\nfunction handleCache(options, template) {\n  var func;\n  var filename = options.filename;\n  var hasTemplate = arguments.length > 1;\n\n  if (options.cache) {\n    if (!filename) {\n      throw new Error('cache option requires a filename');\n    }\n    func = exports.cache.get(filename);\n    if (func) {\n      return func;\n    }\n    if (!hasTemplate) {\n      template = fileLoader(filename).toString().replace(_BOM, '');\n    }\n  }\n  else if (!hasTemplate) {\n    // istanbul ignore if: should not happen at all\n    if (!filename) {\n      throw new Error('Internal EJS error: no file name or template '\n                    + 'provided');\n    }\n    template = fileLoader(filename).toString().replace(_BOM, '');\n  }\n  func = exports.compile(template, options);\n  if (options.cache) {\n    exports.cache.set(filename, func);\n  }\n  return func;\n}\n\n/**\n * Try calling handleCache with the given options and data and call the\n * callback with the result. If an error occurs, call the callback with\n * the error. Used by renderFile().\n *\n * @memberof module:ejs-internal\n * @param {Options} options    compilation options\n * @param {Object} data        template data\n * @param {RenderFileCallback} cb callback\n * @static\n */\n\nfunction tryHandleCache(options, data, cb) {\n  var result;\n  if (!cb) {\n    if (typeof exports.promiseImpl == 'function') {\n      return new exports.promiseImpl(function (resolve, reject) {\n        try {\n          result = handleCache(options)(data);\n          resolve(result);\n        }\n        catch (err) {\n          reject(err);\n        }\n      });\n    }\n    else {\n      throw new Error('Please provide a callback function');\n    }\n  }\n  else {\n    try {\n      result = handleCache(options)(data);\n    }\n    catch (err) {\n      return cb(err);\n    }\n\n    cb(null, result);\n  }\n}\n\n/**\n * fileLoader is independent\n *\n * @param {String} filePath ejs file path.\n * @return {String} The contents of the specified file.\n * @static\n */\n\nfunction fileLoader(filePath){\n  return exports.fileLoader(filePath);\n}\n\n/**\n * Get the template function.\n *\n * If `options.cache` is `true`, then the template is cached.\n *\n * @memberof module:ejs-internal\n * @param {String}  path    path for the specified file\n * @param {Options} options compilation options\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned\n * @static\n */\n\nfunction includeFile(path, options) {\n  var opts = utils.shallowCopy(utils.createNullProtoObjWherePossible(), options);\n  opts.filename = getIncludePath(path, opts);\n  if (typeof options.includer === 'function') {\n    var includerResult = options.includer(path, opts.filename);\n    if (includerResult) {\n      if (includerResult.filename) {\n        opts.filename = includerResult.filename;\n      }\n      if (includerResult.template) {\n        return handleCache(opts, includerResult.template);\n      }\n    }\n  }\n  return handleCache(opts);\n}\n\n/**\n * Re-throw the given `err` in context to the `str` of ejs, `filename`, and\n * `lineno`.\n *\n * @implements {RethrowCallback}\n * @memberof module:ejs-internal\n * @param {Error}  err      Error object\n * @param {String} str      EJS source\n * @param {String} flnm     file name of the EJS file\n * @param {Number} lineno   line number of the error\n * @param {EscapeCallback} esc\n * @static\n */\n\nfunction rethrow(err, str, flnm, lineno, esc) {\n  var lines = str.split('\\n');\n  var start = Math.max(lineno - 3, 0);\n  var end = Math.min(lines.length, lineno + 3);\n  var filename = esc(flnm);\n  // Error context\n  var context = lines.slice(start, end).map(function (line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? ' >> ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'ejs') + ':'\n    + lineno + '\\n'\n    + context + '\\n\\n'\n    + err.message;\n\n  throw err;\n}\n\nfunction stripSemi(str){\n  return str.replace(/;(\\s*$)/, '$1');\n}\n\n/**\n * Compile the given `str` of ejs into a template function.\n *\n * @param {String}  template EJS template\n *\n * @param {Options} [opts] compilation options\n *\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `opts.client`, either type might be returned.\n * Note that the return type of the function also depends on the value of `opts.async`.\n * @public\n */\n\nexports.compile = function compile(template, opts) {\n  var templ;\n\n  // v1 compat\n  // 'scope' is 'context'\n  // FIXME: Remove this in a future version\n  if (opts && opts.scope) {\n    if (!scopeOptionWarned){\n      console.warn('`scope` option is deprecated and will be removed in EJS 3');\n      scopeOptionWarned = true;\n    }\n    if (!opts.context) {\n      opts.context = opts.scope;\n    }\n    delete opts.scope;\n  }\n  templ = new Template(template, opts);\n  return templ.compile();\n};\n\n/**\n * Render the given `template` of ejs.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}   template EJS template\n * @param {Object}  [data={}] template data\n * @param {Options} [opts={}] compilation and rendering options\n * @return {(String|Promise<String>)}\n * Return value type depends on `opts.async`.\n * @public\n */\n\nexports.render = function (template, d, o) {\n  var data = d || utils.createNullProtoObjWherePossible();\n  var opts = o || utils.createNullProtoObjWherePossible();\n\n  // No options object -- if there are optiony names\n  // in the data, copy them to options\n  if (arguments.length == 2) {\n    utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA);\n  }\n\n  return handleCache(opts, template)(data);\n};\n\n/**\n * Render an EJS file at the given `path` and callback `cb(err, str)`.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}             path     path to the EJS file\n * @param {Object}            [data={}] template data\n * @param {Options}           [opts={}] compilation and rendering options\n * @param {RenderFileCallback} cb callback\n * @public\n */\n\nexports.renderFile = function () {\n  var args = Array.prototype.slice.call(arguments);\n  var filename = args.shift();\n  var cb;\n  var opts = {filename: filename};\n  var data;\n  var viewOpts;\n\n  // Do we have a callback?\n  if (typeof arguments[arguments.length - 1] == 'function') {\n    cb = args.pop();\n  }\n  // Do we have data/opts?\n  if (args.length) {\n    // Should always have data obj\n    data = args.shift();\n    // Normal passed opts (data obj + opts obj)\n    if (args.length) {\n      // Use shallowCopy so we don't pollute passed in opts obj with new vals\n      utils.shallowCopy(opts, args.pop());\n    }\n    // Special casing for Express (settings + opts-in-data)\n    else {\n      // Express 3 and 4\n      if (data.settings) {\n        // Pull a few things from known locations\n        if (data.settings.views) {\n          opts.views = data.settings.views;\n        }\n        if (data.settings['view cache']) {\n          opts.cache = true;\n        }\n        // Undocumented after Express 2, but still usable, esp. for\n        // items that are unsafe to be passed along with data, like `root`\n        viewOpts = data.settings['view options'];\n        if (viewOpts) {\n          utils.shallowCopy(opts, viewOpts);\n        }\n      }\n      // Express 2 and lower, values set in app.locals, or people who just\n      // want to pass options in their data. NOTE: These values will override\n      // anything previously set in settings  or settings['view options']\n      utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA_EXPRESS);\n    }\n    opts.filename = filename;\n  }\n  else {\n    data = utils.createNullProtoObjWherePossible();\n  }\n\n  return tryHandleCache(opts, data, cb);\n};\n\n/**\n * Clear intermediate JavaScript cache. Calls {@link Cache#reset}.\n * @public\n */\n\n/**\n * EJS template class\n * @public\n */\nexports.Template = Template;\n\nexports.clearCache = function () {\n  exports.cache.reset();\n};\n\nfunction Template(text, opts) {\n  opts = opts || utils.createNullProtoObjWherePossible();\n  var options = utils.createNullProtoObjWherePossible();\n  this.templateText = text;\n  /** @type {string | null} */\n  this.mode = null;\n  this.truncate = false;\n  this.currentLine = 1;\n  this.source = '';\n  options.client = opts.client || false;\n  options.escapeFunction = opts.escape || opts.escapeFunction || utils.escapeXML;\n  options.compileDebug = opts.compileDebug !== false;\n  options.debug = !!opts.debug;\n  options.filename = opts.filename;\n  options.openDelimiter = opts.openDelimiter || exports.openDelimiter || _DEFAULT_OPEN_DELIMITER;\n  options.closeDelimiter = opts.closeDelimiter || exports.closeDelimiter || _DEFAULT_CLOSE_DELIMITER;\n  options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;\n  options.strict = opts.strict || false;\n  options.context = opts.context;\n  options.cache = opts.cache || false;\n  options.rmWhitespace = opts.rmWhitespace;\n  options.root = opts.root;\n  options.includer = opts.includer;\n  options.outputFunctionName = opts.outputFunctionName;\n  options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;\n  options.views = opts.views;\n  options.async = opts.async;\n  options.destructuredLocals = opts.destructuredLocals;\n  options.legacyInclude = typeof opts.legacyInclude != 'undefined' ? !!opts.legacyInclude : true;\n\n  if (options.strict) {\n    options._with = false;\n  }\n  else {\n    options._with = typeof opts._with != 'undefined' ? opts._with : true;\n  }\n\n  this.opts = options;\n\n  this.regex = this.createRegex();\n}\n\nTemplate.modes = {\n  EVAL: 'eval',\n  ESCAPED: 'escaped',\n  RAW: 'raw',\n  COMMENT: 'comment',\n  LITERAL: 'literal'\n};\n\nTemplate.prototype = {\n  createRegex: function () {\n    var str = _REGEX_STRING;\n    var delim = utils.escapeRegExpChars(this.opts.delimiter);\n    var open = utils.escapeRegExpChars(this.opts.openDelimiter);\n    var close = utils.escapeRegExpChars(this.opts.closeDelimiter);\n    str = str.replace(/%/g, delim)\n      .replace(/</g, open)\n      .replace(/>/g, close);\n    return new RegExp(str);\n  },\n\n  compile: function () {\n    /** @type {string} */\n    var src;\n    /** @type {ClientFunction} */\n    var fn;\n    var opts = this.opts;\n    var prepended = '';\n    var appended = '';\n    /** @type {EscapeCallback} */\n    var escapeFn = opts.escapeFunction;\n    /** @type {FunctionConstructor} */\n    var ctor;\n    /** @type {string} */\n    var sanitizedFilename = opts.filename ? JSON.stringify(opts.filename) : 'undefined';\n\n    if (!this.source) {\n      this.generateSource();\n      prepended +=\n        '  var __output = \"\";\\n' +\n        '  function __append(s) { if (s !== undefined && s !== null) __output += s }\\n';\n      if (opts.outputFunctionName) {\n        if (!_JS_IDENTIFIER.test(opts.outputFunctionName)) {\n          throw new Error('outputFunctionName is not a valid JS identifier.');\n        }\n        prepended += '  var ' + opts.outputFunctionName + ' = __append;' + '\\n';\n      }\n      if (opts.localsName && !_JS_IDENTIFIER.test(opts.localsName)) {\n        throw new Error('localsName is not a valid JS identifier.');\n      }\n      if (opts.destructuredLocals && opts.destructuredLocals.length) {\n        var destructuring = '  var __locals = (' + opts.localsName + ' || {}),\\n';\n        for (var i = 0; i < opts.destructuredLocals.length; i++) {\n          var name = opts.destructuredLocals[i];\n          if (!_JS_IDENTIFIER.test(name)) {\n            throw new Error('destructuredLocals[' + i + '] is not a valid JS identifier.');\n          }\n          if (i > 0) {\n            destructuring += ',\\n  ';\n          }\n          destructuring += name + ' = __locals.' + name;\n        }\n        prepended += destructuring + ';\\n';\n      }\n      if (opts._with !== false) {\n        prepended +=  '  with (' + opts.localsName + ' || {}) {' + '\\n';\n        appended += '  }' + '\\n';\n      }\n      appended += '  return __output;' + '\\n';\n      this.source = prepended + this.source + appended;\n    }\n\n    if (opts.compileDebug) {\n      src = 'var __line = 1' + '\\n'\n        + '  , __lines = ' + JSON.stringify(this.templateText) + '\\n'\n        + '  , __filename = ' + sanitizedFilename + ';' + '\\n'\n        + 'try {' + '\\n'\n        + this.source\n        + '} catch (e) {' + '\\n'\n        + '  rethrow(e, __lines, __filename, __line, escapeFn);' + '\\n'\n        + '}' + '\\n';\n    }\n    else {\n      src = this.source;\n    }\n\n    if (opts.client) {\n      src = 'escapeFn = escapeFn || ' + escapeFn.toString() + ';' + '\\n' + src;\n      if (opts.compileDebug) {\n        src = 'rethrow = rethrow || ' + rethrow.toString() + ';' + '\\n' + src;\n      }\n    }\n\n    if (opts.strict) {\n      src = '\"use strict\";\\n' + src;\n    }\n    if (opts.debug) {\n      console.log(src);\n    }\n    if (opts.compileDebug && opts.filename) {\n      src = src + '\\n'\n        + '//# sourceURL=' + sanitizedFilename + '\\n';\n    }\n\n    try {\n      if (opts.async) {\n        // Have to use generated function for this, since in envs without support,\n        // it breaks in parsing\n        try {\n          ctor = (new Function('return (async function(){}).constructor;'))();\n        }\n        catch(e) {\n          if (e instanceof SyntaxError) {\n            throw new Error('This environment does not support async/await');\n          }\n          else {\n            throw e;\n          }\n        }\n      }\n      else {\n        ctor = Function;\n      }\n      fn = new ctor(opts.localsName + ', escapeFn, include, rethrow', src);\n    }\n    catch(e) {\n      // istanbul ignore else\n      if (e instanceof SyntaxError) {\n        if (opts.filename) {\n          e.message += ' in ' + opts.filename;\n        }\n        e.message += ' while compiling ejs\\n\\n';\n        e.message += 'If the above error is not helpful, you may want to try EJS-Lint:\\n';\n        e.message += 'https://github.com/RyanZim/EJS-Lint';\n        if (!opts.async) {\n          e.message += '\\n';\n          e.message += 'Or, if you meant to create an async function, pass `async: true` as an option.';\n        }\n      }\n      throw e;\n    }\n\n    // Return a callable function which will execute the function\n    // created by the source-code, with the passed data as locals\n    // Adds a local `include` function which allows full recursive include\n    var returnedFn = opts.client ? fn : function anonymous(data) {\n      var include = function (path, includeData) {\n        var d = utils.shallowCopy(utils.createNullProtoObjWherePossible(), data);\n        if (includeData) {\n          d = utils.shallowCopy(d, includeData);\n        }\n        return includeFile(path, opts)(d);\n      };\n      return fn.apply(opts.context,\n        [data || utils.createNullProtoObjWherePossible(), escapeFn, include, rethrow]);\n    };\n    if (opts.filename && typeof Object.defineProperty === 'function') {\n      var filename = opts.filename;\n      var basename = path.basename(filename, path.extname(filename));\n      try {\n        Object.defineProperty(returnedFn, 'name', {\n          value: basename,\n          writable: false,\n          enumerable: false,\n          configurable: true\n        });\n      } catch (e) {/* ignore */}\n    }\n    return returnedFn;\n  },\n\n  generateSource: function () {\n    var opts = this.opts;\n\n    if (opts.rmWhitespace) {\n      // Have to use two separate replace here as `^` and `$` operators don't\n      // work well with `\\r` and empty lines don't work well with the `m` flag.\n      this.templateText =\n        this.templateText.replace(/[\\r\\n]+/g, '\\n').replace(/^\\s+|\\s+$/gm, '');\n    }\n\n    // Slurp spaces and tabs before <%_ and after _%>\n    this.templateText =\n      this.templateText.replace(/[ \\t]*<%_/gm, '<%_').replace(/_%>[ \\t]*/gm, '_%>');\n\n    var self = this;\n    var matches = this.parseTemplateText();\n    var d = this.opts.delimiter;\n    var o = this.opts.openDelimiter;\n    var c = this.opts.closeDelimiter;\n\n    if (matches && matches.length) {\n      matches.forEach(function (line, index) {\n        var closing;\n        // If this is an opening tag, check for closing tags\n        // FIXME: May end up with some false positives here\n        // Better to store modes as k/v with openDelimiter + delimiter as key\n        // Then this can simply check against the map\n        if ( line.indexOf(o + d) === 0        // If it is a tag\n          && line.indexOf(o + d + d) !== 0) { // and is not escaped\n          closing = matches[index + 2];\n          if (!(closing == d + c || closing == '-' + d + c || closing == '_' + d + c)) {\n            throw new Error('Could not find matching close tag for \"' + line + '\".');\n          }\n        }\n        self.scanLine(line);\n      });\n    }\n\n  },\n\n  parseTemplateText: function () {\n    var str = this.templateText;\n    var pat = this.regex;\n    var result = pat.exec(str);\n    var arr = [];\n    var firstPos;\n\n    while (result) {\n      firstPos = result.index;\n\n      if (firstPos !== 0) {\n        arr.push(str.substring(0, firstPos));\n        str = str.slice(firstPos);\n      }\n\n      arr.push(result[0]);\n      str = str.slice(result[0].length);\n      result = pat.exec(str);\n    }\n\n    if (str) {\n      arr.push(str);\n    }\n\n    return arr;\n  },\n\n  _addOutput: function (line) {\n    if (this.truncate) {\n      // Only replace single leading linebreak in the line after\n      // -%> tag -- this is the single, trailing linebreak\n      // after the tag that the truncation mode replaces\n      // Handle Win / Unix / old Mac linebreaks -- do the \\r\\n\n      // combo first in the regex-or\n      line = line.replace(/^(?:\\r\\n|\\r|\\n)/, '');\n      this.truncate = false;\n    }\n    if (!line) {\n      return line;\n    }\n\n    // Preserve literal slashes\n    line = line.replace(/\\\\/g, '\\\\\\\\');\n\n    // Convert linebreaks\n    line = line.replace(/\\n/g, '\\\\n');\n    line = line.replace(/\\r/g, '\\\\r');\n\n    // Escape double-quotes\n    // - this will be the delimiter during execution\n    line = line.replace(/\"/g, '\\\\\"');\n    this.source += '    ; __append(\"' + line + '\")' + '\\n';\n  },\n\n  scanLine: function (line) {\n    var self = this;\n    var d = this.opts.delimiter;\n    var o = this.opts.openDelimiter;\n    var c = this.opts.closeDelimiter;\n    var newLineCount = 0;\n\n    newLineCount = (line.split('\\n').length - 1);\n\n    switch (line) {\n    case o + d:\n    case o + d + '_':\n      this.mode = Template.modes.EVAL;\n      break;\n    case o + d + '=':\n      this.mode = Template.modes.ESCAPED;\n      break;\n    case o + d + '-':\n      this.mode = Template.modes.RAW;\n      break;\n    case o + d + '#':\n      this.mode = Template.modes.COMMENT;\n      break;\n    case o + d + d:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(o + d + d, o + d) + '\")' + '\\n';\n      break;\n    case d + d + c:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(d + d + c, d + c) + '\")' + '\\n';\n      break;\n    case d + c:\n    case '-' + d + c:\n    case '_' + d + c:\n      if (this.mode == Template.modes.LITERAL) {\n        this._addOutput(line);\n      }\n\n      this.mode = null;\n      this.truncate = line.indexOf('-') === 0 || line.indexOf('_') === 0;\n      break;\n    default:\n      // In script mode, depends on type of tag\n      if (this.mode) {\n        // If '//' is found without a line break, add a line break.\n        switch (this.mode) {\n        case Template.modes.EVAL:\n        case Template.modes.ESCAPED:\n        case Template.modes.RAW:\n          if (line.lastIndexOf('//') > line.lastIndexOf('\\n')) {\n            line += '\\n';\n          }\n        }\n        switch (this.mode) {\n        // Just executing code\n        case Template.modes.EVAL:\n          this.source += '    ; ' + line + '\\n';\n          break;\n          // Exec, esc, and output\n        case Template.modes.ESCAPED:\n          this.source += '    ; __append(escapeFn(' + stripSemi(line) + '))' + '\\n';\n          break;\n          // Exec and output\n        case Template.modes.RAW:\n          this.source += '    ; __append(' + stripSemi(line) + ')' + '\\n';\n          break;\n        case Template.modes.COMMENT:\n          // Do nothing\n          break;\n          // Literal <%% mode, append as raw output\n        case Template.modes.LITERAL:\n          this._addOutput(line);\n          break;\n        }\n      }\n      // In string mode, just add the output\n      else {\n        this._addOutput(line);\n      }\n    }\n\n    if (self.opts.compileDebug && newLineCount) {\n      this.currentLine += newLineCount;\n      this.source += '    ; __line = ' + this.currentLine + '\\n';\n    }\n  }\n};\n\n/**\n * Escape characters reserved in XML.\n *\n * This is simply an export of {@link module:utils.escapeXML}.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @public\n * @func\n * */\nexports.escapeXML = utils.escapeXML;\n\n/**\n * Express.js support.\n *\n * This is an alias for {@link module:ejs.renderFile}, in order to support\n * Express.js out-of-the-box.\n *\n * @func\n */\n\nexports.__express = exports.renderFile;\n\n/**\n * Version of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.VERSION = _VERSION_STRING;\n\n/**\n * Name for detection of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.name = _NAME;\n\n/* istanbul ignore if */\nif (typeof window != 'undefined') {\n  window.ejs = exports;\n}\n","import * as fs from 'fs'\r\nimport * as path from 'path'\r\n\r\n// 创建目录\r\nexport const makeDirSync = (filePath) => {\r\n  let items = filePath.split(path.sep)\r\n  for (let i = 1; i < items.length; i++) {\r\n    let dir = items.slice(0, i).join(path.sep)\r\n    // mac系统没有盘符\r\n    if (!dir) {\r\n      continue\r\n    }\r\n    try {\r\n      fs.accessSync(dir)\r\n    } catch (err) {\r\n      fs.mkdirSync(dir)\r\n    }\r\n  }\r\n}\r\n","\"use strict\";\r\nimport * as fs from \"fs\";\r\nimport * as path from \"path\";\r\nimport * as ejs from \"ejs\";\r\nimport * as file from \"../lib/utils/file\";\r\nimport { ConfigInfo } from \"../models/configEntity\";\r\nimport {\r\n  ParameterApiInfos,\r\n  ParametersInfo,\r\n  PathsInfo,\r\n  Swagger2,\r\n} from \"../models/controllerEntity\";\r\nimport { ApiRefInfo, FileDesc } from \"../models/fileEntity\";\r\n\r\nexport class SwaggerToApi {\r\n  configData: ConfigInfo;\r\n  swaggerData: Record<string, FileDesc> | null;\r\n  swaggerOrign: Swagger2;\r\n\r\n  constructor(\r\n    swaggerData: Record<string, FileDesc> | null,\r\n    configData: ConfigInfo,\r\n    swagger: Swagger2,\r\n    callBack: Function\r\n  ) {\r\n    this.configData = configData; // 配置信息\r\n    this.swaggerData = swaggerData; // 转换的文件信息\r\n    this.swaggerOrign = swagger; // 原生的swagger\r\n\r\n    this.createApis(callBack);\r\n  }\r\n\r\n  // 设置Api的路径\r\n  getApiPath() {\r\n    let apiPath = path.join(\r\n      process.cwd() + path.sep + \"src\",\r\n      this.configData.api!.dir\r\n    );\r\n    if (this.configData.serveFileName) {\r\n      apiPath = path.join(\r\n        process.cwd() + path.sep + \"src\",\r\n        this.configData.api!.dir,\r\n        this.configData.serveFileName\r\n      );\r\n    }\r\n\r\n    return apiPath;\r\n  }\r\n\r\n  // 入口函数\r\n  createApis(callBack: Function) {\r\n    if (!this.configData.api || !this.configData.api.isCreate) {\r\n      return;\r\n    }\r\n\r\n    let apiPath = this.getApiPath();\r\n    file.makeDirSync(apiPath);\r\n    fs.exists(apiPath, (exists: boolean) => {\r\n      if (!exists) {\r\n        fs.mkdir(apiPath, (err: any) => {\r\n          if (err) {\r\n            return console.error(err);\r\n          } else {\r\n            this.startCreateApi();\r\n            if (callBack) {\r\n              callBack();\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        this.startCreateApi();\r\n        if (callBack) {\r\n          callBack();\r\n        }\r\n      }\r\n    });\r\n  }\r\n  // 创建Api的文件\r\n  startCreateApi() {\r\n    if (!this.swaggerData) {\r\n      return;\r\n    }\r\n\r\n    let apiPath = this.getApiPath();\r\n    Object.keys(this.swaggerData).forEach((key) => {\r\n      const fileDir = apiPath + path.sep + key + \".ts\";\r\n      fs.exists(fileDir, (isExists: boolean) => {\r\n        if (isExists) {\r\n          if (this.configData.api!.isCover) {\r\n            this.createFile(fileDir, key);\r\n          }\r\n        } else {\r\n          this.createFile(fileDir, key);\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // 创建文件\r\n  createFile(fileDir: string, key: string) {\r\n    // 获取模型的数据\r\n    const fileContent = this.createApiFile(this.swaggerData![key], key);\r\n    fs.writeFile(fileDir, fileContent, (err: any) => {\r\n      // 创建失败\r\n      if (err) {\r\n        console.log(`创建失败：${err}`);\r\n      }\r\n    });\r\n  }\r\n\r\n  // 获取接口的参数信息\r\n  convertParameter(orignInfo: PathsInfo): ParameterApiInfos {\r\n    let result: ParameterApiInfos = {\r\n      desc: \"\",\r\n      query: {},\r\n    };\r\n    let parameDesc = \"\"; // 参数描述\r\n    let queryDesc: Record<string, string> = {};\r\n    let parameInfo: Array<ParametersInfo> = [];\r\n    let isBody = false;\r\n    if (orignInfo.get) {\r\n      parameInfo = orignInfo.get.parameters;\r\n    } else if (orignInfo.post) {\r\n      parameInfo = orignInfo.post.parameters;\r\n    }\r\n\r\n    if (!parameInfo || parameInfo.length < 1) {\r\n      return result;\r\n    }\r\n\r\n    parameInfo.forEach((item) => {\r\n      if (parameDesc) {\r\n        parameDesc = parameDesc + \"\\r\\n\\r\\n\";\r\n      }\r\n\r\n      switch (item.in) {\r\n        case \"query\":\r\n          isBody = false;\r\n          if (Object.keys(queryDesc).length > 0) {\r\n            queryDesc[\"&\" + item.name] = \"data.\" + item.name;\r\n          } else {\r\n            queryDesc[\"?\" + item.name] = \"data.\" + item.name;\r\n          }\r\n          if (item.required) {\r\n            parameDesc = parameDesc + item.name + \": \" + item.type + \";\";\r\n          } else {\r\n            parameDesc = parameDesc + item.name + \"?: \" + item.type + \";\";\r\n          }\r\n          break;\r\n        case \"body\":\r\n          isBody = true;\r\n          if (item.schema && item.schema.$ref) {\r\n            const paramArr = item.schema.$ref.split(\"/\");\r\n            const lastName = paramArr[paramArr.length - 1];\r\n            parameDesc = lastName;\r\n            queryDesc = {};\r\n          }\r\n          break;\r\n        default:\r\n          isBody = false;\r\n          parameDesc = \"\";\r\n          queryDesc = {};\r\n          break;\r\n      }\r\n    });\r\n    result.query = queryDesc;\r\n    if (isBody) {\r\n      result.desc = parameDesc;\r\n    } else {\r\n      result.desc = \"{\" + parameDesc + \"}\";\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  // 创建相关的实体对象\r\n  createApiFile(fileDesc: FileDesc, modelKey: string) {\r\n    let fileContent = \"\";\r\n    if (!fileDesc || !fileDesc.apiRefs) {\r\n      return fileContent;\r\n    }\r\n\r\n    const tempData = this.getTemplateInfo(\"api\");\r\n    const importRef: string[] = [];\r\n\r\n    Object.keys(fileDesc.apiRefs).forEach((key) => {\r\n      const fileTemps = tempData;\r\n      const apiInfo: ApiRefInfo = fileDesc.apiRefs[key];\r\n      // 参数实体\r\n      if (apiInfo && apiInfo.orignInfo) {\r\n        // 获取方法名称\r\n        let methodName = \"\";\r\n        let method = \"\";\r\n        let url = key;\r\n        let summary = \"\";\r\n        if (apiInfo.orignInfo.get && apiInfo.orignInfo.get.operationId) {\r\n          method = \"get\";\r\n          summary = apiInfo.orignInfo.get.summary;\r\n          methodName = apiInfo.orignInfo.get.operationId.split(\"Using\")[0];\r\n        } else if (apiInfo.orignInfo.post) {\r\n          method = \"post\";\r\n          summary = apiInfo.orignInfo.post.summary;\r\n          methodName = apiInfo.orignInfo.post.operationId.split(\"Using\")[0];\r\n        }\r\n        // 获取参数集合\r\n        if (apiInfo.parameters) {\r\n          apiInfo.parameters.forEach((strParame) => {\r\n            const paramArr = strParame.split(\"/\");\r\n            const lastName = paramArr[paramArr.length - 1];\r\n            if (!importRef.includes(lastName)) {\r\n              importRef.push(lastName);\r\n            }\r\n          });\r\n        }\r\n\r\n        let responses: string = \"\";\r\n        // 返回实体\r\n        if (apiInfo && apiInfo.responses) {\r\n          const paramArr = apiInfo.responses.split(\"/\");\r\n          const responseDesc = paramArr[paramArr.length - 1];\r\n          let lastName = responseDesc;\r\n          let importDesc = responseDesc;\r\n\r\n          // 有嵌套\r\n          if (responseDesc.includes('«') && responseDesc.includes('»')) {\r\n            const preDesc = responseDesc.split('«')\r\n            importDesc = preDesc[preDesc.length - 2]\r\n            const nextDesc = preDesc[preDesc.length - 1].split('»')\r\n            lastName = nextDesc[0]\r\n          }\r\n\r\n          // // 那种类型的嵌套\r\n          // if (importDesc) {\r\n          //   if (\r\n          //     this.configData.models?.commonResponse &&\r\n          //     this.configData.models?.commonResponse.includes(importDesc)\r\n          //   ) {\r\n          //     importDesc = \"commonResponse\";\r\n          //   } else if (\r\n          //     this.configData.models?.pageResponse &&\r\n          //     this.configData.models?.pageResponse.includes(importDesc)\r\n          //   ) {\r\n          //     importDesc = \"pageResponse\";\r\n          //   } else if (\r\n          //     this.configData.models?.listResponse &&\r\n          //     this.configData.models?.listResponse.includes(importDesc)\r\n          //   ) {\r\n          //     importDesc = \"listResponse\";\r\n          //   }\r\n          // }\r\n\r\n          // 获取返回类型\r\n          responses = this.setApiModel(importDesc, lastName);\r\n        }\r\n        const parameStr = this.convertParameter(apiInfo.orignInfo);\r\n        if (!importRef.includes(responses)) {\r\n          importRef.push(responses);\r\n        }\r\n\r\n        const strHtml = ejs.render(fileTemps, {\r\n          data: {\r\n            title: methodName,\r\n            method: method,\r\n            parData: parameStr.desc ? parameStr.desc : \"{}\",\r\n            queryDesc: parameStr.query,\r\n            responses: responses,\r\n            url: url,\r\n            summary: summary,\r\n          },\r\n        });\r\n\r\n        if (fileContent) {\r\n          fileContent = fileContent + \"\\r\\n\\r\\n\";\r\n        }\r\n\r\n        if (strHtml) {\r\n          fileContent = fileContent + strHtml;\r\n        }\r\n      }\r\n    });\r\n\r\n    // 后端服务名称\r\n    const domainStr = 'export const DOMAIN = \"\"; \\r\\n\\r\\n';\r\n\r\n    const httpPath = this.configData.api?.httpPath\r\n      ? this.configData.api?.httpPath\r\n      : \"/@/utils/http\";\r\n\r\n    // 引用模型描述\r\n    const importStr =\r\n      \"import {\" +\r\n      importRef.join(\", \") +\r\n      '} from \"/@/' +\r\n      this.getModelDir() +\r\n      \"/\" +\r\n      modelKey +\r\n      '\";\\r\\n' +\r\n      'import { http } from \"' +\r\n      httpPath +\r\n      '\"; \\r\\n\\r\\n';\r\n\r\n    return importStr + domainStr + fileContent;\r\n  }\r\n\r\n  // 获取模型的路径\r\n  getModelDir() {\r\n    return this.configData.serveFileName\r\n      ? this.configData.models?.dir + \"/\" + this.configData.serveFileName\r\n      : this.configData.models?.dir;\r\n  }\r\n\r\n  // 添加Api调用的对象信息\r\n  setApiModel(importDesc: string, lastName: string) {\r\n    let strHtml = \"\";\r\n    if (lastName.toUpperCase() != 'object'.toUpperCase() && lastName.toUpperCase() != 'string'.toUpperCase()) {\r\n      switch (importDesc.toUpperCase()) {\r\n        case \"commonResponse\".toUpperCase():\r\n          strHtml = 'result' + lastName + 'Info'\r\n          break;\r\n        case 'Page'.toUpperCase():\r\n        case 'PageResponse'.toUpperCase():\r\n          strHtml = 'result' + lastName + 'Page'\r\n          break;\r\n        case 'List'.toUpperCase():\r\n        case \"ListResponse\".toUpperCase():\r\n          strHtml = 'result' + lastName + 'List'\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    } else {\r\n\r\n      if (lastName.includes('object')) {\r\n        strHtml = 'commonObjectResopense'\r\n      }\r\n\r\n      if (lastName.includes('string')) {\r\n        strHtml = 'commonStringResopense'\r\n      }\r\n    }\r\n\r\n    return strHtml;\r\n  }\r\n\r\n  // 获取模板信息\r\n  getTemplateInfo(fileMode: string) {\r\n    const tempPath = path.join(\r\n      __dirname,\r\n      \"templates\",\r\n      this.configData.template + path.sep + fileMode + \".ejs\"\r\n    );\r\n\r\n    const tempData: Buffer = fs.readFileSync(tempPath);\r\n    return tempData.toString();\r\n  }\r\n}\r\n","'use strict'\r\nimport * as fs from 'fs'\r\nimport * as path from 'path'\r\nimport * as ejs from 'ejs'\r\nimport * as file from '../lib/utils/file.js'\r\nimport { ConfigInfo } from '../models/configEntity'\r\nimport {\r\n  ParameterApiInfos,\r\n  ParametersInfo,\r\n  PathsInfo,\r\n  Swagger2,\r\n} from '../models/controllerEntity'\r\nimport { ApiRefInfo, FileDesc } from '../models/fileEntity'\r\n\r\nexport class SwaggerToApiUse {\r\n  configData: ConfigInfo\r\n  swaggerData: Record<string, FileDesc> | null\r\n  swaggerOrign: Swagger2\r\n\r\n  constructor(\r\n    swaggerData: Record<string, FileDesc> | null,\r\n    configData: ConfigInfo,\r\n    swagger: Swagger2\r\n  ) {\r\n    this.configData = configData // 配置信息\r\n    this.swaggerData = swaggerData // 转换的文件信息\r\n    this.swaggerOrign = swagger // 原生的swagger\r\n\r\n    this.createApiUses()\r\n  }\r\n\r\n  // 设置Api的路径\r\n  getApiPath() {\r\n    let apiPath = path.join(\r\n      process.cwd() + path.sep + 'src',\r\n      this.configData.api!.dir\r\n    )\r\n    if (this.configData.serveFileName) {\r\n      apiPath = path.join(\r\n        process.cwd() + path.sep + 'src',\r\n        this.configData.api!.dir,\r\n        this.configData.serveFileName\r\n      )\r\n    }\r\n\r\n    return apiPath\r\n  }\r\n\r\n  // 入口函数\r\n  createApiUses() {\r\n    if (\r\n      !this.configData.api ||\r\n      !this.configData.api.isCreate ||\r\n      !this.configData.api.isCreateUse\r\n    ) {\r\n      return\r\n    }\r\n\r\n    let apiPath = this.getApiPath()\r\n    file.makeDirSync(apiPath)\r\n    fs.exists(apiPath, (exists: boolean) => {\r\n      if (!exists) {\r\n        fs.mkdir(apiPath, (err: any) => {\r\n          if (err) {\r\n            return console.error(err)\r\n          } else {\r\n            this.startCreateApiUse()\r\n          }\r\n        })\r\n      } else {\r\n        this.startCreateApiUse()\r\n      }\r\n    })\r\n  }\r\n\r\n  // 第一个字符大写\r\n  upperFirstStr(str: string) {\r\n    let resultStr = str\r\n    if (!resultStr || resultStr.length < 1) {\r\n      return resultStr\r\n    }\r\n\r\n    const characters = [...resultStr]\r\n    characters[0] = characters[0].toUpperCase()\r\n    resultStr = characters.join('')\r\n    return resultStr\r\n  }\r\n\r\n  // 创建ApiUse的文件\r\n  startCreateApiUse() {\r\n    if (!this.swaggerData) {\r\n      return\r\n    }\r\n\r\n    let apiPath = this.getApiPath()\r\n    Object.keys(this.swaggerData).forEach((key) => {\r\n      const fileDir = apiPath + path.sep + key + 'Hook' + '.ts'\r\n      fs.exists(fileDir, (isExists: boolean) => {\r\n        if (isExists) {\r\n          if (this.configData.api!.isCover) {\r\n            this.createFile(fileDir, key)\r\n          }\r\n        } else {\r\n          this.createFile(fileDir, key)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  // 创建文件\r\n  createFile(fileDir: string, key: string) {\r\n    // 获取模型的数据\r\n    const fileContent = this.createApiUseFile(this.swaggerData![key], key)\r\n    fs.writeFile(fileDir, fileContent, (err: any) => {\r\n      // 创建失败\r\n      if (err) {\r\n        console.log(`创建失败：${err}`)\r\n      }\r\n    })\r\n  }\r\n\r\n  // 获取接口的参数信息\r\n  convertParameter(orignInfo: PathsInfo): ParameterApiInfos {\r\n    let result: ParameterApiInfos = {\r\n      desc: '',\r\n      query: {},\r\n    }\r\n    let parameDesc = '' // 参数描述\r\n    let queryDesc: Record<string, string> = {}\r\n    let parameInfo: Array<ParametersInfo> = []\r\n    let isBody = false\r\n    if (orignInfo.get) {\r\n      parameInfo = orignInfo.get.parameters\r\n    } else if (orignInfo.post) {\r\n      parameInfo = orignInfo.post.parameters\r\n    }\r\n\r\n    if (!parameInfo || parameInfo.length < 1) {\r\n      return result\r\n    }\r\n\r\n    parameInfo.forEach((item) => {\r\n      if (parameDesc) {\r\n        parameDesc = parameDesc + '\\r\\n\\r\\n'\r\n      }\r\n\r\n      switch (item.in) {\r\n        case 'query':\r\n          isBody = false\r\n          if (Object.keys(queryDesc).length > 0) {\r\n            queryDesc['&' + item.name] = 'data.' + item.name\r\n          } else {\r\n            queryDesc['?' + item.name] = 'data.' + item.name\r\n          }\r\n          if (item.required) {\r\n            parameDesc = parameDesc + item.name + ': ' + item.type + ';'\r\n          } else {\r\n            parameDesc = parameDesc + item.name + '?: ' + item.type + ';'\r\n          }\r\n          break\r\n        case 'body':\r\n          isBody = true\r\n          if (item.schema && item.schema.$ref) {\r\n            const paramArr = item.schema.$ref.split('/')\r\n            const lastName = paramArr[paramArr.length - 1]\r\n            parameDesc = lastName\r\n            queryDesc = {}\r\n          }\r\n          break\r\n        default:\r\n          isBody = false\r\n          parameDesc = ''\r\n          queryDesc = {}\r\n          break\r\n      }\r\n    })\r\n    result.query = queryDesc\r\n    if (isBody) {\r\n      result.desc = parameDesc\r\n    } else {\r\n      result.desc = '{' + parameDesc + '}'\r\n    }\r\n\r\n    return result\r\n  }\r\n\r\n  // 创建相关的ApiUse对象\r\n  createApiUseFile(fileDesc: FileDesc, modelKey: string) {\r\n    let fileContent = ''\r\n    if (!fileDesc || !fileDesc.apiRefs) {\r\n      return fileContent\r\n    }\r\n\r\n    const tempData = this.getTemplateInfo('useApi')\r\n    const importModelRef: string[] = []\r\n    const importApiRef: string[] = []\r\n\r\n    Object.keys(fileDesc.apiRefs).forEach((key) => {\r\n      const fileTemps = tempData\r\n      const apiInfo: ApiRefInfo = fileDesc.apiRefs[key]\r\n      // 参数实体\r\n      if (apiInfo && apiInfo.orignInfo) {\r\n        // 获取方法名称\r\n        let methodName = ''\r\n        let method = ''\r\n        let url = key\r\n        let summary = ''\r\n        if (apiInfo.orignInfo.get && apiInfo.orignInfo.get.operationId) {\r\n          method = 'get'\r\n          summary = apiInfo.orignInfo.get.summary\r\n          methodName = apiInfo.orignInfo.get.operationId.split('Using')[0]\r\n        } else if (apiInfo.orignInfo.post) {\r\n          method = 'post'\r\n          summary = apiInfo.orignInfo.post.summary\r\n          methodName = apiInfo.orignInfo.post.operationId.split('Using')[0]\r\n        }\r\n        // 获取参数集合\r\n        if (apiInfo.parameters) {\r\n          apiInfo.parameters.forEach((strParame) => {\r\n            const paramArr = strParame.split('/')\r\n            const lastName = paramArr[paramArr.length - 1]\r\n            if (!importModelRef.includes(lastName)) {\r\n              importModelRef.push(lastName)\r\n            }\r\n          })\r\n        }\r\n\r\n        let responses: string = ''\r\n        // 返回实体\r\n        if (apiInfo && apiInfo.responses) {\r\n          const paramArr = apiInfo.responses.split('/')\r\n          const responseDesc = paramArr[paramArr.length - 1]\r\n          let lastName = responseDesc\r\n          let importDesc = responseDesc\r\n\r\n          // 有嵌套\r\n          if (responseDesc.includes('«') && responseDesc.includes('»')) {\r\n            const preDesc = responseDesc.split('«')\r\n            importDesc = preDesc[preDesc.length - 2]\r\n            const nextDesc = preDesc[preDesc.length - 1].split('»')\r\n            lastName = nextDesc[0]\r\n          }\r\n\r\n          // // 那种类型的嵌套\r\n          // if (importDesc) {\r\n          //   if (\r\n          //     this.configData.models?.commonResponse &&\r\n          //     this.configData.models?.commonResponse.includes(importDesc)\r\n          //   ) {\r\n          //     importDesc = 'commonResponse'\r\n          //   } else if (\r\n          //     this.configData.models?.pageResponse &&\r\n          //     this.configData.models?.pageResponse.includes(importDesc)\r\n          //   ) {\r\n          //     importDesc = 'pageResponse'\r\n          //   } else if (\r\n          //     this.configData.models?.listResponse &&\r\n          //     this.configData.models?.listResponse.includes(importDesc)\r\n          //   ) {\r\n          //     importDesc = 'listResponse'\r\n          //   }\r\n          // }\r\n\r\n          // 获取返回类型\r\n          responses = this.setApiModel(importDesc, lastName)\r\n        }\r\n        const parameStr = this.convertParameter(apiInfo.orignInfo)\r\n        if (!importModelRef.includes(responses)) {\r\n          importModelRef.push(responses)\r\n        }\r\n\r\n        if (!importApiRef.includes(methodName)) {\r\n          importApiRef.push(methodName)\r\n        }\r\n\r\n        const strHtml = ejs.render(fileTemps, {\r\n          data: {\r\n            title: this.upperFirstStr(methodName),\r\n            methodTitle: methodName,\r\n            method: method,\r\n            parData: parameStr.desc ? parameStr.desc : '{}',\r\n            queryDesc: parameStr.query,\r\n            responses: responses,\r\n            url: url,\r\n            summary: summary,\r\n          },\r\n        })\r\n\r\n        if (fileContent) {\r\n          fileContent = fileContent + '\\r\\n\\r\\n'\r\n        }\r\n\r\n        if (strHtml) {\r\n          fileContent = fileContent + strHtml\r\n        }\r\n      }\r\n    })\r\n\r\n    // 引用模型描述\r\n    const importStr =\r\n      'import { ' +\r\n      importModelRef.join(', ') +\r\n      ' } from \"/@/' +\r\n      this.getModelDir() +\r\n      '/' +\r\n      modelKey +\r\n      '\";\\r\\n'\r\n\r\n    const messagePath = this.configData.api?.messagePath\r\n      ? this.configData.api?.messagePath\r\n      : '/@/utils/message/index'\r\n\r\n    // 引用Api描述\r\n    const importApiStr =\r\n      'import { ' +\r\n      importApiRef.join(', ') +\r\n      ' } from \"/@/' +\r\n      this.getApiDir() +\r\n      '/' +\r\n      modelKey +\r\n      '\";\\r\\n' +\r\n      'import { errorMessage } from \"' +\r\n      messagePath +\r\n      '\";\\r\\n\\r\\n'\r\n\r\n    return importStr + importApiStr + fileContent\r\n  }\r\n\r\n  // 获取模型的路径\r\n  getModelDir() {\r\n    return this.configData.serveFileName\r\n      ? this.configData.models?.dir + '/' + this.configData.serveFileName\r\n      : this.configData.models?.dir\r\n  }\r\n\r\n  // 获取接口的路径\r\n  getApiDir() {\r\n    return this.configData.serveFileName\r\n      ? this.configData.api?.dir + '/' + this.configData.serveFileName\r\n      : this.configData.api?.dir\r\n  }\r\n\r\n  // 添加Api调用的对象信息\r\n  setApiModel(importDesc: string, lastName: string) {\r\n    let strHtml = \"\";\r\n    if (lastName.toUpperCase() != 'object'.toUpperCase() && lastName.toUpperCase() != 'string'.toUpperCase()) {\r\n      switch (importDesc.toUpperCase()) {\r\n        case \"commonResponse\".toUpperCase():\r\n          strHtml = 'result' + lastName + 'Info'\r\n          break;\r\n        case 'Page'.toUpperCase():\r\n        case 'PageResponse'.toUpperCase():\r\n          strHtml = 'result' + lastName + 'Page'\r\n          break;\r\n        case 'List'.toUpperCase():\r\n        case \"ListResponse\".toUpperCase():\r\n          strHtml = 'result' + lastName + 'List'\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    } else {\r\n      if (lastName.includes('object') || lastName.includes('string')) {\r\n        if (lastName.includes('object')) {\r\n          strHtml = 'commonObjectResopense'\r\n        }\r\n\r\n        if (lastName.includes('string')) {\r\n          strHtml = 'commonStringResopense'\r\n        }\r\n      }\r\n    }\r\n\r\n    return strHtml;\r\n  }\r\n\r\n  // 获取模板信息\r\n  getTemplateInfo(fileMode: string) {\r\n    const tempPath = path.join(\r\n      __dirname,\r\n      'templates',\r\n      this.configData.template + path.sep + fileMode + '.ejs'\r\n    )\r\n\r\n    const tempData: Buffer = fs.readFileSync(tempPath)\r\n    return tempData.toString()\r\n  }\r\n}\r\n","'use strict'\r\nimport * as fs from 'fs'\r\nimport * as path from 'path'\r\nimport * as ejs from 'ejs'\r\nimport * as file from '../lib/utils/file.js'\r\n\r\nimport { ConfigInfo } from '../models/configEntity'\r\nimport {\r\n  DefinitionsInfo,\r\n  PropertyInfo,\r\n  Swagger2,\r\n} from '../models/controllerEntity'\r\nimport { ApiRefInfo, FileDesc, PropertyDesc } from '../models/fileEntity'\r\n\r\nexport class SwaggerToModel {\r\n  configData: ConfigInfo\r\n  swaggerData: Record<string, FileDesc> | null\r\n  swaggerOrign: Swagger2\r\n  // 记录文件中生成的模式\r\n  modelNameArr: Record<string, Array<string>>\r\n  // 记录import的信息集合\r\n  importArr: Record<string, Array<string>>\r\n\r\n  constructor(\r\n    swaggerData: Record<string, FileDesc> | null,\r\n    configData: ConfigInfo,\r\n    swagger: Swagger2\r\n  ) {\r\n    this.configData = configData // 配置信息\r\n    this.swaggerData = swaggerData // 转换的文件信息\r\n    this.swaggerOrign = swagger // 原生的swagger\r\n    this.modelNameArr = {}\r\n    this.importArr = {}\r\n\r\n    this.createModels()\r\n  }\r\n\r\n  // 设置模型的路径\r\n  getModePath() {\r\n    // 记录所有的模型名称，防止重复\r\n    let modelPath = path.join(\r\n      process.cwd() + path.sep + 'src',\r\n      this.configData.models!.dir\r\n    )\r\n    if (this.configData.serveFileName) {\r\n      modelPath = path.join(\r\n        process.cwd() + path.sep + 'src',\r\n        this.configData.models!.dir,\r\n        this.configData.serveFileName\r\n      )\r\n    }\r\n\r\n    return modelPath\r\n  }\r\n\r\n  // 入口函数\r\n  createModels() {\r\n    if (!this.configData.models || !this.configData.models.isCreate) {\r\n      return\r\n    }\r\n    // 记录所有的模型名称，防止重复\r\n    const modelPath = this.getModePath()\r\n    file.makeDirSync(modelPath)\r\n    fs.exists(modelPath, (exists: boolean) => {\r\n      if (!exists) {\r\n        fs.mkdir(modelPath, (err: any) => {\r\n          if (err) {\r\n            return console.error(err)\r\n          } else {\r\n            this.startCreateModel()\r\n          }\r\n        })\r\n      } else {\r\n        this.startCreateModel()\r\n      }\r\n    })\r\n  }\r\n  // 创建model的文件\r\n  startCreateModel() {\r\n    if (!this.swaggerData) {\r\n      return\r\n    }\r\n\r\n    let filePath = this.getModePath()\r\n\r\n    Object.keys(this.swaggerData).forEach((key) => {\r\n      const fileDir = filePath + path.sep + key + '.ts'\r\n      // 记录引用\r\n      if (!this.importArr[key]) {\r\n        this.importArr[key] = []\r\n      }\r\n\r\n      // 添加记录属性\r\n      if (!this.modelNameArr[key + '-model']) {\r\n        this.modelNameArr[key + '-model'] = []\r\n      }\r\n\r\n      fs.exists(fileDir, (isExists: boolean) => {\r\n        if (isExists) {\r\n          if (this.configData.models!.isCover) {\r\n            this.createFile(fileDir, key)\r\n          }\r\n        } else {\r\n          this.createFile(fileDir, key)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  // 创建文件\r\n  createFile(fileDir: string, key: string) {\r\n    // 获取模型的数据\r\n    const fileContent = this.createEntity(this.swaggerData![key], key)\r\n\r\n    fs.writeFile(fileDir, fileContent, (err: any) => {\r\n      // 创建失败\r\n      if (err) {\r\n        console.log(`创建失败：${err}`)\r\n      }\r\n    })\r\n  }\r\n\r\n  // 先绑定孩子的实体对象\r\n  processSubProperty(\r\n    results: Record<string, PropertyDesc>,\r\n    fileContent: string\r\n  ) {\r\n    let subContent = fileContent\r\n    if (!results || Object.keys(results).length < 1) {\r\n      return subContent\r\n    }\r\n\r\n    Object.keys(results).forEach((subKey) => {\r\n      const dataDescent: PropertyDesc = results[subKey]\r\n      if (dataDescent && dataDescent.subProperty) {\r\n        if (subContent) {\r\n          subContent = subContent + '\\r\\n'\r\n        }\r\n\r\n        subContent = subContent + dataDescent.subProperty\r\n      }\r\n    })\r\n\r\n    return subContent\r\n  }\r\n\r\n  // 创建相关的实体对象\r\n  createEntity(fileDesc: FileDesc, modelKey: string) {\r\n    let fileContent = ''\r\n    if (!fileDesc || !fileDesc.apiRefs) {\r\n      return fileContent\r\n    }\r\n    const tempData = this.getTemplateInfo('models')\r\n    Object.keys(fileDesc.apiRefs).forEach((key) => {\r\n      const apiInfo: ApiRefInfo = fileDesc.apiRefs[key]\r\n\r\n      let summary = ''\r\n      if (apiInfo.orignInfo.get && apiInfo.orignInfo.get.operationId) {\r\n        summary = apiInfo.orignInfo.get.summary\r\n      } else if (apiInfo.orignInfo.post) {\r\n        summary = apiInfo.orignInfo.post.summary\r\n      }\r\n\r\n      // 参数实体\r\n      if (apiInfo && apiInfo.parameters) {\r\n        apiInfo.parameters.forEach((strParame) => {\r\n          const paramArr = strParame.split('/')\r\n          const lastName = paramArr[paramArr.length - 1]\r\n          const definitions: DefinitionsInfo | null =\r\n            this.getDefinitionsInfo(lastName)\r\n          if (\r\n            definitions &&\r\n            !this.modelNameArr[modelKey + '-model'].includes(definitions.title)\r\n          ) {\r\n            // 添加模型生成标识，防止重复\r\n            this.modelNameArr[modelKey + '-model'].push(definitions.title)\r\n            const fileTemps = tempData\r\n\r\n            if (definitions.properties) {\r\n              const keys = Object.keys(definitions.properties)\r\n              const results = this.convertProperty(\r\n                definitions.properties,\r\n                modelKey,\r\n                summary\r\n              )\r\n\r\n              // 处理子项的属性\r\n              fileContent = this.processSubProperty(results, fileContent)\r\n              definitions.summary = summary\r\n              const strHtml = ejs.render(fileTemps, {\r\n                data: definitions,\r\n                descs: results,\r\n                keys: keys,\r\n              })\r\n\r\n              if (fileContent) {\r\n                fileContent = fileContent + '\\r\\n'\r\n              }\r\n\r\n              if (strHtml) {\r\n                fileContent = fileContent + strHtml\r\n              }\r\n            }\r\n          }\r\n        })\r\n      }\r\n\r\n      // 返回实体\r\n      if (apiInfo && apiInfo.responses) {\r\n        const paramArr = apiInfo.responses.split('/')\r\n        const responseDesc = paramArr[paramArr.length - 1]\r\n        let lastName = responseDesc\r\n        let importDesc = responseDesc\r\n        // 有嵌套\r\n        if (responseDesc.includes('«') && responseDesc.includes('»')) {\r\n          const preDesc = responseDesc.split('«')\r\n          importDesc = preDesc[preDesc.length - 2]\r\n          const nextDesc = preDesc[preDesc.length - 1].split('»')\r\n          lastName = nextDesc[0]\r\n        }\r\n\r\n        // // 那种类型的嵌套\r\n        // if (importDesc) {\r\n        //   if (\r\n        //     this.configData.models?.commonResponse &&\r\n        //     this.configData.models?.commonResponse.includes(importDesc)\r\n        //   ) {\r\n        //     importDesc = 'commonResponse'\r\n        //   } else if (\r\n        //     this.configData.models?.pageResponse &&\r\n        //     this.configData.models?.pageResponse.includes(importDesc)\r\n        //   ) {\r\n        //     importDesc = 'pageResponse'\r\n        //   } else if (\r\n        //     this.configData.models?.listResponse &&\r\n        //     this.configData.models?.listResponse.includes(importDesc)\r\n        //   ) {\r\n        //     importDesc = 'listResponse'\r\n        //   }\r\n        // }\r\n\r\n        // 添加import描述\r\n        if (!this.importArr[modelKey].includes(importDesc)) {\r\n          this.importArr[modelKey].push(importDesc)\r\n        }\r\n\r\n        const definitions: DefinitionsInfo | null =\r\n          this.getDefinitionsInfo(lastName)\r\n\r\n        if (\r\n          definitions &&\r\n          !this.modelNameArr[modelKey + '-model'].includes(definitions.title)\r\n        ) {\r\n          // 添加模型生成标识，防止重复\r\n          this.modelNameArr[modelKey + '-model'].push(definitions.title)\r\n          const fileTemps = tempData\r\n          if (definitions.properties) {\r\n            const keys = Object.keys(definitions.properties)\r\n            const results = this.convertProperty(\r\n              definitions.properties,\r\n              modelKey,\r\n              summary\r\n            )\r\n\r\n            // 处理子项的属性\r\n            fileContent = this.processSubProperty(results, fileContent)\r\n            definitions.summary = summary\r\n            const strHtml = ejs.render(fileTemps, {\r\n              data: definitions,\r\n              descs: results,\r\n              keys: keys,\r\n            })\r\n\r\n            if (fileContent) {\r\n              fileContent = fileContent + '\\r\\n'\r\n            }\r\n\r\n            if (strHtml) {\r\n              fileContent = fileContent + strHtml\r\n            }\r\n          }\r\n        }\r\n\r\n        if (\r\n          importDesc &&\r\n          !lastName.includes('object') &&\r\n          !lastName.includes('string')\r\n        ) {\r\n          const importStr = this.setApiModel(importDesc, lastName, modelKey)\r\n\r\n          if (importStr) {\r\n            fileContent = fileContent + importStr\r\n          }\r\n        } else if (importDesc &&\r\n          (lastName.includes('object') ||\r\n            lastName.includes('string'))) {\r\n\r\n          let strHtml = ''\r\n          if (lastName.includes('object')) {\r\n            strHtml = this.setObjectModel(lastName, modelKey)\r\n          }\r\n\r\n          if (lastName.includes('string')) {\r\n            strHtml = this.setStringModel(lastName, modelKey)\r\n          }\r\n\r\n          if (strHtml) {\r\n            fileContent = fileContent + strHtml\r\n          }\r\n\r\n        }\r\n      }\r\n    })\r\n\r\n    // 添加import\r\n    if (this.importArr[modelKey] && this.importArr[modelKey].length > 0) {\r\n      let importStr = ''\r\n      this.importArr[modelKey].forEach((imortKey) => {\r\n        if (\r\n          imortKey.toUpperCase() === 'commonResponse'.toUpperCase() &&\r\n          !importStr.includes(this.configData.models.commonResponse)\r\n        ) {\r\n          if (importStr) {\r\n            importStr = importStr + ', '\r\n          }\r\n          importStr = importStr + this.configData.models.commonResponse\r\n        } else if (\r\n          (imortKey.toUpperCase() === 'PageResponse'.toUpperCase() || imortKey.toUpperCase() === 'Page'.toUpperCase()) &&\r\n          !importStr.includes(this.configData.models.pageResponse)\r\n        ) {\r\n          if (importStr) {\r\n            importStr = importStr + ', '\r\n          }\r\n          importStr = importStr + this.configData.models.pageResponse\r\n        } else if (\r\n          (imortKey.toUpperCase() === 'ListResponse'.toUpperCase() || imortKey.toUpperCase() === 'List'.toUpperCase()) &&\r\n          !importStr.includes(this.configData.models.listResponse)\r\n        ) {\r\n          if (importStr) {\r\n            importStr = importStr + ', '\r\n          }\r\n          importStr = importStr + this.configData.models.listResponse\r\n        }\r\n        // else if (!importStr.includes('itemResult')) {\r\n        //   if (importStr) {\r\n        //     importStr = importStr + ', '\r\n        //   }\r\n        //   importStr = importStr + 'itemResult'\r\n        // } else if (!importStr.includes('httpResult')) {\r\n        //   if (importStr) {\r\n        //     importStr = importStr + ', '\r\n        //   }\r\n        //   importStr = importStr + 'httpResult'\r\n        // }\r\n      })\r\n\r\n      if (importStr) {\r\n        const commonPath = this.configData.models?.utilsPath\r\n          ? this.configData.models?.utilsPath\r\n          : '/@/models/httpResult'\r\n\r\n        fileContent =\r\n          'import { ' +\r\n          importStr +\r\n          ' } from \"' +\r\n          commonPath +\r\n          '\";' +\r\n          '\\r\\n\\r\\n' +\r\n          fileContent\r\n\r\n      }\r\n\r\n    }\r\n    return fileContent\r\n  }\r\n\r\n  setStringModel(lastName: string, modelKey: string) {\r\n    let strHtml = ''\r\n    if (\r\n      !this.modelNameArr[modelKey + '-model'].includes(\r\n        'commonStringResopense'\r\n      )\r\n    ) {\r\n      strHtml = 'export type commonStringResopense = Promise<itemResult<' + lastName + '>>;' +\r\n        '\\r\\n\\r\\n'\r\n\r\n      // 添加模型生成标识，防止重复\r\n      this.modelNameArr[modelKey + '-model'].push(\r\n        'commonStringResopense'\r\n      )\r\n    }\r\n\r\n    return strHtml\r\n  }\r\n\r\n  setObjectModel(lastName: string, modelKey: string) {\r\n    let strHtml = ''\r\n    if (\r\n      !this.modelNameArr[modelKey + '-model'].includes(\r\n        'commonObjectResopense'\r\n      )\r\n    ) {\r\n      strHtml = 'export type commonObjectResopense = Promise<itemResult<' + lastName + '>>;' +\r\n        '\\r\\n\\r\\n'\r\n\r\n      // 添加模型生成标识，防止重复\r\n      this.modelNameArr[modelKey + '-model'].push(\r\n        'commonObjectResopense'\r\n      )\r\n    }\r\n\r\n    return strHtml\r\n  }\r\n\r\n  // 添加Api调用的对象信息\r\n  setApiModel(importDesc: string, lastName: string, modelKey: string) {\r\n    let strHtml = ''\r\n    switch (importDesc.toUpperCase()) {\r\n      case 'commonResponse'.toUpperCase():\r\n        if (\r\n          !this.modelNameArr[modelKey + '-model'].includes(\r\n            'result' + lastName + 'Info'\r\n          )\r\n        ) {\r\n          strHtml =\r\n            strHtml +\r\n            'export type result' +\r\n            lastName +\r\n            'Info = Promise<' + this.configData.models.commonResponse + '<' +\r\n            lastName +\r\n            '>>;' +\r\n            '\\r\\n\\r\\n'\r\n\r\n          // 添加模型生成标识，防止重复\r\n          this.modelNameArr[modelKey + '-model'].push(\r\n            'result' + lastName + 'Info'\r\n          )\r\n        }\r\n        break\r\n      case 'Page'.toUpperCase():\r\n      case 'PageResponse'.toUpperCase():\r\n        if (\r\n          !this.modelNameArr[modelKey + '-model'].includes(\r\n            'result' + lastName + 'Page'\r\n          )\r\n        ) {\r\n          strHtml =\r\n            strHtml +\r\n            'export type result' +\r\n            lastName +\r\n            'Page = Promise<' + this.configData.models.pageResponse + '<' +\r\n            lastName +\r\n            '>>;' +\r\n            '\\r\\n\\r\\n'\r\n          // 添加模型生成标识，防止重复\r\n          this.modelNameArr[modelKey + '-model'].push(\r\n            'result' + lastName + 'Page'\r\n          )\r\n        }\r\n        break\r\n      case 'List'.toUpperCase():\r\n      case 'ListResponse'.toUpperCase():\r\n        // 添加模型生成标识，防止重复\r\n        if (\r\n          !this.modelNameArr[modelKey + '-model'].includes(\r\n            'result' + lastName + 'List'\r\n          )\r\n        ) {\r\n          strHtml =\r\n            strHtml +\r\n            'export type result' +\r\n            lastName +\r\n            'List = Promise<' + this.configData.models.listResponse + '<' +\r\n            lastName +\r\n            '>>;' +\r\n            '\\r\\n\\r\\n'\r\n\r\n          this.modelNameArr[modelKey + '-model'].push(\r\n            'result' + lastName + 'List'\r\n          )\r\n        }\r\n\r\n        break\r\n      default:\r\n        // if (lastName != 'object' && lastName != 'string') {\r\n        //   // 记录引用\r\n        //   // 添加import描述\r\n        //   if (!this.importArr[modelKey].includes('itemResult')) {\r\n        //     this.importArr[modelKey].push('itemResult')\r\n        //   }\r\n        //   // 添加模型生成标识，防止重复\r\n        //   if (\r\n        //     !this.modelNameArr[modelKey + '-model'].includes(\r\n        //       'result' + lastName + 'Item'\r\n        //     )\r\n        //   ) {\r\n        //     strHtml =\r\n        //       strHtml +\r\n        //       'export type result' +\r\n        //       lastName +\r\n        //       'Item = Promise<itemResult<' +\r\n        //       lastName +\r\n        //       '>>;' +\r\n        //       '\\r\\n\\r\\n'\r\n\r\n        //     this.modelNameArr[modelKey + '-model'].push(\r\n        //       'result' + lastName + 'Item'\r\n        //     )\r\n        //   }\r\n        // } else {\r\n        //   // 添加模型生成标识，防止重复\r\n        //   if (\r\n        //     !this.modelNameArr[modelKey + '-model'].includes(\r\n        //       'result' + lastName + 'Info'\r\n        //     )\r\n        //   ) {\r\n        //     strHtml =\r\n        //       strHtml +\r\n        //       'export type result' +\r\n        //       lastName +\r\n        //       'Info = Promise<httpResult>;' +\r\n        //       '\\r\\n\\r\\n'\r\n\r\n        //     this.modelNameArr[modelKey + '-model'].push(\r\n        //       'result' + lastName + 'Info'\r\n        //     )\r\n        //   }\r\n        // }\r\n        break\r\n    }\r\n\r\n    return strHtml\r\n  }\r\n\r\n  // 处理注释换行问题\r\n  convertDescription(desc: string) {\r\n    let newDesc = ''\r\n    if (desc) {\r\n      newDesc = desc.split('\\n').join(' ')\r\n    }\r\n    return newDesc\r\n  }\r\n\r\n  // 转换属性内容\r\n  convertProperty(\r\n    properties: Record<string, PropertyInfo>,\r\n    modelKey: string,\r\n    summary: string\r\n  ) {\r\n    const keys = Object.keys(properties)\r\n    const results: Record<string, PropertyDesc> = {}\r\n    keys.forEach((key) => {\r\n      // 属性类型\r\n      const propertyType = this.getPropertyType(properties[key])\r\n\r\n      let desc: PropertyDesc = {\r\n        type: propertyType,\r\n        description: this.convertDescription(\r\n          properties[key].description ? properties[key].description : '暂无描述'\r\n        ),\r\n        items: {\r\n          type: properties[key].items?.type ? properties[key].items?.type : '',\r\n          $ref: properties[key].items?.$ref ? properties[key].items?.$ref : '',\r\n        },\r\n        subProperty: '',\r\n        $ref: '',\r\n      }\r\n      // 如果是数组，则特殊处理\r\n      if (propertyType === 'array') {\r\n        if (desc.items && desc.items.type) {\r\n          if (desc.items.type.startsWith(\"Map«\")) {\r\n            desc.type = 'Array<Object>'\r\n          } else {\r\n            desc.type = 'Array<' + desc.items.type + '>'\r\n          }\r\n        } else if (desc.items && desc.items.$ref) {\r\n          const paramArr = desc.items.$ref.split('/')\r\n          const lastName = paramArr[paramArr.length - 1]\r\n\r\n          if (lastName.startsWith(\"Map«\")) {\r\n            desc.type = 'Array<Object>'\r\n          } else {\r\n            desc.type = 'Array<' + lastName + '>'\r\n          }\r\n\r\n          if (!this.modelNameArr[modelKey + '-model'].includes(lastName)) {\r\n            const tempData = this.getTemplateInfo('models')\r\n            const definitions: DefinitionsInfo | null =\r\n              this.getDefinitionsInfo(lastName)\r\n\r\n            // 添加模型生成标识，防止重复\r\n            this.modelNameArr[modelKey + '-model'].push(lastName)\r\n            const fileTemps = tempData\r\n            if (definitions && definitions!.properties) {\r\n              const keys = Object.keys(definitions!.properties)\r\n              const results = this.convertProperty(\r\n                definitions!.properties,\r\n                modelKey,\r\n                summary\r\n              )\r\n              definitions!.summary = summary\r\n              let strHtml = ejs.render(fileTemps, {\r\n                data: definitions,\r\n                descs: results,\r\n                keys: keys,\r\n              })\r\n\r\n              // 处理子项的属性\r\n              strHtml = this.processSubProperty(results, strHtml)\r\n              desc.subProperty = strHtml\r\n            }\r\n          }\r\n        }\r\n      } else if (propertyType === 'object') {\r\n        const refStr = properties[key]?.$ref ? properties[key]?.$ref : ''\r\n        if (refStr) {\r\n          const paramArr = refStr.split('/')\r\n          const lastName = paramArr[paramArr.length - 1]\r\n          desc.type = lastName\r\n          desc.$ref = refStr\r\n\r\n          const tempData = this.getTemplateInfo('models')\r\n          const definitions: DefinitionsInfo | null =\r\n            this.getDefinitionsInfo(lastName)\r\n\r\n          if (\r\n            !this.modelNameArr[modelKey + '-model'].includes(lastName)\r\n          ) {\r\n\r\n            // 添加模型生成标识，防止重复\r\n            this.modelNameArr[modelKey + '-model'].push(lastName)\r\n            const fileTemps = tempData\r\n\r\n            if (definitions && definitions!.properties) {\r\n              const keys = Object.keys(definitions!.properties)\r\n              const results = this.convertProperty(\r\n                definitions!.properties,\r\n                modelKey,\r\n                summary\r\n              )\r\n              definitions!.summary = summary\r\n              let strHtml = ejs.render(fileTemps, {\r\n                data: definitions,\r\n                descs: results,\r\n                keys: keys,\r\n              })\r\n\r\n              // 处理子项的属性\r\n              strHtml = this.processSubProperty(results, strHtml)\r\n              desc.subProperty = strHtml\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      results[key] = desc\r\n    })\r\n\r\n    return results\r\n  }\r\n\r\n  // 获取字段的类型\r\n  getPropertyType(property: PropertyInfo) {\r\n    let type = ''\r\n\r\n    if (!property['type']) {\r\n      if (property['$ref']) {\r\n        type = 'object'\r\n      }\r\n    } else {\r\n      switch (property['type']) {\r\n        case 'string':\r\n          type = 'string'\r\n          break\r\n        case 'integer':\r\n        case 'number':\r\n          type = 'number'\r\n          break\r\n        case 'array':\r\n          type = 'array'\r\n          break\r\n        case 'object':\r\n          type = 'object'\r\n          break\r\n        case 'boolean':\r\n          type = 'boolean'\r\n          break\r\n        default:\r\n          type = 'string'\r\n          break\r\n      }\r\n    }\r\n\r\n    return type\r\n  }\r\n\r\n  // 获取swagger的相关实体定义\r\n  getDefinitionsInfo(keyName: string) {\r\n    if (!this.swaggerOrign || !this.swaggerOrign.definitions) {\r\n      return null\r\n    }\r\n\r\n    const definitions: DefinitionsInfo = this.swaggerOrign.definitions[keyName]\r\n    return definitions\r\n  }\r\n\r\n  // 获取模板信息\r\n  getTemplateInfo(fileMode: string) {\r\n    const tempPath = path.join(\r\n      __dirname,\r\n      'templates',\r\n      this.configData.template + path.sep + fileMode + '.ejs'\r\n    )\r\n\r\n    const tempData: Buffer = fs.readFileSync(tempPath)\r\n    return tempData.toString()\r\n  }\r\n\r\n  // 获取inport的描述\r\n  getImport(property: PropertyInfo) {\r\n    let type = ''\r\n\r\n    if (!property['type']) {\r\n      if (property['$ref']) {\r\n        type = 'object'\r\n      }\r\n    } else {\r\n      switch (property['type']) {\r\n        case 'string':\r\n          type = 'string'\r\n          break\r\n        case 'integer':\r\n        case 'number':\r\n          type = 'number'\r\n          break\r\n        case 'array':\r\n          type = 'array'\r\n          break\r\n        case 'object':\r\n          type = 'object'\r\n          break\r\n        case 'boolean':\r\n          type = 'boolean'\r\n          break\r\n        default:\r\n          type = 'string'\r\n          break\r\n      }\r\n    }\r\n\r\n    return type\r\n  }\r\n}\r\n","'use strict'\r\nimport { SwaggerToApi } from './opApi'\r\nimport { SwaggerToApiUse } from './opApiUse'\r\nimport { SwaggerToModel } from './opModel'\r\nimport { ConfigInfo } from '../models/configEntity'\r\nimport { Swagger2 } from '../models/controllerEntity'\r\nimport { FileDesc } from '../models/fileEntity'\r\n\r\nexport class CreateFile {\r\n  configData: ConfigInfo\r\n  swaggerData: Record<string, FileDesc> | null\r\n  swaggerOrign: Swagger2\r\n  // 记录文件中生成的模式\r\n  modelNameArr: Record<string, Array<string>>\r\n  constructor(\r\n    swaggerData: Record<string, FileDesc> | null,\r\n    configData: ConfigInfo,\r\n    swagger: Swagger2\r\n  ) {\r\n    this.configData = configData // 配置信息\r\n    this.swaggerData = swaggerData // 转换的文件信息\r\n    this.swaggerOrign = swagger // 原生的swagger\r\n    this.modelNameArr = {}\r\n\r\n    // 生成模型文件\r\n    new SwaggerToModel(this.swaggerData, this.configData, this.swaggerOrign)\r\n    // 生成接口文件\r\n    new SwaggerToApi(\r\n      this.swaggerData,\r\n      this.configData,\r\n      this.swaggerOrign,\r\n      () => {\r\n        // 生成使用接口文件\r\n        new SwaggerToApiUse(\r\n          this.swaggerData,\r\n          this.configData,\r\n          this.swaggerOrign\r\n        )\r\n      }\r\n    )\r\n  }\r\n}\r\n","'use strict'\n\nfunction makeNext () {\n  if (typeof process === 'object' && typeof process.nextTick === 'function') {\n    return process.nextTick\n  } else if (typeof setImmediate === 'function') {\n    return setImmediate\n  } else {\n    return function next (f) {\n      setTimeout(f, 0)\n    }\n  }\n}\n\nmodule.exports = makeNext()\n","\"use strict\"\n\nvar next = require('./next.js')\n\nmodule.exports = function maybe (cb, promise) {\n  if (cb) {\n    promise\n      .then(function (result) {\n        next(function () { cb(null, result) })\n      }, function (err) {\n        next(function () { cb(err) })\n      })\n    return undefined\n  }\n  else {\n    return promise\n  }\n}\n","\nclass DebounceTimers{\n  constructor(cb , defaultDelay){\n    this.cb = cb;\n    this.delay = defaultDelay;\n    this.timers = {\n\n    };\n    this.pausers = {};\n  }\n  setDelay(delay){\n    if ( delay >= 0)\n      this.delay = delay;\n  }\n  pause(key){\n    this.pausers[key] = this.pausers[key]|| 0;\n    this.pausers[key]++;\n  }\n  unpause(key){\n    var count = this.pausers[key] || 0;\n    if (count>0)\n    count--;\n    this.pausers[key] = count;\n  }\n  unpauseAndTime(key){\n    this.unpause(key);\n    this.time(key);\n  }\n  time(key){\n    var self = this;\n    var timers = this.timers;\n    var timer = this.timers[key];\n    if (this.pausers[key] > 0)\n      return;\n    if (timer)\n      clearTimeout(timer);\n\n    timers[key] = setTimeout(function onTimer(){\n      self.cb(key);\n      delete timers[key];\n    } , self.delay)\n  }\n}\nclass ERR_INVALID_ARG_TYPE extends TypeError{\n    constructor(name, expected, actual){\n      const type = name.includes('.') ? 'property' : 'argument';\n      let msg = `The \"${name}\" ${type} ${determiner} ${expected}`;\n      \n    }\n  }\n  function assertIsObject(value, name, types = 'Object') {\n    if (value !== undefined &&\n        (value === null ||\n         typeof value !== 'object' ||\n         Array.isArray(value))) {\n      const err = new ERR_INVALID_ARG_TYPE(name, types, value);\n      Error.captureStackTrace(err, assertIsObject);\n      throw err;\n    }\n  }\n\n\n  module.exports = {\n    ERR_INVALID_ARG_TYPE,\n    assertIsObject,\n    DebounceTimers\n  }","const {assertIsObject } = require('./utils');\n\nfunction initializeOptions(options) {\n    assertIsObject(options, 'options');\n    options = Object.assign({}, options);\n    options.allowHalfOpen = true;\n    options.rejectUnauthorized = false;\n    assertIsObject(options.settings, 'options.settings');\n    options.settings = Object.assign({}, options.settings);\n  \n    // Used only with allowHTTP1\n    options.Http1IncomingMessage = options.Http1IncomingMessage ||\n      this.http.IncomingMessage;\n    options.Http1ServerResponse = options.Http1ServerResponse ||\n      this.http.ServerResponse;\n  \n    options.Http2ServerRequest = options.Http2ServerRequest ||\n                                  ((this.http2 || {}).Http2ServerRequest);\n    options.Http2ServerResponse = options.Http2ServerResponse ||\n                                  ((this.http2 || {}).Http2ServerResponse);\n    return options;\n  }\n  \n  function initializeTLSOptions(options, servername) {\n    options = initializeOptions.call(this,options);\n    var ALPNProtocols = options.ALPNProtocols = [];\n    if (this.http2Support)\n      ALPNProtocols.push('h2');\n    if (options.allowHTTP1 == true || !this.http2Support)\n      ALPNProtocols.push('http/1.1');\n    if (servername !== undefined && options.servername === undefined)\n      options.servername = servername;\n    return options;\n  }\n\n  module.exports = {\n    initializeTLSOptions\n  }","\nconst { URL } = require('url');\nconst {EventEmitter} = require('events');\nconst _extend = require('util')._extend;\nconst {DebounceTimers , assertIsObject , ERR_INVALID_ARG_TYPE} = require('./utils');\nconst {initializeTLSOptions } = require('./request-options');\nconst http = require('http');\nconst https = require('https');\nconst {Stream} = require('stream');\nfunction addFunctions(container , obj){\n  const proto = obj.prototype;\n  Object.keys(proto).forEach((name)=>{\n    if (container.indexOf(name)!=-1)\n    return;\n    if (name.indexOf('_')!=0 && typeof proto[name] == 'function'){\n      container.push(name);\n    }\n  })\n}\nconst STUBBED_METHODS_NAME = [ \n]\n//We need to proxy all v1 function\naddFunctions(STUBBED_METHODS_NAME, http.ClientRequest);\naddFunctions(STUBBED_METHODS_NAME, http.OutgoingMessage);\naddFunctions(STUBBED_METHODS_NAME, EventEmitter);\naddFunctions(STUBBED_METHODS_NAME, Stream);\n\nconst PROPERTIES_TO_PROXY = [\n  'httpVersionMajor',\n  'httpVersionMinor',\n  'httpVersion',\n];\nconst HEADERS_TO_REMOVE = ['host' , 'connection']\n\nconst $stubs = Symbol('stubs');\n\nfunction ClientRequest(){\n  this.http2Mimic = true;\n  this[$stubs] = [];\n    for (var i=0;i<STUBBED_METHODS_NAME.length;i++){\n      let name = STUBBED_METHODS_NAME[i];\n      if (!ClientRequest.prototype[name]){\n        this[name] = function method(){\n          return this.genericStubber(name , arguments);\n        }.bind(this);\n      }\n    }\n\n    var requestOptions , cb,url , args;\n    const isInternal = arguments[0] instanceof RequestInternalEnforce;\n    var isInternalMethod,isInternalProtocol;\n    if (isInternal){\n      const enforceOptions = arguments[0];\n      if ( enforceOptions.method)\n        isInternalMethod = enforceOptions.method;\n      if ( enforceOptions.protocol)\n        isInternalProtocol = enforceOptions.protocol;\n    }\n    if (isInternal){\n      args = arguments[0].args;\n    }\n    else{\n      args = arguments;\n    }\n    if (args[2] != undefined){\n      url = args[0];\n      requestOptions = args[1];\n      cb = args[2];\n    }\n    else if(args[1] == undefined){\n      requestOptions = args[0];\n    }\n    else{\n      requestOptions = args[0];\n      cb = args[1];\n    }\n    cb = cb || function dummy(){};\n\n    if (typeof requestOptions === 'string') {\n      requestOptions = urlToOptions(new URL(requestOptions));\n      if (!requestOptions.hostname) {\n        throw new Error('Unable to determine the domain name');\n      }\n    }\n    else {\n      if (url){\n        requestOptions = _extend(urlToOptions(new URL(url)), requestOptions);\n      }\n      else{\n        requestOptions = _extend({}, requestOptions);\n      }\n    }\n\n    if (isInternalProtocol!=isInternalProtocol){\n      requestOptions.protocol = isInternalProtocol;\n    }\n\n    if (requestOptions.protocol == 'https:' && !requestOptions.port && requestOptions.port !=0)\n      requestOptions.port = 443;\n      \n    if (!requestOptions.port && requestOptions.port !=0)\n      requestOptions.port = 80;\n      \n    if (isInternalMethod){\n      requestOptions.method = isInternalMethod;\n    }\n    else if (!requestOptions.method )\n      requestOptions.method = 'GET';\n\n    requestOptions.method = requestOptions.method.toUpperCase();\n\n    const requestManager = requestOptions.requestManager || this.getGlobalManager(requestOptions);\n    requestManager.handleClientRequest(this , requestOptions , cb);\n}\nClientRequest.prototype = {\n  getGlobalManager(options){\n    if (options.agent)\n      return (options.agent.protocol == 'https:' ? HttpsRequest.globalManager : HttpRequest.globalManager);\n    else\n      return HttpRequestManager.globalManager;\n  },\n  genericStubber(method , args){\n    if (this[$stubs ]){\n      this[$stubs].push([method,args]);\n      return true;\n    }\n    else\n      return this[method](...arguments);\n  },\n  on(eventName , cb){\n    if (eventName == 'response'){\n      if (!cb.http2Safe){\n        eventName = 'http1.response';\n        arguments[0] = eventName;\n      }\n    }\n    if (this._on){\n      this._on(...arguments);\n    }\n    else\n      this.genericStubber('on' , arguments);\n\n  },\n  once(eventName , cb){\n    if (eventName == 'response'){\n      if (!cb.http2Safe){\n        eventName = 'http1.response';\n      }\n    }\n    if (this._once){\n      this._once(...arguments);\n    }\n    else\n      this.genericStubber('once' , arguments);\n\n  },\n  emitError(error) {\n    if (this[$stubs]){\n      this[$stubs].forEach(([method, args]) => {\n        if ((method === 'on' || method === 'once') && args[0] === 'error') {\n          args[1](error);\n        }\n      });\n    }\n    else\n      return this.emit('error', error);\n  },\n  take(stream){\n    //We forward all functions to the stream\n    for (var i=0;i<STUBBED_METHODS_NAME.length;i++){\n      let name = STUBBED_METHODS_NAME[i];\n      if (stream[name]){\n        this[name] = stream[name].bind(stream);\n      }\n      // else{\n      //   throw new Error(`for stub ${name} no original method found`)\n      // }\n    }\n    this._on = stream.on.bind(stream);\n    this._once = stream.once.bind(stream);\n    this.proxyProps(stream);\n    //This should come later in case of user exception\n    //We trigger the all the stubs that were generted before\n    for (let i = 0; i<this[$stubs ].length;i++){\n      var stub = this[$stubs ][i];\n      stream[stub[0]](...stub[1]);\n    }\n    this[$stubs] = null;\n  },\n  proxyProps(http2Stream){\n    function getter(){\n      return http2Stream[this];\n    }\n    function setter(value){\n      http2Stream[this] = value;\n    }\n    const notToProxy = ['on' , '_on','_once' , 'once','http2Mimic'].concat(STUBBED_METHODS_NAME);\n    const keys = Object.keys(this);\n    const keysToProxy = [].concat(PROPERTIES_TO_PROXY);\n    keys.forEach(function whichProxyKeys(key){\n      if (notToProxy.indexOf(key) == -1 && keysToProxy.indexOf(key)==-1){\n        keysToProxy.push(key)\n      }\n    });\n    const properties = Object.getOwnPropertyDescriptors(http2Stream);\n    for (var i=0;i<keysToProxy.length;i++){\n      let name = keysToProxy[i];\n      const propConfig = properties[name];\n      let shouldCopyValue;\n      if (!propConfig)\n        shouldCopyValue = true;\n      if (propConfig && (propConfig.writable || propConfig))\n        shouldCopyValue = true;\n      \n      if (shouldCopyValue)\n        http2Stream[name] = this[name];\n\n      Object.defineProperty(this , name , {\n        get : getter.bind(name),\n        set : setter.bind(name),\n      })\n    }\n      \n  }\n}\n\n\nclass HttpRequestManager extends EventEmitter{\n  constructor(options){\n    super(); \n    this.httpsAgent = https.globalAgent;\n    this.httpAgent = http.globalAgent;\n    this.init(options);\n  }\n  log(){\n  }\n  init(options){\n    options = options || {};\n    this.http2Clients = {};\n    this.cachedHTTP1Result = {};\n    this.setModules();\n    this.http2Debouncer = new DebounceTimers(function stopConnection(key){\n      this.log('stopping ' , key);\n      var foundConnection = this.http2Clients[key];\n      if (foundConnection){\n        this.removeHttp2Client(key , foundConnection)\n      }\n    }.bind(this) , 1000);\n\n    this.keepH1IdentificationCacheFor = options.keepH1IdentificationCacheFor || 30000;\n    //the debouncer will accept only values greater then zero\n    this.http2Debouncer.setDelay(options.keepH2ConnectionFor);\n    if (options.useHttp){\n      this.enforceProtocol = 'http:';\n    }\n    else if(options.useHttps){\n      this.enforceProtocol = 'https:';\n    }\n  }\n  setModules() {\n    this['http'] = require('http');\n    this['https'] = require('https');\n    this['tls'] = require('tls');\n    this['net'] = require('net');\n    this.http2Support = false;\n    try{\n      this['http2'] = require('http2');\n      this.http2Support = true;\n    }\n    catch(err){\n      //It will automatically fallback to http\n    }\n  }\n  handleClientRequest(clientRequest , requestOptions ,cb){\n    const requestManager = this;\n    const clientKey = requestManager.getClientKey(requestOptions);\n\n    if (requestManager.hasCachedConnection(clientKey)){\n      const socket = requestManager.getHttp2Client(clientKey);\n      const connectionOptions = {\n        createConnection(){\n          return socket;\n        }\n      };\n      process.nextTick(function onMakeRequest(){\n        requestManager.makeRequest( clientRequest ,clientKey  , requestOptions, cb , connectionOptions);\n      }.bind(requestManager)) \n    }\n    else \n      requestManager.holdConnectionToIdentification(clientKey , requestOptions , function onIdentification(error , connectionOptions){\n        if (error) {\n          clientRequest.emitError(error);\n          return;\n        }\n\n        requestManager.makeRequest(clientRequest , clientKey , requestOptions, cb , connectionOptions);\n      }.bind(requestManager));\n  }\n  getClientKey(url){\n    return `${url.protocol || this.enforceProtocol}${url.servername || url.host || url.hostname}:${url.port}`;\n  }\n  getHttp2Client(clientKey){\n    return this.http2Clients[clientKey];\n  }\n  setHttp2Client(clientKey , client){\n    const httpManager = this;\n    const prevClient = httpManager.http2Clients[clientKey];\n    if (prevClient)\n      httpManager.removeHttp2Client(clientKey , prevClient);\n    httpManager.http2Clients[clientKey] = client;\n\n    function closeClient(){\n      httpManager.removeHttp2Client(clientKey , client);\n    }\n    client.on('close' , closeClient);\n    client.on('goaway' , closeClient);\n    client.on('error' , closeClient);\n    client.on('frameError' , closeClient);\n    client.on('timeout' , closeClient);\n\n  }\n  removeHttp2Client(clientKey , client){\n    try{\n      delete this.http2Clients[clientKey];\n      if (!client.closed){\n        client.close();\n      }\n    }\n    catch(err){\n     \n    }\n    client.removeAllListeners('close');\n    client.removeAllListeners('error');\n    client.removeAllListeners('frameError');\n    client.removeAllListeners('timeout');\n  }\n  request(url, options, cb){\n    var args = new RequestInternalEnforce(arguments);\n    if (this.enforceProtocol){\n      args.protocol = this.enforceProtocol;\n    }\n    return new ClientRequest(args)\n  }\n  get(){\n    var args = new RequestInternalEnforce(arguments);\n    args.method = 'GET';\n    var request = this.request(args);\n    request.end();\n    return request;\n  }\n  hasCachedConnection(clientKey){\n    const http2Client = this.getHttp2Client(clientKey);  \n    if (http2Client){\n        return true;\n    }\n    return this.cachedHTTP1Result[clientKey] + this.keepH1IdentificationCacheFor < Date.now();\n  }\n  makeRequest(inStream , clientKey  , requestOptions ,cb  , connectionOptions){\n    const http2Client = this.getHttp2Client(clientKey);  \n    if (http2Client){\n        return this.makeHttp2Request(clientKey , inStream , http2Client ,Object.assign(connectionOptions || {}, requestOptions), cb);\n    }\n    //It's http1.1 let Node.JS core manage it\n    if (!requestOptions.agent){\n      if (requestOptions.protocol == 'https:')\n        requestOptions.agent = this.httpsAgent;\n      else\n        requestOptions.agent = this.httpAgent;\n    }\n    return this.makeHttpRequest(clientKey , inStream , requestOptions ,cb , connectionOptions);\n  }\n  holdConnectionToIdentification(clientKey , requestOptions  , cb){\n    const topic = `identify-${clientKey}`;\n    //If there are any pending identification process let's wait for one to finish\n    if (this._events[topic])\n      this.once(topic , cb); //There is.. let's wait\n    else{\n      //We will need to start identification\n      this.once(topic , function letKnowThereIsAnEvent(){}); //There is.. let's wait\n      const socket = this.identifyConnection(requestOptions , function onIdentify(error , type){\n        if (error) {\n          return cb(error);\n        }\n\n        var options = {\n          createConnection(){\n            return socket;\n          }\n        }\n        if ( type == 'h2' && this.http2Support){\n          var http2Client  = this.http2.connect(requestOptions ,options);\n          this.setHttp2Client(clientKey , http2Client);\n        }\n        else{\n          //This is http1.1\n          //Cache last result time\n          this.cachedHTTP1Result[clientKey] = Date.now();\n          //Continue let core handle http1.1\n        }\n        cb(null, options);\n        this.emit(topic , options);\n      }.bind(this))\n    }\n    \n  }\n  makeHttpRequest(clientKey , inStream , options , cb , connectionOptions){\n    if (options instanceof URL)\n      options = urlToOptions(options);\n\n    const h1op = _extend({} , options);\n    if (connectionOptions)\n      h1op.createConnection = connectionOptions.createConnection;\n\n    const requestModule = h1op.protocol == 'https:' ? this.https : this.http;\n    const req = requestModule.request(h1op ,cb);\n \n    inStream.take(req);\n    inStream._on('response' , function onHttp1Response(v){this.emit('http1.response' , v)})\n\n  }\n  makeHttp2Request(clientKey , inStream , http2Client , requestOptions , cb){\n      var http2Debouncer = this.http2Debouncer;\n      http2Debouncer.pause(clientKey);\n      var headers =  _extend({} , requestOptions.headers || {});\n      if (requestOptions.method)\n        headers[':method'] = requestOptions.method; \n      if (requestOptions.path)\n        headers[':path'] = requestOptions.path;\n\n      Object.keys(headers).forEach((key)=>{\n          if (HEADERS_TO_REMOVE.indexOf( (key+'').toLowerCase() ) !=-1){\n            delete headers[key];\n          }\n      })\n      requestOptions.headers = headers;\n      var req =  http2Client.request(\n        headers\n      );\n      inStream.emit('socket' , requestOptions.createConnection());\n\n      let maxContentLength;\n      let currentContent = 0;\n \n      req.on('data' , function onData(data){\n        currentContent+=data.length;\n        if (currentContent>= maxContentLength)\n          http2Debouncer.unpauseAndTime(clientKey);\n      })\n      inStream.take(req);\n      function onResponse(headers){\n        maxContentLength = parseInt(headers['content-length']);\n        if (maxContentLength < 0 )\n          this.http2Debouncer.unpauseAndTime(clientKey);\n\n        HttpRequestManager.httpCompatibleResponse(req , requestOptions , headers);\n        inStream.emit('http1.response' , req);\n        if (cb)\n          cb(req);\n      }\n      onResponse.http2Safe = true;\n      req.once('response' , onResponse.bind(this));\n  }\n  static httpCompatibleResponse(res , requestOptions , headers){\n    res.httpVersion = '2.0';\n    res.rawHeaders = headers;\n    res.headers = headers;\n    res.statusCode = headers[':status'];\n    delete headers[':status'];\n  }\n  identifyConnection(requestOptions , cb){\n    var socket = this.connect( requestOptions, { allowHTTP1: true }, function onConnect(){\n      socket.removeListener('error', cb);\n\n      if (socket.alpnProtocol == 'h2'){\n        cb(null, 'h2')\n      }\n      else{\n        //close http1.1 connection is it cannot be reused\n        socket.end();\n        cb(null, 'h1')\n      }\n    });\n    socket.on('error', cb);\n    return socket;\n  }\n  connect(authority, options, listener) {\n    if (typeof options === 'function') {\n      listener = options;\n      options = undefined;\n    }\n  \n    assertIsObject(options, 'options');\n    options = Object.assign({}, options);\n  \n    if (typeof authority === 'string')\n      authority = new URL(authority);\n  \n    assertIsObject(authority, 'authority', ['string', 'Object', 'URL']);\n  \n    var protocol = authority.protocol || options.protocol || (this.enforceProtocol != 'detect' ? this.enforceProtocol : null) || 'http:';\n    var port = '' + (authority.port !== '' ?\n      authority.port : (authority.protocol === 'http:' ? 80 : 443));\n    var host = authority.hostname || authority.host || 'localhost';\n  \n    var socket;\n    if (typeof options.createConnection === 'function') {\n      socket = options.createConnection(authority, options);\n    } else {\n      switch (protocol) {\n        case 'http:':\n           socket = this.net.connect(port, host , listener);\n          break;\n        case 'https:':\n           socket = this.tls.connect(port, host, initializeTLSOptions.call(this , options, host) , listener);\n          break;\n        default:\n          throw new Error('Not supprted' + protocol);\n      }\n    }\n    return socket;\n  }\n}\nfunction urlToOptions(url) {\n  var options = {\n    protocol: url.protocol,\n    hostname: url.hostname,\n    hash: url.hash,\n    search: url.search,\n    pathname: url.pathname,\n    path: `${url.pathname}${url.search}`,\n    href: url.href\n  };\n  if (url.port !== '') {\n    options.port = Number(url.port);\n  }\n  if (url.username || url.password) {\n    options.auth = `${url.username}:${url.password}`;\n  }\n  return options;\n}\nclass RequestInternalEnforce{\n  constructor(args){\n    if (args[0] instanceof RequestInternalEnforce){\n      return args[0];\n    }\n    this.args = args;\n    this.method = null;\n    this.protocol = null;\n  }\n}\n\nclass HttpsRequest extends HttpRequestManager{\n    constructor(){\n        super(...arguments);\n        this.Agent = https.Agent;\n        this.globalAgent = https.globalAgent;\n        this.enforceProtocol = 'https:';\n    }\n}\nconst httpsRequestSinglton = new HttpsRequest;\nHttpsRequest.globalManager = httpsRequestSinglton;\nHttpsRequest.Manager = HttpsRequest;\n\nclass HttpRequest extends HttpRequestManager{\n    constructor(){\n        super(...arguments);\n        this.Agent = http.Agent;\n        this.globalAgent = http.globalAgent;\n        this.enforceProtocol = 'http:';\n    }\n}\nconst httpRequestSinglton = new HttpRequest;\nHttpRequest.globalManager = httpRequestSinglton;\nHttpRequest.Manager = HttpRequest;\n\nconst singeltonHttpManager = new HttpRequestManager();\nsingeltonHttpManager.enforceProtocol = 'detect';\nHttpRequestManager.globalManager = singeltonHttpManager;\n\nmodule.exports = {\n  HttpRequest,\n  HttpsRequest,\n  HTTP2OutgoingMessage : ClientRequest,\n  ClientRequest,\n  HttpRequestManager\n}\n","\nconst {\n    HttpRequest,ClientRequest\n} = require('./request');\n\nconst globalManager = HttpRequest.globalManager;\nconst request = globalManager.request.bind(globalManager);\nconst get = globalManager.get.bind(globalManager);\n\nconst http = Object.assign({},require('http'));\n\nmodule.exports = Object.assign(http , {\n    ClientRequest,\n    globalManager,\n    request,\n    get\n})","\nconst {\n    HttpsRequest,\n    ClientRequest\n} = require('./request');\n\nconst globalManager = HttpsRequest.globalManager;\nconst request = globalManager.request.bind(globalManager);\nconst get = globalManager.get.bind(globalManager);\n\nconst https = Object.assign({},require('https'));\n\nmodule.exports = Object.assign(https , {\n    ClientRequest,\n    globalManager,\n    request,\n    get\n})","const {\n    HttpRequestManager , HTTP2OutgoingMessage,ClientRequest\n} = require('./request');\nconst http = require('./http');\nconst https = require('./https');\n\nconst autoDetectManager = new HttpRequestManager();\nHttpRequestManager.globalManager = autoDetectManager;\nconst request = autoDetectManager.request.bind(autoDetectManager);\nconst get = autoDetectManager.get.bind(autoDetectManager);\n\n\nmodule.exports = {\n    HTTP2OutgoingMessage,\n    ClientRequest,\n    globalManager : HttpRequestManager.globalManager ,\n    request,\n    get,\n    http: http,\n    https: https\n}","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport h2 from 'http2-client';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n// (MIT licensed)\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (body instanceof Blob) {\n\t\t// body is blob\n\t\tbody = body[BUFFER];\n\t} else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\t// body is null\n\tif (this.body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(this.body)) {\n\t\treturn Body.Promise.resolve(this.body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(this.body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\t_this4.body.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\t_this4.body.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\t_this4.body.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Response or Request instance\n */\nfunction extractContentType(body) {\n\t// istanbul ignore if: Currently, because of a guard in Request, body\n\t// can never be null. Included here for completeness.\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (body instanceof Blob) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\t// istanbul ignore if: included for completion\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name)) {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url;\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parse_url(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parse_url(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parse_url(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tif (!headers.has('Connection') && !request.agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent: request.agent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\nconst resolve_url = Url.resolve;\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = h2.request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tconst locationURL = location === null ? null : resolve_url(request.url, location);\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError };\n","'use strict';\n\nconst Char = {\n  ANCHOR: '&',\n  COMMENT: '#',\n  TAG: '!',\n  DIRECTIVES_END: '-',\n  DOCUMENT_END: '.'\n};\nconst Type = {\n  ALIAS: 'ALIAS',\n  BLANK_LINE: 'BLANK_LINE',\n  BLOCK_FOLDED: 'BLOCK_FOLDED',\n  BLOCK_LITERAL: 'BLOCK_LITERAL',\n  COMMENT: 'COMMENT',\n  DIRECTIVE: 'DIRECTIVE',\n  DOCUMENT: 'DOCUMENT',\n  FLOW_MAP: 'FLOW_MAP',\n  FLOW_SEQ: 'FLOW_SEQ',\n  MAP: 'MAP',\n  MAP_KEY: 'MAP_KEY',\n  MAP_VALUE: 'MAP_VALUE',\n  PLAIN: 'PLAIN',\n  QUOTE_DOUBLE: 'QUOTE_DOUBLE',\n  QUOTE_SINGLE: 'QUOTE_SINGLE',\n  SEQ: 'SEQ',\n  SEQ_ITEM: 'SEQ_ITEM'\n};\nconst defaultTagPrefix = 'tag:yaml.org,2002:';\nconst defaultTags = {\n  MAP: 'tag:yaml.org,2002:map',\n  SEQ: 'tag:yaml.org,2002:seq',\n  STR: 'tag:yaml.org,2002:str'\n};\n\nfunction findLineStarts(src) {\n  const ls = [0];\n  let offset = src.indexOf('\\n');\n\n  while (offset !== -1) {\n    offset += 1;\n    ls.push(offset);\n    offset = src.indexOf('\\n', offset);\n  }\n\n  return ls;\n}\n\nfunction getSrcInfo(cst) {\n  let lineStarts, src;\n\n  if (typeof cst === 'string') {\n    lineStarts = findLineStarts(cst);\n    src = cst;\n  } else {\n    if (Array.isArray(cst)) cst = cst[0];\n\n    if (cst && cst.context) {\n      if (!cst.lineStarts) cst.lineStarts = findLineStarts(cst.context.src);\n      lineStarts = cst.lineStarts;\n      src = cst.context.src;\n    }\n  }\n\n  return {\n    lineStarts,\n    src\n  };\n}\n/**\n * @typedef {Object} LinePos - One-indexed position in the source\n * @property {number} line\n * @property {number} col\n */\n\n/**\n * Determine the line/col position matching a character offset.\n *\n * Accepts a source string or a CST document as the second parameter. With\n * the latter, starting indices for lines are cached in the document as\n * `lineStarts: number[]`.\n *\n * Returns a one-indexed `{ line, col }` location if found, or\n * `undefined` otherwise.\n *\n * @param {number} offset\n * @param {string|Document|Document[]} cst\n * @returns {?LinePos}\n */\n\n\nfunction getLinePos(offset, cst) {\n  if (typeof offset !== 'number' || offset < 0) return null;\n  const {\n    lineStarts,\n    src\n  } = getSrcInfo(cst);\n  if (!lineStarts || !src || offset > src.length) return null;\n\n  for (let i = 0; i < lineStarts.length; ++i) {\n    const start = lineStarts[i];\n\n    if (offset < start) {\n      return {\n        line: i,\n        col: offset - lineStarts[i - 1] + 1\n      };\n    }\n\n    if (offset === start) return {\n      line: i + 1,\n      col: 1\n    };\n  }\n\n  const line = lineStarts.length;\n  return {\n    line,\n    col: offset - lineStarts[line - 1] + 1\n  };\n}\n/**\n * Get a specified line from the source.\n *\n * Accepts a source string or a CST document as the second parameter. With\n * the latter, starting indices for lines are cached in the document as\n * `lineStarts: number[]`.\n *\n * Returns the line as a string if found, or `null` otherwise.\n *\n * @param {number} line One-indexed line number\n * @param {string|Document|Document[]} cst\n * @returns {?string}\n */\n\nfunction getLine(line, cst) {\n  const {\n    lineStarts,\n    src\n  } = getSrcInfo(cst);\n  if (!lineStarts || !(line >= 1) || line > lineStarts.length) return null;\n  const start = lineStarts[line - 1];\n  let end = lineStarts[line]; // undefined for last line; that's ok for slice()\n\n  while (end && end > start && src[end - 1] === '\\n') --end;\n\n  return src.slice(start, end);\n}\n/**\n * Pretty-print the starting line from the source indicated by the range `pos`\n *\n * Trims output to `maxWidth` chars while keeping the starting column visible,\n * using `…` at either end to indicate dropped characters.\n *\n * Returns a two-line string (or `null`) with `\\n` as separator; the second line\n * will hold appropriately indented `^` marks indicating the column range.\n *\n * @param {Object} pos\n * @param {LinePos} pos.start\n * @param {LinePos} [pos.end]\n * @param {string|Document|Document[]*} cst\n * @param {number} [maxWidth=80]\n * @returns {?string}\n */\n\nfunction getPrettyContext({\n  start,\n  end\n}, cst, maxWidth = 80) {\n  let src = getLine(start.line, cst);\n  if (!src) return null;\n  let {\n    col\n  } = start;\n\n  if (src.length > maxWidth) {\n    if (col <= maxWidth - 10) {\n      src = src.substr(0, maxWidth - 1) + '…';\n    } else {\n      const halfWidth = Math.round(maxWidth / 2);\n      if (src.length > col + halfWidth) src = src.substr(0, col + halfWidth - 1) + '…';\n      col -= src.length - maxWidth;\n      src = '…' + src.substr(1 - maxWidth);\n    }\n  }\n\n  let errLen = 1;\n  let errEnd = '';\n\n  if (end) {\n    if (end.line === start.line && col + (end.col - start.col) <= maxWidth + 1) {\n      errLen = end.col - start.col;\n    } else {\n      errLen = Math.min(src.length + 1, maxWidth) - col;\n      errEnd = '…';\n    }\n  }\n\n  const offset = col > 1 ? ' '.repeat(col - 1) : '';\n  const err = '^'.repeat(errLen);\n  return `${src}\\n${offset}${err}${errEnd}`;\n}\n\nclass Range {\n  static copy(orig) {\n    return new Range(orig.start, orig.end);\n  }\n\n  constructor(start, end) {\n    this.start = start;\n    this.end = end || start;\n  }\n\n  isEmpty() {\n    return typeof this.start !== 'number' || !this.end || this.end <= this.start;\n  }\n  /**\n   * Set `origStart` and `origEnd` to point to the original source range for\n   * this node, which may differ due to dropped CR characters.\n   *\n   * @param {number[]} cr - Positions of dropped CR characters\n   * @param {number} offset - Starting index of `cr` from the last call\n   * @returns {number} - The next offset, matching the one found for `origStart`\n   */\n\n\n  setOrigRange(cr, offset) {\n    const {\n      start,\n      end\n    } = this;\n\n    if (cr.length === 0 || end <= cr[0]) {\n      this.origStart = start;\n      this.origEnd = end;\n      return offset;\n    }\n\n    let i = offset;\n\n    while (i < cr.length) {\n      if (cr[i] > start) break;else ++i;\n    }\n\n    this.origStart = start + i;\n    const nextOffset = i;\n\n    while (i < cr.length) {\n      // if end was at \\n, it should now be at \\r\n      if (cr[i] >= end) break;else ++i;\n    }\n\n    this.origEnd = end + i;\n    return nextOffset;\n  }\n\n}\n\n/** Root class of all nodes */\n\nclass Node {\n  static addStringTerminator(src, offset, str) {\n    if (str[str.length - 1] === '\\n') return str;\n    const next = Node.endOfWhiteSpace(src, offset);\n    return next >= src.length || src[next] === '\\n' ? str + '\\n' : str;\n  } // ^(---|...)\n\n\n  static atDocumentBoundary(src, offset, sep) {\n    const ch0 = src[offset];\n    if (!ch0) return true;\n    const prev = src[offset - 1];\n    if (prev && prev !== '\\n') return false;\n\n    if (sep) {\n      if (ch0 !== sep) return false;\n    } else {\n      if (ch0 !== Char.DIRECTIVES_END && ch0 !== Char.DOCUMENT_END) return false;\n    }\n\n    const ch1 = src[offset + 1];\n    const ch2 = src[offset + 2];\n    if (ch1 !== ch0 || ch2 !== ch0) return false;\n    const ch3 = src[offset + 3];\n    return !ch3 || ch3 === '\\n' || ch3 === '\\t' || ch3 === ' ';\n  }\n\n  static endOfIdentifier(src, offset) {\n    let ch = src[offset];\n    const isVerbatim = ch === '<';\n    const notOk = isVerbatim ? ['\\n', '\\t', ' ', '>'] : ['\\n', '\\t', ' ', '[', ']', '{', '}', ','];\n\n    while (ch && notOk.indexOf(ch) === -1) ch = src[offset += 1];\n\n    if (isVerbatim && ch === '>') offset += 1;\n    return offset;\n  }\n\n  static endOfIndent(src, offset) {\n    let ch = src[offset];\n\n    while (ch === ' ') ch = src[offset += 1];\n\n    return offset;\n  }\n\n  static endOfLine(src, offset) {\n    let ch = src[offset];\n\n    while (ch && ch !== '\\n') ch = src[offset += 1];\n\n    return offset;\n  }\n\n  static endOfWhiteSpace(src, offset) {\n    let ch = src[offset];\n\n    while (ch === '\\t' || ch === ' ') ch = src[offset += 1];\n\n    return offset;\n  }\n\n  static startOfLine(src, offset) {\n    let ch = src[offset - 1];\n    if (ch === '\\n') return offset;\n\n    while (ch && ch !== '\\n') ch = src[offset -= 1];\n\n    return offset + 1;\n  }\n  /**\n   * End of indentation, or null if the line's indent level is not more\n   * than `indent`\n   *\n   * @param {string} src\n   * @param {number} indent\n   * @param {number} lineStart\n   * @returns {?number}\n   */\n\n\n  static endOfBlockIndent(src, indent, lineStart) {\n    const inEnd = Node.endOfIndent(src, lineStart);\n\n    if (inEnd > lineStart + indent) {\n      return inEnd;\n    } else {\n      const wsEnd = Node.endOfWhiteSpace(src, inEnd);\n      const ch = src[wsEnd];\n      if (!ch || ch === '\\n') return wsEnd;\n    }\n\n    return null;\n  }\n\n  static atBlank(src, offset, endAsBlank) {\n    const ch = src[offset];\n    return ch === '\\n' || ch === '\\t' || ch === ' ' || endAsBlank && !ch;\n  }\n\n  static nextNodeIsIndented(ch, indentDiff, indicatorAsIndent) {\n    if (!ch || indentDiff < 0) return false;\n    if (indentDiff > 0) return true;\n    return indicatorAsIndent && ch === '-';\n  } // should be at line or string end, or at next non-whitespace char\n\n\n  static normalizeOffset(src, offset) {\n    const ch = src[offset];\n    return !ch ? offset : ch !== '\\n' && src[offset - 1] === '\\n' ? offset - 1 : Node.endOfWhiteSpace(src, offset);\n  } // fold single newline into space, multiple newlines to N - 1 newlines\n  // presumes src[offset] === '\\n'\n\n\n  static foldNewline(src, offset, indent) {\n    let inCount = 0;\n    let error = false;\n    let fold = '';\n    let ch = src[offset + 1];\n\n    while (ch === ' ' || ch === '\\t' || ch === '\\n') {\n      switch (ch) {\n        case '\\n':\n          inCount = 0;\n          offset += 1;\n          fold += '\\n';\n          break;\n\n        case '\\t':\n          if (inCount <= indent) error = true;\n          offset = Node.endOfWhiteSpace(src, offset + 2) - 1;\n          break;\n\n        case ' ':\n          inCount += 1;\n          offset += 1;\n          break;\n      }\n\n      ch = src[offset + 1];\n    }\n\n    if (!fold) fold = ' ';\n    if (ch && inCount <= indent) error = true;\n    return {\n      fold,\n      offset,\n      error\n    };\n  }\n\n  constructor(type, props, context) {\n    Object.defineProperty(this, 'context', {\n      value: context || null,\n      writable: true\n    });\n    this.error = null;\n    this.range = null;\n    this.valueRange = null;\n    this.props = props || [];\n    this.type = type;\n    this.value = null;\n  }\n\n  getPropValue(idx, key, skipKey) {\n    if (!this.context) return null;\n    const {\n      src\n    } = this.context;\n    const prop = this.props[idx];\n    return prop && src[prop.start] === key ? src.slice(prop.start + (skipKey ? 1 : 0), prop.end) : null;\n  }\n\n  get anchor() {\n    for (let i = 0; i < this.props.length; ++i) {\n      const anchor = this.getPropValue(i, Char.ANCHOR, true);\n      if (anchor != null) return anchor;\n    }\n\n    return null;\n  }\n\n  get comment() {\n    const comments = [];\n\n    for (let i = 0; i < this.props.length; ++i) {\n      const comment = this.getPropValue(i, Char.COMMENT, true);\n      if (comment != null) comments.push(comment);\n    }\n\n    return comments.length > 0 ? comments.join('\\n') : null;\n  }\n\n  commentHasRequiredWhitespace(start) {\n    const {\n      src\n    } = this.context;\n    if (this.header && start === this.header.end) return false;\n    if (!this.valueRange) return false;\n    const {\n      end\n    } = this.valueRange;\n    return start !== end || Node.atBlank(src, end - 1);\n  }\n\n  get hasComment() {\n    if (this.context) {\n      const {\n        src\n      } = this.context;\n\n      for (let i = 0; i < this.props.length; ++i) {\n        if (src[this.props[i].start] === Char.COMMENT) return true;\n      }\n    }\n\n    return false;\n  }\n\n  get hasProps() {\n    if (this.context) {\n      const {\n        src\n      } = this.context;\n\n      for (let i = 0; i < this.props.length; ++i) {\n        if (src[this.props[i].start] !== Char.COMMENT) return true;\n      }\n    }\n\n    return false;\n  }\n\n  get includesTrailingLines() {\n    return false;\n  }\n\n  get jsonLike() {\n    const jsonLikeTypes = [Type.FLOW_MAP, Type.FLOW_SEQ, Type.QUOTE_DOUBLE, Type.QUOTE_SINGLE];\n    return jsonLikeTypes.indexOf(this.type) !== -1;\n  }\n\n  get rangeAsLinePos() {\n    if (!this.range || !this.context) return undefined;\n    const start = getLinePos(this.range.start, this.context.root);\n    if (!start) return undefined;\n    const end = getLinePos(this.range.end, this.context.root);\n    return {\n      start,\n      end\n    };\n  }\n\n  get rawValue() {\n    if (!this.valueRange || !this.context) return null;\n    const {\n      start,\n      end\n    } = this.valueRange;\n    return this.context.src.slice(start, end);\n  }\n\n  get tag() {\n    for (let i = 0; i < this.props.length; ++i) {\n      const tag = this.getPropValue(i, Char.TAG, false);\n\n      if (tag != null) {\n        if (tag[1] === '<') {\n          return {\n            verbatim: tag.slice(2, -1)\n          };\n        } else {\n          // eslint-disable-next-line no-unused-vars\n          const [_, handle, suffix] = tag.match(/^(.*!)([^!]*)$/);\n          return {\n            handle,\n            suffix\n          };\n        }\n      }\n    }\n\n    return null;\n  }\n\n  get valueRangeContainsNewline() {\n    if (!this.valueRange || !this.context) return false;\n    const {\n      start,\n      end\n    } = this.valueRange;\n    const {\n      src\n    } = this.context;\n\n    for (let i = start; i < end; ++i) {\n      if (src[i] === '\\n') return true;\n    }\n\n    return false;\n  }\n\n  parseComment(start) {\n    const {\n      src\n    } = this.context;\n\n    if (src[start] === Char.COMMENT) {\n      const end = Node.endOfLine(src, start + 1);\n      const commentRange = new Range(start, end);\n      this.props.push(commentRange);\n      return end;\n    }\n\n    return start;\n  }\n  /**\n   * Populates the `origStart` and `origEnd` values of all ranges for this\n   * node. Extended by child classes to handle descendant nodes.\n   *\n   * @param {number[]} cr - Positions of dropped CR characters\n   * @param {number} offset - Starting index of `cr` from the last call\n   * @returns {number} - The next offset, matching the one found for `origStart`\n   */\n\n\n  setOrigRanges(cr, offset) {\n    if (this.range) offset = this.range.setOrigRange(cr, offset);\n    if (this.valueRange) this.valueRange.setOrigRange(cr, offset);\n    this.props.forEach(prop => prop.setOrigRange(cr, offset));\n    return offset;\n  }\n\n  toString() {\n    const {\n      context: {\n        src\n      },\n      range,\n      value\n    } = this;\n    if (value != null) return value;\n    const str = src.slice(range.start, range.end);\n    return Node.addStringTerminator(src, range.end, str);\n  }\n\n}\n\nclass YAMLError extends Error {\n  constructor(name, source, message) {\n    if (!message || !(source instanceof Node)) throw new Error(`Invalid arguments for new ${name}`);\n    super();\n    this.name = name;\n    this.message = message;\n    this.source = source;\n  }\n\n  makePretty() {\n    if (!this.source) return;\n    this.nodeType = this.source.type;\n    const cst = this.source.context && this.source.context.root;\n\n    if (typeof this.offset === 'number') {\n      this.range = new Range(this.offset, this.offset + 1);\n      const start = cst && getLinePos(this.offset, cst);\n\n      if (start) {\n        const end = {\n          line: start.line,\n          col: start.col + 1\n        };\n        this.linePos = {\n          start,\n          end\n        };\n      }\n\n      delete this.offset;\n    } else {\n      this.range = this.source.range;\n      this.linePos = this.source.rangeAsLinePos;\n    }\n\n    if (this.linePos) {\n      const {\n        line,\n        col\n      } = this.linePos.start;\n      this.message += ` at line ${line}, column ${col}`;\n      const ctx = cst && getPrettyContext(this.linePos, cst);\n      if (ctx) this.message += `:\\n\\n${ctx}\\n`;\n    }\n\n    delete this.source;\n  }\n\n}\nclass YAMLReferenceError extends YAMLError {\n  constructor(source, message) {\n    super('YAMLReferenceError', source, message);\n  }\n\n}\nclass YAMLSemanticError extends YAMLError {\n  constructor(source, message) {\n    super('YAMLSemanticError', source, message);\n  }\n\n}\nclass YAMLSyntaxError extends YAMLError {\n  constructor(source, message) {\n    super('YAMLSyntaxError', source, message);\n  }\n\n}\nclass YAMLWarning extends YAMLError {\n  constructor(source, message) {\n    super('YAMLWarning', source, message);\n  }\n\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nclass PlainValue extends Node {\n  static endOfLine(src, start, inFlow) {\n    let ch = src[start];\n    let offset = start;\n\n    while (ch && ch !== '\\n') {\n      if (inFlow && (ch === '[' || ch === ']' || ch === '{' || ch === '}' || ch === ',')) break;\n      const next = src[offset + 1];\n      if (ch === ':' && (!next || next === '\\n' || next === '\\t' || next === ' ' || inFlow && next === ',')) break;\n      if ((ch === ' ' || ch === '\\t') && next === '#') break;\n      offset += 1;\n      ch = next;\n    }\n\n    return offset;\n  }\n\n  get strValue() {\n    if (!this.valueRange || !this.context) return null;\n    let {\n      start,\n      end\n    } = this.valueRange;\n    const {\n      src\n    } = this.context;\n    let ch = src[end - 1];\n\n    while (start < end && (ch === '\\n' || ch === '\\t' || ch === ' ')) ch = src[--end - 1];\n\n    let str = '';\n\n    for (let i = start; i < end; ++i) {\n      const ch = src[i];\n\n      if (ch === '\\n') {\n        const {\n          fold,\n          offset\n        } = Node.foldNewline(src, i, -1);\n        str += fold;\n        i = offset;\n      } else if (ch === ' ' || ch === '\\t') {\n        // trim trailing whitespace\n        const wsStart = i;\n        let next = src[i + 1];\n\n        while (i < end && (next === ' ' || next === '\\t')) {\n          i += 1;\n          next = src[i + 1];\n        }\n\n        if (next !== '\\n') str += i > wsStart ? src.slice(wsStart, i + 1) : ch;\n      } else {\n        str += ch;\n      }\n    }\n\n    const ch0 = src[start];\n\n    switch (ch0) {\n      case '\\t':\n        {\n          const msg = 'Plain value cannot start with a tab character';\n          const errors = [new YAMLSemanticError(this, msg)];\n          return {\n            errors,\n            str\n          };\n        }\n\n      case '@':\n      case '`':\n        {\n          const msg = `Plain value cannot start with reserved character ${ch0}`;\n          const errors = [new YAMLSemanticError(this, msg)];\n          return {\n            errors,\n            str\n          };\n        }\n\n      default:\n        return str;\n    }\n  }\n\n  parseBlockValue(start) {\n    const {\n      indent,\n      inFlow,\n      src\n    } = this.context;\n    let offset = start;\n    let valueEnd = start;\n\n    for (let ch = src[offset]; ch === '\\n'; ch = src[offset]) {\n      if (Node.atDocumentBoundary(src, offset + 1)) break;\n      const end = Node.endOfBlockIndent(src, indent, offset + 1);\n      if (end === null || src[end] === '#') break;\n\n      if (src[end] === '\\n') {\n        offset = end;\n      } else {\n        valueEnd = PlainValue.endOfLine(src, end, inFlow);\n        offset = valueEnd;\n      }\n    }\n\n    if (this.valueRange.isEmpty()) this.valueRange.start = start;\n    this.valueRange.end = valueEnd;\n    return valueEnd;\n  }\n  /**\n   * Parses a plain value from the source\n   *\n   * Accepted forms are:\n   * ```\n   * #comment\n   *\n   * first line\n   *\n   * first line #comment\n   *\n   * first line\n   * block\n   * lines\n   *\n   * #comment\n   * block\n   * lines\n   * ```\n   * where block lines are empty or have an indent level greater than `indent`.\n   *\n   * @param {ParseContext} context\n   * @param {number} start - Index of first character\n   * @returns {number} - Index of the character after this scalar, may be `\\n`\n   */\n\n\n  parse(context, start) {\n    this.context = context;\n    const {\n      inFlow,\n      src\n    } = context;\n    let offset = start;\n    const ch = src[offset];\n\n    if (ch && ch !== '#' && ch !== '\\n') {\n      offset = PlainValue.endOfLine(src, start, inFlow);\n    }\n\n    this.valueRange = new Range(start, offset);\n    offset = Node.endOfWhiteSpace(src, offset);\n    offset = this.parseComment(offset);\n\n    if (!this.hasComment || this.valueRange.isEmpty()) {\n      offset = this.parseBlockValue(offset);\n    }\n\n    return offset;\n  }\n\n}\n\nexports.Char = Char;\nexports.Node = Node;\nexports.PlainValue = PlainValue;\nexports.Range = Range;\nexports.Type = Type;\nexports.YAMLError = YAMLError;\nexports.YAMLReferenceError = YAMLReferenceError;\nexports.YAMLSemanticError = YAMLSemanticError;\nexports.YAMLSyntaxError = YAMLSyntaxError;\nexports.YAMLWarning = YAMLWarning;\nexports._defineProperty = _defineProperty;\nexports.defaultTagPrefix = defaultTagPrefix;\nexports.defaultTags = defaultTags;\n","'use strict';\n\nvar PlainValue = require('./PlainValue-ec8e588e.js');\n\nclass BlankLine extends PlainValue.Node {\n  constructor() {\n    super(PlainValue.Type.BLANK_LINE);\n  }\n  /* istanbul ignore next */\n\n\n  get includesTrailingLines() {\n    // This is never called from anywhere, but if it were,\n    // this is the value it should return.\n    return true;\n  }\n  /**\n   * Parses a blank line from the source\n   *\n   * @param {ParseContext} context\n   * @param {number} start - Index of first \\n character\n   * @returns {number} - Index of the character after this\n   */\n\n\n  parse(context, start) {\n    this.context = context;\n    this.range = new PlainValue.Range(start, start + 1);\n    return start + 1;\n  }\n\n}\n\nclass CollectionItem extends PlainValue.Node {\n  constructor(type, props) {\n    super(type, props);\n    this.node = null;\n  }\n\n  get includesTrailingLines() {\n    return !!this.node && this.node.includesTrailingLines;\n  }\n  /**\n   * @param {ParseContext} context\n   * @param {number} start - Index of first character\n   * @returns {number} - Index of the character after this\n   */\n\n\n  parse(context, start) {\n    this.context = context;\n    const {\n      parseNode,\n      src\n    } = context;\n    let {\n      atLineStart,\n      lineStart\n    } = context;\n    if (!atLineStart && this.type === PlainValue.Type.SEQ_ITEM) this.error = new PlainValue.YAMLSemanticError(this, 'Sequence items must not have preceding content on the same line');\n    const indent = atLineStart ? start - lineStart : context.indent;\n    let offset = PlainValue.Node.endOfWhiteSpace(src, start + 1);\n    let ch = src[offset];\n    const inlineComment = ch === '#';\n    const comments = [];\n    let blankLine = null;\n\n    while (ch === '\\n' || ch === '#') {\n      if (ch === '#') {\n        const end = PlainValue.Node.endOfLine(src, offset + 1);\n        comments.push(new PlainValue.Range(offset, end));\n        offset = end;\n      } else {\n        atLineStart = true;\n        lineStart = offset + 1;\n        const wsEnd = PlainValue.Node.endOfWhiteSpace(src, lineStart);\n\n        if (src[wsEnd] === '\\n' && comments.length === 0) {\n          blankLine = new BlankLine();\n          lineStart = blankLine.parse({\n            src\n          }, lineStart);\n        }\n\n        offset = PlainValue.Node.endOfIndent(src, lineStart);\n      }\n\n      ch = src[offset];\n    }\n\n    if (PlainValue.Node.nextNodeIsIndented(ch, offset - (lineStart + indent), this.type !== PlainValue.Type.SEQ_ITEM)) {\n      this.node = parseNode({\n        atLineStart,\n        inCollection: false,\n        indent,\n        lineStart,\n        parent: this\n      }, offset);\n    } else if (ch && lineStart > start + 1) {\n      offset = lineStart - 1;\n    }\n\n    if (this.node) {\n      if (blankLine) {\n        // Only blank lines preceding non-empty nodes are captured. Note that\n        // this means that collection item range start indices do not always\n        // increase monotonically. -- eemeli/yaml#126\n        const items = context.parent.items || context.parent.contents;\n        if (items) items.push(blankLine);\n      }\n\n      if (comments.length) Array.prototype.push.apply(this.props, comments);\n      offset = this.node.range.end;\n    } else {\n      if (inlineComment) {\n        const c = comments[0];\n        this.props.push(c);\n        offset = c.end;\n      } else {\n        offset = PlainValue.Node.endOfLine(src, start + 1);\n      }\n    }\n\n    const end = this.node ? this.node.valueRange.end : offset;\n    this.valueRange = new PlainValue.Range(start, end);\n    return offset;\n  }\n\n  setOrigRanges(cr, offset) {\n    offset = super.setOrigRanges(cr, offset);\n    return this.node ? this.node.setOrigRanges(cr, offset) : offset;\n  }\n\n  toString() {\n    const {\n      context: {\n        src\n      },\n      node,\n      range,\n      value\n    } = this;\n    if (value != null) return value;\n    const str = node ? src.slice(range.start, node.range.start) + String(node) : src.slice(range.start, range.end);\n    return PlainValue.Node.addStringTerminator(src, range.end, str);\n  }\n\n}\n\nclass Comment extends PlainValue.Node {\n  constructor() {\n    super(PlainValue.Type.COMMENT);\n  }\n  /**\n   * Parses a comment line from the source\n   *\n   * @param {ParseContext} context\n   * @param {number} start - Index of first character\n   * @returns {number} - Index of the character after this scalar\n   */\n\n\n  parse(context, start) {\n    this.context = context;\n    const offset = this.parseComment(start);\n    this.range = new PlainValue.Range(start, offset);\n    return offset;\n  }\n\n}\n\nfunction grabCollectionEndComments(node) {\n  let cnode = node;\n\n  while (cnode instanceof CollectionItem) cnode = cnode.node;\n\n  if (!(cnode instanceof Collection)) return null;\n  const len = cnode.items.length;\n  let ci = -1;\n\n  for (let i = len - 1; i >= 0; --i) {\n    const n = cnode.items[i];\n\n    if (n.type === PlainValue.Type.COMMENT) {\n      // Keep sufficiently indented comments with preceding node\n      const {\n        indent,\n        lineStart\n      } = n.context;\n      if (indent > 0 && n.range.start >= lineStart + indent) break;\n      ci = i;\n    } else if (n.type === PlainValue.Type.BLANK_LINE) ci = i;else break;\n  }\n\n  if (ci === -1) return null;\n  const ca = cnode.items.splice(ci, len - ci);\n  const prevEnd = ca[0].range.start;\n\n  while (true) {\n    cnode.range.end = prevEnd;\n    if (cnode.valueRange && cnode.valueRange.end > prevEnd) cnode.valueRange.end = prevEnd;\n    if (cnode === node) break;\n    cnode = cnode.context.parent;\n  }\n\n  return ca;\n}\nclass Collection extends PlainValue.Node {\n  static nextContentHasIndent(src, offset, indent) {\n    const lineStart = PlainValue.Node.endOfLine(src, offset) + 1;\n    offset = PlainValue.Node.endOfWhiteSpace(src, lineStart);\n    const ch = src[offset];\n    if (!ch) return false;\n    if (offset >= lineStart + indent) return true;\n    if (ch !== '#' && ch !== '\\n') return false;\n    return Collection.nextContentHasIndent(src, offset, indent);\n  }\n\n  constructor(firstItem) {\n    super(firstItem.type === PlainValue.Type.SEQ_ITEM ? PlainValue.Type.SEQ : PlainValue.Type.MAP);\n\n    for (let i = firstItem.props.length - 1; i >= 0; --i) {\n      if (firstItem.props[i].start < firstItem.context.lineStart) {\n        // props on previous line are assumed by the collection\n        this.props = firstItem.props.slice(0, i + 1);\n        firstItem.props = firstItem.props.slice(i + 1);\n        const itemRange = firstItem.props[0] || firstItem.valueRange;\n        firstItem.range.start = itemRange.start;\n        break;\n      }\n    }\n\n    this.items = [firstItem];\n    const ec = grabCollectionEndComments(firstItem);\n    if (ec) Array.prototype.push.apply(this.items, ec);\n  }\n\n  get includesTrailingLines() {\n    return this.items.length > 0;\n  }\n  /**\n   * @param {ParseContext} context\n   * @param {number} start - Index of first character\n   * @returns {number} - Index of the character after this\n   */\n\n\n  parse(context, start) {\n    this.context = context;\n    const {\n      parseNode,\n      src\n    } = context; // It's easier to recalculate lineStart here rather than tracking down the\n    // last context from which to read it -- eemeli/yaml#2\n\n    let lineStart = PlainValue.Node.startOfLine(src, start);\n    const firstItem = this.items[0]; // First-item context needs to be correct for later comment handling\n    // -- eemeli/yaml#17\n\n    firstItem.context.parent = this;\n    this.valueRange = PlainValue.Range.copy(firstItem.valueRange);\n    const indent = firstItem.range.start - firstItem.context.lineStart;\n    let offset = start;\n    offset = PlainValue.Node.normalizeOffset(src, offset);\n    let ch = src[offset];\n    let atLineStart = PlainValue.Node.endOfWhiteSpace(src, lineStart) === offset;\n    let prevIncludesTrailingLines = false;\n\n    while (ch) {\n      while (ch === '\\n' || ch === '#') {\n        if (atLineStart && ch === '\\n' && !prevIncludesTrailingLines) {\n          const blankLine = new BlankLine();\n          offset = blankLine.parse({\n            src\n          }, offset);\n          this.valueRange.end = offset;\n\n          if (offset >= src.length) {\n            ch = null;\n            break;\n          }\n\n          this.items.push(blankLine);\n          offset -= 1; // blankLine.parse() consumes terminal newline\n        } else if (ch === '#') {\n          if (offset < lineStart + indent && !Collection.nextContentHasIndent(src, offset, indent)) {\n            return offset;\n          }\n\n          const comment = new Comment();\n          offset = comment.parse({\n            indent,\n            lineStart,\n            src\n          }, offset);\n          this.items.push(comment);\n          this.valueRange.end = offset;\n\n          if (offset >= src.length) {\n            ch = null;\n            break;\n          }\n        }\n\n        lineStart = offset + 1;\n        offset = PlainValue.Node.endOfIndent(src, lineStart);\n\n        if (PlainValue.Node.atBlank(src, offset)) {\n          const wsEnd = PlainValue.Node.endOfWhiteSpace(src, offset);\n          const next = src[wsEnd];\n\n          if (!next || next === '\\n' || next === '#') {\n            offset = wsEnd;\n          }\n        }\n\n        ch = src[offset];\n        atLineStart = true;\n      }\n\n      if (!ch) {\n        break;\n      }\n\n      if (offset !== lineStart + indent && (atLineStart || ch !== ':')) {\n        if (offset < lineStart + indent) {\n          if (lineStart > start) offset = lineStart;\n          break;\n        } else if (!this.error) {\n          const msg = 'All collection items must start at the same column';\n          this.error = new PlainValue.YAMLSyntaxError(this, msg);\n        }\n      }\n\n      if (firstItem.type === PlainValue.Type.SEQ_ITEM) {\n        if (ch !== '-') {\n          if (lineStart > start) offset = lineStart;\n          break;\n        }\n      } else if (ch === '-' && !this.error) {\n        // map key may start with -, as long as it's followed by a non-whitespace char\n        const next = src[offset + 1];\n\n        if (!next || next === '\\n' || next === '\\t' || next === ' ') {\n          const msg = 'A collection cannot be both a mapping and a sequence';\n          this.error = new PlainValue.YAMLSyntaxError(this, msg);\n        }\n      }\n\n      const node = parseNode({\n        atLineStart,\n        inCollection: true,\n        indent,\n        lineStart,\n        parent: this\n      }, offset);\n      if (!node) return offset; // at next document start\n\n      this.items.push(node);\n      this.valueRange.end = node.valueRange.end;\n      offset = PlainValue.Node.normalizeOffset(src, node.range.end);\n      ch = src[offset];\n      atLineStart = false;\n      prevIncludesTrailingLines = node.includesTrailingLines; // Need to reset lineStart and atLineStart here if preceding node's range\n      // has advanced to check the current line's indentation level\n      // -- eemeli/yaml#10 & eemeli/yaml#38\n\n      if (ch) {\n        let ls = offset - 1;\n        let prev = src[ls];\n\n        while (prev === ' ' || prev === '\\t') prev = src[--ls];\n\n        if (prev === '\\n') {\n          lineStart = ls + 1;\n          atLineStart = true;\n        }\n      }\n\n      const ec = grabCollectionEndComments(node);\n      if (ec) Array.prototype.push.apply(this.items, ec);\n    }\n\n    return offset;\n  }\n\n  setOrigRanges(cr, offset) {\n    offset = super.setOrigRanges(cr, offset);\n    this.items.forEach(node => {\n      offset = node.setOrigRanges(cr, offset);\n    });\n    return offset;\n  }\n\n  toString() {\n    const {\n      context: {\n        src\n      },\n      items,\n      range,\n      value\n    } = this;\n    if (value != null) return value;\n    let str = src.slice(range.start, items[0].range.start) + String(items[0]);\n\n    for (let i = 1; i < items.length; ++i) {\n      const item = items[i];\n      const {\n        atLineStart,\n        indent\n      } = item.context;\n      if (atLineStart) for (let i = 0; i < indent; ++i) str += ' ';\n      str += String(item);\n    }\n\n    return PlainValue.Node.addStringTerminator(src, range.end, str);\n  }\n\n}\n\nclass Directive extends PlainValue.Node {\n  constructor() {\n    super(PlainValue.Type.DIRECTIVE);\n    this.name = null;\n  }\n\n  get parameters() {\n    const raw = this.rawValue;\n    return raw ? raw.trim().split(/[ \\t]+/) : [];\n  }\n\n  parseName(start) {\n    const {\n      src\n    } = this.context;\n    let offset = start;\n    let ch = src[offset];\n\n    while (ch && ch !== '\\n' && ch !== '\\t' && ch !== ' ') ch = src[offset += 1];\n\n    this.name = src.slice(start, offset);\n    return offset;\n  }\n\n  parseParameters(start) {\n    const {\n      src\n    } = this.context;\n    let offset = start;\n    let ch = src[offset];\n\n    while (ch && ch !== '\\n' && ch !== '#') ch = src[offset += 1];\n\n    this.valueRange = new PlainValue.Range(start, offset);\n    return offset;\n  }\n\n  parse(context, start) {\n    this.context = context;\n    let offset = this.parseName(start + 1);\n    offset = this.parseParameters(offset);\n    offset = this.parseComment(offset);\n    this.range = new PlainValue.Range(start, offset);\n    return offset;\n  }\n\n}\n\nclass Document extends PlainValue.Node {\n  static startCommentOrEndBlankLine(src, start) {\n    const offset = PlainValue.Node.endOfWhiteSpace(src, start);\n    const ch = src[offset];\n    return ch === '#' || ch === '\\n' ? offset : start;\n  }\n\n  constructor() {\n    super(PlainValue.Type.DOCUMENT);\n    this.directives = null;\n    this.contents = null;\n    this.directivesEndMarker = null;\n    this.documentEndMarker = null;\n  }\n\n  parseDirectives(start) {\n    const {\n      src\n    } = this.context;\n    this.directives = [];\n    let atLineStart = true;\n    let hasDirectives = false;\n    let offset = start;\n\n    while (!PlainValue.Node.atDocumentBoundary(src, offset, PlainValue.Char.DIRECTIVES_END)) {\n      offset = Document.startCommentOrEndBlankLine(src, offset);\n\n      switch (src[offset]) {\n        case '\\n':\n          if (atLineStart) {\n            const blankLine = new BlankLine();\n            offset = blankLine.parse({\n              src\n            }, offset);\n\n            if (offset < src.length) {\n              this.directives.push(blankLine);\n            }\n          } else {\n            offset += 1;\n            atLineStart = true;\n          }\n\n          break;\n\n        case '#':\n          {\n            const comment = new Comment();\n            offset = comment.parse({\n              src\n            }, offset);\n            this.directives.push(comment);\n            atLineStart = false;\n          }\n          break;\n\n        case '%':\n          {\n            const directive = new Directive();\n            offset = directive.parse({\n              parent: this,\n              src\n            }, offset);\n            this.directives.push(directive);\n            hasDirectives = true;\n            atLineStart = false;\n          }\n          break;\n\n        default:\n          if (hasDirectives) {\n            this.error = new PlainValue.YAMLSemanticError(this, 'Missing directives-end indicator line');\n          } else if (this.directives.length > 0) {\n            this.contents = this.directives;\n            this.directives = [];\n          }\n\n          return offset;\n      }\n    }\n\n    if (src[offset]) {\n      this.directivesEndMarker = new PlainValue.Range(offset, offset + 3);\n      return offset + 3;\n    }\n\n    if (hasDirectives) {\n      this.error = new PlainValue.YAMLSemanticError(this, 'Missing directives-end indicator line');\n    } else if (this.directives.length > 0) {\n      this.contents = this.directives;\n      this.directives = [];\n    }\n\n    return offset;\n  }\n\n  parseContents(start) {\n    const {\n      parseNode,\n      src\n    } = this.context;\n    if (!this.contents) this.contents = [];\n    let lineStart = start;\n\n    while (src[lineStart - 1] === '-') lineStart -= 1;\n\n    let offset = PlainValue.Node.endOfWhiteSpace(src, start);\n    let atLineStart = lineStart === start;\n    this.valueRange = new PlainValue.Range(offset);\n\n    while (!PlainValue.Node.atDocumentBoundary(src, offset, PlainValue.Char.DOCUMENT_END)) {\n      switch (src[offset]) {\n        case '\\n':\n          if (atLineStart) {\n            const blankLine = new BlankLine();\n            offset = blankLine.parse({\n              src\n            }, offset);\n\n            if (offset < src.length) {\n              this.contents.push(blankLine);\n            }\n          } else {\n            offset += 1;\n            atLineStart = true;\n          }\n\n          lineStart = offset;\n          break;\n\n        case '#':\n          {\n            const comment = new Comment();\n            offset = comment.parse({\n              src\n            }, offset);\n            this.contents.push(comment);\n            atLineStart = false;\n          }\n          break;\n\n        default:\n          {\n            const iEnd = PlainValue.Node.endOfIndent(src, offset);\n            const context = {\n              atLineStart,\n              indent: -1,\n              inFlow: false,\n              inCollection: false,\n              lineStart,\n              parent: this\n            };\n            const node = parseNode(context, iEnd);\n            if (!node) return this.valueRange.end = iEnd; // at next document start\n\n            this.contents.push(node);\n            offset = node.range.end;\n            atLineStart = false;\n            const ec = grabCollectionEndComments(node);\n            if (ec) Array.prototype.push.apply(this.contents, ec);\n          }\n      }\n\n      offset = Document.startCommentOrEndBlankLine(src, offset);\n    }\n\n    this.valueRange.end = offset;\n\n    if (src[offset]) {\n      this.documentEndMarker = new PlainValue.Range(offset, offset + 3);\n      offset += 3;\n\n      if (src[offset]) {\n        offset = PlainValue.Node.endOfWhiteSpace(src, offset);\n\n        if (src[offset] === '#') {\n          const comment = new Comment();\n          offset = comment.parse({\n            src\n          }, offset);\n          this.contents.push(comment);\n        }\n\n        switch (src[offset]) {\n          case '\\n':\n            offset += 1;\n            break;\n\n          case undefined:\n            break;\n\n          default:\n            this.error = new PlainValue.YAMLSyntaxError(this, 'Document end marker line cannot have a non-comment suffix');\n        }\n      }\n    }\n\n    return offset;\n  }\n  /**\n   * @param {ParseContext} context\n   * @param {number} start - Index of first character\n   * @returns {number} - Index of the character after this\n   */\n\n\n  parse(context, start) {\n    context.root = this;\n    this.context = context;\n    const {\n      src\n    } = context;\n    let offset = src.charCodeAt(start) === 0xfeff ? start + 1 : start; // skip BOM\n\n    offset = this.parseDirectives(offset);\n    offset = this.parseContents(offset);\n    return offset;\n  }\n\n  setOrigRanges(cr, offset) {\n    offset = super.setOrigRanges(cr, offset);\n    this.directives.forEach(node => {\n      offset = node.setOrigRanges(cr, offset);\n    });\n    if (this.directivesEndMarker) offset = this.directivesEndMarker.setOrigRange(cr, offset);\n    this.contents.forEach(node => {\n      offset = node.setOrigRanges(cr, offset);\n    });\n    if (this.documentEndMarker) offset = this.documentEndMarker.setOrigRange(cr, offset);\n    return offset;\n  }\n\n  toString() {\n    const {\n      contents,\n      directives,\n      value\n    } = this;\n    if (value != null) return value;\n    let str = directives.join('');\n\n    if (contents.length > 0) {\n      if (directives.length > 0 || contents[0].type === PlainValue.Type.COMMENT) str += '---\\n';\n      str += contents.join('');\n    }\n\n    if (str[str.length - 1] !== '\\n') str += '\\n';\n    return str;\n  }\n\n}\n\nclass Alias extends PlainValue.Node {\n  /**\n   * Parses an *alias from the source\n   *\n   * @param {ParseContext} context\n   * @param {number} start - Index of first character\n   * @returns {number} - Index of the character after this scalar\n   */\n  parse(context, start) {\n    this.context = context;\n    const {\n      src\n    } = context;\n    let offset = PlainValue.Node.endOfIdentifier(src, start + 1);\n    this.valueRange = new PlainValue.Range(start + 1, offset);\n    offset = PlainValue.Node.endOfWhiteSpace(src, offset);\n    offset = this.parseComment(offset);\n    return offset;\n  }\n\n}\n\nconst Chomp = {\n  CLIP: 'CLIP',\n  KEEP: 'KEEP',\n  STRIP: 'STRIP'\n};\nclass BlockValue extends PlainValue.Node {\n  constructor(type, props) {\n    super(type, props);\n    this.blockIndent = null;\n    this.chomping = Chomp.CLIP;\n    this.header = null;\n  }\n\n  get includesTrailingLines() {\n    return this.chomping === Chomp.KEEP;\n  }\n\n  get strValue() {\n    if (!this.valueRange || !this.context) return null;\n    let {\n      start,\n      end\n    } = this.valueRange;\n    const {\n      indent,\n      src\n    } = this.context;\n    if (this.valueRange.isEmpty()) return '';\n    let lastNewLine = null;\n    let ch = src[end - 1];\n\n    while (ch === '\\n' || ch === '\\t' || ch === ' ') {\n      end -= 1;\n\n      if (end <= start) {\n        if (this.chomping === Chomp.KEEP) break;else return ''; // probably never happens\n      }\n\n      if (ch === '\\n') lastNewLine = end;\n      ch = src[end - 1];\n    }\n\n    let keepStart = end + 1;\n\n    if (lastNewLine) {\n      if (this.chomping === Chomp.KEEP) {\n        keepStart = lastNewLine;\n        end = this.valueRange.end;\n      } else {\n        end = lastNewLine;\n      }\n    }\n\n    const bi = indent + this.blockIndent;\n    const folded = this.type === PlainValue.Type.BLOCK_FOLDED;\n    let atStart = true;\n    let str = '';\n    let sep = '';\n    let prevMoreIndented = false;\n\n    for (let i = start; i < end; ++i) {\n      for (let j = 0; j < bi; ++j) {\n        if (src[i] !== ' ') break;\n        i += 1;\n      }\n\n      const ch = src[i];\n\n      if (ch === '\\n') {\n        if (sep === '\\n') str += '\\n';else sep = '\\n';\n      } else {\n        const lineEnd = PlainValue.Node.endOfLine(src, i);\n        const line = src.slice(i, lineEnd);\n        i = lineEnd;\n\n        if (folded && (ch === ' ' || ch === '\\t') && i < keepStart) {\n          if (sep === ' ') sep = '\\n';else if (!prevMoreIndented && !atStart && sep === '\\n') sep = '\\n\\n';\n          str += sep + line; //+ ((lineEnd < end && src[lineEnd]) || '')\n\n          sep = lineEnd < end && src[lineEnd] || '';\n          prevMoreIndented = true;\n        } else {\n          str += sep + line;\n          sep = folded && i < keepStart ? ' ' : '\\n';\n          prevMoreIndented = false;\n        }\n\n        if (atStart && line !== '') atStart = false;\n      }\n    }\n\n    return this.chomping === Chomp.STRIP ? str : str + '\\n';\n  }\n\n  parseBlockHeader(start) {\n    const {\n      src\n    } = this.context;\n    let offset = start + 1;\n    let bi = '';\n\n    while (true) {\n      const ch = src[offset];\n\n      switch (ch) {\n        case '-':\n          this.chomping = Chomp.STRIP;\n          break;\n\n        case '+':\n          this.chomping = Chomp.KEEP;\n          break;\n\n        case '0':\n        case '1':\n        case '2':\n        case '3':\n        case '4':\n        case '5':\n        case '6':\n        case '7':\n        case '8':\n        case '9':\n          bi += ch;\n          break;\n\n        default:\n          this.blockIndent = Number(bi) || null;\n          this.header = new PlainValue.Range(start, offset);\n          return offset;\n      }\n\n      offset += 1;\n    }\n  }\n\n  parseBlockValue(start) {\n    const {\n      indent,\n      src\n    } = this.context;\n    const explicit = !!this.blockIndent;\n    let offset = start;\n    let valueEnd = start;\n    let minBlockIndent = 1;\n\n    for (let ch = src[offset]; ch === '\\n'; ch = src[offset]) {\n      offset += 1;\n      if (PlainValue.Node.atDocumentBoundary(src, offset)) break;\n      const end = PlainValue.Node.endOfBlockIndent(src, indent, offset); // should not include tab?\n\n      if (end === null) break;\n      const ch = src[end];\n      const lineIndent = end - (offset + indent);\n\n      if (!this.blockIndent) {\n        // no explicit block indent, none yet detected\n        if (src[end] !== '\\n') {\n          // first line with non-whitespace content\n          if (lineIndent < minBlockIndent) {\n            const msg = 'Block scalars with more-indented leading empty lines must use an explicit indentation indicator';\n            this.error = new PlainValue.YAMLSemanticError(this, msg);\n          }\n\n          this.blockIndent = lineIndent;\n        } else if (lineIndent > minBlockIndent) {\n          // empty line with more whitespace\n          minBlockIndent = lineIndent;\n        }\n      } else if (ch && ch !== '\\n' && lineIndent < this.blockIndent) {\n        if (src[end] === '#') break;\n\n        if (!this.error) {\n          const src = explicit ? 'explicit indentation indicator' : 'first line';\n          const msg = `Block scalars must not be less indented than their ${src}`;\n          this.error = new PlainValue.YAMLSemanticError(this, msg);\n        }\n      }\n\n      if (src[end] === '\\n') {\n        offset = end;\n      } else {\n        offset = valueEnd = PlainValue.Node.endOfLine(src, end);\n      }\n    }\n\n    if (this.chomping !== Chomp.KEEP) {\n      offset = src[valueEnd] ? valueEnd + 1 : valueEnd;\n    }\n\n    this.valueRange = new PlainValue.Range(start + 1, offset);\n    return offset;\n  }\n  /**\n   * Parses a block value from the source\n   *\n   * Accepted forms are:\n   * ```\n   * BS\n   * block\n   * lines\n   *\n   * BS #comment\n   * block\n   * lines\n   * ```\n   * where the block style BS matches the regexp `[|>][-+1-9]*` and block lines\n   * are empty or have an indent level greater than `indent`.\n   *\n   * @param {ParseContext} context\n   * @param {number} start - Index of first character\n   * @returns {number} - Index of the character after this block\n   */\n\n\n  parse(context, start) {\n    this.context = context;\n    const {\n      src\n    } = context;\n    let offset = this.parseBlockHeader(start);\n    offset = PlainValue.Node.endOfWhiteSpace(src, offset);\n    offset = this.parseComment(offset);\n    offset = this.parseBlockValue(offset);\n    return offset;\n  }\n\n  setOrigRanges(cr, offset) {\n    offset = super.setOrigRanges(cr, offset);\n    return this.header ? this.header.setOrigRange(cr, offset) : offset;\n  }\n\n}\n\nclass FlowCollection extends PlainValue.Node {\n  constructor(type, props) {\n    super(type, props);\n    this.items = null;\n  }\n\n  prevNodeIsJsonLike(idx = this.items.length) {\n    const node = this.items[idx - 1];\n    return !!node && (node.jsonLike || node.type === PlainValue.Type.COMMENT && this.prevNodeIsJsonLike(idx - 1));\n  }\n  /**\n   * @param {ParseContext} context\n   * @param {number} start - Index of first character\n   * @returns {number} - Index of the character after this\n   */\n\n\n  parse(context, start) {\n    this.context = context;\n    const {\n      parseNode,\n      src\n    } = context;\n    let {\n      indent,\n      lineStart\n    } = context;\n    let char = src[start]; // { or [\n\n    this.items = [{\n      char,\n      offset: start\n    }];\n    let offset = PlainValue.Node.endOfWhiteSpace(src, start + 1);\n    char = src[offset];\n\n    while (char && char !== ']' && char !== '}') {\n      switch (char) {\n        case '\\n':\n          {\n            lineStart = offset + 1;\n            const wsEnd = PlainValue.Node.endOfWhiteSpace(src, lineStart);\n\n            if (src[wsEnd] === '\\n') {\n              const blankLine = new BlankLine();\n              lineStart = blankLine.parse({\n                src\n              }, lineStart);\n              this.items.push(blankLine);\n            }\n\n            offset = PlainValue.Node.endOfIndent(src, lineStart);\n\n            if (offset <= lineStart + indent) {\n              char = src[offset];\n\n              if (offset < lineStart + indent || char !== ']' && char !== '}') {\n                const msg = 'Insufficient indentation in flow collection';\n                this.error = new PlainValue.YAMLSemanticError(this, msg);\n              }\n            }\n          }\n          break;\n\n        case ',':\n          {\n            this.items.push({\n              char,\n              offset\n            });\n            offset += 1;\n          }\n          break;\n\n        case '#':\n          {\n            const comment = new Comment();\n            offset = comment.parse({\n              src\n            }, offset);\n            this.items.push(comment);\n          }\n          break;\n\n        case '?':\n        case ':':\n          {\n            const next = src[offset + 1];\n\n            if (next === '\\n' || next === '\\t' || next === ' ' || next === ',' || // in-flow : after JSON-like key does not need to be followed by whitespace\n            char === ':' && this.prevNodeIsJsonLike()) {\n              this.items.push({\n                char,\n                offset\n              });\n              offset += 1;\n              break;\n            }\n          }\n        // fallthrough\n\n        default:\n          {\n            const node = parseNode({\n              atLineStart: false,\n              inCollection: false,\n              inFlow: true,\n              indent: -1,\n              lineStart,\n              parent: this\n            }, offset);\n\n            if (!node) {\n              // at next document start\n              this.valueRange = new PlainValue.Range(start, offset);\n              return offset;\n            }\n\n            this.items.push(node);\n            offset = PlainValue.Node.normalizeOffset(src, node.range.end);\n          }\n      }\n\n      offset = PlainValue.Node.endOfWhiteSpace(src, offset);\n      char = src[offset];\n    }\n\n    this.valueRange = new PlainValue.Range(start, offset + 1);\n\n    if (char) {\n      this.items.push({\n        char,\n        offset\n      });\n      offset = PlainValue.Node.endOfWhiteSpace(src, offset + 1);\n      offset = this.parseComment(offset);\n    }\n\n    return offset;\n  }\n\n  setOrigRanges(cr, offset) {\n    offset = super.setOrigRanges(cr, offset);\n    this.items.forEach(node => {\n      if (node instanceof PlainValue.Node) {\n        offset = node.setOrigRanges(cr, offset);\n      } else if (cr.length === 0) {\n        node.origOffset = node.offset;\n      } else {\n        let i = offset;\n\n        while (i < cr.length) {\n          if (cr[i] > node.offset) break;else ++i;\n        }\n\n        node.origOffset = node.offset + i;\n        offset = i;\n      }\n    });\n    return offset;\n  }\n\n  toString() {\n    const {\n      context: {\n        src\n      },\n      items,\n      range,\n      value\n    } = this;\n    if (value != null) return value;\n    const nodes = items.filter(item => item instanceof PlainValue.Node);\n    let str = '';\n    let prevEnd = range.start;\n    nodes.forEach(node => {\n      const prefix = src.slice(prevEnd, node.range.start);\n      prevEnd = node.range.end;\n      str += prefix + String(node);\n\n      if (str[str.length - 1] === '\\n' && src[prevEnd - 1] !== '\\n' && src[prevEnd] === '\\n') {\n        // Comment range does not include the terminal newline, but its\n        // stringified value does. Without this fix, newlines at comment ends\n        // get duplicated.\n        prevEnd += 1;\n      }\n    });\n    str += src.slice(prevEnd, range.end);\n    return PlainValue.Node.addStringTerminator(src, range.end, str);\n  }\n\n}\n\nclass QuoteDouble extends PlainValue.Node {\n  static endOfQuote(src, offset) {\n    let ch = src[offset];\n\n    while (ch && ch !== '\"') {\n      offset += ch === '\\\\' ? 2 : 1;\n      ch = src[offset];\n    }\n\n    return offset + 1;\n  }\n  /**\n   * @returns {string | { str: string, errors: YAMLSyntaxError[] }}\n   */\n\n\n  get strValue() {\n    if (!this.valueRange || !this.context) return null;\n    const errors = [];\n    const {\n      start,\n      end\n    } = this.valueRange;\n    const {\n      indent,\n      src\n    } = this.context;\n    if (src[end - 1] !== '\"') errors.push(new PlainValue.YAMLSyntaxError(this, 'Missing closing \"quote')); // Using String#replace is too painful with escaped newlines preceded by\n    // escaped backslashes; also, this should be faster.\n\n    let str = '';\n\n    for (let i = start + 1; i < end - 1; ++i) {\n      const ch = src[i];\n\n      if (ch === '\\n') {\n        if (PlainValue.Node.atDocumentBoundary(src, i + 1)) errors.push(new PlainValue.YAMLSemanticError(this, 'Document boundary indicators are not allowed within string values'));\n        const {\n          fold,\n          offset,\n          error\n        } = PlainValue.Node.foldNewline(src, i, indent);\n        str += fold;\n        i = offset;\n        if (error) errors.push(new PlainValue.YAMLSemanticError(this, 'Multi-line double-quoted string needs to be sufficiently indented'));\n      } else if (ch === '\\\\') {\n        i += 1;\n\n        switch (src[i]) {\n          case '0':\n            str += '\\0';\n            break;\n          // null character\n\n          case 'a':\n            str += '\\x07';\n            break;\n          // bell character\n\n          case 'b':\n            str += '\\b';\n            break;\n          // backspace\n\n          case 'e':\n            str += '\\x1b';\n            break;\n          // escape character\n\n          case 'f':\n            str += '\\f';\n            break;\n          // form feed\n\n          case 'n':\n            str += '\\n';\n            break;\n          // line feed\n\n          case 'r':\n            str += '\\r';\n            break;\n          // carriage return\n\n          case 't':\n            str += '\\t';\n            break;\n          // horizontal tab\n\n          case 'v':\n            str += '\\v';\n            break;\n          // vertical tab\n\n          case 'N':\n            str += '\\u0085';\n            break;\n          // Unicode next line\n\n          case '_':\n            str += '\\u00a0';\n            break;\n          // Unicode non-breaking space\n\n          case 'L':\n            str += '\\u2028';\n            break;\n          // Unicode line separator\n\n          case 'P':\n            str += '\\u2029';\n            break;\n          // Unicode paragraph separator\n\n          case ' ':\n            str += ' ';\n            break;\n\n          case '\"':\n            str += '\"';\n            break;\n\n          case '/':\n            str += '/';\n            break;\n\n          case '\\\\':\n            str += '\\\\';\n            break;\n\n          case '\\t':\n            str += '\\t';\n            break;\n\n          case 'x':\n            str += this.parseCharCode(i + 1, 2, errors);\n            i += 2;\n            break;\n\n          case 'u':\n            str += this.parseCharCode(i + 1, 4, errors);\n            i += 4;\n            break;\n\n          case 'U':\n            str += this.parseCharCode(i + 1, 8, errors);\n            i += 8;\n            break;\n\n          case '\\n':\n            // skip escaped newlines, but still trim the following line\n            while (src[i + 1] === ' ' || src[i + 1] === '\\t') i += 1;\n\n            break;\n\n          default:\n            errors.push(new PlainValue.YAMLSyntaxError(this, `Invalid escape sequence ${src.substr(i - 1, 2)}`));\n            str += '\\\\' + src[i];\n        }\n      } else if (ch === ' ' || ch === '\\t') {\n        // trim trailing whitespace\n        const wsStart = i;\n        let next = src[i + 1];\n\n        while (next === ' ' || next === '\\t') {\n          i += 1;\n          next = src[i + 1];\n        }\n\n        if (next !== '\\n') str += i > wsStart ? src.slice(wsStart, i + 1) : ch;\n      } else {\n        str += ch;\n      }\n    }\n\n    return errors.length > 0 ? {\n      errors,\n      str\n    } : str;\n  }\n\n  parseCharCode(offset, length, errors) {\n    const {\n      src\n    } = this.context;\n    const cc = src.substr(offset, length);\n    const ok = cc.length === length && /^[0-9a-fA-F]+$/.test(cc);\n    const code = ok ? parseInt(cc, 16) : NaN;\n\n    if (isNaN(code)) {\n      errors.push(new PlainValue.YAMLSyntaxError(this, `Invalid escape sequence ${src.substr(offset - 2, length + 2)}`));\n      return src.substr(offset - 2, length + 2);\n    }\n\n    return String.fromCodePoint(code);\n  }\n  /**\n   * Parses a \"double quoted\" value from the source\n   *\n   * @param {ParseContext} context\n   * @param {number} start - Index of first character\n   * @returns {number} - Index of the character after this scalar\n   */\n\n\n  parse(context, start) {\n    this.context = context;\n    const {\n      src\n    } = context;\n    let offset = QuoteDouble.endOfQuote(src, start + 1);\n    this.valueRange = new PlainValue.Range(start, offset);\n    offset = PlainValue.Node.endOfWhiteSpace(src, offset);\n    offset = this.parseComment(offset);\n    return offset;\n  }\n\n}\n\nclass QuoteSingle extends PlainValue.Node {\n  static endOfQuote(src, offset) {\n    let ch = src[offset];\n\n    while (ch) {\n      if (ch === \"'\") {\n        if (src[offset + 1] !== \"'\") break;\n        ch = src[offset += 2];\n      } else {\n        ch = src[offset += 1];\n      }\n    }\n\n    return offset + 1;\n  }\n  /**\n   * @returns {string | { str: string, errors: YAMLSyntaxError[] }}\n   */\n\n\n  get strValue() {\n    if (!this.valueRange || !this.context) return null;\n    const errors = [];\n    const {\n      start,\n      end\n    } = this.valueRange;\n    const {\n      indent,\n      src\n    } = this.context;\n    if (src[end - 1] !== \"'\") errors.push(new PlainValue.YAMLSyntaxError(this, \"Missing closing 'quote\"));\n    let str = '';\n\n    for (let i = start + 1; i < end - 1; ++i) {\n      const ch = src[i];\n\n      if (ch === '\\n') {\n        if (PlainValue.Node.atDocumentBoundary(src, i + 1)) errors.push(new PlainValue.YAMLSemanticError(this, 'Document boundary indicators are not allowed within string values'));\n        const {\n          fold,\n          offset,\n          error\n        } = PlainValue.Node.foldNewline(src, i, indent);\n        str += fold;\n        i = offset;\n        if (error) errors.push(new PlainValue.YAMLSemanticError(this, 'Multi-line single-quoted string needs to be sufficiently indented'));\n      } else if (ch === \"'\") {\n        str += ch;\n        i += 1;\n        if (src[i] !== \"'\") errors.push(new PlainValue.YAMLSyntaxError(this, 'Unescaped single quote? This should not happen.'));\n      } else if (ch === ' ' || ch === '\\t') {\n        // trim trailing whitespace\n        const wsStart = i;\n        let next = src[i + 1];\n\n        while (next === ' ' || next === '\\t') {\n          i += 1;\n          next = src[i + 1];\n        }\n\n        if (next !== '\\n') str += i > wsStart ? src.slice(wsStart, i + 1) : ch;\n      } else {\n        str += ch;\n      }\n    }\n\n    return errors.length > 0 ? {\n      errors,\n      str\n    } : str;\n  }\n  /**\n   * Parses a 'single quoted' value from the source\n   *\n   * @param {ParseContext} context\n   * @param {number} start - Index of first character\n   * @returns {number} - Index of the character after this scalar\n   */\n\n\n  parse(context, start) {\n    this.context = context;\n    const {\n      src\n    } = context;\n    let offset = QuoteSingle.endOfQuote(src, start + 1);\n    this.valueRange = new PlainValue.Range(start, offset);\n    offset = PlainValue.Node.endOfWhiteSpace(src, offset);\n    offset = this.parseComment(offset);\n    return offset;\n  }\n\n}\n\nfunction createNewNode(type, props) {\n  switch (type) {\n    case PlainValue.Type.ALIAS:\n      return new Alias(type, props);\n\n    case PlainValue.Type.BLOCK_FOLDED:\n    case PlainValue.Type.BLOCK_LITERAL:\n      return new BlockValue(type, props);\n\n    case PlainValue.Type.FLOW_MAP:\n    case PlainValue.Type.FLOW_SEQ:\n      return new FlowCollection(type, props);\n\n    case PlainValue.Type.MAP_KEY:\n    case PlainValue.Type.MAP_VALUE:\n    case PlainValue.Type.SEQ_ITEM:\n      return new CollectionItem(type, props);\n\n    case PlainValue.Type.COMMENT:\n    case PlainValue.Type.PLAIN:\n      return new PlainValue.PlainValue(type, props);\n\n    case PlainValue.Type.QUOTE_DOUBLE:\n      return new QuoteDouble(type, props);\n\n    case PlainValue.Type.QUOTE_SINGLE:\n      return new QuoteSingle(type, props);\n\n    /* istanbul ignore next */\n\n    default:\n      return null;\n    // should never happen\n  }\n}\n/**\n * @param {boolean} atLineStart - Node starts at beginning of line\n * @param {boolean} inFlow - true if currently in a flow context\n * @param {boolean} inCollection - true if currently in a collection context\n * @param {number} indent - Current level of indentation\n * @param {number} lineStart - Start of the current line\n * @param {Node} parent - The parent of the node\n * @param {string} src - Source of the YAML document\n */\n\n\nclass ParseContext {\n  static parseType(src, offset, inFlow) {\n    switch (src[offset]) {\n      case '*':\n        return PlainValue.Type.ALIAS;\n\n      case '>':\n        return PlainValue.Type.BLOCK_FOLDED;\n\n      case '|':\n        return PlainValue.Type.BLOCK_LITERAL;\n\n      case '{':\n        return PlainValue.Type.FLOW_MAP;\n\n      case '[':\n        return PlainValue.Type.FLOW_SEQ;\n\n      case '?':\n        return !inFlow && PlainValue.Node.atBlank(src, offset + 1, true) ? PlainValue.Type.MAP_KEY : PlainValue.Type.PLAIN;\n\n      case ':':\n        return !inFlow && PlainValue.Node.atBlank(src, offset + 1, true) ? PlainValue.Type.MAP_VALUE : PlainValue.Type.PLAIN;\n\n      case '-':\n        return !inFlow && PlainValue.Node.atBlank(src, offset + 1, true) ? PlainValue.Type.SEQ_ITEM : PlainValue.Type.PLAIN;\n\n      case '\"':\n        return PlainValue.Type.QUOTE_DOUBLE;\n\n      case \"'\":\n        return PlainValue.Type.QUOTE_SINGLE;\n\n      default:\n        return PlainValue.Type.PLAIN;\n    }\n  }\n\n  constructor(orig = {}, {\n    atLineStart,\n    inCollection,\n    inFlow,\n    indent,\n    lineStart,\n    parent\n  } = {}) {\n    PlainValue._defineProperty(this, \"parseNode\", (overlay, start) => {\n      if (PlainValue.Node.atDocumentBoundary(this.src, start)) return null;\n      const context = new ParseContext(this, overlay);\n      const {\n        props,\n        type,\n        valueStart\n      } = context.parseProps(start);\n      const node = createNewNode(type, props);\n      let offset = node.parse(context, valueStart);\n      node.range = new PlainValue.Range(start, offset);\n      /* istanbul ignore if */\n\n      if (offset <= start) {\n        // This should never happen, but if it does, let's make sure to at least\n        // step one character forward to avoid a busy loop.\n        node.error = new Error(`Node#parse consumed no characters`);\n        node.error.parseEnd = offset;\n        node.error.source = node;\n        node.range.end = start + 1;\n      }\n\n      if (context.nodeStartsCollection(node)) {\n        if (!node.error && !context.atLineStart && context.parent.type === PlainValue.Type.DOCUMENT) {\n          node.error = new PlainValue.YAMLSyntaxError(node, 'Block collection must not have preceding content here (e.g. directives-end indicator)');\n        }\n\n        const collection = new Collection(node);\n        offset = collection.parse(new ParseContext(context), offset);\n        collection.range = new PlainValue.Range(start, offset);\n        return collection;\n      }\n\n      return node;\n    });\n\n    this.atLineStart = atLineStart != null ? atLineStart : orig.atLineStart || false;\n    this.inCollection = inCollection != null ? inCollection : orig.inCollection || false;\n    this.inFlow = inFlow != null ? inFlow : orig.inFlow || false;\n    this.indent = indent != null ? indent : orig.indent;\n    this.lineStart = lineStart != null ? lineStart : orig.lineStart;\n    this.parent = parent != null ? parent : orig.parent || {};\n    this.root = orig.root;\n    this.src = orig.src;\n  }\n\n  nodeStartsCollection(node) {\n    const {\n      inCollection,\n      inFlow,\n      src\n    } = this;\n    if (inCollection || inFlow) return false;\n    if (node instanceof CollectionItem) return true; // check for implicit key\n\n    let offset = node.range.end;\n    if (src[offset] === '\\n' || src[offset - 1] === '\\n') return false;\n    offset = PlainValue.Node.endOfWhiteSpace(src, offset);\n    return src[offset] === ':';\n  } // Anchor and tag are before type, which determines the node implementation\n  // class; hence this intermediate step.\n\n\n  parseProps(offset) {\n    const {\n      inFlow,\n      parent,\n      src\n    } = this;\n    const props = [];\n    let lineHasProps = false;\n    offset = this.atLineStart ? PlainValue.Node.endOfIndent(src, offset) : PlainValue.Node.endOfWhiteSpace(src, offset);\n    let ch = src[offset];\n\n    while (ch === PlainValue.Char.ANCHOR || ch === PlainValue.Char.COMMENT || ch === PlainValue.Char.TAG || ch === '\\n') {\n      if (ch === '\\n') {\n        let inEnd = offset;\n        let lineStart;\n\n        do {\n          lineStart = inEnd + 1;\n          inEnd = PlainValue.Node.endOfIndent(src, lineStart);\n        } while (src[inEnd] === '\\n');\n\n        const indentDiff = inEnd - (lineStart + this.indent);\n        const noIndicatorAsIndent = parent.type === PlainValue.Type.SEQ_ITEM && parent.context.atLineStart;\n        if (src[inEnd] !== '#' && !PlainValue.Node.nextNodeIsIndented(src[inEnd], indentDiff, !noIndicatorAsIndent)) break;\n        this.atLineStart = true;\n        this.lineStart = lineStart;\n        lineHasProps = false;\n        offset = inEnd;\n      } else if (ch === PlainValue.Char.COMMENT) {\n        const end = PlainValue.Node.endOfLine(src, offset + 1);\n        props.push(new PlainValue.Range(offset, end));\n        offset = end;\n      } else {\n        let end = PlainValue.Node.endOfIdentifier(src, offset + 1);\n\n        if (ch === PlainValue.Char.TAG && src[end] === ',' && /^[a-zA-Z0-9-]+\\.[a-zA-Z0-9-]+,\\d\\d\\d\\d(-\\d\\d){0,2}\\/\\S/.test(src.slice(offset + 1, end + 13))) {\n          // Let's presume we're dealing with a YAML 1.0 domain tag here, rather\n          // than an empty but 'foo.bar' private-tagged node in a flow collection\n          // followed without whitespace by a plain string starting with a year\n          // or date divided by something.\n          end = PlainValue.Node.endOfIdentifier(src, end + 5);\n        }\n\n        props.push(new PlainValue.Range(offset, end));\n        lineHasProps = true;\n        offset = PlainValue.Node.endOfWhiteSpace(src, end);\n      }\n\n      ch = src[offset];\n    } // '- &a : b' has an anchor on an empty node\n\n\n    if (lineHasProps && ch === ':' && PlainValue.Node.atBlank(src, offset + 1, true)) offset -= 1;\n    const type = ParseContext.parseType(src, offset, inFlow);\n    return {\n      props,\n      type,\n      valueStart: offset\n    };\n  }\n  /**\n   * Parses a node from the source\n   * @param {ParseContext} overlay\n   * @param {number} start - Index of first non-whitespace character for the node\n   * @returns {?Node} - null if at a document boundary\n   */\n\n\n}\n\n// Published as 'yaml/parse-cst'\nfunction parse(src) {\n  const cr = [];\n\n  if (src.indexOf('\\r') !== -1) {\n    src = src.replace(/\\r\\n?/g, (match, offset) => {\n      if (match.length > 1) cr.push(offset);\n      return '\\n';\n    });\n  }\n\n  const documents = [];\n  let offset = 0;\n\n  do {\n    const doc = new Document();\n    const context = new ParseContext({\n      src\n    });\n    offset = doc.parse(context, offset);\n    documents.push(doc);\n  } while (offset < src.length);\n\n  documents.setOrigRanges = () => {\n    if (cr.length === 0) return false;\n\n    for (let i = 1; i < cr.length; ++i) cr[i] -= i;\n\n    let crOffset = 0;\n\n    for (let i = 0; i < documents.length; ++i) {\n      crOffset = documents[i].setOrigRanges(cr, crOffset);\n    }\n\n    cr.splice(0, cr.length);\n    return true;\n  };\n\n  documents.toString = () => documents.join('...\\n');\n\n  return documents;\n}\n\nexports.parse = parse;\n","'use strict';\n\nvar PlainValue = require('./PlainValue-ec8e588e.js');\n\nfunction addCommentBefore(str, indent, comment) {\n  if (!comment) return str;\n  const cc = comment.replace(/[\\s\\S]^/gm, `$&${indent}#`);\n  return `#${cc}\\n${indent}${str}`;\n}\nfunction addComment(str, indent, comment) {\n  return !comment ? str : comment.indexOf('\\n') === -1 ? `${str} #${comment}` : `${str}\\n` + comment.replace(/^/gm, `${indent || ''}#`);\n}\n\nclass Node {}\n\nfunction toJSON(value, arg, ctx) {\n  if (Array.isArray(value)) return value.map((v, i) => toJSON(v, String(i), ctx));\n\n  if (value && typeof value.toJSON === 'function') {\n    const anchor = ctx && ctx.anchors && ctx.anchors.get(value);\n    if (anchor) ctx.onCreate = res => {\n      anchor.res = res;\n      delete ctx.onCreate;\n    };\n    const res = value.toJSON(arg, ctx);\n    if (anchor && ctx.onCreate) ctx.onCreate(res);\n    return res;\n  }\n\n  if ((!ctx || !ctx.keep) && typeof value === 'bigint') return Number(value);\n  return value;\n}\n\nclass Scalar extends Node {\n  constructor(value) {\n    super();\n    this.value = value;\n  }\n\n  toJSON(arg, ctx) {\n    return ctx && ctx.keep ? this.value : toJSON(this.value, arg, ctx);\n  }\n\n  toString() {\n    return String(this.value);\n  }\n\n}\n\nfunction collectionFromPath(schema, path, value) {\n  let v = value;\n\n  for (let i = path.length - 1; i >= 0; --i) {\n    const k = path[i];\n\n    if (Number.isInteger(k) && k >= 0) {\n      const a = [];\n      a[k] = v;\n      v = a;\n    } else {\n      const o = {};\n      Object.defineProperty(o, k, {\n        value: v,\n        writable: true,\n        enumerable: true,\n        configurable: true\n      });\n      v = o;\n    }\n  }\n\n  return schema.createNode(v, false);\n} // null, undefined, or an empty non-string iterable (e.g. [])\n\n\nconst isEmptyPath = path => path == null || typeof path === 'object' && path[Symbol.iterator]().next().done;\nclass Collection extends Node {\n  constructor(schema) {\n    super();\n\n    PlainValue._defineProperty(this, \"items\", []);\n\n    this.schema = schema;\n  }\n\n  addIn(path, value) {\n    if (isEmptyPath(path)) this.add(value);else {\n      const [key, ...rest] = path;\n      const node = this.get(key, true);\n      if (node instanceof Collection) node.addIn(rest, value);else if (node === undefined && this.schema) this.set(key, collectionFromPath(this.schema, rest, value));else throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n    }\n  }\n\n  deleteIn([key, ...rest]) {\n    if (rest.length === 0) return this.delete(key);\n    const node = this.get(key, true);\n    if (node instanceof Collection) return node.deleteIn(rest);else throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n  }\n\n  getIn([key, ...rest], keepScalar) {\n    const node = this.get(key, true);\n    if (rest.length === 0) return !keepScalar && node instanceof Scalar ? node.value : node;else return node instanceof Collection ? node.getIn(rest, keepScalar) : undefined;\n  }\n\n  hasAllNullValues() {\n    return this.items.every(node => {\n      if (!node || node.type !== 'PAIR') return false;\n      const n = node.value;\n      return n == null || n instanceof Scalar && n.value == null && !n.commentBefore && !n.comment && !n.tag;\n    });\n  }\n\n  hasIn([key, ...rest]) {\n    if (rest.length === 0) return this.has(key);\n    const node = this.get(key, true);\n    return node instanceof Collection ? node.hasIn(rest) : false;\n  }\n\n  setIn([key, ...rest], value) {\n    if (rest.length === 0) {\n      this.set(key, value);\n    } else {\n      const node = this.get(key, true);\n      if (node instanceof Collection) node.setIn(rest, value);else if (node === undefined && this.schema) this.set(key, collectionFromPath(this.schema, rest, value));else throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n    }\n  } // overridden in implementations\n\n  /* istanbul ignore next */\n\n\n  toJSON() {\n    return null;\n  }\n\n  toString(ctx, {\n    blockItem,\n    flowChars,\n    isMap,\n    itemIndent\n  }, onComment, onChompKeep) {\n    const {\n      indent,\n      indentStep,\n      stringify\n    } = ctx;\n    const inFlow = this.type === PlainValue.Type.FLOW_MAP || this.type === PlainValue.Type.FLOW_SEQ || ctx.inFlow;\n    if (inFlow) itemIndent += indentStep;\n    const allNullValues = isMap && this.hasAllNullValues();\n    ctx = Object.assign({}, ctx, {\n      allNullValues,\n      indent: itemIndent,\n      inFlow,\n      type: null\n    });\n    let chompKeep = false;\n    let hasItemWithNewLine = false;\n    const nodes = this.items.reduce((nodes, item, i) => {\n      let comment;\n\n      if (item) {\n        if (!chompKeep && item.spaceBefore) nodes.push({\n          type: 'comment',\n          str: ''\n        });\n        if (item.commentBefore) item.commentBefore.match(/^.*$/gm).forEach(line => {\n          nodes.push({\n            type: 'comment',\n            str: `#${line}`\n          });\n        });\n        if (item.comment) comment = item.comment;\n        if (inFlow && (!chompKeep && item.spaceBefore || item.commentBefore || item.comment || item.key && (item.key.commentBefore || item.key.comment) || item.value && (item.value.commentBefore || item.value.comment))) hasItemWithNewLine = true;\n      }\n\n      chompKeep = false;\n      let str = stringify(item, ctx, () => comment = null, () => chompKeep = true);\n      if (inFlow && !hasItemWithNewLine && str.includes('\\n')) hasItemWithNewLine = true;\n      if (inFlow && i < this.items.length - 1) str += ',';\n      str = addComment(str, itemIndent, comment);\n      if (chompKeep && (comment || inFlow)) chompKeep = false;\n      nodes.push({\n        type: 'item',\n        str\n      });\n      return nodes;\n    }, []);\n    let str;\n\n    if (nodes.length === 0) {\n      str = flowChars.start + flowChars.end;\n    } else if (inFlow) {\n      const {\n        start,\n        end\n      } = flowChars;\n      const strings = nodes.map(n => n.str);\n\n      if (hasItemWithNewLine || strings.reduce((sum, str) => sum + str.length + 2, 2) > Collection.maxFlowStringSingleLineLength) {\n        str = start;\n\n        for (const s of strings) {\n          str += s ? `\\n${indentStep}${indent}${s}` : '\\n';\n        }\n\n        str += `\\n${indent}${end}`;\n      } else {\n        str = `${start} ${strings.join(' ')} ${end}`;\n      }\n    } else {\n      const strings = nodes.map(blockItem);\n      str = strings.shift();\n\n      for (const s of strings) str += s ? `\\n${indent}${s}` : '\\n';\n    }\n\n    if (this.comment) {\n      str += '\\n' + this.comment.replace(/^/gm, `${indent}#`);\n      if (onComment) onComment();\n    } else if (chompKeep && onChompKeep) onChompKeep();\n\n    return str;\n  }\n\n}\n\nPlainValue._defineProperty(Collection, \"maxFlowStringSingleLineLength\", 60);\n\nfunction asItemIndex(key) {\n  let idx = key instanceof Scalar ? key.value : key;\n  if (idx && typeof idx === 'string') idx = Number(idx);\n  return Number.isInteger(idx) && idx >= 0 ? idx : null;\n}\n\nclass YAMLSeq extends Collection {\n  add(value) {\n    this.items.push(value);\n  }\n\n  delete(key) {\n    const idx = asItemIndex(key);\n    if (typeof idx !== 'number') return false;\n    const del = this.items.splice(idx, 1);\n    return del.length > 0;\n  }\n\n  get(key, keepScalar) {\n    const idx = asItemIndex(key);\n    if (typeof idx !== 'number') return undefined;\n    const it = this.items[idx];\n    return !keepScalar && it instanceof Scalar ? it.value : it;\n  }\n\n  has(key) {\n    const idx = asItemIndex(key);\n    return typeof idx === 'number' && idx < this.items.length;\n  }\n\n  set(key, value) {\n    const idx = asItemIndex(key);\n    if (typeof idx !== 'number') throw new Error(`Expected a valid index, not ${key}.`);\n    this.items[idx] = value;\n  }\n\n  toJSON(_, ctx) {\n    const seq = [];\n    if (ctx && ctx.onCreate) ctx.onCreate(seq);\n    let i = 0;\n\n    for (const item of this.items) seq.push(toJSON(item, String(i++), ctx));\n\n    return seq;\n  }\n\n  toString(ctx, onComment, onChompKeep) {\n    if (!ctx) return JSON.stringify(this);\n    return super.toString(ctx, {\n      blockItem: n => n.type === 'comment' ? n.str : `- ${n.str}`,\n      flowChars: {\n        start: '[',\n        end: ']'\n      },\n      isMap: false,\n      itemIndent: (ctx.indent || '') + '  '\n    }, onComment, onChompKeep);\n  }\n\n}\n\nconst stringifyKey = (key, jsKey, ctx) => {\n  if (jsKey === null) return '';\n  if (typeof jsKey !== 'object') return String(jsKey);\n  if (key instanceof Node && ctx && ctx.doc) return key.toString({\n    anchors: Object.create(null),\n    doc: ctx.doc,\n    indent: '',\n    indentStep: ctx.indentStep,\n    inFlow: true,\n    inStringifyKey: true,\n    stringify: ctx.stringify\n  });\n  return JSON.stringify(jsKey);\n};\n\nclass Pair extends Node {\n  constructor(key, value = null) {\n    super();\n    this.key = key;\n    this.value = value;\n    this.type = Pair.Type.PAIR;\n  }\n\n  get commentBefore() {\n    return this.key instanceof Node ? this.key.commentBefore : undefined;\n  }\n\n  set commentBefore(cb) {\n    if (this.key == null) this.key = new Scalar(null);\n    if (this.key instanceof Node) this.key.commentBefore = cb;else {\n      const msg = 'Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.';\n      throw new Error(msg);\n    }\n  }\n\n  addToJSMap(ctx, map) {\n    const key = toJSON(this.key, '', ctx);\n\n    if (map instanceof Map) {\n      const value = toJSON(this.value, key, ctx);\n      map.set(key, value);\n    } else if (map instanceof Set) {\n      map.add(key);\n    } else {\n      const stringKey = stringifyKey(this.key, key, ctx);\n      const value = toJSON(this.value, stringKey, ctx);\n      if (stringKey in map) Object.defineProperty(map, stringKey, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true\n      });else map[stringKey] = value;\n    }\n\n    return map;\n  }\n\n  toJSON(_, ctx) {\n    const pair = ctx && ctx.mapAsMap ? new Map() : {};\n    return this.addToJSMap(ctx, pair);\n  }\n\n  toString(ctx, onComment, onChompKeep) {\n    if (!ctx || !ctx.doc) return JSON.stringify(this);\n    const {\n      indent: indentSize,\n      indentSeq,\n      simpleKeys\n    } = ctx.doc.options;\n    let {\n      key,\n      value\n    } = this;\n    let keyComment = key instanceof Node && key.comment;\n\n    if (simpleKeys) {\n      if (keyComment) {\n        throw new Error('With simple keys, key nodes cannot have comments');\n      }\n\n      if (key instanceof Collection) {\n        const msg = 'With simple keys, collection cannot be used as a key value';\n        throw new Error(msg);\n      }\n    }\n\n    let explicitKey = !simpleKeys && (!key || keyComment || (key instanceof Node ? key instanceof Collection || key.type === PlainValue.Type.BLOCK_FOLDED || key.type === PlainValue.Type.BLOCK_LITERAL : typeof key === 'object'));\n    const {\n      doc,\n      indent,\n      indentStep,\n      stringify\n    } = ctx;\n    ctx = Object.assign({}, ctx, {\n      implicitKey: !explicitKey,\n      indent: indent + indentStep\n    });\n    let chompKeep = false;\n    let str = stringify(key, ctx, () => keyComment = null, () => chompKeep = true);\n    str = addComment(str, ctx.indent, keyComment);\n\n    if (!explicitKey && str.length > 1024) {\n      if (simpleKeys) throw new Error('With simple keys, single line scalar must not span more than 1024 characters');\n      explicitKey = true;\n    }\n\n    if (ctx.allNullValues && !simpleKeys) {\n      if (this.comment) {\n        str = addComment(str, ctx.indent, this.comment);\n        if (onComment) onComment();\n      } else if (chompKeep && !keyComment && onChompKeep) onChompKeep();\n\n      return ctx.inFlow && !explicitKey ? str : `? ${str}`;\n    }\n\n    str = explicitKey ? `? ${str}\\n${indent}:` : `${str}:`;\n\n    if (this.comment) {\n      // expected (but not strictly required) to be a single-line comment\n      str = addComment(str, ctx.indent, this.comment);\n      if (onComment) onComment();\n    }\n\n    let vcb = '';\n    let valueComment = null;\n\n    if (value instanceof Node) {\n      if (value.spaceBefore) vcb = '\\n';\n\n      if (value.commentBefore) {\n        const cs = value.commentBefore.replace(/^/gm, `${ctx.indent}#`);\n        vcb += `\\n${cs}`;\n      }\n\n      valueComment = value.comment;\n    } else if (value && typeof value === 'object') {\n      value = doc.schema.createNode(value, true);\n    }\n\n    ctx.implicitKey = false;\n    if (!explicitKey && !this.comment && value instanceof Scalar) ctx.indentAtStart = str.length + 1;\n    chompKeep = false;\n\n    if (!indentSeq && indentSize >= 2 && !ctx.inFlow && !explicitKey && value instanceof YAMLSeq && value.type !== PlainValue.Type.FLOW_SEQ && !value.tag && !doc.anchors.getName(value)) {\n      // If indentSeq === false, consider '- ' as part of indentation where possible\n      ctx.indent = ctx.indent.substr(2);\n    }\n\n    const valueStr = stringify(value, ctx, () => valueComment = null, () => chompKeep = true);\n    let ws = ' ';\n\n    if (vcb || this.comment) {\n      ws = `${vcb}\\n${ctx.indent}`;\n    } else if (!explicitKey && value instanceof Collection) {\n      const flow = valueStr[0] === '[' || valueStr[0] === '{';\n      if (!flow || valueStr.includes('\\n')) ws = `\\n${ctx.indent}`;\n    } else if (valueStr[0] === '\\n') ws = '';\n\n    if (chompKeep && !valueComment && onChompKeep) onChompKeep();\n    return addComment(str + ws + valueStr, ctx.indent, valueComment);\n  }\n\n}\n\nPlainValue._defineProperty(Pair, \"Type\", {\n  PAIR: 'PAIR',\n  MERGE_PAIR: 'MERGE_PAIR'\n});\n\nconst getAliasCount = (node, anchors) => {\n  if (node instanceof Alias) {\n    const anchor = anchors.get(node.source);\n    return anchor.count * anchor.aliasCount;\n  } else if (node instanceof Collection) {\n    let count = 0;\n\n    for (const item of node.items) {\n      const c = getAliasCount(item, anchors);\n      if (c > count) count = c;\n    }\n\n    return count;\n  } else if (node instanceof Pair) {\n    const kc = getAliasCount(node.key, anchors);\n    const vc = getAliasCount(node.value, anchors);\n    return Math.max(kc, vc);\n  }\n\n  return 1;\n};\n\nclass Alias extends Node {\n  static stringify({\n    range,\n    source\n  }, {\n    anchors,\n    doc,\n    implicitKey,\n    inStringifyKey\n  }) {\n    let anchor = Object.keys(anchors).find(a => anchors[a] === source);\n    if (!anchor && inStringifyKey) anchor = doc.anchors.getName(source) || doc.anchors.newName();\n    if (anchor) return `*${anchor}${implicitKey ? ' ' : ''}`;\n    const msg = doc.anchors.getName(source) ? 'Alias node must be after source node' : 'Source node not found for alias node';\n    throw new Error(`${msg} [${range}]`);\n  }\n\n  constructor(source) {\n    super();\n    this.source = source;\n    this.type = PlainValue.Type.ALIAS;\n  }\n\n  set tag(t) {\n    throw new Error('Alias nodes cannot have tags');\n  }\n\n  toJSON(arg, ctx) {\n    if (!ctx) return toJSON(this.source, arg, ctx);\n    const {\n      anchors,\n      maxAliasCount\n    } = ctx;\n    const anchor = anchors.get(this.source);\n    /* istanbul ignore if */\n\n    if (!anchor || anchor.res === undefined) {\n      const msg = 'This should not happen: Alias anchor was not resolved?';\n      if (this.cstNode) throw new PlainValue.YAMLReferenceError(this.cstNode, msg);else throw new ReferenceError(msg);\n    }\n\n    if (maxAliasCount >= 0) {\n      anchor.count += 1;\n      if (anchor.aliasCount === 0) anchor.aliasCount = getAliasCount(this.source, anchors);\n\n      if (anchor.count * anchor.aliasCount > maxAliasCount) {\n        const msg = 'Excessive alias count indicates a resource exhaustion attack';\n        if (this.cstNode) throw new PlainValue.YAMLReferenceError(this.cstNode, msg);else throw new ReferenceError(msg);\n      }\n    }\n\n    return anchor.res;\n  } // Only called when stringifying an alias mapping key while constructing\n  // Object output.\n\n\n  toString(ctx) {\n    return Alias.stringify(this, ctx);\n  }\n\n}\n\nPlainValue._defineProperty(Alias, \"default\", true);\n\nfunction findPair(items, key) {\n  const k = key instanceof Scalar ? key.value : key;\n\n  for (const it of items) {\n    if (it instanceof Pair) {\n      if (it.key === key || it.key === k) return it;\n      if (it.key && it.key.value === k) return it;\n    }\n  }\n\n  return undefined;\n}\nclass YAMLMap extends Collection {\n  add(pair, overwrite) {\n    if (!pair) pair = new Pair(pair);else if (!(pair instanceof Pair)) pair = new Pair(pair.key || pair, pair.value);\n    const prev = findPair(this.items, pair.key);\n    const sortEntries = this.schema && this.schema.sortMapEntries;\n\n    if (prev) {\n      if (overwrite) prev.value = pair.value;else throw new Error(`Key ${pair.key} already set`);\n    } else if (sortEntries) {\n      const i = this.items.findIndex(item => sortEntries(pair, item) < 0);\n      if (i === -1) this.items.push(pair);else this.items.splice(i, 0, pair);\n    } else {\n      this.items.push(pair);\n    }\n  }\n\n  delete(key) {\n    const it = findPair(this.items, key);\n    if (!it) return false;\n    const del = this.items.splice(this.items.indexOf(it), 1);\n    return del.length > 0;\n  }\n\n  get(key, keepScalar) {\n    const it = findPair(this.items, key);\n    const node = it && it.value;\n    return !keepScalar && node instanceof Scalar ? node.value : node;\n  }\n\n  has(key) {\n    return !!findPair(this.items, key);\n  }\n\n  set(key, value) {\n    this.add(new Pair(key, value), true);\n  }\n  /**\n   * @param {*} arg ignored\n   * @param {*} ctx Conversion context, originally set in Document#toJSON()\n   * @param {Class} Type If set, forces the returned collection type\n   * @returns {*} Instance of Type, Map, or Object\n   */\n\n\n  toJSON(_, ctx, Type) {\n    const map = Type ? new Type() : ctx && ctx.mapAsMap ? new Map() : {};\n    if (ctx && ctx.onCreate) ctx.onCreate(map);\n\n    for (const item of this.items) item.addToJSMap(ctx, map);\n\n    return map;\n  }\n\n  toString(ctx, onComment, onChompKeep) {\n    if (!ctx) return JSON.stringify(this);\n\n    for (const item of this.items) {\n      if (!(item instanceof Pair)) throw new Error(`Map items must all be pairs; found ${JSON.stringify(item)} instead`);\n    }\n\n    return super.toString(ctx, {\n      blockItem: n => n.str,\n      flowChars: {\n        start: '{',\n        end: '}'\n      },\n      isMap: true,\n      itemIndent: ctx.indent || ''\n    }, onComment, onChompKeep);\n  }\n\n}\n\nconst MERGE_KEY = '<<';\nclass Merge extends Pair {\n  constructor(pair) {\n    if (pair instanceof Pair) {\n      let seq = pair.value;\n\n      if (!(seq instanceof YAMLSeq)) {\n        seq = new YAMLSeq();\n        seq.items.push(pair.value);\n        seq.range = pair.value.range;\n      }\n\n      super(pair.key, seq);\n      this.range = pair.range;\n    } else {\n      super(new Scalar(MERGE_KEY), new YAMLSeq());\n    }\n\n    this.type = Pair.Type.MERGE_PAIR;\n  } // If the value associated with a merge key is a single mapping node, each of\n  // its key/value pairs is inserted into the current mapping, unless the key\n  // already exists in it. If the value associated with the merge key is a\n  // sequence, then this sequence is expected to contain mapping nodes and each\n  // of these nodes is merged in turn according to its order in the sequence.\n  // Keys in mapping nodes earlier in the sequence override keys specified in\n  // later mapping nodes. -- http://yaml.org/type/merge.html\n\n\n  addToJSMap(ctx, map) {\n    for (const {\n      source\n    } of this.value.items) {\n      if (!(source instanceof YAMLMap)) throw new Error('Merge sources must be maps');\n      const srcMap = source.toJSON(null, ctx, Map);\n\n      for (const [key, value] of srcMap) {\n        if (map instanceof Map) {\n          if (!map.has(key)) map.set(key, value);\n        } else if (map instanceof Set) {\n          map.add(key);\n        } else if (!Object.prototype.hasOwnProperty.call(map, key)) {\n          Object.defineProperty(map, key, {\n            value,\n            writable: true,\n            enumerable: true,\n            configurable: true\n          });\n        }\n      }\n    }\n\n    return map;\n  }\n\n  toString(ctx, onComment) {\n    const seq = this.value;\n    if (seq.items.length > 1) return super.toString(ctx, onComment);\n    this.value = seq.items[0];\n    const str = super.toString(ctx, onComment);\n    this.value = seq;\n    return str;\n  }\n\n}\n\nconst binaryOptions = {\n  defaultType: PlainValue.Type.BLOCK_LITERAL,\n  lineWidth: 76\n};\nconst boolOptions = {\n  trueStr: 'true',\n  falseStr: 'false'\n};\nconst intOptions = {\n  asBigInt: false\n};\nconst nullOptions = {\n  nullStr: 'null'\n};\nconst strOptions = {\n  defaultType: PlainValue.Type.PLAIN,\n  doubleQuoted: {\n    jsonEncoding: false,\n    minMultiLineLength: 40\n  },\n  fold: {\n    lineWidth: 80,\n    minContentWidth: 20\n  }\n};\n\nfunction resolveScalar(str, tags, scalarFallback) {\n  for (const {\n    format,\n    test,\n    resolve\n  } of tags) {\n    if (test) {\n      const match = str.match(test);\n\n      if (match) {\n        let res = resolve.apply(null, match);\n        if (!(res instanceof Scalar)) res = new Scalar(res);\n        if (format) res.format = format;\n        return res;\n      }\n    }\n  }\n\n  if (scalarFallback) str = scalarFallback(str);\n  return new Scalar(str);\n}\n\nconst FOLD_FLOW = 'flow';\nconst FOLD_BLOCK = 'block';\nconst FOLD_QUOTED = 'quoted'; // presumes i+1 is at the start of a line\n// returns index of last newline in more-indented block\n\nconst consumeMoreIndentedLines = (text, i) => {\n  let ch = text[i + 1];\n\n  while (ch === ' ' || ch === '\\t') {\n    do {\n      ch = text[i += 1];\n    } while (ch && ch !== '\\n');\n\n    ch = text[i + 1];\n  }\n\n  return i;\n};\n/**\n * Tries to keep input at up to `lineWidth` characters, splitting only on spaces\n * not followed by newlines or spaces unless `mode` is `'quoted'`. Lines are\n * terminated with `\\n` and started with `indent`.\n *\n * @param {string} text\n * @param {string} indent\n * @param {string} [mode='flow'] `'block'` prevents more-indented lines\n *   from being folded; `'quoted'` allows for `\\` escapes, including escaped\n *   newlines\n * @param {Object} options\n * @param {number} [options.indentAtStart] Accounts for leading contents on\n *   the first line, defaulting to `indent.length`\n * @param {number} [options.lineWidth=80]\n * @param {number} [options.minContentWidth=20] Allow highly indented lines to\n *   stretch the line width or indent content from the start\n * @param {function} options.onFold Called once if the text is folded\n * @param {function} options.onFold Called once if any line of text exceeds\n *   lineWidth characters\n */\n\n\nfunction foldFlowLines(text, indent, mode, {\n  indentAtStart,\n  lineWidth = 80,\n  minContentWidth = 20,\n  onFold,\n  onOverflow\n}) {\n  if (!lineWidth || lineWidth < 0) return text;\n  const endStep = Math.max(1 + minContentWidth, 1 + lineWidth - indent.length);\n  if (text.length <= endStep) return text;\n  const folds = [];\n  const escapedFolds = {};\n  let end = lineWidth - indent.length;\n\n  if (typeof indentAtStart === 'number') {\n    if (indentAtStart > lineWidth - Math.max(2, minContentWidth)) folds.push(0);else end = lineWidth - indentAtStart;\n  }\n\n  let split = undefined;\n  let prev = undefined;\n  let overflow = false;\n  let i = -1;\n  let escStart = -1;\n  let escEnd = -1;\n\n  if (mode === FOLD_BLOCK) {\n    i = consumeMoreIndentedLines(text, i);\n    if (i !== -1) end = i + endStep;\n  }\n\n  for (let ch; ch = text[i += 1];) {\n    if (mode === FOLD_QUOTED && ch === '\\\\') {\n      escStart = i;\n\n      switch (text[i + 1]) {\n        case 'x':\n          i += 3;\n          break;\n\n        case 'u':\n          i += 5;\n          break;\n\n        case 'U':\n          i += 9;\n          break;\n\n        default:\n          i += 1;\n      }\n\n      escEnd = i;\n    }\n\n    if (ch === '\\n') {\n      if (mode === FOLD_BLOCK) i = consumeMoreIndentedLines(text, i);\n      end = i + endStep;\n      split = undefined;\n    } else {\n      if (ch === ' ' && prev && prev !== ' ' && prev !== '\\n' && prev !== '\\t') {\n        // space surrounded by non-space can be replaced with newline + indent\n        const next = text[i + 1];\n        if (next && next !== ' ' && next !== '\\n' && next !== '\\t') split = i;\n      }\n\n      if (i >= end) {\n        if (split) {\n          folds.push(split);\n          end = split + endStep;\n          split = undefined;\n        } else if (mode === FOLD_QUOTED) {\n          // white-space collected at end may stretch past lineWidth\n          while (prev === ' ' || prev === '\\t') {\n            prev = ch;\n            ch = text[i += 1];\n            overflow = true;\n          } // Account for newline escape, but don't break preceding escape\n\n\n          const j = i > escEnd + 1 ? i - 2 : escStart - 1; // Bail out if lineWidth & minContentWidth are shorter than an escape string\n\n          if (escapedFolds[j]) return text;\n          folds.push(j);\n          escapedFolds[j] = true;\n          end = j + endStep;\n          split = undefined;\n        } else {\n          overflow = true;\n        }\n      }\n    }\n\n    prev = ch;\n  }\n\n  if (overflow && onOverflow) onOverflow();\n  if (folds.length === 0) return text;\n  if (onFold) onFold();\n  let res = text.slice(0, folds[0]);\n\n  for (let i = 0; i < folds.length; ++i) {\n    const fold = folds[i];\n    const end = folds[i + 1] || text.length;\n    if (fold === 0) res = `\\n${indent}${text.slice(0, end)}`;else {\n      if (mode === FOLD_QUOTED && escapedFolds[fold]) res += `${text[fold]}\\\\`;\n      res += `\\n${indent}${text.slice(fold + 1, end)}`;\n    }\n  }\n\n  return res;\n}\n\nconst getFoldOptions = ({\n  indentAtStart\n}) => indentAtStart ? Object.assign({\n  indentAtStart\n}, strOptions.fold) : strOptions.fold; // Also checks for lines starting with %, as parsing the output as YAML 1.1 will\n// presume that's starting a new document.\n\n\nconst containsDocumentMarker = str => /^(%|---|\\.\\.\\.)/m.test(str);\n\nfunction lineLengthOverLimit(str, lineWidth, indentLength) {\n  if (!lineWidth || lineWidth < 0) return false;\n  const limit = lineWidth - indentLength;\n  const strLen = str.length;\n  if (strLen <= limit) return false;\n\n  for (let i = 0, start = 0; i < strLen; ++i) {\n    if (str[i] === '\\n') {\n      if (i - start > limit) return true;\n      start = i + 1;\n      if (strLen - start <= limit) return false;\n    }\n  }\n\n  return true;\n}\n\nfunction doubleQuotedString(value, ctx) {\n  const {\n    implicitKey\n  } = ctx;\n  const {\n    jsonEncoding,\n    minMultiLineLength\n  } = strOptions.doubleQuoted;\n  const json = JSON.stringify(value);\n  if (jsonEncoding) return json;\n  const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\n  let str = '';\n  let start = 0;\n\n  for (let i = 0, ch = json[i]; ch; ch = json[++i]) {\n    if (ch === ' ' && json[i + 1] === '\\\\' && json[i + 2] === 'n') {\n      // space before newline needs to be escaped to not be folded\n      str += json.slice(start, i) + '\\\\ ';\n      i += 1;\n      start = i;\n      ch = '\\\\';\n    }\n\n    if (ch === '\\\\') switch (json[i + 1]) {\n      case 'u':\n        {\n          str += json.slice(start, i);\n          const code = json.substr(i + 2, 4);\n\n          switch (code) {\n            case '0000':\n              str += '\\\\0';\n              break;\n\n            case '0007':\n              str += '\\\\a';\n              break;\n\n            case '000b':\n              str += '\\\\v';\n              break;\n\n            case '001b':\n              str += '\\\\e';\n              break;\n\n            case '0085':\n              str += '\\\\N';\n              break;\n\n            case '00a0':\n              str += '\\\\_';\n              break;\n\n            case '2028':\n              str += '\\\\L';\n              break;\n\n            case '2029':\n              str += '\\\\P';\n              break;\n\n            default:\n              if (code.substr(0, 2) === '00') str += '\\\\x' + code.substr(2);else str += json.substr(i, 6);\n          }\n\n          i += 5;\n          start = i + 1;\n        }\n        break;\n\n      case 'n':\n        if (implicitKey || json[i + 2] === '\"' || json.length < minMultiLineLength) {\n          i += 1;\n        } else {\n          // folding will eat first newline\n          str += json.slice(start, i) + '\\n\\n';\n\n          while (json[i + 2] === '\\\\' && json[i + 3] === 'n' && json[i + 4] !== '\"') {\n            str += '\\n';\n            i += 2;\n          }\n\n          str += indent; // space after newline needs to be escaped to not be folded\n\n          if (json[i + 2] === ' ') str += '\\\\';\n          i += 1;\n          start = i + 1;\n        }\n\n        break;\n\n      default:\n        i += 1;\n    }\n  }\n\n  str = start ? str + json.slice(start) : json;\n  return implicitKey ? str : foldFlowLines(str, indent, FOLD_QUOTED, getFoldOptions(ctx));\n}\n\nfunction singleQuotedString(value, ctx) {\n  if (ctx.implicitKey) {\n    if (/\\n/.test(value)) return doubleQuotedString(value, ctx);\n  } else {\n    // single quoted string can't have leading or trailing whitespace around newline\n    if (/[ \\t]\\n|\\n[ \\t]/.test(value)) return doubleQuotedString(value, ctx);\n  }\n\n  const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\n  const res = \"'\" + value.replace(/'/g, \"''\").replace(/\\n+/g, `$&\\n${indent}`) + \"'\";\n  return ctx.implicitKey ? res : foldFlowLines(res, indent, FOLD_FLOW, getFoldOptions(ctx));\n}\n\nfunction blockString({\n  comment,\n  type,\n  value\n}, ctx, onComment, onChompKeep) {\n  // 1. Block can't end in whitespace unless the last line is non-empty.\n  // 2. Strings consisting of only whitespace are best rendered explicitly.\n  if (/\\n[\\t ]+$/.test(value) || /^\\s*$/.test(value)) {\n    return doubleQuotedString(value, ctx);\n  }\n\n  const indent = ctx.indent || (ctx.forceBlockIndent || containsDocumentMarker(value) ? '  ' : '');\n  const indentSize = indent ? '2' : '1'; // root is at -1\n\n  const literal = type === PlainValue.Type.BLOCK_FOLDED ? false : type === PlainValue.Type.BLOCK_LITERAL ? true : !lineLengthOverLimit(value, strOptions.fold.lineWidth, indent.length);\n  let header = literal ? '|' : '>';\n  if (!value) return header + '\\n';\n  let wsStart = '';\n  let wsEnd = '';\n  value = value.replace(/[\\n\\t ]*$/, ws => {\n    const n = ws.indexOf('\\n');\n\n    if (n === -1) {\n      header += '-'; // strip\n    } else if (value === ws || n !== ws.length - 1) {\n      header += '+'; // keep\n\n      if (onChompKeep) onChompKeep();\n    }\n\n    wsEnd = ws.replace(/\\n$/, '');\n    return '';\n  }).replace(/^[\\n ]*/, ws => {\n    if (ws.indexOf(' ') !== -1) header += indentSize;\n    const m = ws.match(/ +$/);\n\n    if (m) {\n      wsStart = ws.slice(0, -m[0].length);\n      return m[0];\n    } else {\n      wsStart = ws;\n      return '';\n    }\n  });\n  if (wsEnd) wsEnd = wsEnd.replace(/\\n+(?!\\n|$)/g, `$&${indent}`);\n  if (wsStart) wsStart = wsStart.replace(/\\n+/g, `$&${indent}`);\n\n  if (comment) {\n    header += ' #' + comment.replace(/ ?[\\r\\n]+/g, ' ');\n    if (onComment) onComment();\n  }\n\n  if (!value) return `${header}${indentSize}\\n${indent}${wsEnd}`;\n\n  if (literal) {\n    value = value.replace(/\\n+/g, `$&${indent}`);\n    return `${header}\\n${indent}${wsStart}${value}${wsEnd}`;\n  }\n\n  value = value.replace(/\\n+/g, '\\n$&').replace(/(?:^|\\n)([\\t ].*)(?:([\\n\\t ]*)\\n(?![\\n\\t ]))?/g, '$1$2') // more-indented lines aren't folded\n  //         ^ ind.line  ^ empty     ^ capture next empty lines only at end of indent\n  .replace(/\\n+/g, `$&${indent}`);\n  const body = foldFlowLines(`${wsStart}${value}${wsEnd}`, indent, FOLD_BLOCK, strOptions.fold);\n  return `${header}\\n${indent}${body}`;\n}\n\nfunction plainString(item, ctx, onComment, onChompKeep) {\n  const {\n    comment,\n    type,\n    value\n  } = item;\n  const {\n    actualString,\n    implicitKey,\n    indent,\n    inFlow\n  } = ctx;\n\n  if (implicitKey && /[\\n[\\]{},]/.test(value) || inFlow && /[[\\]{},]/.test(value)) {\n    return doubleQuotedString(value, ctx);\n  }\n\n  if (!value || /^[\\n\\t ,[\\]{}#&*!|>'\"%@`]|^[?-]$|^[?-][ \\t]|[\\n:][ \\t]|[ \\t]\\n|[\\n\\t ]#|[\\n\\t :]$/.test(value)) {\n    // not allowed:\n    // - empty string, '-' or '?'\n    // - start with an indicator character (except [?:-]) or /[?-] /\n    // - '\\n ', ': ' or ' \\n' anywhere\n    // - '#' not preceded by a non-space char\n    // - end with ' ' or ':'\n    return implicitKey || inFlow || value.indexOf('\\n') === -1 ? value.indexOf('\"') !== -1 && value.indexOf(\"'\") === -1 ? singleQuotedString(value, ctx) : doubleQuotedString(value, ctx) : blockString(item, ctx, onComment, onChompKeep);\n  }\n\n  if (!implicitKey && !inFlow && type !== PlainValue.Type.PLAIN && value.indexOf('\\n') !== -1) {\n    // Where allowed & type not set explicitly, prefer block style for multiline strings\n    return blockString(item, ctx, onComment, onChompKeep);\n  }\n\n  if (indent === '' && containsDocumentMarker(value)) {\n    ctx.forceBlockIndent = true;\n    return blockString(item, ctx, onComment, onChompKeep);\n  }\n\n  const str = value.replace(/\\n+/g, `$&\\n${indent}`); // Verify that output will be parsed as a string, as e.g. plain numbers and\n  // booleans get parsed with those types in v1.2 (e.g. '42', 'true' & '0.9e-3'),\n  // and others in v1.1.\n\n  if (actualString) {\n    const {\n      tags\n    } = ctx.doc.schema;\n    const resolved = resolveScalar(str, tags, tags.scalarFallback).value;\n    if (typeof resolved !== 'string') return doubleQuotedString(value, ctx);\n  }\n\n  const body = implicitKey ? str : foldFlowLines(str, indent, FOLD_FLOW, getFoldOptions(ctx));\n\n  if (comment && !inFlow && (body.indexOf('\\n') !== -1 || comment.indexOf('\\n') !== -1)) {\n    if (onComment) onComment();\n    return addCommentBefore(body, indent, comment);\n  }\n\n  return body;\n}\n\nfunction stringifyString(item, ctx, onComment, onChompKeep) {\n  const {\n    defaultType\n  } = strOptions;\n  const {\n    implicitKey,\n    inFlow\n  } = ctx;\n  let {\n    type,\n    value\n  } = item;\n\n  if (typeof value !== 'string') {\n    value = String(value);\n    item = Object.assign({}, item, {\n      value\n    });\n  }\n\n  const _stringify = _type => {\n    switch (_type) {\n      case PlainValue.Type.BLOCK_FOLDED:\n      case PlainValue.Type.BLOCK_LITERAL:\n        return blockString(item, ctx, onComment, onChompKeep);\n\n      case PlainValue.Type.QUOTE_DOUBLE:\n        return doubleQuotedString(value, ctx);\n\n      case PlainValue.Type.QUOTE_SINGLE:\n        return singleQuotedString(value, ctx);\n\n      case PlainValue.Type.PLAIN:\n        return plainString(item, ctx, onComment, onChompKeep);\n\n      default:\n        return null;\n    }\n  };\n\n  if (type !== PlainValue.Type.QUOTE_DOUBLE && /[\\x00-\\x08\\x0b-\\x1f\\x7f-\\x9f]/.test(value)) {\n    // force double quotes on control characters\n    type = PlainValue.Type.QUOTE_DOUBLE;\n  } else if ((implicitKey || inFlow) && (type === PlainValue.Type.BLOCK_FOLDED || type === PlainValue.Type.BLOCK_LITERAL)) {\n    // should not happen; blocks are not valid inside flow containers\n    type = PlainValue.Type.QUOTE_DOUBLE;\n  }\n\n  let res = _stringify(type);\n\n  if (res === null) {\n    res = _stringify(defaultType);\n    if (res === null) throw new Error(`Unsupported default string type ${defaultType}`);\n  }\n\n  return res;\n}\n\nfunction stringifyNumber({\n  format,\n  minFractionDigits,\n  tag,\n  value\n}) {\n  if (typeof value === 'bigint') return String(value);\n  if (!isFinite(value)) return isNaN(value) ? '.nan' : value < 0 ? '-.inf' : '.inf';\n  let n = JSON.stringify(value);\n\n  if (!format && minFractionDigits && (!tag || tag === 'tag:yaml.org,2002:float') && /^\\d/.test(n)) {\n    let i = n.indexOf('.');\n\n    if (i < 0) {\n      i = n.length;\n      n += '.';\n    }\n\n    let d = minFractionDigits - (n.length - i - 1);\n\n    while (d-- > 0) n += '0';\n  }\n\n  return n;\n}\n\nfunction checkFlowCollectionEnd(errors, cst) {\n  let char, name;\n\n  switch (cst.type) {\n    case PlainValue.Type.FLOW_MAP:\n      char = '}';\n      name = 'flow map';\n      break;\n\n    case PlainValue.Type.FLOW_SEQ:\n      char = ']';\n      name = 'flow sequence';\n      break;\n\n    default:\n      errors.push(new PlainValue.YAMLSemanticError(cst, 'Not a flow collection!?'));\n      return;\n  }\n\n  let lastItem;\n\n  for (let i = cst.items.length - 1; i >= 0; --i) {\n    const item = cst.items[i];\n\n    if (!item || item.type !== PlainValue.Type.COMMENT) {\n      lastItem = item;\n      break;\n    }\n  }\n\n  if (lastItem && lastItem.char !== char) {\n    const msg = `Expected ${name} to end with ${char}`;\n    let err;\n\n    if (typeof lastItem.offset === 'number') {\n      err = new PlainValue.YAMLSemanticError(cst, msg);\n      err.offset = lastItem.offset + 1;\n    } else {\n      err = new PlainValue.YAMLSemanticError(lastItem, msg);\n      if (lastItem.range && lastItem.range.end) err.offset = lastItem.range.end - lastItem.range.start;\n    }\n\n    errors.push(err);\n  }\n}\nfunction checkFlowCommentSpace(errors, comment) {\n  const prev = comment.context.src[comment.range.start - 1];\n\n  if (prev !== '\\n' && prev !== '\\t' && prev !== ' ') {\n    const msg = 'Comments must be separated from other tokens by white space characters';\n    errors.push(new PlainValue.YAMLSemanticError(comment, msg));\n  }\n}\nfunction getLongKeyError(source, key) {\n  const sk = String(key);\n  const k = sk.substr(0, 8) + '...' + sk.substr(-8);\n  return new PlainValue.YAMLSemanticError(source, `The \"${k}\" key is too long`);\n}\nfunction resolveComments(collection, comments) {\n  for (const {\n    afterKey,\n    before,\n    comment\n  } of comments) {\n    let item = collection.items[before];\n\n    if (!item) {\n      if (comment !== undefined) {\n        if (collection.comment) collection.comment += '\\n' + comment;else collection.comment = comment;\n      }\n    } else {\n      if (afterKey && item.value) item = item.value;\n\n      if (comment === undefined) {\n        if (afterKey || !item.commentBefore) item.spaceBefore = true;\n      } else {\n        if (item.commentBefore) item.commentBefore += '\\n' + comment;else item.commentBefore = comment;\n      }\n    }\n  }\n}\n\n// on error, will return { str: string, errors: Error[] }\nfunction resolveString(doc, node) {\n  const res = node.strValue;\n  if (!res) return '';\n  if (typeof res === 'string') return res;\n  res.errors.forEach(error => {\n    if (!error.source) error.source = node;\n    doc.errors.push(error);\n  });\n  return res.str;\n}\n\nfunction resolveTagHandle(doc, node) {\n  const {\n    handle,\n    suffix\n  } = node.tag;\n  let prefix = doc.tagPrefixes.find(p => p.handle === handle);\n\n  if (!prefix) {\n    const dtp = doc.getDefaults().tagPrefixes;\n    if (dtp) prefix = dtp.find(p => p.handle === handle);\n    if (!prefix) throw new PlainValue.YAMLSemanticError(node, `The ${handle} tag handle is non-default and was not declared.`);\n  }\n\n  if (!suffix) throw new PlainValue.YAMLSemanticError(node, `The ${handle} tag has no suffix.`);\n\n  if (handle === '!' && (doc.version || doc.options.version) === '1.0') {\n    if (suffix[0] === '^') {\n      doc.warnings.push(new PlainValue.YAMLWarning(node, 'YAML 1.0 ^ tag expansion is not supported'));\n      return suffix;\n    }\n\n    if (/[:/]/.test(suffix)) {\n      // word/foo -> tag:word.yaml.org,2002:foo\n      const vocab = suffix.match(/^([a-z0-9-]+)\\/(.*)/i);\n      return vocab ? `tag:${vocab[1]}.yaml.org,2002:${vocab[2]}` : `tag:${suffix}`;\n    }\n  }\n\n  return prefix.prefix + decodeURIComponent(suffix);\n}\n\nfunction resolveTagName(doc, node) {\n  const {\n    tag,\n    type\n  } = node;\n  let nonSpecific = false;\n\n  if (tag) {\n    const {\n      handle,\n      suffix,\n      verbatim\n    } = tag;\n\n    if (verbatim) {\n      if (verbatim !== '!' && verbatim !== '!!') return verbatim;\n      const msg = `Verbatim tags aren't resolved, so ${verbatim} is invalid.`;\n      doc.errors.push(new PlainValue.YAMLSemanticError(node, msg));\n    } else if (handle === '!' && !suffix) {\n      nonSpecific = true;\n    } else {\n      try {\n        return resolveTagHandle(doc, node);\n      } catch (error) {\n        doc.errors.push(error);\n      }\n    }\n  }\n\n  switch (type) {\n    case PlainValue.Type.BLOCK_FOLDED:\n    case PlainValue.Type.BLOCK_LITERAL:\n    case PlainValue.Type.QUOTE_DOUBLE:\n    case PlainValue.Type.QUOTE_SINGLE:\n      return PlainValue.defaultTags.STR;\n\n    case PlainValue.Type.FLOW_MAP:\n    case PlainValue.Type.MAP:\n      return PlainValue.defaultTags.MAP;\n\n    case PlainValue.Type.FLOW_SEQ:\n    case PlainValue.Type.SEQ:\n      return PlainValue.defaultTags.SEQ;\n\n    case PlainValue.Type.PLAIN:\n      return nonSpecific ? PlainValue.defaultTags.STR : null;\n\n    default:\n      return null;\n  }\n}\n\nfunction resolveByTagName(doc, node, tagName) {\n  const {\n    tags\n  } = doc.schema;\n  const matchWithTest = [];\n\n  for (const tag of tags) {\n    if (tag.tag === tagName) {\n      if (tag.test) matchWithTest.push(tag);else {\n        const res = tag.resolve(doc, node);\n        return res instanceof Collection ? res : new Scalar(res);\n      }\n    }\n  }\n\n  const str = resolveString(doc, node);\n  if (typeof str === 'string' && matchWithTest.length > 0) return resolveScalar(str, matchWithTest, tags.scalarFallback);\n  return null;\n}\n\nfunction getFallbackTagName({\n  type\n}) {\n  switch (type) {\n    case PlainValue.Type.FLOW_MAP:\n    case PlainValue.Type.MAP:\n      return PlainValue.defaultTags.MAP;\n\n    case PlainValue.Type.FLOW_SEQ:\n    case PlainValue.Type.SEQ:\n      return PlainValue.defaultTags.SEQ;\n\n    default:\n      return PlainValue.defaultTags.STR;\n  }\n}\n\nfunction resolveTag(doc, node, tagName) {\n  try {\n    const res = resolveByTagName(doc, node, tagName);\n\n    if (res) {\n      if (tagName && node.tag) res.tag = tagName;\n      return res;\n    }\n  } catch (error) {\n    /* istanbul ignore if */\n    if (!error.source) error.source = node;\n    doc.errors.push(error);\n    return null;\n  }\n\n  try {\n    const fallback = getFallbackTagName(node);\n    if (!fallback) throw new Error(`The tag ${tagName} is unavailable`);\n    const msg = `The tag ${tagName} is unavailable, falling back to ${fallback}`;\n    doc.warnings.push(new PlainValue.YAMLWarning(node, msg));\n    const res = resolveByTagName(doc, node, fallback);\n    res.tag = tagName;\n    return res;\n  } catch (error) {\n    const refError = new PlainValue.YAMLReferenceError(node, error.message);\n    refError.stack = error.stack;\n    doc.errors.push(refError);\n    return null;\n  }\n}\n\nconst isCollectionItem = node => {\n  if (!node) return false;\n  const {\n    type\n  } = node;\n  return type === PlainValue.Type.MAP_KEY || type === PlainValue.Type.MAP_VALUE || type === PlainValue.Type.SEQ_ITEM;\n};\n\nfunction resolveNodeProps(errors, node) {\n  const comments = {\n    before: [],\n    after: []\n  };\n  let hasAnchor = false;\n  let hasTag = false;\n  const props = isCollectionItem(node.context.parent) ? node.context.parent.props.concat(node.props) : node.props;\n\n  for (const {\n    start,\n    end\n  } of props) {\n    switch (node.context.src[start]) {\n      case PlainValue.Char.COMMENT:\n        {\n          if (!node.commentHasRequiredWhitespace(start)) {\n            const msg = 'Comments must be separated from other tokens by white space characters';\n            errors.push(new PlainValue.YAMLSemanticError(node, msg));\n          }\n\n          const {\n            header,\n            valueRange\n          } = node;\n          const cc = valueRange && (start > valueRange.start || header && start > header.start) ? comments.after : comments.before;\n          cc.push(node.context.src.slice(start + 1, end));\n          break;\n        }\n      // Actual anchor & tag resolution is handled by schema, here we just complain\n\n      case PlainValue.Char.ANCHOR:\n        if (hasAnchor) {\n          const msg = 'A node can have at most one anchor';\n          errors.push(new PlainValue.YAMLSemanticError(node, msg));\n        }\n\n        hasAnchor = true;\n        break;\n\n      case PlainValue.Char.TAG:\n        if (hasTag) {\n          const msg = 'A node can have at most one tag';\n          errors.push(new PlainValue.YAMLSemanticError(node, msg));\n        }\n\n        hasTag = true;\n        break;\n    }\n  }\n\n  return {\n    comments,\n    hasAnchor,\n    hasTag\n  };\n}\n\nfunction resolveNodeValue(doc, node) {\n  const {\n    anchors,\n    errors,\n    schema\n  } = doc;\n\n  if (node.type === PlainValue.Type.ALIAS) {\n    const name = node.rawValue;\n    const src = anchors.getNode(name);\n\n    if (!src) {\n      const msg = `Aliased anchor not found: ${name}`;\n      errors.push(new PlainValue.YAMLReferenceError(node, msg));\n      return null;\n    } // Lazy resolution for circular references\n\n\n    const res = new Alias(src);\n\n    anchors._cstAliases.push(res);\n\n    return res;\n  }\n\n  const tagName = resolveTagName(doc, node);\n  if (tagName) return resolveTag(doc, node, tagName);\n\n  if (node.type !== PlainValue.Type.PLAIN) {\n    const msg = `Failed to resolve ${node.type} node here`;\n    errors.push(new PlainValue.YAMLSyntaxError(node, msg));\n    return null;\n  }\n\n  try {\n    const str = resolveString(doc, node);\n    return resolveScalar(str, schema.tags, schema.tags.scalarFallback);\n  } catch (error) {\n    if (!error.source) error.source = node;\n    errors.push(error);\n    return null;\n  }\n} // sets node.resolved on success\n\n\nfunction resolveNode(doc, node) {\n  if (!node) return null;\n  if (node.error) doc.errors.push(node.error);\n  const {\n    comments,\n    hasAnchor,\n    hasTag\n  } = resolveNodeProps(doc.errors, node);\n\n  if (hasAnchor) {\n    const {\n      anchors\n    } = doc;\n    const name = node.anchor;\n    const prev = anchors.getNode(name); // At this point, aliases for any preceding node with the same anchor\n    // name have already been resolved, so it may safely be renamed.\n\n    if (prev) anchors.map[anchors.newName(name)] = prev; // During parsing, we need to store the CST node in anchors.map as\n    // anchors need to be available during resolution to allow for\n    // circular references.\n\n    anchors.map[name] = node;\n  }\n\n  if (node.type === PlainValue.Type.ALIAS && (hasAnchor || hasTag)) {\n    const msg = 'An alias node must not specify any properties';\n    doc.errors.push(new PlainValue.YAMLSemanticError(node, msg));\n  }\n\n  const res = resolveNodeValue(doc, node);\n\n  if (res) {\n    res.range = [node.range.start, node.range.end];\n    if (doc.options.keepCstNodes) res.cstNode = node;\n    if (doc.options.keepNodeTypes) res.type = node.type;\n    const cb = comments.before.join('\\n');\n\n    if (cb) {\n      res.commentBefore = res.commentBefore ? `${res.commentBefore}\\n${cb}` : cb;\n    }\n\n    const ca = comments.after.join('\\n');\n    if (ca) res.comment = res.comment ? `${res.comment}\\n${ca}` : ca;\n  }\n\n  return node.resolved = res;\n}\n\nfunction resolveMap(doc, cst) {\n  if (cst.type !== PlainValue.Type.MAP && cst.type !== PlainValue.Type.FLOW_MAP) {\n    const msg = `A ${cst.type} node cannot be resolved as a mapping`;\n    doc.errors.push(new PlainValue.YAMLSyntaxError(cst, msg));\n    return null;\n  }\n\n  const {\n    comments,\n    items\n  } = cst.type === PlainValue.Type.FLOW_MAP ? resolveFlowMapItems(doc, cst) : resolveBlockMapItems(doc, cst);\n  const map = new YAMLMap();\n  map.items = items;\n  resolveComments(map, comments);\n  let hasCollectionKey = false;\n\n  for (let i = 0; i < items.length; ++i) {\n    const {\n      key: iKey\n    } = items[i];\n    if (iKey instanceof Collection) hasCollectionKey = true;\n\n    if (doc.schema.merge && iKey && iKey.value === MERGE_KEY) {\n      items[i] = new Merge(items[i]);\n      const sources = items[i].value.items;\n      let error = null;\n      sources.some(node => {\n        if (node instanceof Alias) {\n          // During parsing, alias sources are CST nodes; to account for\n          // circular references their resolved values can't be used here.\n          const {\n            type\n          } = node.source;\n          if (type === PlainValue.Type.MAP || type === PlainValue.Type.FLOW_MAP) return false;\n          return error = 'Merge nodes aliases can only point to maps';\n        }\n\n        return error = 'Merge nodes can only have Alias nodes as values';\n      });\n      if (error) doc.errors.push(new PlainValue.YAMLSemanticError(cst, error));\n    } else {\n      for (let j = i + 1; j < items.length; ++j) {\n        const {\n          key: jKey\n        } = items[j];\n\n        if (iKey === jKey || iKey && jKey && Object.prototype.hasOwnProperty.call(iKey, 'value') && iKey.value === jKey.value) {\n          const msg = `Map keys must be unique; \"${iKey}\" is repeated`;\n          doc.errors.push(new PlainValue.YAMLSemanticError(cst, msg));\n          break;\n        }\n      }\n    }\n  }\n\n  if (hasCollectionKey && !doc.options.mapAsMap) {\n    const warn = 'Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.';\n    doc.warnings.push(new PlainValue.YAMLWarning(cst, warn));\n  }\n\n  cst.resolved = map;\n  return map;\n}\n\nconst valueHasPairComment = ({\n  context: {\n    lineStart,\n    node,\n    src\n  },\n  props\n}) => {\n  if (props.length === 0) return false;\n  const {\n    start\n  } = props[0];\n  if (node && start > node.valueRange.start) return false;\n  if (src[start] !== PlainValue.Char.COMMENT) return false;\n\n  for (let i = lineStart; i < start; ++i) if (src[i] === '\\n') return false;\n\n  return true;\n};\n\nfunction resolvePairComment(item, pair) {\n  if (!valueHasPairComment(item)) return;\n  const comment = item.getPropValue(0, PlainValue.Char.COMMENT, true);\n  let found = false;\n  const cb = pair.value.commentBefore;\n\n  if (cb && cb.startsWith(comment)) {\n    pair.value.commentBefore = cb.substr(comment.length + 1);\n    found = true;\n  } else {\n    const cc = pair.value.comment;\n\n    if (!item.node && cc && cc.startsWith(comment)) {\n      pair.value.comment = cc.substr(comment.length + 1);\n      found = true;\n    }\n  }\n\n  if (found) pair.comment = comment;\n}\n\nfunction resolveBlockMapItems(doc, cst) {\n  const comments = [];\n  const items = [];\n  let key = undefined;\n  let keyStart = null;\n\n  for (let i = 0; i < cst.items.length; ++i) {\n    const item = cst.items[i];\n\n    switch (item.type) {\n      case PlainValue.Type.BLANK_LINE:\n        comments.push({\n          afterKey: !!key,\n          before: items.length\n        });\n        break;\n\n      case PlainValue.Type.COMMENT:\n        comments.push({\n          afterKey: !!key,\n          before: items.length,\n          comment: item.comment\n        });\n        break;\n\n      case PlainValue.Type.MAP_KEY:\n        if (key !== undefined) items.push(new Pair(key));\n        if (item.error) doc.errors.push(item.error);\n        key = resolveNode(doc, item.node);\n        keyStart = null;\n        break;\n\n      case PlainValue.Type.MAP_VALUE:\n        {\n          if (key === undefined) key = null;\n          if (item.error) doc.errors.push(item.error);\n\n          if (!item.context.atLineStart && item.node && item.node.type === PlainValue.Type.MAP && !item.node.context.atLineStart) {\n            const msg = 'Nested mappings are not allowed in compact mappings';\n            doc.errors.push(new PlainValue.YAMLSemanticError(item.node, msg));\n          }\n\n          let valueNode = item.node;\n\n          if (!valueNode && item.props.length > 0) {\n            // Comments on an empty mapping value need to be preserved, so we\n            // need to construct a minimal empty node here to use instead of the\n            // missing `item.node`. -- eemeli/yaml#19\n            valueNode = new PlainValue.PlainValue(PlainValue.Type.PLAIN, []);\n            valueNode.context = {\n              parent: item,\n              src: item.context.src\n            };\n            const pos = item.range.start + 1;\n            valueNode.range = {\n              start: pos,\n              end: pos\n            };\n            valueNode.valueRange = {\n              start: pos,\n              end: pos\n            };\n\n            if (typeof item.range.origStart === 'number') {\n              const origPos = item.range.origStart + 1;\n              valueNode.range.origStart = valueNode.range.origEnd = origPos;\n              valueNode.valueRange.origStart = valueNode.valueRange.origEnd = origPos;\n            }\n          }\n\n          const pair = new Pair(key, resolveNode(doc, valueNode));\n          resolvePairComment(item, pair);\n          items.push(pair);\n\n          if (key && typeof keyStart === 'number') {\n            if (item.range.start > keyStart + 1024) doc.errors.push(getLongKeyError(cst, key));\n          }\n\n          key = undefined;\n          keyStart = null;\n        }\n        break;\n\n      default:\n        if (key !== undefined) items.push(new Pair(key));\n        key = resolveNode(doc, item);\n        keyStart = item.range.start;\n        if (item.error) doc.errors.push(item.error);\n\n        next: for (let j = i + 1;; ++j) {\n          const nextItem = cst.items[j];\n\n          switch (nextItem && nextItem.type) {\n            case PlainValue.Type.BLANK_LINE:\n            case PlainValue.Type.COMMENT:\n              continue next;\n\n            case PlainValue.Type.MAP_VALUE:\n              break next;\n\n            default:\n              {\n                const msg = 'Implicit map keys need to be followed by map values';\n                doc.errors.push(new PlainValue.YAMLSemanticError(item, msg));\n                break next;\n              }\n          }\n        }\n\n        if (item.valueRangeContainsNewline) {\n          const msg = 'Implicit map keys need to be on a single line';\n          doc.errors.push(new PlainValue.YAMLSemanticError(item, msg));\n        }\n\n    }\n  }\n\n  if (key !== undefined) items.push(new Pair(key));\n  return {\n    comments,\n    items\n  };\n}\n\nfunction resolveFlowMapItems(doc, cst) {\n  const comments = [];\n  const items = [];\n  let key = undefined;\n  let explicitKey = false;\n  let next = '{';\n\n  for (let i = 0; i < cst.items.length; ++i) {\n    const item = cst.items[i];\n\n    if (typeof item.char === 'string') {\n      const {\n        char,\n        offset\n      } = item;\n\n      if (char === '?' && key === undefined && !explicitKey) {\n        explicitKey = true;\n        next = ':';\n        continue;\n      }\n\n      if (char === ':') {\n        if (key === undefined) key = null;\n\n        if (next === ':') {\n          next = ',';\n          continue;\n        }\n      } else {\n        if (explicitKey) {\n          if (key === undefined && char !== ',') key = null;\n          explicitKey = false;\n        }\n\n        if (key !== undefined) {\n          items.push(new Pair(key));\n          key = undefined;\n\n          if (char === ',') {\n            next = ':';\n            continue;\n          }\n        }\n      }\n\n      if (char === '}') {\n        if (i === cst.items.length - 1) continue;\n      } else if (char === next) {\n        next = ':';\n        continue;\n      }\n\n      const msg = `Flow map contains an unexpected ${char}`;\n      const err = new PlainValue.YAMLSyntaxError(cst, msg);\n      err.offset = offset;\n      doc.errors.push(err);\n    } else if (item.type === PlainValue.Type.BLANK_LINE) {\n      comments.push({\n        afterKey: !!key,\n        before: items.length\n      });\n    } else if (item.type === PlainValue.Type.COMMENT) {\n      checkFlowCommentSpace(doc.errors, item);\n      comments.push({\n        afterKey: !!key,\n        before: items.length,\n        comment: item.comment\n      });\n    } else if (key === undefined) {\n      if (next === ',') doc.errors.push(new PlainValue.YAMLSemanticError(item, 'Separator , missing in flow map'));\n      key = resolveNode(doc, item);\n    } else {\n      if (next !== ',') doc.errors.push(new PlainValue.YAMLSemanticError(item, 'Indicator : missing in flow map entry'));\n      items.push(new Pair(key, resolveNode(doc, item)));\n      key = undefined;\n      explicitKey = false;\n    }\n  }\n\n  checkFlowCollectionEnd(doc.errors, cst);\n  if (key !== undefined) items.push(new Pair(key));\n  return {\n    comments,\n    items\n  };\n}\n\nfunction resolveSeq(doc, cst) {\n  if (cst.type !== PlainValue.Type.SEQ && cst.type !== PlainValue.Type.FLOW_SEQ) {\n    const msg = `A ${cst.type} node cannot be resolved as a sequence`;\n    doc.errors.push(new PlainValue.YAMLSyntaxError(cst, msg));\n    return null;\n  }\n\n  const {\n    comments,\n    items\n  } = cst.type === PlainValue.Type.FLOW_SEQ ? resolveFlowSeqItems(doc, cst) : resolveBlockSeqItems(doc, cst);\n  const seq = new YAMLSeq();\n  seq.items = items;\n  resolveComments(seq, comments);\n\n  if (!doc.options.mapAsMap && items.some(it => it instanceof Pair && it.key instanceof Collection)) {\n    const warn = 'Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.';\n    doc.warnings.push(new PlainValue.YAMLWarning(cst, warn));\n  }\n\n  cst.resolved = seq;\n  return seq;\n}\n\nfunction resolveBlockSeqItems(doc, cst) {\n  const comments = [];\n  const items = [];\n\n  for (let i = 0; i < cst.items.length; ++i) {\n    const item = cst.items[i];\n\n    switch (item.type) {\n      case PlainValue.Type.BLANK_LINE:\n        comments.push({\n          before: items.length\n        });\n        break;\n\n      case PlainValue.Type.COMMENT:\n        comments.push({\n          comment: item.comment,\n          before: items.length\n        });\n        break;\n\n      case PlainValue.Type.SEQ_ITEM:\n        if (item.error) doc.errors.push(item.error);\n        items.push(resolveNode(doc, item.node));\n\n        if (item.hasProps) {\n          const msg = 'Sequence items cannot have tags or anchors before the - indicator';\n          doc.errors.push(new PlainValue.YAMLSemanticError(item, msg));\n        }\n\n        break;\n\n      default:\n        if (item.error) doc.errors.push(item.error);\n        doc.errors.push(new PlainValue.YAMLSyntaxError(item, `Unexpected ${item.type} node in sequence`));\n    }\n  }\n\n  return {\n    comments,\n    items\n  };\n}\n\nfunction resolveFlowSeqItems(doc, cst) {\n  const comments = [];\n  const items = [];\n  let explicitKey = false;\n  let key = undefined;\n  let keyStart = null;\n  let next = '[';\n  let prevItem = null;\n\n  for (let i = 0; i < cst.items.length; ++i) {\n    const item = cst.items[i];\n\n    if (typeof item.char === 'string') {\n      const {\n        char,\n        offset\n      } = item;\n\n      if (char !== ':' && (explicitKey || key !== undefined)) {\n        if (explicitKey && key === undefined) key = next ? items.pop() : null;\n        items.push(new Pair(key));\n        explicitKey = false;\n        key = undefined;\n        keyStart = null;\n      }\n\n      if (char === next) {\n        next = null;\n      } else if (!next && char === '?') {\n        explicitKey = true;\n      } else if (next !== '[' && char === ':' && key === undefined) {\n        if (next === ',') {\n          key = items.pop();\n\n          if (key instanceof Pair) {\n            const msg = 'Chaining flow sequence pairs is invalid';\n            const err = new PlainValue.YAMLSemanticError(cst, msg);\n            err.offset = offset;\n            doc.errors.push(err);\n          }\n\n          if (!explicitKey && typeof keyStart === 'number') {\n            const keyEnd = item.range ? item.range.start : item.offset;\n            if (keyEnd > keyStart + 1024) doc.errors.push(getLongKeyError(cst, key));\n            const {\n              src\n            } = prevItem.context;\n\n            for (let i = keyStart; i < keyEnd; ++i) if (src[i] === '\\n') {\n              const msg = 'Implicit keys of flow sequence pairs need to be on a single line';\n              doc.errors.push(new PlainValue.YAMLSemanticError(prevItem, msg));\n              break;\n            }\n          }\n        } else {\n          key = null;\n        }\n\n        keyStart = null;\n        explicitKey = false;\n        next = null;\n      } else if (next === '[' || char !== ']' || i < cst.items.length - 1) {\n        const msg = `Flow sequence contains an unexpected ${char}`;\n        const err = new PlainValue.YAMLSyntaxError(cst, msg);\n        err.offset = offset;\n        doc.errors.push(err);\n      }\n    } else if (item.type === PlainValue.Type.BLANK_LINE) {\n      comments.push({\n        before: items.length\n      });\n    } else if (item.type === PlainValue.Type.COMMENT) {\n      checkFlowCommentSpace(doc.errors, item);\n      comments.push({\n        comment: item.comment,\n        before: items.length\n      });\n    } else {\n      if (next) {\n        const msg = `Expected a ${next} in flow sequence`;\n        doc.errors.push(new PlainValue.YAMLSemanticError(item, msg));\n      }\n\n      const value = resolveNode(doc, item);\n\n      if (key === undefined) {\n        items.push(value);\n        prevItem = item;\n      } else {\n        items.push(new Pair(key, value));\n        key = undefined;\n      }\n\n      keyStart = item.range.start;\n      next = ',';\n    }\n  }\n\n  checkFlowCollectionEnd(doc.errors, cst);\n  if (key !== undefined) items.push(new Pair(key));\n  return {\n    comments,\n    items\n  };\n}\n\nexports.Alias = Alias;\nexports.Collection = Collection;\nexports.Merge = Merge;\nexports.Node = Node;\nexports.Pair = Pair;\nexports.Scalar = Scalar;\nexports.YAMLMap = YAMLMap;\nexports.YAMLSeq = YAMLSeq;\nexports.addComment = addComment;\nexports.binaryOptions = binaryOptions;\nexports.boolOptions = boolOptions;\nexports.findPair = findPair;\nexports.intOptions = intOptions;\nexports.isEmptyPath = isEmptyPath;\nexports.nullOptions = nullOptions;\nexports.resolveMap = resolveMap;\nexports.resolveNode = resolveNode;\nexports.resolveSeq = resolveSeq;\nexports.resolveString = resolveString;\nexports.strOptions = strOptions;\nexports.stringifyNumber = stringifyNumber;\nexports.stringifyString = stringifyString;\nexports.toJSON = toJSON;\n","'use strict';\n\nvar PlainValue = require('./PlainValue-ec8e588e.js');\nvar resolveSeq = require('./resolveSeq-d03cb037.js');\n\n/* global atob, btoa, Buffer */\nconst binary = {\n  identify: value => value instanceof Uint8Array,\n  // Buffer inherits from Uint8Array\n  default: false,\n  tag: 'tag:yaml.org,2002:binary',\n\n  /**\n   * Returns a Buffer in node and an Uint8Array in browsers\n   *\n   * To use the resulting buffer as an image, you'll want to do something like:\n   *\n   *   const blob = new Blob([buffer], { type: 'image/jpeg' })\n   *   document.querySelector('#photo').src = URL.createObjectURL(blob)\n   */\n  resolve: (doc, node) => {\n    const src = resolveSeq.resolveString(doc, node);\n\n    if (typeof Buffer === 'function') {\n      return Buffer.from(src, 'base64');\n    } else if (typeof atob === 'function') {\n      // On IE 11, atob() can't handle newlines\n      const str = atob(src.replace(/[\\n\\r]/g, ''));\n      const buffer = new Uint8Array(str.length);\n\n      for (let i = 0; i < str.length; ++i) buffer[i] = str.charCodeAt(i);\n\n      return buffer;\n    } else {\n      const msg = 'This environment does not support reading binary tags; either Buffer or atob is required';\n      doc.errors.push(new PlainValue.YAMLReferenceError(node, msg));\n      return null;\n    }\n  },\n  options: resolveSeq.binaryOptions,\n  stringify: ({\n    comment,\n    type,\n    value\n  }, ctx, onComment, onChompKeep) => {\n    let src;\n\n    if (typeof Buffer === 'function') {\n      src = value instanceof Buffer ? value.toString('base64') : Buffer.from(value.buffer).toString('base64');\n    } else if (typeof btoa === 'function') {\n      let s = '';\n\n      for (let i = 0; i < value.length; ++i) s += String.fromCharCode(value[i]);\n\n      src = btoa(s);\n    } else {\n      throw new Error('This environment does not support writing binary tags; either Buffer or btoa is required');\n    }\n\n    if (!type) type = resolveSeq.binaryOptions.defaultType;\n\n    if (type === PlainValue.Type.QUOTE_DOUBLE) {\n      value = src;\n    } else {\n      const {\n        lineWidth\n      } = resolveSeq.binaryOptions;\n      const n = Math.ceil(src.length / lineWidth);\n      const lines = new Array(n);\n\n      for (let i = 0, o = 0; i < n; ++i, o += lineWidth) {\n        lines[i] = src.substr(o, lineWidth);\n      }\n\n      value = lines.join(type === PlainValue.Type.BLOCK_LITERAL ? '\\n' : ' ');\n    }\n\n    return resolveSeq.stringifyString({\n      comment,\n      type,\n      value\n    }, ctx, onComment, onChompKeep);\n  }\n};\n\nfunction parsePairs(doc, cst) {\n  const seq = resolveSeq.resolveSeq(doc, cst);\n\n  for (let i = 0; i < seq.items.length; ++i) {\n    let item = seq.items[i];\n    if (item instanceof resolveSeq.Pair) continue;else if (item instanceof resolveSeq.YAMLMap) {\n      if (item.items.length > 1) {\n        const msg = 'Each pair must have its own sequence indicator';\n        throw new PlainValue.YAMLSemanticError(cst, msg);\n      }\n\n      const pair = item.items[0] || new resolveSeq.Pair();\n      if (item.commentBefore) pair.commentBefore = pair.commentBefore ? `${item.commentBefore}\\n${pair.commentBefore}` : item.commentBefore;\n      if (item.comment) pair.comment = pair.comment ? `${item.comment}\\n${pair.comment}` : item.comment;\n      item = pair;\n    }\n    seq.items[i] = item instanceof resolveSeq.Pair ? item : new resolveSeq.Pair(item);\n  }\n\n  return seq;\n}\nfunction createPairs(schema, iterable, ctx) {\n  const pairs = new resolveSeq.YAMLSeq(schema);\n  pairs.tag = 'tag:yaml.org,2002:pairs';\n\n  for (const it of iterable) {\n    let key, value;\n\n    if (Array.isArray(it)) {\n      if (it.length === 2) {\n        key = it[0];\n        value = it[1];\n      } else throw new TypeError(`Expected [key, value] tuple: ${it}`);\n    } else if (it && it instanceof Object) {\n      const keys = Object.keys(it);\n\n      if (keys.length === 1) {\n        key = keys[0];\n        value = it[key];\n      } else throw new TypeError(`Expected { key: value } tuple: ${it}`);\n    } else {\n      key = it;\n    }\n\n    const pair = schema.createPair(key, value, ctx);\n    pairs.items.push(pair);\n  }\n\n  return pairs;\n}\nconst pairs = {\n  default: false,\n  tag: 'tag:yaml.org,2002:pairs',\n  resolve: parsePairs,\n  createNode: createPairs\n};\n\nclass YAMLOMap extends resolveSeq.YAMLSeq {\n  constructor() {\n    super();\n\n    PlainValue._defineProperty(this, \"add\", resolveSeq.YAMLMap.prototype.add.bind(this));\n\n    PlainValue._defineProperty(this, \"delete\", resolveSeq.YAMLMap.prototype.delete.bind(this));\n\n    PlainValue._defineProperty(this, \"get\", resolveSeq.YAMLMap.prototype.get.bind(this));\n\n    PlainValue._defineProperty(this, \"has\", resolveSeq.YAMLMap.prototype.has.bind(this));\n\n    PlainValue._defineProperty(this, \"set\", resolveSeq.YAMLMap.prototype.set.bind(this));\n\n    this.tag = YAMLOMap.tag;\n  }\n\n  toJSON(_, ctx) {\n    const map = new Map();\n    if (ctx && ctx.onCreate) ctx.onCreate(map);\n\n    for (const pair of this.items) {\n      let key, value;\n\n      if (pair instanceof resolveSeq.Pair) {\n        key = resolveSeq.toJSON(pair.key, '', ctx);\n        value = resolveSeq.toJSON(pair.value, key, ctx);\n      } else {\n        key = resolveSeq.toJSON(pair, '', ctx);\n      }\n\n      if (map.has(key)) throw new Error('Ordered maps must not include duplicate keys');\n      map.set(key, value);\n    }\n\n    return map;\n  }\n\n}\n\nPlainValue._defineProperty(YAMLOMap, \"tag\", 'tag:yaml.org,2002:omap');\n\nfunction parseOMap(doc, cst) {\n  const pairs = parsePairs(doc, cst);\n  const seenKeys = [];\n\n  for (const {\n    key\n  } of pairs.items) {\n    if (key instanceof resolveSeq.Scalar) {\n      if (seenKeys.includes(key.value)) {\n        const msg = 'Ordered maps must not include duplicate keys';\n        throw new PlainValue.YAMLSemanticError(cst, msg);\n      } else {\n        seenKeys.push(key.value);\n      }\n    }\n  }\n\n  return Object.assign(new YAMLOMap(), pairs);\n}\n\nfunction createOMap(schema, iterable, ctx) {\n  const pairs = createPairs(schema, iterable, ctx);\n  const omap = new YAMLOMap();\n  omap.items = pairs.items;\n  return omap;\n}\n\nconst omap = {\n  identify: value => value instanceof Map,\n  nodeClass: YAMLOMap,\n  default: false,\n  tag: 'tag:yaml.org,2002:omap',\n  resolve: parseOMap,\n  createNode: createOMap\n};\n\nclass YAMLSet extends resolveSeq.YAMLMap {\n  constructor() {\n    super();\n    this.tag = YAMLSet.tag;\n  }\n\n  add(key) {\n    const pair = key instanceof resolveSeq.Pair ? key : new resolveSeq.Pair(key);\n    const prev = resolveSeq.findPair(this.items, pair.key);\n    if (!prev) this.items.push(pair);\n  }\n\n  get(key, keepPair) {\n    const pair = resolveSeq.findPair(this.items, key);\n    return !keepPair && pair instanceof resolveSeq.Pair ? pair.key instanceof resolveSeq.Scalar ? pair.key.value : pair.key : pair;\n  }\n\n  set(key, value) {\n    if (typeof value !== 'boolean') throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof value}`);\n    const prev = resolveSeq.findPair(this.items, key);\n\n    if (prev && !value) {\n      this.items.splice(this.items.indexOf(prev), 1);\n    } else if (!prev && value) {\n      this.items.push(new resolveSeq.Pair(key));\n    }\n  }\n\n  toJSON(_, ctx) {\n    return super.toJSON(_, ctx, Set);\n  }\n\n  toString(ctx, onComment, onChompKeep) {\n    if (!ctx) return JSON.stringify(this);\n    if (this.hasAllNullValues()) return super.toString(ctx, onComment, onChompKeep);else throw new Error('Set items must all have null values');\n  }\n\n}\n\nPlainValue._defineProperty(YAMLSet, \"tag\", 'tag:yaml.org,2002:set');\n\nfunction parseSet(doc, cst) {\n  const map = resolveSeq.resolveMap(doc, cst);\n  if (!map.hasAllNullValues()) throw new PlainValue.YAMLSemanticError(cst, 'Set items must all have null values');\n  return Object.assign(new YAMLSet(), map);\n}\n\nfunction createSet(schema, iterable, ctx) {\n  const set = new YAMLSet();\n\n  for (const value of iterable) set.items.push(schema.createPair(value, null, ctx));\n\n  return set;\n}\n\nconst set = {\n  identify: value => value instanceof Set,\n  nodeClass: YAMLSet,\n  default: false,\n  tag: 'tag:yaml.org,2002:set',\n  resolve: parseSet,\n  createNode: createSet\n};\n\nconst parseSexagesimal = (sign, parts) => {\n  const n = parts.split(':').reduce((n, p) => n * 60 + Number(p), 0);\n  return sign === '-' ? -n : n;\n}; // hhhh:mm:ss.sss\n\n\nconst stringifySexagesimal = ({\n  value\n}) => {\n  if (isNaN(value) || !isFinite(value)) return resolveSeq.stringifyNumber(value);\n  let sign = '';\n\n  if (value < 0) {\n    sign = '-';\n    value = Math.abs(value);\n  }\n\n  const parts = [value % 60]; // seconds, including ms\n\n  if (value < 60) {\n    parts.unshift(0); // at least one : is required\n  } else {\n    value = Math.round((value - parts[0]) / 60);\n    parts.unshift(value % 60); // minutes\n\n    if (value >= 60) {\n      value = Math.round((value - parts[0]) / 60);\n      parts.unshift(value); // hours\n    }\n  }\n\n  return sign + parts.map(n => n < 10 ? '0' + String(n) : String(n)).join(':').replace(/000000\\d*$/, '') // % 60 may introduce error\n  ;\n};\n\nconst intTime = {\n  identify: value => typeof value === 'number',\n  default: true,\n  tag: 'tag:yaml.org,2002:int',\n  format: 'TIME',\n  test: /^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,\n  resolve: (str, sign, parts) => parseSexagesimal(sign, parts.replace(/_/g, '')),\n  stringify: stringifySexagesimal\n};\nconst floatTime = {\n  identify: value => typeof value === 'number',\n  default: true,\n  tag: 'tag:yaml.org,2002:float',\n  format: 'TIME',\n  test: /^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*)$/,\n  resolve: (str, sign, parts) => parseSexagesimal(sign, parts.replace(/_/g, '')),\n  stringify: stringifySexagesimal\n};\nconst timestamp = {\n  identify: value => value instanceof Date,\n  default: true,\n  tag: 'tag:yaml.org,2002:timestamp',\n  // If the time zone is omitted, the timestamp is assumed to be specified in UTC. The time part\n  // may be omitted altogether, resulting in a date format. In such a case, the time part is\n  // assumed to be 00:00:00Z (start of day, UTC).\n  test: RegExp('^(?:' + '([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})' + // YYYY-Mm-Dd\n  '(?:(?:t|T|[ \\\\t]+)' + // t | T | whitespace\n  '([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\\\.[0-9]+)?)' + // Hh:Mm:Ss(.ss)?\n  '(?:[ \\\\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?' + // Z | +5 | -03:30\n  ')?' + ')$'),\n  resolve: (str, year, month, day, hour, minute, second, millisec, tz) => {\n    if (millisec) millisec = (millisec + '00').substr(1, 3);\n    let date = Date.UTC(year, month - 1, day, hour || 0, minute || 0, second || 0, millisec || 0);\n\n    if (tz && tz !== 'Z') {\n      let d = parseSexagesimal(tz[0], tz.slice(1));\n      if (Math.abs(d) < 30) d *= 60;\n      date -= 60000 * d;\n    }\n\n    return new Date(date);\n  },\n  stringify: ({\n    value\n  }) => value.toISOString().replace(/((T00:00)?:00)?\\.000Z$/, '')\n};\n\n/* global console, process, YAML_SILENCE_DEPRECATION_WARNINGS, YAML_SILENCE_WARNINGS */\nfunction shouldWarn(deprecation) {\n  const env = typeof process !== 'undefined' && process.env || {};\n\n  if (deprecation) {\n    if (typeof YAML_SILENCE_DEPRECATION_WARNINGS !== 'undefined') return !YAML_SILENCE_DEPRECATION_WARNINGS;\n    return !env.YAML_SILENCE_DEPRECATION_WARNINGS;\n  }\n\n  if (typeof YAML_SILENCE_WARNINGS !== 'undefined') return !YAML_SILENCE_WARNINGS;\n  return !env.YAML_SILENCE_WARNINGS;\n}\n\nfunction warn(warning, type) {\n  if (shouldWarn(false)) {\n    const emit = typeof process !== 'undefined' && process.emitWarning; // This will throw in Jest if `warning` is an Error instance due to\n    // https://github.com/facebook/jest/issues/2549\n\n    if (emit) emit(warning, type);else {\n      // eslint-disable-next-line no-console\n      console.warn(type ? `${type}: ${warning}` : warning);\n    }\n  }\n}\nfunction warnFileDeprecation(filename) {\n  if (shouldWarn(true)) {\n    const path = filename.replace(/.*yaml[/\\\\]/i, '').replace(/\\.js$/, '').replace(/\\\\/g, '/');\n    warn(`The endpoint 'yaml/${path}' will be removed in a future release.`, 'DeprecationWarning');\n  }\n}\nconst warned = {};\nfunction warnOptionDeprecation(name, alternative) {\n  if (!warned[name] && shouldWarn(true)) {\n    warned[name] = true;\n    let msg = `The option '${name}' will be removed in a future release`;\n    msg += alternative ? `, use '${alternative}' instead.` : '.';\n    warn(msg, 'DeprecationWarning');\n  }\n}\n\nexports.binary = binary;\nexports.floatTime = floatTime;\nexports.intTime = intTime;\nexports.omap = omap;\nexports.pairs = pairs;\nexports.set = set;\nexports.timestamp = timestamp;\nexports.warn = warn;\nexports.warnFileDeprecation = warnFileDeprecation;\nexports.warnOptionDeprecation = warnOptionDeprecation;\n","'use strict';\n\nvar PlainValue = require('./PlainValue-ec8e588e.js');\nvar resolveSeq = require('./resolveSeq-d03cb037.js');\nvar warnings = require('./warnings-1000a372.js');\n\nfunction createMap(schema, obj, ctx) {\n  const map = new resolveSeq.YAMLMap(schema);\n\n  if (obj instanceof Map) {\n    for (const [key, value] of obj) map.items.push(schema.createPair(key, value, ctx));\n  } else if (obj && typeof obj === 'object') {\n    for (const key of Object.keys(obj)) map.items.push(schema.createPair(key, obj[key], ctx));\n  }\n\n  if (typeof schema.sortMapEntries === 'function') {\n    map.items.sort(schema.sortMapEntries);\n  }\n\n  return map;\n}\n\nconst map = {\n  createNode: createMap,\n  default: true,\n  nodeClass: resolveSeq.YAMLMap,\n  tag: 'tag:yaml.org,2002:map',\n  resolve: resolveSeq.resolveMap\n};\n\nfunction createSeq(schema, obj, ctx) {\n  const seq = new resolveSeq.YAMLSeq(schema);\n\n  if (obj && obj[Symbol.iterator]) {\n    for (const it of obj) {\n      const v = schema.createNode(it, ctx.wrapScalars, null, ctx);\n      seq.items.push(v);\n    }\n  }\n\n  return seq;\n}\n\nconst seq = {\n  createNode: createSeq,\n  default: true,\n  nodeClass: resolveSeq.YAMLSeq,\n  tag: 'tag:yaml.org,2002:seq',\n  resolve: resolveSeq.resolveSeq\n};\n\nconst string = {\n  identify: value => typeof value === 'string',\n  default: true,\n  tag: 'tag:yaml.org,2002:str',\n  resolve: resolveSeq.resolveString,\n\n  stringify(item, ctx, onComment, onChompKeep) {\n    ctx = Object.assign({\n      actualString: true\n    }, ctx);\n    return resolveSeq.stringifyString(item, ctx, onComment, onChompKeep);\n  },\n\n  options: resolveSeq.strOptions\n};\n\nconst failsafe = [map, seq, string];\n\n/* global BigInt */\n\nconst intIdentify$2 = value => typeof value === 'bigint' || Number.isInteger(value);\n\nconst intResolve$1 = (src, part, radix) => resolveSeq.intOptions.asBigInt ? BigInt(src) : parseInt(part, radix);\n\nfunction intStringify$1(node, radix, prefix) {\n  const {\n    value\n  } = node;\n  if (intIdentify$2(value) && value >= 0) return prefix + value.toString(radix);\n  return resolveSeq.stringifyNumber(node);\n}\n\nconst nullObj = {\n  identify: value => value == null,\n  createNode: (schema, value, ctx) => ctx.wrapScalars ? new resolveSeq.Scalar(null) : null,\n  default: true,\n  tag: 'tag:yaml.org,2002:null',\n  test: /^(?:~|[Nn]ull|NULL)?$/,\n  resolve: () => null,\n  options: resolveSeq.nullOptions,\n  stringify: () => resolveSeq.nullOptions.nullStr\n};\nconst boolObj = {\n  identify: value => typeof value === 'boolean',\n  default: true,\n  tag: 'tag:yaml.org,2002:bool',\n  test: /^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,\n  resolve: str => str[0] === 't' || str[0] === 'T',\n  options: resolveSeq.boolOptions,\n  stringify: ({\n    value\n  }) => value ? resolveSeq.boolOptions.trueStr : resolveSeq.boolOptions.falseStr\n};\nconst octObj = {\n  identify: value => intIdentify$2(value) && value >= 0,\n  default: true,\n  tag: 'tag:yaml.org,2002:int',\n  format: 'OCT',\n  test: /^0o([0-7]+)$/,\n  resolve: (str, oct) => intResolve$1(str, oct, 8),\n  options: resolveSeq.intOptions,\n  stringify: node => intStringify$1(node, 8, '0o')\n};\nconst intObj = {\n  identify: intIdentify$2,\n  default: true,\n  tag: 'tag:yaml.org,2002:int',\n  test: /^[-+]?[0-9]+$/,\n  resolve: str => intResolve$1(str, str, 10),\n  options: resolveSeq.intOptions,\n  stringify: resolveSeq.stringifyNumber\n};\nconst hexObj = {\n  identify: value => intIdentify$2(value) && value >= 0,\n  default: true,\n  tag: 'tag:yaml.org,2002:int',\n  format: 'HEX',\n  test: /^0x([0-9a-fA-F]+)$/,\n  resolve: (str, hex) => intResolve$1(str, hex, 16),\n  options: resolveSeq.intOptions,\n  stringify: node => intStringify$1(node, 16, '0x')\n};\nconst nanObj = {\n  identify: value => typeof value === 'number',\n  default: true,\n  tag: 'tag:yaml.org,2002:float',\n  test: /^(?:[-+]?\\.inf|(\\.nan))$/i,\n  resolve: (str, nan) => nan ? NaN : str[0] === '-' ? Number.NEGATIVE_INFINITY : Number.POSITIVE_INFINITY,\n  stringify: resolveSeq.stringifyNumber\n};\nconst expObj = {\n  identify: value => typeof value === 'number',\n  default: true,\n  tag: 'tag:yaml.org,2002:float',\n  format: 'EXP',\n  test: /^[-+]?(?:\\.[0-9]+|[0-9]+(?:\\.[0-9]*)?)[eE][-+]?[0-9]+$/,\n  resolve: str => parseFloat(str),\n  stringify: ({\n    value\n  }) => Number(value).toExponential()\n};\nconst floatObj = {\n  identify: value => typeof value === 'number',\n  default: true,\n  tag: 'tag:yaml.org,2002:float',\n  test: /^[-+]?(?:\\.([0-9]+)|[0-9]+\\.([0-9]*))$/,\n\n  resolve(str, frac1, frac2) {\n    const frac = frac1 || frac2;\n    const node = new resolveSeq.Scalar(parseFloat(str));\n    if (frac && frac[frac.length - 1] === '0') node.minFractionDigits = frac.length;\n    return node;\n  },\n\n  stringify: resolveSeq.stringifyNumber\n};\nconst core = failsafe.concat([nullObj, boolObj, octObj, intObj, hexObj, nanObj, expObj, floatObj]);\n\n/* global BigInt */\n\nconst intIdentify$1 = value => typeof value === 'bigint' || Number.isInteger(value);\n\nconst stringifyJSON = ({\n  value\n}) => JSON.stringify(value);\n\nconst json = [map, seq, {\n  identify: value => typeof value === 'string',\n  default: true,\n  tag: 'tag:yaml.org,2002:str',\n  resolve: resolveSeq.resolveString,\n  stringify: stringifyJSON\n}, {\n  identify: value => value == null,\n  createNode: (schema, value, ctx) => ctx.wrapScalars ? new resolveSeq.Scalar(null) : null,\n  default: true,\n  tag: 'tag:yaml.org,2002:null',\n  test: /^null$/,\n  resolve: () => null,\n  stringify: stringifyJSON\n}, {\n  identify: value => typeof value === 'boolean',\n  default: true,\n  tag: 'tag:yaml.org,2002:bool',\n  test: /^true|false$/,\n  resolve: str => str === 'true',\n  stringify: stringifyJSON\n}, {\n  identify: intIdentify$1,\n  default: true,\n  tag: 'tag:yaml.org,2002:int',\n  test: /^-?(?:0|[1-9][0-9]*)$/,\n  resolve: str => resolveSeq.intOptions.asBigInt ? BigInt(str) : parseInt(str, 10),\n  stringify: ({\n    value\n  }) => intIdentify$1(value) ? value.toString() : JSON.stringify(value)\n}, {\n  identify: value => typeof value === 'number',\n  default: true,\n  tag: 'tag:yaml.org,2002:float',\n  test: /^-?(?:0|[1-9][0-9]*)(?:\\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,\n  resolve: str => parseFloat(str),\n  stringify: stringifyJSON\n}];\n\njson.scalarFallback = str => {\n  throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(str)}`);\n};\n\n/* global BigInt */\n\nconst boolStringify = ({\n  value\n}) => value ? resolveSeq.boolOptions.trueStr : resolveSeq.boolOptions.falseStr;\n\nconst intIdentify = value => typeof value === 'bigint' || Number.isInteger(value);\n\nfunction intResolve(sign, src, radix) {\n  let str = src.replace(/_/g, '');\n\n  if (resolveSeq.intOptions.asBigInt) {\n    switch (radix) {\n      case 2:\n        str = `0b${str}`;\n        break;\n\n      case 8:\n        str = `0o${str}`;\n        break;\n\n      case 16:\n        str = `0x${str}`;\n        break;\n    }\n\n    const n = BigInt(str);\n    return sign === '-' ? BigInt(-1) * n : n;\n  }\n\n  const n = parseInt(str, radix);\n  return sign === '-' ? -1 * n : n;\n}\n\nfunction intStringify(node, radix, prefix) {\n  const {\n    value\n  } = node;\n\n  if (intIdentify(value)) {\n    const str = value.toString(radix);\n    return value < 0 ? '-' + prefix + str.substr(1) : prefix + str;\n  }\n\n  return resolveSeq.stringifyNumber(node);\n}\n\nconst yaml11 = failsafe.concat([{\n  identify: value => value == null,\n  createNode: (schema, value, ctx) => ctx.wrapScalars ? new resolveSeq.Scalar(null) : null,\n  default: true,\n  tag: 'tag:yaml.org,2002:null',\n  test: /^(?:~|[Nn]ull|NULL)?$/,\n  resolve: () => null,\n  options: resolveSeq.nullOptions,\n  stringify: () => resolveSeq.nullOptions.nullStr\n}, {\n  identify: value => typeof value === 'boolean',\n  default: true,\n  tag: 'tag:yaml.org,2002:bool',\n  test: /^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,\n  resolve: () => true,\n  options: resolveSeq.boolOptions,\n  stringify: boolStringify\n}, {\n  identify: value => typeof value === 'boolean',\n  default: true,\n  tag: 'tag:yaml.org,2002:bool',\n  test: /^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,\n  resolve: () => false,\n  options: resolveSeq.boolOptions,\n  stringify: boolStringify\n}, {\n  identify: intIdentify,\n  default: true,\n  tag: 'tag:yaml.org,2002:int',\n  format: 'BIN',\n  test: /^([-+]?)0b([0-1_]+)$/,\n  resolve: (str, sign, bin) => intResolve(sign, bin, 2),\n  stringify: node => intStringify(node, 2, '0b')\n}, {\n  identify: intIdentify,\n  default: true,\n  tag: 'tag:yaml.org,2002:int',\n  format: 'OCT',\n  test: /^([-+]?)0([0-7_]+)$/,\n  resolve: (str, sign, oct) => intResolve(sign, oct, 8),\n  stringify: node => intStringify(node, 8, '0')\n}, {\n  identify: intIdentify,\n  default: true,\n  tag: 'tag:yaml.org,2002:int',\n  test: /^([-+]?)([0-9][0-9_]*)$/,\n  resolve: (str, sign, abs) => intResolve(sign, abs, 10),\n  stringify: resolveSeq.stringifyNumber\n}, {\n  identify: intIdentify,\n  default: true,\n  tag: 'tag:yaml.org,2002:int',\n  format: 'HEX',\n  test: /^([-+]?)0x([0-9a-fA-F_]+)$/,\n  resolve: (str, sign, hex) => intResolve(sign, hex, 16),\n  stringify: node => intStringify(node, 16, '0x')\n}, {\n  identify: value => typeof value === 'number',\n  default: true,\n  tag: 'tag:yaml.org,2002:float',\n  test: /^(?:[-+]?\\.inf|(\\.nan))$/i,\n  resolve: (str, nan) => nan ? NaN : str[0] === '-' ? Number.NEGATIVE_INFINITY : Number.POSITIVE_INFINITY,\n  stringify: resolveSeq.stringifyNumber\n}, {\n  identify: value => typeof value === 'number',\n  default: true,\n  tag: 'tag:yaml.org,2002:float',\n  format: 'EXP',\n  test: /^[-+]?([0-9][0-9_]*)?(\\.[0-9_]*)?[eE][-+]?[0-9]+$/,\n  resolve: str => parseFloat(str.replace(/_/g, '')),\n  stringify: ({\n    value\n  }) => Number(value).toExponential()\n}, {\n  identify: value => typeof value === 'number',\n  default: true,\n  tag: 'tag:yaml.org,2002:float',\n  test: /^[-+]?(?:[0-9][0-9_]*)?\\.([0-9_]*)$/,\n\n  resolve(str, frac) {\n    const node = new resolveSeq.Scalar(parseFloat(str.replace(/_/g, '')));\n\n    if (frac) {\n      const f = frac.replace(/_/g, '');\n      if (f[f.length - 1] === '0') node.minFractionDigits = f.length;\n    }\n\n    return node;\n  },\n\n  stringify: resolveSeq.stringifyNumber\n}], warnings.binary, warnings.omap, warnings.pairs, warnings.set, warnings.intTime, warnings.floatTime, warnings.timestamp);\n\nconst schemas = {\n  core,\n  failsafe,\n  json,\n  yaml11\n};\nconst tags = {\n  binary: warnings.binary,\n  bool: boolObj,\n  float: floatObj,\n  floatExp: expObj,\n  floatNaN: nanObj,\n  floatTime: warnings.floatTime,\n  int: intObj,\n  intHex: hexObj,\n  intOct: octObj,\n  intTime: warnings.intTime,\n  map,\n  null: nullObj,\n  omap: warnings.omap,\n  pairs: warnings.pairs,\n  seq,\n  set: warnings.set,\n  timestamp: warnings.timestamp\n};\n\nfunction findTagObject(value, tagName, tags) {\n  if (tagName) {\n    const match = tags.filter(t => t.tag === tagName);\n    const tagObj = match.find(t => !t.format) || match[0];\n    if (!tagObj) throw new Error(`Tag ${tagName} not found`);\n    return tagObj;\n  } // TODO: deprecate/remove class check\n\n\n  return tags.find(t => (t.identify && t.identify(value) || t.class && value instanceof t.class) && !t.format);\n}\n\nfunction createNode(value, tagName, ctx) {\n  if (value instanceof resolveSeq.Node) return value;\n  const {\n    defaultPrefix,\n    onTagObj,\n    prevObjects,\n    schema,\n    wrapScalars\n  } = ctx;\n  if (tagName && tagName.startsWith('!!')) tagName = defaultPrefix + tagName.slice(2);\n  let tagObj = findTagObject(value, tagName, schema.tags);\n\n  if (!tagObj) {\n    if (typeof value.toJSON === 'function') value = value.toJSON();\n    if (!value || typeof value !== 'object') return wrapScalars ? new resolveSeq.Scalar(value) : value;\n    tagObj = value instanceof Map ? map : value[Symbol.iterator] ? seq : map;\n  }\n\n  if (onTagObj) {\n    onTagObj(tagObj);\n    delete ctx.onTagObj;\n  } // Detect duplicate references to the same object & use Alias nodes for all\n  // after first. The `obj` wrapper allows for circular references to resolve.\n\n\n  const obj = {\n    value: undefined,\n    node: undefined\n  };\n\n  if (value && typeof value === 'object' && prevObjects) {\n    const prev = prevObjects.get(value);\n\n    if (prev) {\n      const alias = new resolveSeq.Alias(prev); // leaves source dirty; must be cleaned by caller\n\n      ctx.aliasNodes.push(alias); // defined along with prevObjects\n\n      return alias;\n    }\n\n    obj.value = value;\n    prevObjects.set(value, obj);\n  }\n\n  obj.node = tagObj.createNode ? tagObj.createNode(ctx.schema, value, ctx) : wrapScalars ? new resolveSeq.Scalar(value) : value;\n  if (tagName && obj.node instanceof resolveSeq.Node) obj.node.tag = tagName;\n  return obj.node;\n}\n\nfunction getSchemaTags(schemas, knownTags, customTags, schemaId) {\n  let tags = schemas[schemaId.replace(/\\W/g, '')]; // 'yaml-1.1' -> 'yaml11'\n\n  if (!tags) {\n    const keys = Object.keys(schemas).map(key => JSON.stringify(key)).join(', ');\n    throw new Error(`Unknown schema \"${schemaId}\"; use one of ${keys}`);\n  }\n\n  if (Array.isArray(customTags)) {\n    for (const tag of customTags) tags = tags.concat(tag);\n  } else if (typeof customTags === 'function') {\n    tags = customTags(tags.slice());\n  }\n\n  for (let i = 0; i < tags.length; ++i) {\n    const tag = tags[i];\n\n    if (typeof tag === 'string') {\n      const tagObj = knownTags[tag];\n\n      if (!tagObj) {\n        const keys = Object.keys(knownTags).map(key => JSON.stringify(key)).join(', ');\n        throw new Error(`Unknown custom tag \"${tag}\"; use one of ${keys}`);\n      }\n\n      tags[i] = tagObj;\n    }\n  }\n\n  return tags;\n}\n\nconst sortMapEntriesByKey = (a, b) => a.key < b.key ? -1 : a.key > b.key ? 1 : 0;\n\nclass Schema {\n  // TODO: remove in v2\n  // TODO: remove in v2\n  constructor({\n    customTags,\n    merge,\n    schema,\n    sortMapEntries,\n    tags: deprecatedCustomTags\n  }) {\n    this.merge = !!merge;\n    this.name = schema;\n    this.sortMapEntries = sortMapEntries === true ? sortMapEntriesByKey : sortMapEntries || null;\n    if (!customTags && deprecatedCustomTags) warnings.warnOptionDeprecation('tags', 'customTags');\n    this.tags = getSchemaTags(schemas, tags, customTags || deprecatedCustomTags, schema);\n  }\n\n  createNode(value, wrapScalars, tagName, ctx) {\n    const baseCtx = {\n      defaultPrefix: Schema.defaultPrefix,\n      schema: this,\n      wrapScalars\n    };\n    const createCtx = ctx ? Object.assign(ctx, baseCtx) : baseCtx;\n    return createNode(value, tagName, createCtx);\n  }\n\n  createPair(key, value, ctx) {\n    if (!ctx) ctx = {\n      wrapScalars: true\n    };\n    const k = this.createNode(key, ctx.wrapScalars, null, ctx);\n    const v = this.createNode(value, ctx.wrapScalars, null, ctx);\n    return new resolveSeq.Pair(k, v);\n  }\n\n}\n\nPlainValue._defineProperty(Schema, \"defaultPrefix\", PlainValue.defaultTagPrefix);\n\nPlainValue._defineProperty(Schema, \"defaultTags\", PlainValue.defaultTags);\n\nexports.Schema = Schema;\n","'use strict';\n\nvar PlainValue = require('./PlainValue-ec8e588e.js');\nvar resolveSeq = require('./resolveSeq-d03cb037.js');\nvar Schema = require('./Schema-88e323a7.js');\n\nconst defaultOptions = {\n  anchorPrefix: 'a',\n  customTags: null,\n  indent: 2,\n  indentSeq: true,\n  keepCstNodes: false,\n  keepNodeTypes: true,\n  keepBlobsInJSON: true,\n  mapAsMap: false,\n  maxAliasCount: 100,\n  prettyErrors: false,\n  // TODO Set true in v2\n  simpleKeys: false,\n  version: '1.2'\n};\nconst scalarOptions = {\n  get binary() {\n    return resolveSeq.binaryOptions;\n  },\n\n  set binary(opt) {\n    Object.assign(resolveSeq.binaryOptions, opt);\n  },\n\n  get bool() {\n    return resolveSeq.boolOptions;\n  },\n\n  set bool(opt) {\n    Object.assign(resolveSeq.boolOptions, opt);\n  },\n\n  get int() {\n    return resolveSeq.intOptions;\n  },\n\n  set int(opt) {\n    Object.assign(resolveSeq.intOptions, opt);\n  },\n\n  get null() {\n    return resolveSeq.nullOptions;\n  },\n\n  set null(opt) {\n    Object.assign(resolveSeq.nullOptions, opt);\n  },\n\n  get str() {\n    return resolveSeq.strOptions;\n  },\n\n  set str(opt) {\n    Object.assign(resolveSeq.strOptions, opt);\n  }\n\n};\nconst documentOptions = {\n  '1.0': {\n    schema: 'yaml-1.1',\n    merge: true,\n    tagPrefixes: [{\n      handle: '!',\n      prefix: PlainValue.defaultTagPrefix\n    }, {\n      handle: '!!',\n      prefix: 'tag:private.yaml.org,2002:'\n    }]\n  },\n  1.1: {\n    schema: 'yaml-1.1',\n    merge: true,\n    tagPrefixes: [{\n      handle: '!',\n      prefix: '!'\n    }, {\n      handle: '!!',\n      prefix: PlainValue.defaultTagPrefix\n    }]\n  },\n  1.2: {\n    schema: 'core',\n    merge: false,\n    tagPrefixes: [{\n      handle: '!',\n      prefix: '!'\n    }, {\n      handle: '!!',\n      prefix: PlainValue.defaultTagPrefix\n    }]\n  }\n};\n\nfunction stringifyTag(doc, tag) {\n  if ((doc.version || doc.options.version) === '1.0') {\n    const priv = tag.match(/^tag:private\\.yaml\\.org,2002:([^:/]+)$/);\n    if (priv) return '!' + priv[1];\n    const vocab = tag.match(/^tag:([a-zA-Z0-9-]+)\\.yaml\\.org,2002:(.*)/);\n    return vocab ? `!${vocab[1]}/${vocab[2]}` : `!${tag.replace(/^tag:/, '')}`;\n  }\n\n  let p = doc.tagPrefixes.find(p => tag.indexOf(p.prefix) === 0);\n\n  if (!p) {\n    const dtp = doc.getDefaults().tagPrefixes;\n    p = dtp && dtp.find(p => tag.indexOf(p.prefix) === 0);\n  }\n\n  if (!p) return tag[0] === '!' ? tag : `!<${tag}>`;\n  const suffix = tag.substr(p.prefix.length).replace(/[!,[\\]{}]/g, ch => ({\n    '!': '%21',\n    ',': '%2C',\n    '[': '%5B',\n    ']': '%5D',\n    '{': '%7B',\n    '}': '%7D'\n  })[ch]);\n  return p.handle + suffix;\n}\n\nfunction getTagObject(tags, item) {\n  if (item instanceof resolveSeq.Alias) return resolveSeq.Alias;\n\n  if (item.tag) {\n    const match = tags.filter(t => t.tag === item.tag);\n    if (match.length > 0) return match.find(t => t.format === item.format) || match[0];\n  }\n\n  let tagObj, obj;\n\n  if (item instanceof resolveSeq.Scalar) {\n    obj = item.value; // TODO: deprecate/remove class check\n\n    const match = tags.filter(t => t.identify && t.identify(obj) || t.class && obj instanceof t.class);\n    tagObj = match.find(t => t.format === item.format) || match.find(t => !t.format);\n  } else {\n    obj = item;\n    tagObj = tags.find(t => t.nodeClass && obj instanceof t.nodeClass);\n  }\n\n  if (!tagObj) {\n    const name = obj && obj.constructor ? obj.constructor.name : typeof obj;\n    throw new Error(`Tag not resolved for ${name} value`);\n  }\n\n  return tagObj;\n} // needs to be called before value stringifier to allow for circular anchor refs\n\n\nfunction stringifyProps(node, tagObj, {\n  anchors,\n  doc\n}) {\n  const props = [];\n  const anchor = doc.anchors.getName(node);\n\n  if (anchor) {\n    anchors[anchor] = node;\n    props.push(`&${anchor}`);\n  }\n\n  if (node.tag) {\n    props.push(stringifyTag(doc, node.tag));\n  } else if (!tagObj.default) {\n    props.push(stringifyTag(doc, tagObj.tag));\n  }\n\n  return props.join(' ');\n}\n\nfunction stringify(item, ctx, onComment, onChompKeep) {\n  const {\n    anchors,\n    schema\n  } = ctx.doc;\n  let tagObj;\n\n  if (!(item instanceof resolveSeq.Node)) {\n    const createCtx = {\n      aliasNodes: [],\n      onTagObj: o => tagObj = o,\n      prevObjects: new Map()\n    };\n    item = schema.createNode(item, true, null, createCtx);\n\n    for (const alias of createCtx.aliasNodes) {\n      alias.source = alias.source.node;\n      let name = anchors.getName(alias.source);\n\n      if (!name) {\n        name = anchors.newName();\n        anchors.map[name] = alias.source;\n      }\n    }\n  }\n\n  if (item instanceof resolveSeq.Pair) return item.toString(ctx, onComment, onChompKeep);\n  if (!tagObj) tagObj = getTagObject(schema.tags, item);\n  const props = stringifyProps(item, tagObj, ctx);\n  if (props.length > 0) ctx.indentAtStart = (ctx.indentAtStart || 0) + props.length + 1;\n  const str = typeof tagObj.stringify === 'function' ? tagObj.stringify(item, ctx, onComment, onChompKeep) : item instanceof resolveSeq.Scalar ? resolveSeq.stringifyString(item, ctx, onComment, onChompKeep) : item.toString(ctx, onComment, onChompKeep);\n  if (!props) return str;\n  return item instanceof resolveSeq.Scalar || str[0] === '{' || str[0] === '[' ? `${props} ${str}` : `${props}\\n${ctx.indent}${str}`;\n}\n\nclass Anchors {\n  static validAnchorNode(node) {\n    return node instanceof resolveSeq.Scalar || node instanceof resolveSeq.YAMLSeq || node instanceof resolveSeq.YAMLMap;\n  }\n\n  constructor(prefix) {\n    PlainValue._defineProperty(this, \"map\", Object.create(null));\n\n    this.prefix = prefix;\n  }\n\n  createAlias(node, name) {\n    this.setAnchor(node, name);\n    return new resolveSeq.Alias(node);\n  }\n\n  createMergePair(...sources) {\n    const merge = new resolveSeq.Merge();\n    merge.value.items = sources.map(s => {\n      if (s instanceof resolveSeq.Alias) {\n        if (s.source instanceof resolveSeq.YAMLMap) return s;\n      } else if (s instanceof resolveSeq.YAMLMap) {\n        return this.createAlias(s);\n      }\n\n      throw new Error('Merge sources must be Map nodes or their Aliases');\n    });\n    return merge;\n  }\n\n  getName(node) {\n    const {\n      map\n    } = this;\n    return Object.keys(map).find(a => map[a] === node);\n  }\n\n  getNames() {\n    return Object.keys(this.map);\n  }\n\n  getNode(name) {\n    return this.map[name];\n  }\n\n  newName(prefix) {\n    if (!prefix) prefix = this.prefix;\n    const names = Object.keys(this.map);\n\n    for (let i = 1; true; ++i) {\n      const name = `${prefix}${i}`;\n      if (!names.includes(name)) return name;\n    }\n  } // During parsing, map & aliases contain CST nodes\n\n\n  resolveNodes() {\n    const {\n      map,\n      _cstAliases\n    } = this;\n    Object.keys(map).forEach(a => {\n      map[a] = map[a].resolved;\n    });\n\n    _cstAliases.forEach(a => {\n      a.source = a.source.resolved;\n    });\n\n    delete this._cstAliases;\n  }\n\n  setAnchor(node, name) {\n    if (node != null && !Anchors.validAnchorNode(node)) {\n      throw new Error('Anchors may only be set for Scalar, Seq and Map nodes');\n    }\n\n    if (name && /[\\x00-\\x19\\s,[\\]{}]/.test(name)) {\n      throw new Error('Anchor names must not contain whitespace or control characters');\n    }\n\n    const {\n      map\n    } = this;\n    const prev = node && Object.keys(map).find(a => map[a] === node);\n\n    if (prev) {\n      if (!name) {\n        return prev;\n      } else if (prev !== name) {\n        delete map[prev];\n        map[name] = node;\n      }\n    } else {\n      if (!name) {\n        if (!node) return null;\n        name = this.newName();\n      }\n\n      map[name] = node;\n    }\n\n    return name;\n  }\n\n}\n\nconst visit = (node, tags) => {\n  if (node && typeof node === 'object') {\n    const {\n      tag\n    } = node;\n\n    if (node instanceof resolveSeq.Collection) {\n      if (tag) tags[tag] = true;\n      node.items.forEach(n => visit(n, tags));\n    } else if (node instanceof resolveSeq.Pair) {\n      visit(node.key, tags);\n      visit(node.value, tags);\n    } else if (node instanceof resolveSeq.Scalar) {\n      if (tag) tags[tag] = true;\n    }\n  }\n\n  return tags;\n};\n\nconst listTagNames = node => Object.keys(visit(node, {}));\n\nfunction parseContents(doc, contents) {\n  const comments = {\n    before: [],\n    after: []\n  };\n  let body = undefined;\n  let spaceBefore = false;\n\n  for (const node of contents) {\n    if (node.valueRange) {\n      if (body !== undefined) {\n        const msg = 'Document contains trailing content not separated by a ... or --- line';\n        doc.errors.push(new PlainValue.YAMLSyntaxError(node, msg));\n        break;\n      }\n\n      const res = resolveSeq.resolveNode(doc, node);\n\n      if (spaceBefore) {\n        res.spaceBefore = true;\n        spaceBefore = false;\n      }\n\n      body = res;\n    } else if (node.comment !== null) {\n      const cc = body === undefined ? comments.before : comments.after;\n      cc.push(node.comment);\n    } else if (node.type === PlainValue.Type.BLANK_LINE) {\n      spaceBefore = true;\n\n      if (body === undefined && comments.before.length > 0 && !doc.commentBefore) {\n        // space-separated comments at start are parsed as document comments\n        doc.commentBefore = comments.before.join('\\n');\n        comments.before = [];\n      }\n    }\n  }\n\n  doc.contents = body || null;\n\n  if (!body) {\n    doc.comment = comments.before.concat(comments.after).join('\\n') || null;\n  } else {\n    const cb = comments.before.join('\\n');\n\n    if (cb) {\n      const cbNode = body instanceof resolveSeq.Collection && body.items[0] ? body.items[0] : body;\n      cbNode.commentBefore = cbNode.commentBefore ? `${cb}\\n${cbNode.commentBefore}` : cb;\n    }\n\n    doc.comment = comments.after.join('\\n') || null;\n  }\n}\n\nfunction resolveTagDirective({\n  tagPrefixes\n}, directive) {\n  const [handle, prefix] = directive.parameters;\n\n  if (!handle || !prefix) {\n    const msg = 'Insufficient parameters given for %TAG directive';\n    throw new PlainValue.YAMLSemanticError(directive, msg);\n  }\n\n  if (tagPrefixes.some(p => p.handle === handle)) {\n    const msg = 'The %TAG directive must only be given at most once per handle in the same document.';\n    throw new PlainValue.YAMLSemanticError(directive, msg);\n  }\n\n  return {\n    handle,\n    prefix\n  };\n}\n\nfunction resolveYamlDirective(doc, directive) {\n  let [version] = directive.parameters;\n  if (directive.name === 'YAML:1.0') version = '1.0';\n\n  if (!version) {\n    const msg = 'Insufficient parameters given for %YAML directive';\n    throw new PlainValue.YAMLSemanticError(directive, msg);\n  }\n\n  if (!documentOptions[version]) {\n    const v0 = doc.version || doc.options.version;\n    const msg = `Document will be parsed as YAML ${v0} rather than YAML ${version}`;\n    doc.warnings.push(new PlainValue.YAMLWarning(directive, msg));\n  }\n\n  return version;\n}\n\nfunction parseDirectives(doc, directives, prevDoc) {\n  const directiveComments = [];\n  let hasDirectives = false;\n\n  for (const directive of directives) {\n    const {\n      comment,\n      name\n    } = directive;\n\n    switch (name) {\n      case 'TAG':\n        try {\n          doc.tagPrefixes.push(resolveTagDirective(doc, directive));\n        } catch (error) {\n          doc.errors.push(error);\n        }\n\n        hasDirectives = true;\n        break;\n\n      case 'YAML':\n      case 'YAML:1.0':\n        if (doc.version) {\n          const msg = 'The %YAML directive must only be given at most once per document.';\n          doc.errors.push(new PlainValue.YAMLSemanticError(directive, msg));\n        }\n\n        try {\n          doc.version = resolveYamlDirective(doc, directive);\n        } catch (error) {\n          doc.errors.push(error);\n        }\n\n        hasDirectives = true;\n        break;\n\n      default:\n        if (name) {\n          const msg = `YAML only supports %TAG and %YAML directives, and not %${name}`;\n          doc.warnings.push(new PlainValue.YAMLWarning(directive, msg));\n        }\n\n    }\n\n    if (comment) directiveComments.push(comment);\n  }\n\n  if (prevDoc && !hasDirectives && '1.1' === (doc.version || prevDoc.version || doc.options.version)) {\n    const copyTagPrefix = ({\n      handle,\n      prefix\n    }) => ({\n      handle,\n      prefix\n    });\n\n    doc.tagPrefixes = prevDoc.tagPrefixes.map(copyTagPrefix);\n    doc.version = prevDoc.version;\n  }\n\n  doc.commentBefore = directiveComments.join('\\n') || null;\n}\n\nfunction assertCollection(contents) {\n  if (contents instanceof resolveSeq.Collection) return true;\n  throw new Error('Expected a YAML collection as document contents');\n}\n\nclass Document {\n  constructor(options) {\n    this.anchors = new Anchors(options.anchorPrefix);\n    this.commentBefore = null;\n    this.comment = null;\n    this.contents = null;\n    this.directivesEndMarker = null;\n    this.errors = [];\n    this.options = options;\n    this.schema = null;\n    this.tagPrefixes = [];\n    this.version = null;\n    this.warnings = [];\n  }\n\n  add(value) {\n    assertCollection(this.contents);\n    return this.contents.add(value);\n  }\n\n  addIn(path, value) {\n    assertCollection(this.contents);\n    this.contents.addIn(path, value);\n  }\n\n  delete(key) {\n    assertCollection(this.contents);\n    return this.contents.delete(key);\n  }\n\n  deleteIn(path) {\n    if (resolveSeq.isEmptyPath(path)) {\n      if (this.contents == null) return false;\n      this.contents = null;\n      return true;\n    }\n\n    assertCollection(this.contents);\n    return this.contents.deleteIn(path);\n  }\n\n  getDefaults() {\n    return Document.defaults[this.version] || Document.defaults[this.options.version] || {};\n  }\n\n  get(key, keepScalar) {\n    return this.contents instanceof resolveSeq.Collection ? this.contents.get(key, keepScalar) : undefined;\n  }\n\n  getIn(path, keepScalar) {\n    if (resolveSeq.isEmptyPath(path)) return !keepScalar && this.contents instanceof resolveSeq.Scalar ? this.contents.value : this.contents;\n    return this.contents instanceof resolveSeq.Collection ? this.contents.getIn(path, keepScalar) : undefined;\n  }\n\n  has(key) {\n    return this.contents instanceof resolveSeq.Collection ? this.contents.has(key) : false;\n  }\n\n  hasIn(path) {\n    if (resolveSeq.isEmptyPath(path)) return this.contents !== undefined;\n    return this.contents instanceof resolveSeq.Collection ? this.contents.hasIn(path) : false;\n  }\n\n  set(key, value) {\n    assertCollection(this.contents);\n    this.contents.set(key, value);\n  }\n\n  setIn(path, value) {\n    if (resolveSeq.isEmptyPath(path)) this.contents = value;else {\n      assertCollection(this.contents);\n      this.contents.setIn(path, value);\n    }\n  }\n\n  setSchema(id, customTags) {\n    if (!id && !customTags && this.schema) return;\n    if (typeof id === 'number') id = id.toFixed(1);\n\n    if (id === '1.0' || id === '1.1' || id === '1.2') {\n      if (this.version) this.version = id;else this.options.version = id;\n      delete this.options.schema;\n    } else if (id && typeof id === 'string') {\n      this.options.schema = id;\n    }\n\n    if (Array.isArray(customTags)) this.options.customTags = customTags;\n    const opt = Object.assign({}, this.getDefaults(), this.options);\n    this.schema = new Schema.Schema(opt);\n  }\n\n  parse(node, prevDoc) {\n    if (this.options.keepCstNodes) this.cstNode = node;\n    if (this.options.keepNodeTypes) this.type = 'DOCUMENT';\n    const {\n      directives = [],\n      contents = [],\n      directivesEndMarker,\n      error,\n      valueRange\n    } = node;\n\n    if (error) {\n      if (!error.source) error.source = this;\n      this.errors.push(error);\n    }\n\n    parseDirectives(this, directives, prevDoc);\n    if (directivesEndMarker) this.directivesEndMarker = true;\n    this.range = valueRange ? [valueRange.start, valueRange.end] : null;\n    this.setSchema();\n    this.anchors._cstAliases = [];\n    parseContents(this, contents);\n    this.anchors.resolveNodes();\n\n    if (this.options.prettyErrors) {\n      for (const error of this.errors) if (error instanceof PlainValue.YAMLError) error.makePretty();\n\n      for (const warn of this.warnings) if (warn instanceof PlainValue.YAMLError) warn.makePretty();\n    }\n\n    return this;\n  }\n\n  listNonDefaultTags() {\n    return listTagNames(this.contents).filter(t => t.indexOf(Schema.Schema.defaultPrefix) !== 0);\n  }\n\n  setTagPrefix(handle, prefix) {\n    if (handle[0] !== '!' || handle[handle.length - 1] !== '!') throw new Error('Handle must start and end with !');\n\n    if (prefix) {\n      const prev = this.tagPrefixes.find(p => p.handle === handle);\n      if (prev) prev.prefix = prefix;else this.tagPrefixes.push({\n        handle,\n        prefix\n      });\n    } else {\n      this.tagPrefixes = this.tagPrefixes.filter(p => p.handle !== handle);\n    }\n  }\n\n  toJSON(arg, onAnchor) {\n    const {\n      keepBlobsInJSON,\n      mapAsMap,\n      maxAliasCount\n    } = this.options;\n    const keep = keepBlobsInJSON && (typeof arg !== 'string' || !(this.contents instanceof resolveSeq.Scalar));\n    const ctx = {\n      doc: this,\n      indentStep: '  ',\n      keep,\n      mapAsMap: keep && !!mapAsMap,\n      maxAliasCount,\n      stringify // Requiring directly in Pair would create circular dependencies\n\n    };\n    const anchorNames = Object.keys(this.anchors.map);\n    if (anchorNames.length > 0) ctx.anchors = new Map(anchorNames.map(name => [this.anchors.map[name], {\n      alias: [],\n      aliasCount: 0,\n      count: 1\n    }]));\n    const res = resolveSeq.toJSON(this.contents, arg, ctx);\n    if (typeof onAnchor === 'function' && ctx.anchors) for (const {\n      count,\n      res\n    } of ctx.anchors.values()) onAnchor(res, count);\n    return res;\n  }\n\n  toString() {\n    if (this.errors.length > 0) throw new Error('Document with errors cannot be stringified');\n    const indentSize = this.options.indent;\n\n    if (!Number.isInteger(indentSize) || indentSize <= 0) {\n      const s = JSON.stringify(indentSize);\n      throw new Error(`\"indent\" option must be a positive integer, not ${s}`);\n    }\n\n    this.setSchema();\n    const lines = [];\n    let hasDirectives = false;\n\n    if (this.version) {\n      let vd = '%YAML 1.2';\n\n      if (this.schema.name === 'yaml-1.1') {\n        if (this.version === '1.0') vd = '%YAML:1.0';else if (this.version === '1.1') vd = '%YAML 1.1';\n      }\n\n      lines.push(vd);\n      hasDirectives = true;\n    }\n\n    const tagNames = this.listNonDefaultTags();\n    this.tagPrefixes.forEach(({\n      handle,\n      prefix\n    }) => {\n      if (tagNames.some(t => t.indexOf(prefix) === 0)) {\n        lines.push(`%TAG ${handle} ${prefix}`);\n        hasDirectives = true;\n      }\n    });\n    if (hasDirectives || this.directivesEndMarker) lines.push('---');\n\n    if (this.commentBefore) {\n      if (hasDirectives || !this.directivesEndMarker) lines.unshift('');\n      lines.unshift(this.commentBefore.replace(/^/gm, '#'));\n    }\n\n    const ctx = {\n      anchors: Object.create(null),\n      doc: this,\n      indent: '',\n      indentStep: ' '.repeat(indentSize),\n      stringify // Requiring directly in nodes would create circular dependencies\n\n    };\n    let chompKeep = false;\n    let contentComment = null;\n\n    if (this.contents) {\n      if (this.contents instanceof resolveSeq.Node) {\n        if (this.contents.spaceBefore && (hasDirectives || this.directivesEndMarker)) lines.push('');\n        if (this.contents.commentBefore) lines.push(this.contents.commentBefore.replace(/^/gm, '#')); // top-level block scalars need to be indented if followed by a comment\n\n        ctx.forceBlockIndent = !!this.comment;\n        contentComment = this.contents.comment;\n      }\n\n      const onChompKeep = contentComment ? null : () => chompKeep = true;\n      const body = stringify(this.contents, ctx, () => contentComment = null, onChompKeep);\n      lines.push(resolveSeq.addComment(body, '', contentComment));\n    } else if (this.contents !== undefined) {\n      lines.push(stringify(this.contents, ctx));\n    }\n\n    if (this.comment) {\n      if ((!chompKeep || contentComment) && lines[lines.length - 1] !== '') lines.push('');\n      lines.push(this.comment.replace(/^/gm, '#'));\n    }\n\n    return lines.join('\\n') + '\\n';\n  }\n\n}\n\nPlainValue._defineProperty(Document, \"defaults\", documentOptions);\n\nexports.Document = Document;\nexports.defaultOptions = defaultOptions;\nexports.scalarOptions = scalarOptions;\n","'use strict';\n\nvar parseCst = require('./parse-cst.js');\nvar Document$1 = require('./Document-9b4560a1.js');\nvar Schema = require('./Schema-88e323a7.js');\nvar PlainValue = require('./PlainValue-ec8e588e.js');\nvar warnings = require('./warnings-1000a372.js');\nrequire('./resolveSeq-d03cb037.js');\n\nfunction createNode(value, wrapScalars = true, tag) {\n  if (tag === undefined && typeof wrapScalars === 'string') {\n    tag = wrapScalars;\n    wrapScalars = true;\n  }\n\n  const options = Object.assign({}, Document$1.Document.defaults[Document$1.defaultOptions.version], Document$1.defaultOptions);\n  const schema = new Schema.Schema(options);\n  return schema.createNode(value, wrapScalars, tag);\n}\n\nclass Document extends Document$1.Document {\n  constructor(options) {\n    super(Object.assign({}, Document$1.defaultOptions, options));\n  }\n\n}\n\nfunction parseAllDocuments(src, options) {\n  const stream = [];\n  let prev;\n\n  for (const cstDoc of parseCst.parse(src)) {\n    const doc = new Document(options);\n    doc.parse(cstDoc, prev);\n    stream.push(doc);\n    prev = doc;\n  }\n\n  return stream;\n}\n\nfunction parseDocument(src, options) {\n  const cst = parseCst.parse(src);\n  const doc = new Document(options).parse(cst[0]);\n\n  if (cst.length > 1) {\n    const errMsg = 'Source contains multiple documents; please use YAML.parseAllDocuments()';\n    doc.errors.unshift(new PlainValue.YAMLSemanticError(cst[1], errMsg));\n  }\n\n  return doc;\n}\n\nfunction parse(src, options) {\n  const doc = parseDocument(src, options);\n  doc.warnings.forEach(warning => warnings.warn(warning));\n  if (doc.errors.length > 0) throw doc.errors[0];\n  return doc.toJSON();\n}\n\nfunction stringify(value, options) {\n  const doc = new Document(options);\n  doc.contents = value;\n  return String(doc);\n}\n\nconst YAML = {\n  createNode,\n  defaultOptions: Document$1.defaultOptions,\n  Document,\n  parse,\n  parseAllDocuments,\n  parseCST: parseCst.parse,\n  parseDocument,\n  scalarOptions: Document$1.scalarOptions,\n  stringify\n};\n\nexports.YAML = YAML;\n","module.exports = require('./dist').YAML\n","'use strict';\n\n/**\n* escapes JSON Pointer using ~0 for ~ and ~1 for /\n* @param s the string to escape\n* @return the escaped string\n*/\nfunction jpescape(s) {\n    return s.replace(/\\~/g, '~0').replace(/\\//g, '~1');\n}\n\n/**\n* unescapes JSON Pointer using ~0 for ~ and ~1 for /\n* @param s the string to unescape\n* @return the unescaped string\n*/\nfunction jpunescape(s) {\n    return s.replace(/\\~1/g, '/').replace(/~0/g, '~');\n}\n\n// JSON Pointer specification: http://tools.ietf.org/html/rfc6901\n\n/**\n* from obj, return the property with a JSON Pointer prop, optionally setting it\n* to newValue\n* @param obj the object to point into\n* @param prop the JSON Pointer or JSON Reference\n* @param newValue optional value to set the property to\n* @return the found property, or false\n*/\nfunction jptr(obj, prop, newValue) {\n    if (typeof obj === 'undefined') return false;\n    if (!prop || typeof prop !== 'string' || (prop === '#')) return (typeof newValue !== 'undefined' ? newValue : obj);\n\n    if (prop.indexOf('#')>=0) {\n        let parts = prop.split('#');\n        let uri = parts[0];\n        if (uri) return false; // we do internal resolution only\n        prop = parts[1];\n        prop = decodeURIComponent(prop.slice(1).split('+').join(' '));\n    }\n    if (prop.startsWith('/')) prop = prop.slice(1);\n\n    let components = prop.split('/');\n    for (let i=0;i<components.length;i++) {\n        components[i] = jpunescape(components[i]);\n\n        let setAndLast = (typeof newValue !== 'undefined') && (i == components.length-1);\n\n        let index = parseInt(components[i],10);\n        if (!Array.isArray(obj) || isNaN(index) || (index.toString() !== components[i])) {\n            index = (Array.isArray(obj) && components[i] === '-') ? -2 : -1;\n        }\n        else {\n            components[i] = (i > 0) ? components[i-1] : ''; // backtrack to indexed property name\n        }\n\n        if ((index != -1) || (obj && obj.hasOwnProperty(components[i]))) {\n            if (index >= 0) {\n                if (setAndLast) {\n                    obj[index] = newValue;\n                }\n                obj = obj[index];\n            }\n            else if (index === -2) {\n                if (setAndLast) {\n                    if (Array.isArray(obj)) {\n                        obj.push(newValue);\n                    }\n                    return newValue;\n                }\n                else return undefined;\n            }\n            else {\n                if (setAndLast) {\n                    obj[components[i]] = newValue;\n                }\n                obj = obj[components[i]];\n            }\n        }\n        else {\n            if ((typeof newValue !== 'undefined') && (typeof obj === 'object') &&\n                (!Array.isArray(obj))) {\n                obj[components[i]] = (setAndLast ? newValue : ((components[i+1] === '0' || components[i+1] === '-') ? [] : {}));\n                obj = obj[components[i]];\n            }\n            else return false;\n        }\n    }\n    return obj;\n}\n\nmodule.exports = {\n    jptr : jptr,\n    jpescape : jpescape,\n    jpunescape : jpunescape\n};\n","'use strict';\n\nfunction isRef(obj,key) {\n    return ((key === '$ref') && (!!obj && typeof obj[key] === 'string'));\n}\n\nmodule.exports = {\n    isRef: isRef\n};\n\n","'use strict';\n\n/**\n* a collection of cloning functions\n*/\n\n/**\n* a no-op placeholder which returns the given object unchanged\n* useful for when a clone function needs to be passed but cloning is not\n* required\n* @param obj the input object\n* @return the input object, unchanged\n*/\nfunction nop(obj) {\n    return obj;\n}\n\n/**\n* clones the given object using JSON.parse and JSON.stringify\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction clone(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\n\n/**\n* clones the given object's properties shallowly, ignores properties from prototype\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction shallowClone(obj) {\n    let result = {};\n    for (let p in obj) {\n        if (obj.hasOwnProperty(p)) {\n            result[p] = obj[p];\n        }\n    }\n    return result;\n}\n\n/**\n* clones the given object's properties deeply, ignores properties from prototype\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction deepClone(obj) {\n    let result = Array.isArray(obj) ? [] : {};\n    for (let p in obj) {\n        if (obj.hasOwnProperty(p) || Array.isArray(obj)) {\n            result[p] = (typeof obj[p] === 'object') ? deepClone(obj[p]) : obj[p];\n        }\n    }\n    return result;\n}\n\n/**\n* clones the given object's properties shallowly, using Object.assign\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction fastClone(obj) {\n    return Object.assign({},obj);\n}\n\n/**\n* Source: stackoverflow http://bit.ly/2A1Kha6\n*/\n\nfunction circularClone(obj, hash) {\n    if (!hash) hash = new WeakMap();\n    // Do not try to clone primitives or functions\n    if (Object(obj) !== obj || obj instanceof Function) return obj;\n    if (hash.has(obj)) return hash.get(obj); // Cyclic reference\n    try { // Try to run constructor (without arguments, as we don't know them)\n        var result = new obj.constructor();\n    } catch(e) { // Constructor failed, create object without running the constructor\n        result = Object.create(Object.getPrototypeOf(obj));\n    }\n    // Optional: support for some standard constructors (extend as desired)\n    /*if (obj instanceof Map)\n        Array.from(obj, ([key, val]) => result.set(circularClone(key, hash),\n                                                   circularClone(val, hash)) );\n    else if (obj instanceof Set)\n        Array.from(obj, (key) => result.add(circularClone(key, hash)) );\n    */\n    // Register in hash\n    hash.set(obj, result);\n    // Clone and assign enumerable own properties recursively\n    return Object.assign(result, ...Object.keys(obj).map (\n        key => ({ [key]: circularClone(obj[key], hash) }) ));\n}\n\nmodule.exports = {\n    nop : nop,\n    clone : clone,\n    shallowClone : shallowClone,\n    deepClone : deepClone,\n    fastClone : fastClone,\n    circularClone : circularClone\n};\n\n","'use strict';\n\nconst jpescape = require('./jptr.js').jpescape;\n\nfunction defaultState() {\n    return {\n        path: '#',\n        depth: 0,\n        pkey: '',\n        parent: {},\n        payload: {},\n        seen: new WeakMap(),\n        identity: false,\n        identityDetection: false\n    };\n}\n\n/**\n* recurses through the properties of an object, given an optional starting state\n* anything you pass in state.payload is passed to the callback each time\n* @param object the object to recurse through\n* @param state optional starting state, can be set to null or {}\n* @param callback the function which receives object,key,state on each property\n*/\nfunction recurse(object, state, callback) {\n    if (!state) state = {depth:0};\n    if (!state.depth) {\n        state = Object.assign({},defaultState(),state);\n    }\n    if (typeof object !== 'object') return;\n    let oPath = state.path;\n    for (let key in object) {\n        state.key = key;\n        state.path = state.path + '/' + encodeURIComponent(jpescape(key));\n        state.identityPath = state.seen.get(object[key]);\n        state.identity = (typeof state.identityPath !== 'undefined');\n        if (object.hasOwnProperty(key)) {\n            callback(object, key, state);\n        }\n        if ((typeof object[key] === 'object') && (!state.identity)) {\n            if (state.identityDetection && !Array.isArray(object[key]) && object[key] !== null) {\n                state.seen.set(object[key],state.path);\n            }\n            let newState = {};\n            newState.parent = object;\n            newState.path = state.path;\n            newState.depth = state.depth ? state.depth+1 : 1;\n            newState.pkey = key;\n            newState.payload = state.payload;\n            newState.seen = state.seen;\n            newState.identity = false;\n            newState.identityDetection = state.identityDetection;\n            recurse(object[key], newState, callback);\n        }\n        state.path = oPath;\n    }\n}\n\nmodule.exports = {\n    recurse : recurse\n};\n\n","'use strict';\n\nconst recurse = require('./recurse.js').recurse;\nconst clone = require('./clone.js').shallowClone;\nconst jptr = require('./jptr.js').jptr;\nconst isRef = require('./isref.js').isRef;\n\nvar getLogger = function (options) {\n    if (options && options.verbose) {\n        return {\n            warn: function() {\n                var args = Array.prototype.slice.call(arguments);\n                console.warn.apply(console, args);\n            }\n        }\n    }\n    else {\n        return {\n            warn: function() {\n                //nop\n            }\n        }\n    }\n}\n\n/**\n* dereferences the given object\n* @param o the object to dereference\n* @definitions a source of definitions to reference\n* @options optional settings (used recursively)\n* @return the dereferenced object\n*/\nfunction dereference(o,definitions,options) {\n    if (!options) options = {};\n    if (!options.cache) options.cache = {};\n    if (!options.state) options.state = {};\n    options.state.identityDetection = true;\n    // options.depth allows us to limit cloning to the first invocation\n    options.depth = (options.depth ? options.depth+1 : 1);\n    let obj = (options.depth > 1 ? o : clone(o));\n    let container = { data: obj };\n    let defs = (options.depth > 1 ? definitions : clone(definitions));\n    // options.master is the top level object, regardless of depth\n    if (!options.master) options.master = obj;\n\n    let logger = getLogger(options);\n\n    let changes = 1;\n    while (changes > 0) {\n        changes = 0;\n    recurse(container,options.state,function(obj,key,state){\n        if (isRef(obj,key)) {\n            let $ref = obj[key]; // immutable\n            changes++;\n            if (!options.cache[$ref]) {\n                let entry = {};\n                entry.path = state.path.split('/$ref')[0];\n                entry.key = $ref;\n                logger.warn('Dereffing %s at %s',$ref,entry.path);\n                entry.source = defs;\n                entry.data = jptr(entry.source,entry.key);\n                if (entry.data === false) {\n                    entry.data = jptr(options.master,entry.key);\n                    entry.source = options.master;\n                }\n                if (entry.data === false) {\n                    logger.warn('Missing $ref target',entry.key);\n                }\n                options.cache[$ref] = entry;\n                entry.data = state.parent[state.pkey] = dereference(jptr(entry.source,entry.key),entry.source,options);\n                if (options.$ref && (typeof state.parent[state.pkey] === 'object') && (state.parent[state.pkey] !== null)) state.parent[state.pkey][options.$ref] = $ref;\n                entry.resolved = true;\n            }\n            else {\n                let entry = options.cache[$ref];\n                if (entry.resolved) {\n                    // we have already seen and resolved this reference\n                    logger.warn('Patching %s for %s',$ref,entry.path);\n                    state.parent[state.pkey] = entry.data;\n                    if (options.$ref && (typeof state.parent[state.pkey] === 'object') && (state.parent[state.pkey] !== null)) state.parent[state.pkey][options.$ref] = $ref;\n                }\n                else if ($ref === entry.path) {\n                    // reference to itself, throw\n                    throw new Error(`Tight circle at ${entry.path}`);\n                }\n                else {\n                    // we're dealing with a circular reference here\n                    logger.warn('Unresolved ref');\n                    state.parent[state.pkey] = jptr(entry.source,entry.path);\n                    if (state.parent[state.pkey] === false) {\n                        state.parent[state.pkey] = jptr(entry.source,entry.key);\n                    }\n                    if (options.$ref && (typeof state.parent[state.pkey] === 'object') && (state.parent[state.pkey] !== null)) state.parent[options.$ref] = $ref;\n                }\n            }\n        }\n    });\n    }\n    return container.data;\n}\n\nmodule.exports = {\n    dereference : dereference\n};\n\n","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar LIMIT_REPLACE_NODE = '[...]'\nvar CIRCULAR_REPLACE_NODE = '[Circular]'\n\nvar arr = []\nvar replacerStack = []\n\nfunction defaultOptions () {\n  return {\n    depthLimit: Number.MAX_SAFE_INTEGER,\n    edgesLimit: Number.MAX_SAFE_INTEGER\n  }\n}\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  decirc(obj, '', 0, [], undefined, 0, options)\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(obj, replacer, spacer)\n    } else {\n      res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction setReplace (replace, val, k, parent) {\n  var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n  if (propertyDescriptor.get !== undefined) {\n    if (propertyDescriptor.configurable) {\n      Object.defineProperty(parent, k, { value: replace })\n      arr.push([parent, k, val, propertyDescriptor])\n    } else {\n      replacerStack.push([val, k, replace])\n    }\n  } else {\n    parent[k] = replace\n    arr.push([parent, k, val])\n  }\n}\n\nfunction decirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, i, stack, val, depth, options)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  var tmp = deterministicDecirc(obj, '', 0, [], undefined, 0, options) || obj\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(tmp, replacer, spacer)\n    } else {\n      res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    // Ensure that we restore the object as it was.\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n    try {\n      if (typeof val.toJSON === 'function') {\n        return\n      }\n    } catch (_) {\n      return\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, i, stack, val, depth, options)\n        tmp[key] = val[key]\n      }\n      if (typeof parent !== 'undefined') {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as replaced value\nfunction replaceGetterValues (replacer) {\n  replacer =\n    typeof replacer !== 'undefined'\n      ? replacer\n      : function (k, v) {\n        return v\n      }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = part[2]\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","'use strict';\n\nconst sjs = require('fast-safe-stringify');\n\nconst colour = process.env.NODE_DISABLE_COLORS ?\n    { red: '', yellow: '', green: '', normal: '' } :\n    { red: '\\x1b[31m', yellow: '\\x1b[33;1m', green: '\\x1b[32m', normal: '\\x1b[0m' };\n\nfunction uniqueOnly(value, index, self) {\n    return self.indexOf(value) === index;\n}\n\nfunction hasDuplicates(array) {\n    return (new Set(array)).size !== array.length;\n}\n\nfunction allSame(array) {\n    return (new Set(array)).size <= 1;\n}\n\nfunction deepEquals(obj1, obj2) {\n    function _equals(obj1, obj2) {\n        return sjs.stringify(obj1) === sjs.stringify(Object.assign({}, obj1, obj2));\n    }\n    return _equals(obj1, obj2) && _equals(obj2, obj1);\n}\n\nfunction compressArray(arr) {\n    let result = [];\n    for (let candidate of arr) {\n        let dupe = result.find(function(e,i,a){\n            return deepEquals(e,candidate);\n        });\n        if (!dupe) result.push(candidate);\n    }\n    return result;\n}\n\nfunction distinctArray(arr) {\n    return (arr.length === compressArray(arr).length);\n}\n\nfunction firstDupe(arr) {\n    return arr.find(function(e,i,a){\n        return arr.indexOf(e)<i;\n    });\n}\n\n/**\n * simple hash implementation based on https://stackoverflow.com/a/7616484/1749888\n * @param {string} s - string to hash\n * @returns {number} numerical hash code\n */\nfunction hash(s) {\n    let hash = 0;\n    let chr;\n    if (s.length === 0) return hash;\n    for (let i = 0; i < s.length; i++) {\n      chr   = s.charCodeAt(i);\n      hash  = ((hash << 5) - hash) + chr;\n      hash |= 0; // Convert to 32bit integer\n    }\n    return hash;\n}\n\nString.prototype.toCamelCase = function camelize() {\n    return this.toLowerCase().replace(/[-_ \\/\\.](.)/g, function (match, group1) {\n        return group1.toUpperCase();\n    });\n}\n\nconst parameterTypeProperties = [\n    'format',\n    'minimum',\n    'maximum',\n    'exclusiveMinimum',\n    'exclusiveMaximum',\n    'minLength',\n    'maxLength',\n    'multipleOf',\n    'minItems',\n    'maxItems',\n    'uniqueItems',\n    'minProperties',\n    'maxProperties',\n    'additionalProperties',\n    'pattern',\n    'enum',\n    'default'\n];\n\nconst arrayProperties = [\n    'items',\n    'minItems',\n    'maxItems',\n    'uniqueItems'\n];\n\nconst httpMethods = [\n    'get',\n    'post',\n    'put',\n    'delete',\n    'patch',\n    'head',\n    'options',\n    'trace'\n];\n\nfunction sanitise(s) {\n    s = s.replace('[]','Array');\n    let components = s.split('/');\n    components[0] = components[0].replace(/[^A-Za-z0-9_\\-\\.]+|\\s+/gm, '_');\n    return components.join('/');\n}\n\nfunction sanitiseAll(s) {\n    return sanitise(s.split('/').join('_'));\n}\n\nmodule.exports = {\n\n    colour: colour,\n    uniqueOnly: uniqueOnly,\n    hasDuplicates: hasDuplicates,\n    allSame: allSame,\n    distinctArray: distinctArray,\n    firstDupe: firstDupe,\n    hash: hash,\n    parameterTypeProperties: parameterTypeProperties,\n    arrayProperties: arrayProperties,\n    httpMethods: httpMethods,\n    sanitise: sanitise,\n    sanitiseAll: sanitiseAll\n\n};\n\n","'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst url = require('url');\n\nconst fetch = require('node-fetch-h2');\nconst yaml = require('yaml');\n\nconst jptr = require('reftools/lib/jptr.js').jptr;\nconst recurse = require('reftools/lib/recurse.js').recurse;\nconst clone = require('reftools/lib/clone.js').clone;\nconst deRef = require('reftools/lib/dereference.js').dereference;\nconst isRef = require('reftools/lib/isref.js').isRef;\nconst common = require('oas-kit-common');\n\nfunction unique(arr) {\n    return [... new Set(arr)];\n}\n\nfunction readFileAsync(filename, encoding, options, pointer, def) {\n    return new Promise(function (resolve, reject) {\n        fs.readFile(filename, encoding, function (err, data) {\n            if (err) {\n                if (options.ignoreIOErrors && def) {\n                    if (options.verbose) console.warn('FAILED',pointer);\n                    options.externalRefs[pointer].failed = true;\n                    resolve(def);\n                }\n                else {\n                    reject(err);\n                }\n            }\n            else {\n                resolve(data);\n            }\n        });\n    });\n}\n\nfunction resolveAllFragment(obj, context, src, parentPath, base, options) {\n\n    let attachPoint = options.externalRefs[src+parentPath].paths[0];\n\n    let baseUrl = url.parse(base);\n    let seen = {}; // seen is indexed by the $ref value and contains path replacements\n    let changes = 1;\n    while (changes) {\n        changes = 0;\n        recurse(obj, {identityDetection:true}, function (obj, key, state) {\n            if (isRef(obj, key)) {\n                if (obj[key].startsWith('#')) {\n                    if (!seen[obj[key]] && !obj.$fixed) {\n                        let target = clone(jptr(context, obj[key]));\n                        if (options.verbose>1) console.warn((target === false ? common.colour.red : common.colour.green)+'Fragment resolution', obj[key], common.colour.normal);\n                        /*\n                            ResolutionCase:A is where there is a local reference in an externally\n                            referenced document, and we have not seen it before. The reference\n                            is replaced by a copy of the data pointed to, which may be outside this fragment\n                            but within the context of the external document\n                        */\n                        if (target === false) {\n                            state.parent[state.pkey] = {}; /* case:A(2) where the resolution fails */\n                            if (options.fatal) {\n                                let ex = new Error('Fragment $ref resolution failed '+obj[key]);\n                                if (options.promise) options.promise.reject(ex)\n                                else throw ex;\n                            }\n                        }\n                        else {\n                            changes++;\n                            state.parent[state.pkey] = target;\n                            seen[obj[key]] = state.path.replace('/%24ref','');\n                        }\n                    }\n                    else {\n                        if (!obj.$fixed) {\n                            let newRef = (attachPoint+'/'+seen[obj[key]]).split('/#/').join('/');\n                            state.parent[state.pkey] = { $ref: newRef, 'x-miro': obj[key], $fixed: true };\n                            if (options.verbose>1) console.warn('Replacing with',newRef);\n                            changes++;\n                        }\n                        /*\n                            ResolutionCase:B is where there is a local reference in an externally\n                            referenced document, and we have seen this reference before and resolved it.\n                            We create a new object containing the (immutable) $ref string\n                        */\n                    }\n                }\n                else if (baseUrl.protocol) {\n                    let newRef = url.resolve(base,obj[key]).toString();\n                    if (options.verbose>1) console.warn(common.colour.yellow+'Rewriting external url ref',obj[key],'as',newRef,common.colour.normal);\n                    obj['x-miro'] = obj[key];\n                    if (options.externalRefs[obj[key]]) {\n                        if (!options.externalRefs[newRef]) {\n                            options.externalRefs[newRef] = options.externalRefs[obj[key]];\n                        }\n                        options.externalRefs[newRef].failed = options.externalRefs[obj[key]].failed;\n                    }\n                    obj[key] = newRef;\n                }\n                else if (!obj['x-miro']) {\n                    let newRef = url.resolve(base,obj[key]).toString();\n                    let failed = false;\n                    if (options.externalRefs[obj[key]]) {\n                        failed = options.externalRefs[obj[key]].failed;\n                    }\n                    if (!failed) {\n                        if (options.verbose>1) console.warn(common.colour.yellow+'Rewriting external ref',obj[key],'as',newRef,common.colour.normal);\n                        obj['x-miro'] = obj[key]; // we use x-miro as a flag so we don't do this > once\n                        obj[key] = newRef;\n                    }\n                }\n            }\n        });\n    }\n\n    recurse(obj,{},function(obj,key,state){\n        if (isRef(obj, key)) {\n            if (typeof obj.$fixed !== 'undefined') delete obj.$fixed;\n        }\n    });\n\n    if (options.verbose>1) console.warn('Finished fragment resolution');\n    return obj;\n}\n\nfunction filterData(data, options) {\n    if (!options.filters || !options.filters.length) return data;\n    for (let filter of options.filters) {\n        data = filter(data, options);\n    }\n    return data;\n}\n\nfunction testProtocol(input, backup) {\n    if (input && input.length > 2) return input;\n    if (backup && backup.length > 2) return backup;\n    return 'file:';\n}\n\nfunction resolveExternal(root, pointer, options, callback) {\n    var u = url.parse(options.source);\n    var base = options.source.split('\\\\').join('/').split('/');\n    let doc = base.pop(); // drop the actual filename\n    if (!doc) base.pop(); // in case it ended with a /\n    let fragment = '';\n    let fnComponents = pointer.split('#');\n    if (fnComponents.length > 1) {\n        fragment = '#' + fnComponents[1];\n        pointer = fnComponents[0];\n    }\n    base = base.join('/');\n\n    let u2 = url.parse(pointer);\n    let effectiveProtocol = testProtocol(u2.protocol, u.protocol);\n\n    let target;\n    if (effectiveProtocol === 'file:') {\n        target = path.resolve(base ? base + '/' : '', pointer);\n    }\n    else {\n        target = url.resolve(base ? base + '/' : '', pointer);\n    }\n\n    if (options.cache[target]) {\n        if (options.verbose) console.warn('CACHED', target, fragment);\n        /*\n            resolutionSource:A this is where we have cached the externally-referenced document from a\n            file, http or custom handler\n        */\n        let context = clone(options.cache[target]);\n        let data = options.externalRef = context;\n        if (fragment) {\n            data = jptr(data, fragment);\n            if (data === false) {\n                data = {}; // case:A(2) where the resolution fails\n                if (options.fatal) {\n                    let ex = new Error('Cached $ref resolution failed '+target+fragment);\n                    if (options.promise) options.promise.reject(ex)\n                    else throw ex;\n                }\n            }\n        }\n        data = resolveAllFragment(data, context, pointer, fragment, target, options);\n        data = filterData(data, options);\n        callback(clone(data), target, options);\n        return Promise.resolve(data);\n    }\n\n    if (options.verbose) console.warn('GET', target, fragment);\n\n    if (options.handlers && options.handlers[effectiveProtocol]) {\n        return options.handlers[effectiveProtocol](base, pointer, fragment, options)\n            .then(function (data) {\n                options.externalRef = data;\n                data = filterData(data, options);\n                options.cache[target] = data;\n                callback(data, target, options);\n                return data;\n            })\n            .catch(function(ex){\n                if (options.verbose) console.warn(ex);\n                throw ex;\n            });\n    }\n    else if (effectiveProtocol && effectiveProtocol.startsWith('http')) {\n        const fetchOptions = Object.assign({}, options.fetchOptions, { agent: options.agent });\n        return options.fetch(target, fetchOptions)\n            .then(function (res) {\n                if (res.status !== 200) {\n                  if (options.ignoreIOErrors) {\n                    if (options.verbose) console.warn('FAILED',pointer);\n                    options.externalRefs[pointer].failed = true;\n                    return '{\"$ref\":\"'+pointer+'\"}';\n                  }\n                  else {\n                    throw new Error(`Received status code ${res.status}: ${target}`);\n                  }\n                }\n                return res.text();\n            })\n            .then(function (data) {\n                try {\n                    let context = yaml.parse(data, { schema:'core', prettyErrors: true });\n                    data = options.externalRef = context;\n                    options.cache[target] = clone(data);\n                    /* resolutionSource:B, from the network, data is fresh, but we clone it into the cache */\n                    if (fragment) {\n                        data = jptr(data, fragment);\n                        if (data === false) {\n                            data = {}; /* case:B(2) where the resolution fails */\n                            if (options.fatal) {\n                                let ex = new Error('Remote $ref resolution failed '+target+fragment);\n                                if (options.promise) options.promise.reject(ex)\n                                else throw ex;\n                            }\n                        }\n                    }\n                    data = resolveAllFragment(data, context, pointer, fragment, target, options);\n                    data = filterData(data, options);\n                }\n                catch (ex) {\n                    if (options.verbose) console.warn(ex);\n                    if (options.promise && options.fatal) options.promise.reject(ex)\n                    else throw ex;\n                }\n                callback(data, target, options);\n                return data;\n            })\n            .catch(function (err) {\n                if (options.verbose) console.warn(err);\n                options.cache[target] = {};\n                if (options.promise && options.fatal) options.promise.reject(err)\n                else throw err;\n            });\n    }\n    else {\n        const def = '{\"$ref\":\"'+pointer+'\"}';\n        return readFileAsync(target, options.encoding || 'utf8', options, pointer, def)\n            .then(function (data) {\n                try {\n                    let context = yaml.parse(data, { schema:'core', prettyErrors: true });\n                    data = options.externalRef = context;\n                    /*\n                        resolutionSource:C from a file, data is fresh but we clone it into the cache\n                    */\n                    options.cache[target] = clone(data);\n                    if (fragment) {\n                        data = jptr(data, fragment);\n                        if (data === false) {\n                            data = {}; /* case:C(2) where the resolution fails */\n                            if (options.fatal) {\n                                let ex = new Error('File $ref resolution failed '+target+fragment);\n                                if (options.promise) options.promise.reject(ex)\n                                else throw ex;\n                            }\n                        }\n                    }\n                    data = resolveAllFragment(data, context, pointer, fragment, target, options);\n                    data = filterData(data, options);\n                }\n                catch (ex) {\n                    if (options.verbose) console.warn(ex);\n                    if (options.promise && options.fatal) options.promise.reject(ex)\n                    else throw ex;\n                }\n                callback(data, target, options);\n                return data;\n            })\n            .catch(function(err){\n                if (options.verbose) console.warn(err);\n                if (options.promise && options.fatal) options.promise.reject(err)\n                else throw err;\n            });\n    }\n}\n\nfunction scanExternalRefs(options) {\n    return new Promise(function (res, rej) {\n\n        function inner(obj,key,state){\n            if (obj[key] && isRef(obj[key],'$ref')) {\n                let $ref = obj[key].$ref;\n                if (!$ref.startsWith('#')) { // is external\n\n                    let $extra = '';\n\n                    if (!refs[$ref]) {\n                        let potential = Object.keys(refs).find(function(e,i,a){\n                            return $ref.startsWith(e+'/');\n                        });\n                        if (potential) {\n                            if (options.verbose) console.warn('Found potential subschema at',potential);\n                            $extra = '/'+($ref.split('#')[1]||'').replace(potential.split('#')[1]||'');\n                            $extra = $extra.split('/undefined').join(''); // FIXME\n                            $ref = potential;\n                        }\n                    }\n\n                    if (!refs[$ref]) {\n                        refs[$ref] = { resolved: false, paths: [], extras:{}, description: obj[key].description };\n                    }\n                    if (refs[$ref].resolved) {\n                        // we've already seen it\n                        if (refs[$ref].failed) {\n                          // do none\n                        }\n                        else if (options.rewriteRefs) {\n                            let newRef = refs[$ref].resolvedAt;\n                            if (options.verbose>1) console.warn('Rewriting ref', $ref, newRef);\n                            obj[key]['x-miro'] = $ref;\n                            obj[key].$ref = newRef+$extra; // resolutionCase:C (new string)\n                        }\n                        else {\n                            obj[key] = clone(refs[$ref].data); // resolutionCase:D (cloned:yes)\n                        }\n                    }\n                    else {\n                        refs[$ref].paths.push(state.path);\n                        refs[$ref].extras[state.path] = $extra;\n                    }\n                }\n            }\n        }\n\n        let refs = options.externalRefs;\n\n        if ((options.resolver.depth>0) && (options.source === options.resolver.base)) {\n            // we only need to do any of this when called directly on pass #1\n            return res(refs);\n        }\n\n        recurse(options.openapi.definitions, {identityDetection: true, path: '#/definitions'}, inner);\n        recurse(options.openapi.components, {identityDetection: true, path: '#/components'}, inner);\n        recurse(options.openapi, {identityDetection: true}, inner);\n\n        res(refs);\n    });\n}\n\nfunction findExternalRefs(options) {\n    return new Promise(function (res, rej) {\n\n        scanExternalRefs(options)\n        .then(function (refs) {\n            for (let ref in refs) {\n\n                if (!refs[ref].resolved) {\n                    let depth = options.resolver.depth;\n                    if (depth>0) depth++;\n                    options.resolver.actions[depth].push(function () {\n                        return resolveExternal(options.openapi, ref, options, function (data, source, options) {\n                            if (!refs[ref].resolved) {\n                                let external = {};\n                                external.context = refs[ref];\n                                external.$ref = ref;\n                                external.original = clone(data);\n                                external.updated = data;\n                                external.source = source;\n                                options.externals.push(external);\n                                refs[ref].resolved = true;\n                            }\n\n                            let localOptions = Object.assign({}, options, { source: '',\n                                resolver: {actions: options.resolver.actions,\n                                depth: options.resolver.actions.length-1, base: options.resolver.base } });\n                            if (options.patch && refs[ref].description && !data.description &&\n                                (typeof data === 'object')) {\n                                data.description = refs[ref].description;\n                            }\n                            refs[ref].data = data;\n\n                            // sorting $refs by length causes bugs (due to overlapping regions?)\n                            let pointers = unique(refs[ref].paths);\n                            pointers = pointers.sort(function(a,b){\n                                const aComp = (a.startsWith('#/components/') || a.startsWith('#/definitions/'));\n                                const bComp = (b.startsWith('#/components/') || b.startsWith('#/definitions/'));\n                                if (aComp && !bComp) return -1;\n                                if (bComp && !aComp) return +1;\n                                return 0;\n                            });\n\n                            for (let ptr of pointers) {\n                                // shared x-ms-examples $refs confuse the fixupRefs heuristic in index.js\n                                if (refs[ref].resolvedAt && (ptr !== refs[ref].resolvedAt) && (ptr.indexOf('x-ms-examples/')<0)) {\n                                    if (options.verbose>1) console.warn('Creating pointer to data at', ptr);\n                                    jptr(options.openapi, ptr, { $ref: refs[ref].resolvedAt+refs[ref].extras[ptr], 'x-miro': ref+refs[ref].extras[ptr] }); // resolutionCase:E (new object)\n                                }\n                                else {\n                                    if (refs[ref].resolvedAt) {\n                                        if (options.verbose>1) console.warn('Avoiding circular reference');\n                                    }\n                                    else {\n                                        refs[ref].resolvedAt = ptr;\n                                        if (options.verbose>1) console.warn('Creating initial clone of data at', ptr);\n                                    }\n                                    let cdata = clone(data);\n                                    jptr(options.openapi, ptr, cdata); // resolutionCase:F (cloned:yes)\n                                }\n                            }\n                            if (options.resolver.actions[localOptions.resolver.depth].length === 0) {\n                                //options.resolver.actions[localOptions.resolver.depth].push(function () { return scanExternalRefs(localOptions) });\n                                options.resolver.actions[localOptions.resolver.depth].push(function () { return findExternalRefs(localOptions) }); // findExternalRefs calls scanExternalRefs\n                            }\n                        });\n                    });\n                }\n            }\n        })\n        .catch(function(ex){\n            if (options.verbose) console.warn(ex);\n            rej(ex);\n        });\n\n        let result = {options:options};\n        result.actions = options.resolver.actions[options.resolver.depth];\n        res(result);\n    });\n}\n\nconst serial = funcs =>\n    funcs.reduce((promise, func) =>\n        promise.then(result => func().then(Array.prototype.concat.bind(result))), Promise.resolve([]));\n\nfunction loopReferences(options, res, rej) {\n    options.resolver.actions.push([]);\n    findExternalRefs(options)\n        .then(function (data) {\n            serial(data.actions)\n                .then(function () {\n                    if (options.resolver.depth>=options.resolver.actions.length) {\n                        console.warn('Ran off the end of resolver actions');\n                        return res(true);\n                    } else {\n                        options.resolver.depth++;\n                        if (options.resolver.actions[options.resolver.depth].length) {\n                            setTimeout(function () {\n                                loopReferences(data.options, res, rej);\n                            }, 0);\n                        }\n                        else {\n                            if (options.verbose>1) console.warn(common.colour.yellow+'Finished external resolution!',common.colour.normal);\n                            if (options.resolveInternal) {\n                                if (options.verbose>1) console.warn(common.colour.yellow+'Starting internal resolution!',common.colour.normal);\n                                options.openapi = deRef(options.openapi,options.original,{verbose:options.verbose-1});\n                                if (options.verbose>1) console.warn(common.colour.yellow+'Finished internal resolution!',common.colour.normal);\n                            }\n                            recurse(options.openapi,{},function(obj,key,state){\n                                if (isRef(obj, key)) {\n                                    if (!options.preserveMiro) delete obj['x-miro'];\n                                }\n                            });\n                            res(options);\n                        }\n                    }\n                })\n                .catch(function (ex) {\n                    if (options.verbose) console.warn(ex);\n                    rej(ex);\n                });\n        })\n        .catch(function(ex){\n            if (options.verbose) console.warn(ex);\n            rej(ex);\n        });\n}\n\nfunction setupOptions(options) {\n    if (!options.cache) options.cache = {};\n    if (!options.fetch) options.fetch = fetch;\n\n    if (options.source) {\n        let srcUrl = url.parse(options.source);\n        if (!srcUrl.protocol || srcUrl.protocol.length <= 2) { // windows drive-letters\n            options.source = path.resolve(options.source);\n        }\n    }\n\n    options.externals = [];\n    options.externalRefs = {};\n    options.rewriteRefs = true;\n    options.resolver = {};\n    options.resolver.depth = 0;\n    options.resolver.base = options.source;\n    options.resolver.actions = [[]];\n}\n\n/** compatibility function for swagger2openapi */\nfunction optionalResolve(options) {\n    setupOptions(options);\n    return new Promise(function (res, rej) {\n        if (options.resolve)\n            loopReferences(options, res, rej)\n        else\n            res(options);\n    });\n}\n\nfunction resolve(openapi,source,options) {\n    if (!options) options = {};\n    options.openapi = openapi;\n    options.source = source;\n    options.resolve = true;\n    setupOptions(options);\n    return new Promise(function (res, rej) {\n        loopReferences(options, res, rej)\n    });\n}\n\nmodule.exports = {\n    optionalResolve: optionalResolve,\n    resolve: resolve\n};\n\n","'use strict';\n\n/**\n* functions to walk an OpenAPI schema object and traverse all subschemas\n* calling a callback function on each one\n*/\n\n/**\n* obtains the default starting state for the `state` object used\n* by walkSchema\n* @return the state object suitable for use in walkSchema\n*/\nfunction getDefaultState() {\n    return { depth: 0, seen: new WeakMap(), top: true, combine: false, allowRefSiblings: false };\n}\n\n/**\n* begins the walk of a schema object\n* @param schema the schema object to walk\n* @param parent the parent schema, if any. Use empty object if none\n* @param state the initial starting state of the walker, usually obtained from `getDefaultState`. Use empty object to auto-initialise\n* @param callback a function taking a schema, parent and state to be called on this and all subschemas\n* @return the schema object\n*/\nfunction walkSchema(schema, parent, state, callback) {\n\n    if (typeof state.depth === 'undefined') state = getDefaultState();\n    if ((schema === null) || (typeof schema === 'undefined')) return schema;\n    if (typeof schema.$ref !== 'undefined') {\n        let temp = {$ref:schema.$ref};\n        if (state.allowRefSiblings && schema.description) {\n            temp.description = schema.description;\n        }\n        callback(temp,parent,state);\n        return temp; // all other properties SHALL be ignored\n    }\n\n    if (state.combine) {\n        if (schema.allOf && Array.isArray(schema.allOf) && schema.allOf.length === 1) {\n            schema = Object.assign({},schema.allOf[0],schema);\n            delete schema.allOf;\n        }\n        if (schema.anyOf && Array.isArray(schema.anyOf) && schema.anyOf.length === 1) {\n            schema = Object.assign({},schema.anyOf[0],schema);\n            delete schema.anyOf;\n        }\n        if (schema.oneOf && Array.isArray(schema.oneOf) && schema.oneOf.length === 1) {\n            schema = Object.assign({},schema.oneOf[0],schema);\n            delete schema.oneOf;\n        }\n    }\n\n    callback(schema,parent,state);\n    if (state.seen.has(schema)) {\n        return schema;\n    }\n    //else\n    if ((typeof schema === 'object') && (schema !== null)) state.seen.set(schema,true);\n    state.top = false;\n    state.depth++;\n\n    if (typeof schema.items !== 'undefined') {\n        state.property = 'items';\n        walkSchema(schema.items,schema,state,callback);\n    }\n    if (schema.additionalItems) {\n        if (typeof schema.additionalItems === 'object') {\n            state.property = 'additionalItems';\n            walkSchema(schema.additionalItems,schema,state,callback);\n        }\n    }\n    if (schema.additionalProperties) {\n        if (typeof schema.additionalProperties === 'object') {\n            state.property = 'additionalProperties';\n            walkSchema(schema.additionalProperties,schema,state,callback);\n        }\n    }\n    if (schema.properties) {\n        for (let prop in schema.properties) {\n            let subSchema = schema.properties[prop];\n            state.property = 'properties/'+prop;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.patternProperties) {\n        for (let prop in schema.patternProperties) {\n            let subSchema = schema.patternProperties[prop];\n            state.property = 'patternProperties/'+prop;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.allOf) {\n        for (let index in schema.allOf) {\n            let subSchema = schema.allOf[index];\n            state.property = 'allOf/'+index;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.anyOf) {\n        for (let index in schema.anyOf) {\n            let subSchema = schema.anyOf[index];\n            state.property = 'anyOf/'+index;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.oneOf) {\n        for (let index in schema.oneOf) {\n            let subSchema = schema.oneOf[index];\n            state.property = 'oneOf/'+index;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.not) {\n        state.property = 'not';\n        walkSchema(schema.not,schema,state,callback);\n    }\n    state.depth--;\n    return schema;\n}\n\nmodule.exports = {\n    getDefaultState: getDefaultState,\n    walkSchema: walkSchema\n};\n\n","'use strict';\n\nconst http = require('http');\n\nconst ours = {\n    \"default\": \"Default response\",\n    \"1XX\": \"Informational\",\n    \"103\": \"Early hints\", // not in Node < 10\n    \"2XX\": \"Successful\",\n    \"3XX\": \"Redirection\",\n    \"4XX\": \"Client Error\",\n    \"5XX\": \"Server Error\",\n    \"7XX\": \"Developer Error\" // April fools RFC\n};\n\nmodule.exports = {\n    statusCodes: Object.assign({},ours,http.STATUS_CODES)\n};\n\n","// @ts-check\n'use strict';\n\nconst fs = require('fs');\nconst url = require('url');\nconst pathlib = require('path');\n\nconst maybe = require('call-me-maybe');\nconst fetch = require('node-fetch-h2');\nconst yaml = require('yaml');\n\nconst jptr = require('reftools/lib/jptr.js');\nconst resolveInternal = jptr.jptr;\nconst isRef = require('reftools/lib/isref.js').isRef;\nconst clone = require('reftools/lib/clone.js').clone;\nconst cclone = require('reftools/lib/clone.js').circularClone;\nconst recurse = require('reftools/lib/recurse.js').recurse;\nconst resolver = require('oas-resolver');\nconst sw = require('oas-schema-walker');\nconst common = require('oas-kit-common');\n\nconst statusCodes = require('./lib/statusCodes.js').statusCodes;\n\nconst ourVersion = require('./package.json').version;\n\n// TODO handle specification-extensions with plugins?\n\nconst targetVersion = '3.0.0';\nlet componentNames; // initialised in main\n\nclass S2OError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = 'S2OError';\n  }\n}\n\nfunction throwError(message, options) {\n    let err = new S2OError(message);\n    err.options = options;\n    if (options.promise) {\n        options.promise.reject(err);\n    }\n    else {\n        throw err;\n    }\n}\n\nfunction throwOrWarn(message, container, options) {\n    if (options.warnOnly) {\n        container[options.warnProperty||'x-s2o-warning'] = message;\n    }\n    else {\n        throwError(message, options);\n    }\n}\n\nfunction fixUpSubSchema(schema,parent,options) {\n    if (schema.nullable) options.patches++;\n    if (schema.discriminator && typeof schema.discriminator === 'string') {\n        schema.discriminator = { propertyName: schema.discriminator };\n    }\n    if (schema.items && Array.isArray(schema.items)) {\n        if (schema.items.length === 0) {\n            schema.items = {};\n        }\n        else if (schema.items.length === 1) {\n            schema.items = schema.items[0];\n        }\n        else schema.items = { anyOf: schema.items };\n    }\n\n    if (schema.type && Array.isArray(schema.type)) {\n        if (options.patch) {\n            options.patches++;\n            if (schema.type.length === 0) {\n                delete schema.type;\n            }\n            else {\n                if (!schema.oneOf) schema.oneOf = [];\n                for (let type of schema.type) {\n                    let newSchema = {};\n                    if (type === 'null') {\n                        schema.nullable = true;\n                    }\n                    else {\n                        newSchema.type = type;\n                        for (let prop of common.arrayProperties) {\n                            if (typeof schema.prop !== 'undefined') {\n                                newSchema[prop] = schema[prop];\n                                delete schema[prop];\n                            }\n                        }\n                    }\n                    if (newSchema.type) {\n                        schema.oneOf.push(newSchema);\n                    }\n                }\n                delete schema.type;\n                if (schema.oneOf.length === 0) {\n                    delete schema.oneOf; // means was just null => nullable\n                }\n                else if (schema.oneOf.length < 2) {\n                    schema.type = schema.oneOf[0].type;\n                    if (Object.keys(schema.oneOf[0]).length > 1) {\n                        throwOrWarn('Lost properties from oneOf',schema,options);\n                    }\n                    delete schema.oneOf;\n                }\n            }\n            // do not else this\n            if (schema.type && Array.isArray(schema.type) && schema.type.length === 1) {\n                schema.type = schema.type[0];\n            }\n        }\n        else {\n            throwError('(Patchable) schema type must not be an array', options);\n        }\n    }\n\n    if (schema.type && schema.type === 'null') {\n        delete schema.type;\n        schema.nullable = true;\n    }\n    if ((schema.type === 'array') && (!schema.items)) {\n        schema.items = {};\n    }\n    if (schema.type === 'file') {\n        schema.type = 'string';\n        schema.format = 'binary';\n    }\n    if (typeof schema.required === 'boolean') {\n        if (schema.required && schema.name) {\n            if (typeof parent.required === 'undefined') {\n                parent.required = [];\n            }\n            if (Array.isArray(parent.required)) parent.required.push(schema.name);\n        }\n        delete schema.required;\n    }\n\n    // TODO if we have a nested properties (object inside an object) and the\n    // *parent* type is not set, force it to object\n    // TODO if default is set but type is not set, force type to typeof default\n\n    if (schema.xml && typeof schema.xml.namespace === 'string') {\n        if (!schema.xml.namespace) delete schema.xml.namespace;\n    }\n    if (typeof schema.allowEmptyValue !== 'undefined') {\n      options.patches++;\n      delete schema.allowEmptyValue;\n    }\n}\n\nfunction fixUpSubSchemaExtensions(schema,parent) {\n    if (schema[\"x-required\"] && Array.isArray(schema[\"x-required\"])) {\n        if (!schema.required) schema.required = [];\n        schema.required = schema.required.concat(schema[\"x-required\"]);\n        delete schema[\"x-required\"];\n    }\n    if (schema[\"x-anyOf\"]) {\n        schema.anyOf = schema[\"x-anyOf\"];\n        delete schema[\"x-anyOf\"];\n    }\n    if (schema[\"x-oneOf\"]) {\n        schema.oneOf = schema[\"x-oneOf\"];\n        delete schema[\"x-oneOf\"];\n    }\n    if (schema[\"x-not\"]) {\n        schema.not = schema[\"x-not\"];\n        delete schema[\"x-not\"];\n    }\n    if (typeof schema[\"x-nullable\"] === 'boolean') {\n        schema.nullable = schema[\"x-nullable\"];\n        delete schema[\"x-nullable\"];\n    }\n    if ((typeof schema[\"x-discriminator\"] === 'object') && (typeof schema[\"x-discriminator\"].propertyName === 'string')) {\n        schema.discriminator = schema[\"x-discriminator\"];\n        delete schema[\"x-discriminator\"];\n        for (let entry in schema.discriminator.mapping) {\n            let schemaOrRef = schema.discriminator.mapping[entry];\n            if (schemaOrRef.startsWith('#/definitions/')) {\n                schema.discriminator.mapping[entry] = schemaOrRef.replace('#/definitions/','#/components/schemas/');\n            }\n        }\n    }\n}\n\nfunction fixUpSchema(schema,options) {\n    sw.walkSchema(schema,{},{},function(schema,parent,state){\n        fixUpSubSchemaExtensions(schema,parent);\n        fixUpSubSchema(schema,parent,options);\n    });\n}\n\nfunction getMiroComponentName(ref) {\n    if (ref.indexOf('#')>=0) {\n        ref = ref.split('#')[1].split('/').pop();\n    }\n    else {\n        ref = ref.split('/').pop().split('.')[0];\n    }\n    return encodeURIComponent(common.sanitise(ref));\n}\n\nfunction fixupRefs(obj, key, state) {\n    let options = state.payload.options;\n    if (isRef(obj,key)) {\n        if (obj[key].startsWith('#/components/')) {\n            // no-op\n        }\n        else if (obj[key] === '#/consumes') {\n            // people are *so* creative\n            delete obj[key];\n            state.parent[state.pkey] = clone(options.openapi.consumes);\n        }\n        else if (obj[key] === '#/produces') {\n            // and by creative, I mean devious\n            delete obj[key];\n            state.parent[state.pkey] = clone(options.openapi.produces);\n        }\n        else if (obj[key].startsWith('#/definitions/')) {\n            //only the first part of a schema component name must be sanitised\n            let keys = obj[key].replace('#/definitions/', '').split('/');\n            const ref = jptr.jpunescape(keys[0]);\n\n            let newKey = componentNames.schemas[decodeURIComponent(ref)]; // lookup, resolves a $ref\n            if (newKey) {\n                keys[0] = newKey;\n            }\n            else {\n                throwOrWarn('Could not resolve reference '+obj[key],obj,options);\n            }\n            obj[key] = '#/components/schemas/' + keys.join('/');\n        }\n        else if (obj[key].startsWith('#/parameters/')) {\n            // for extensions like Apigee's x-templates\n            obj[key] = '#/components/parameters/' + common.sanitise(obj[key].replace('#/parameters/', ''));\n        }\n        else if (obj[key].startsWith('#/responses/')) {\n            // for extensions like Apigee's x-templates\n            obj[key] = '#/components/responses/' + common.sanitise(obj[key].replace('#/responses/', ''));\n        }\n        else if (obj[key].startsWith('#')) {\n            // fixes up direct $refs or those created by resolvers\n            let target = clone(jptr.jptr(options.openapi,obj[key]));\n            if (target === false) throwOrWarn('direct $ref not found '+obj[key],obj,options)\n            else if (options.refmap[obj[key]]) {\n                obj[key] = options.refmap[obj[key]];\n            }\n            else {\n                // we use a heuristic to determine what kind of thing is being referenced\n                let oldRef = obj[key];\n                oldRef = oldRef.replace('/properties/headers/','');\n                oldRef = oldRef.replace('/properties/responses/','');\n                oldRef = oldRef.replace('/properties/parameters/','');\n                oldRef = oldRef.replace('/properties/schemas/','');\n                let type = 'schemas';\n                let schemaIndex = oldRef.lastIndexOf('/schema');\n                type = (oldRef.indexOf('/headers/')>schemaIndex) ? 'headers' :\n                    ((oldRef.indexOf('/responses/')>schemaIndex) ? 'responses' :\n                    ((oldRef.indexOf('/example')>schemaIndex) ? 'examples' :\n                    ((oldRef.indexOf('/x-')>schemaIndex) ? 'extensions' :\n                    ((oldRef.indexOf('/parameters/')>schemaIndex) ? 'parameters' : 'schemas'))));\n\n                // non-body/form parameters have not moved in the overall structure (like responses)\n                // but extracting the requestBodies can cause the *number* of parameters to change\n\n                if (type === 'schemas') {\n                    fixUpSchema(target,options);\n                }\n\n                if ((type !== 'responses') && (type !== 'extensions')) {\n                    let prefix = type.substr(0,type.length-1);\n                    if ((prefix === 'parameter') && target.name && (target.name === common.sanitise(target.name))) {\n                        prefix = encodeURIComponent(target.name);\n                    }\n\n                    let suffix = 1;\n                    if (obj['x-miro']) {\n                        prefix = getMiroComponentName(obj['x-miro']);\n                        suffix = '';\n                    }\n\n                    while (jptr.jptr(options.openapi,'#/components/'+type+'/'+prefix+suffix)) {\n                        suffix = (suffix === '' ? 2 : ++suffix);\n                    }\n\n                    let newRef = '#/components/'+type+'/'+prefix+suffix;\n                    let refSuffix = '';\n\n                    if (type === 'examples') {\n                        target = { value: target };\n                        refSuffix = '/value';\n                    }\n\n                    jptr.jptr(options.openapi,newRef,target);\n                    options.refmap[obj[key]] = newRef+refSuffix;\n                    obj[key] = newRef+refSuffix;\n                }\n            }\n        }\n\n        delete obj['x-miro'];\n        // do this last - rework cases where $ref object has sibling properties\n        if (Object.keys(obj).length > 1) {\n            const tmpRef = obj[key];\n            const inSchema = state.path.indexOf('/schema') >= 0; // not perfect, but in the absence of a reasonably-sized and complete OAS 2.0 parser...\n            if (options.refSiblings === 'preserve') {\n                // no-op\n            }\n            else if (inSchema && (options.refSiblings === 'allOf')) {\n                delete obj.$ref;\n                state.parent[state.pkey] = { allOf: [ { $ref: tmpRef }, obj ]};\n            }\n            else { // remove, or not 'preserve' and not in a schema\n                state.parent[state.pkey] = { $ref: tmpRef };\n            }\n        }\n\n    }\n    if ((key === 'x-ms-odata') && (typeof obj[key] === 'string') && (obj[key].startsWith('#/'))) {\n        let keys = obj[key].replace('#/definitions/', '').replace('#/components/schemas/','').split('/');\n        let newKey = componentNames.schemas[decodeURIComponent(keys[0])]; // lookup, resolves a $ref\n        if (newKey) {\n            keys[0] = newKey;\n        }\n        else {\n            throwOrWarn('Could not resolve reference '+obj[key],obj,options);\n        }\n        obj[key] = '#/components/schemas/' + keys.join('/');\n    }\n}\n\n/*\n* This has to happen as a separate pass because multiple $refs may point\n* through elements of the same path\n*/\nfunction dedupeRefs(openapi, options) {\n    for (let ref in options.refmap) {\n        jptr.jptr(openapi,ref,{ $ref: options.refmap[ref] });\n    }\n}\n\nfunction processSecurity(securityObject) {\n    for (let s in securityObject) {\n        for (let k in securityObject[s]) {\n            let sname = common.sanitise(k);\n            if (k !== sname) {\n                securityObject[s][sname] = securityObject[s][k];\n                delete securityObject[s][k];\n            }\n        }\n    }\n}\n\nfunction processSecurityScheme(scheme, options) {\n    if (scheme.type === 'basic') {\n        scheme.type = 'http';\n        scheme.scheme = 'basic';\n    }\n    if (scheme.type === 'oauth2') {\n        let flow = {};\n        let flowName = scheme.flow;\n        if (scheme.flow === 'application') flowName = 'clientCredentials';\n        if (scheme.flow === 'accessCode') flowName = 'authorizationCode';\n        if (typeof scheme.authorizationUrl !== 'undefined') flow.authorizationUrl = scheme.authorizationUrl.split('?')[0].trim() || '/';\n        if (typeof scheme.tokenUrl === 'string') flow.tokenUrl = scheme.tokenUrl.split('?')[0].trim() || '/';\n        flow.scopes = scheme.scopes || {};\n        scheme.flows = {};\n        scheme.flows[flowName] = flow;\n        delete scheme.flow;\n        delete scheme.authorizationUrl;\n        delete scheme.tokenUrl;\n        delete scheme.scopes;\n        if (typeof scheme.name !== 'undefined') {\n            if (options.patch) {\n                options.patches++;\n                delete scheme.name;\n            }\n            else {\n                throwError('(Patchable) oauth2 securitySchemes should not have name property', options);\n            }\n        }\n    }\n}\n\nfunction keepParameters(value) {\n    return (value && !value[\"x-s2o-delete\"]);\n}\n\nfunction processHeader(header, options) {\n    if (header.$ref) {\n        header.$ref = header.$ref.replace('#/responses/', '#/components/responses/');\n    }\n    else {\n        if (header.type && !header.schema) {\n            header.schema = {};\n        }\n        if (header.type) header.schema.type = header.type;\n        if (header.items && header.items.type !== 'array') {\n            if (header.items.collectionFormat !== header.collectionFormat) {\n                throwOrWarn('Nested collectionFormats are not supported', header, options);\n            }\n            delete header.items.collectionFormat;\n        }\n        if (header.type === 'array') {\n            if (header.collectionFormat === 'ssv') {\n                throwOrWarn('collectionFormat:ssv is no longer supported for headers', header, options); // not lossless\n            }\n            else if (header.collectionFormat === 'pipes') {\n                throwOrWarn('collectionFormat:pipes is no longer supported for headers', header, options); // not lossless\n            }\n            else if (header.collectionFormat === 'multi') {\n                header.explode = true;\n            }\n            else if (header.collectionFormat === 'tsv') {\n                throwOrWarn('collectionFormat:tsv is no longer supported', header, options); // not lossless\n                header[\"x-collectionFormat\"] = 'tsv';\n            }\n            else { // 'csv'\n                header.style = 'simple';\n            }\n            delete header.collectionFormat;\n        }\n        else if (header.collectionFormat) {\n            if (options.patch) {\n                options.patches++;\n                delete header.collectionFormat;\n            }\n            else {\n                throwError('(Patchable) collectionFormat is only applicable to header.type array', options);\n            }\n        }\n        delete header.type;\n        for (let prop of common.parameterTypeProperties) {\n            if (typeof header[prop] !== 'undefined') {\n                header.schema[prop] = header[prop];\n                delete header[prop];\n            }\n        }\n        for (let prop of common.arrayProperties) {\n            if (typeof header[prop] !== 'undefined') {\n                header.schema[prop] = header[prop];\n                delete header[prop];\n            }\n        }\n    }\n}\n\nfunction fixParamRef(param, options) {\n    if (param.$ref.indexOf('#/parameters/') >= 0) {\n        let refComponents = param.$ref.split('#/parameters/');\n        param.$ref = refComponents[0] + '#/components/parameters/' + common.sanitise(refComponents[1]);\n    }\n    if (param.$ref.indexOf('#/definitions/') >= 0) {\n        throwOrWarn('Definition used as parameter', param, options);\n    }\n}\n\nfunction attachRequestBody(op,options) {\n    let newOp = {};\n    for (let key of Object.keys(op)) {\n        newOp[key] = op[key];\n        if (key === 'parameters') {\n            newOp.requestBody = {};\n            if (options.rbname) newOp[options.rbname] = '';\n        }\n    }\n    newOp.requestBody = {}; // just in case there are no parameters\n    return newOp;\n}\n\n/**\n * @returns op, as it may have changed\n */\nfunction processParameter(param, op, path, method, index, openapi, options) {\n    let result = {};\n    let singularRequestBody = true;\n    let originalType;\n\n    if (op && op.consumes && (typeof op.consumes === 'string')) {\n        if (options.patch) {\n            options.patches++;\n            op.consumes = [op.consumes];\n        }\n        else {\n            return throwError('(Patchable) operation.consumes must be an array', options);\n        }\n    }\n    if (!Array.isArray(openapi.consumes)) delete openapi.consumes;\n    let consumes = ((op ? op.consumes : null) || (openapi.consumes || [])).filter(common.uniqueOnly);\n\n    if (param && param.$ref && (typeof param.$ref === 'string')) {\n        // if we still have a ref here, it must be an internal one\n        fixParamRef(param, options);\n        let ptr = decodeURIComponent(param.$ref.replace('#/components/parameters/', ''));\n        let rbody = false;\n        let target = openapi.components.parameters[ptr]; // resolves a $ref, must have been sanitised already\n\n        if (((!target) || (target[\"x-s2o-delete\"])) && param.$ref.startsWith('#/')) {\n            // if it's gone, chances are it's a requestBody component now unless spec was broken\n            param[\"x-s2o-delete\"] = true;\n            rbody = true;\n        }\n\n        // shared formData parameters from swagger or path level could be used in any combination.\n        // we dereference all op.requestBody's then hash them and pull out common ones later\n\n        if (rbody) {\n            let ref = param.$ref;\n            let newParam = resolveInternal(openapi, param.$ref);\n            if (!newParam && ref.startsWith('#/')) {\n                throwOrWarn('Could not resolve reference ' + ref, param, options);\n            }\n            else {\n                if (newParam) param = newParam; // preserve reference\n            }\n        }\n    }\n\n    if (param && (param.name || param.in)) { // if it's a real parameter OR we've dereferenced it\n\n        if (typeof param['x-deprecated'] === 'boolean') {\n            param.deprecated = param['x-deprecated'];\n            delete param['x-deprecated'];\n        }\n\n        if (typeof param['x-example'] !== 'undefined') {\n            param.example = param['x-example'];\n            delete param['x-example'];\n        }\n\n        if ((param.in !== 'body') && (!param.type)) {\n            if (options.patch) {\n                options.patches++;\n                param.type = 'string';\n            }\n            else {\n                throwError('(Patchable) parameter.type is mandatory for non-body parameters', options);\n            }\n        }\n        if (param.type && typeof param.type === 'object' && param.type.$ref) {\n            // $ref anywhere sensibility\n            param.type = resolveInternal(openapi, param.type.$ref);\n        }\n        if (param.type === 'file') {\n            param['x-s2o-originalType'] = param.type;\n            originalType = param.type;\n        }\n        if (param.description && typeof param.description === 'object' && param.description.$ref) {\n            // $ref anywhere sensibility\n            param.description = resolveInternal(openapi, param.description.$ref);\n        }\n        if (param.description === null) delete param.description;\n\n        let oldCollectionFormat = param.collectionFormat;\n        if ((param.type === 'array') && !oldCollectionFormat) {\n            oldCollectionFormat = 'csv';\n        }\n        if (oldCollectionFormat) {\n            if (param.type !== 'array') {\n                if (options.patch) {\n                    options.patches++;\n                    delete param.collectionFormat;\n                }\n                else {\n                    throwError('(Patchable) collectionFormat is only applicable to param.type array', options);\n                }\n            }\n            if ((oldCollectionFormat === 'csv') && ((param.in === 'query') || (param.in === 'cookie'))) {\n                param.style = 'form';\n                param.explode = false;\n            }\n            if ((oldCollectionFormat === 'csv') && ((param.in === 'path') || (param.in === 'header'))) {\n                param.style = 'simple';\n            }\n            if (oldCollectionFormat === 'ssv') {\n                if (param.in === 'query') {\n                    param.style = 'spaceDelimited';\n                }\n                else {\n                    throwOrWarn('collectionFormat:ssv is no longer supported except for in:query parameters', param, options); // not lossless\n                }\n            }\n            if (oldCollectionFormat === 'pipes') {\n                if (param.in === 'query') {\n                    param.style = 'pipeDelimited';\n                }\n                else {\n                    throwOrWarn('collectionFormat:pipes is no longer supported except for in:query parameters', param, options); // not lossless\n                }\n            }\n            if (oldCollectionFormat === 'multi') {\n                param.explode = true;\n            }\n            if (oldCollectionFormat === 'tsv') {\n                throwOrWarn('collectionFormat:tsv is no longer supported', param, options); // not lossless\n                param[\"x-collectionFormat\"] = 'tsv';\n            }\n            delete param.collectionFormat;\n        }\n\n        if (param.type && (param.type !== 'body') && (param.in !== 'formData')) {\n            if (param.items && param.schema) {\n                throwOrWarn('parameter has array,items and schema', param, options);\n            }\n            else {\n                if (param.schema) options.patches++; // already present\n                if ((!param.schema) || (typeof param.schema !== 'object')) param.schema = {};\n                param.schema.type = param.type;\n                if (param.items) {\n                    param.schema.items = param.items;\n                    delete param.items;\n                    recurse(param.schema.items, null, function (obj, key, state) {\n                        if ((key === 'collectionFormat') && (typeof obj[key] === 'string')) {\n                            if (oldCollectionFormat && obj[key] !== oldCollectionFormat) {\n                                throwOrWarn('Nested collectionFormats are not supported', param, options);\n                            }\n                            delete obj[key]; // not lossless\n                        }\n                        // items in 2.0 was a subset of the JSON-Schema items\n                        // object, it gets fixed up below\n                    });\n                }\n                for (let prop of common.parameterTypeProperties) {\n                    if (typeof param[prop] !== 'undefined') param.schema[prop] = param[prop];\n                    delete param[prop];\n                }\n            }\n        }\n\n        if (param.schema) {\n            fixUpSchema(param.schema,options);\n        }\n\n        if (param[\"x-ms-skip-url-encoding\"]) {\n            if (param.in === 'query') { // might be in:path, not allowed in OAS3\n                param.allowReserved = true;\n                delete param[\"x-ms-skip-url-encoding\"];\n            }\n        }\n    }\n\n    if (param && param.in === 'formData') {\n        // convert to requestBody component\n        singularRequestBody = false;\n        result.content = {};\n        let contentType = 'application/x-www-form-urlencoded';\n        if ((consumes.length) && (consumes.indexOf('multipart/form-data') >= 0)) {\n            contentType = 'multipart/form-data';\n        }\n\n        result.content[contentType] = {};\n        if (param.schema) {\n            result.content[contentType].schema = param.schema;\n            if (param.schema.$ref) {\n                result['x-s2o-name'] = decodeURIComponent(param.schema.$ref.replace('#/components/schemas/', ''));\n            }\n        }\n        else {\n            result.content[contentType].schema = {};\n            result.content[contentType].schema.type = 'object';\n            result.content[contentType].schema.properties = {};\n            result.content[contentType].schema.properties[param.name] = {};\n            let schema = result.content[contentType].schema;\n            let target = result.content[contentType].schema.properties[param.name];\n            if (param.description) target.description = param.description;\n            if (param.example) target.example = param.example;\n            if (param.type) target.type = param.type;\n\n            for (let prop of common.parameterTypeProperties) {\n                if (typeof param[prop] !== 'undefined') target[prop] = param[prop];\n            }\n            if (param.required === true) {\n                if (!schema.required) schema.required = [];\n                schema.required.push(param.name);\n                result.required = true;\n            }\n            if (typeof param.default !== 'undefined') target.default = param.default;\n            if (target.properties) target.properties = param.properties;\n            if (param.allOf) target.allOf = param.allOf; // new are anyOf, oneOf, not\n            if ((param.type === 'array') && (param.items)) {\n                target.items = param.items;\n                if (target.items.collectionFormat) delete target.items.collectionFormat;\n            }\n            if ((originalType === 'file') || (param['x-s2o-originalType'] === 'file')) {\n                target.type = 'string';\n                target.format = 'binary';\n            }\n\n            // Copy any extensions on the form param to the target schema property.\n            copyExtensions(param, target);\n        }\n    }\n    else if (param && (param.type === 'file')) {\n        // convert to requestBody\n        if (param.required) result.required = param.required;\n        result.content = {};\n        result.content[\"application/octet-stream\"] = {};\n        result.content[\"application/octet-stream\"].schema = {};\n        result.content[\"application/octet-stream\"].schema.type = 'string';\n        result.content[\"application/octet-stream\"].schema.format = 'binary';\n        copyExtensions(param, result);\n    }\n    if (param && param.in === 'body') {\n        result.content = {};\n        if (param.name) result['x-s2o-name'] = (op && op.operationId ? common.sanitiseAll(op.operationId) : '') + ('_' + param.name).toCamelCase();\n        if (param.description) result.description = param.description;\n        if (param.required) result.required = param.required;\n\n        // Set the \"request body name\" extension on the operation if requested.\n        if (op && options.rbname && param.name) {\n            op[options.rbname] = param.name;\n        }\n        if (param.schema && param.schema.$ref) {\n            result['x-s2o-name'] = decodeURIComponent(param.schema.$ref.replace('#/components/schemas/', ''));\n        }\n        else if (param.schema && (param.schema.type === 'array') && param.schema.items && param.schema.items.$ref) {\n            result['x-s2o-name'] = decodeURIComponent(param.schema.items.$ref.replace('#/components/schemas/', '')) + 'Array';\n        }\n\n        if (!consumes.length) {\n            consumes.push('application/json'); // TODO verify default\n        }\n\n        for (let mimetype of consumes) {\n            result.content[mimetype] = {};\n            result.content[mimetype].schema = clone(param.schema || {});\n            fixUpSchema(result.content[mimetype].schema,options);\n        }\n\n        // Copy any extensions from the original parameter to the new requestBody\n        copyExtensions(param, result);\n    }\n\n    if (Object.keys(result).length > 0) {\n        param[\"x-s2o-delete\"] = true;\n        // work out where to attach the requestBody\n        if (op) {\n            if (op.requestBody && singularRequestBody) {\n                op.requestBody[\"x-s2o-overloaded\"] = true;\n                let opId = op.operationId || index;\n\n                throwOrWarn('Operation ' + opId + ' has multiple requestBodies', op, options);\n            }\n            else {\n                if (!op.requestBody) {\n                   op = path[method] = attachRequestBody(op,options); // make sure we have one\n                }\n                if ((op.requestBody.content && op.requestBody.content[\"multipart/form-data\"])\n                    && (op.requestBody.content[\"multipart/form-data\"].schema) && (op.requestBody.content[\"multipart/form-data\"].schema.properties) && (result.content[\"multipart/form-data\"]) && (result.content[\"multipart/form-data\"].schema) && (result.content[\"multipart/form-data\"].schema.properties)) {\n                    op.requestBody.content[\"multipart/form-data\"].schema.properties =\n                        Object.assign(op.requestBody.content[\"multipart/form-data\"].schema.properties, result.content[\"multipart/form-data\"].schema.properties);\n                    op.requestBody.content[\"multipart/form-data\"].schema.required = (op.requestBody.content[\"multipart/form-data\"].schema.required || []).concat(result.content[\"multipart/form-data\"].schema.required||[]);\n                    if (!op.requestBody.content[\"multipart/form-data\"].schema.required.length) {\n                        delete op.requestBody.content[\"multipart/form-data\"].schema.required;\n                    }\n                }\n                else if ((op.requestBody.content && op.requestBody.content[\"application/x-www-form-urlencoded\"] && op.requestBody.content[\"application/x-www-form-urlencoded\"].schema && op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.properties)\n                    && result.content[\"application/x-www-form-urlencoded\"] && result.content[\"application/x-www-form-urlencoded\"].schema && result.content[\"application/x-www-form-urlencoded\"].schema.properties) {\n                    op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.properties =\n                        Object.assign(op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.properties, result.content[\"application/x-www-form-urlencoded\"].schema.properties);\n                    op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required = (op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required || []).concat(result.content[\"application/x-www-form-urlencoded\"].schema.required||[]);\n                    if (!op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required.length) {\n                        delete op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required;\n                    }\n                }\n                else {\n                    op.requestBody = Object.assign(op.requestBody, result);\n                    if (!op.requestBody['x-s2o-name']) {\n                        if (op.requestBody.schema && op.requestBody.schema.$ref) {\n                            op.requestBody['x-s2o-name'] = decodeURIComponent(op.requestBody.schema.$ref.replace('#/components/schemas/', '')).split('/').join('');\n                        }\n                        else if (op.operationId) {\n                            op.requestBody['x-s2o-name'] = common.sanitiseAll(op.operationId);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // tidy up\n    if (param && !param['x-s2o-delete']) {\n        delete param.type;\n        for (let prop of common.parameterTypeProperties) {\n            delete param[prop];\n        }\n\n        if ((param.in === 'path') && ((typeof param.required === 'undefined') || (param.required !== true))) {\n            if (options.patch) {\n                options.patches++;\n                param.required = true;\n            }\n            else {\n                throwError('(Patchable) path parameters must be required:true ['+param.name+' in '+index+']', options);\n            }\n        }\n    }\n\n    return op;\n}\n\nfunction copyExtensions(src, tgt) {\n    for (let prop in src) {\n        if (prop.startsWith('x-') && !prop.startsWith('x-s2o')) {\n            tgt[prop] = src[prop];\n        }\n    }\n}\n\nfunction processResponse(response, name, op, openapi, options) {\n    if (!response) return false;\n    if (response.$ref && (typeof response.$ref === 'string')) {\n        if (response.$ref.indexOf('#/definitions/') >= 0) {\n            //response.$ref = '#/components/schemas/'+common.sanitise(response.$ref.replace('#/definitions/',''));\n            throwOrWarn('definition used as response: ' + response.$ref, response, options);\n        }\n        else {\n            if (response.$ref.startsWith('#/responses/')) {\n                response.$ref = '#/components/responses/' + common.sanitise(decodeURIComponent(response.$ref.replace('#/responses/', '')));\n            }\n        }\n    }\n    else {\n        if ((typeof response.description === 'undefined') || (response.description === null)\n            || ((response.description === '') && options.patch)) {\n            if (options.patch) {\n                if ((typeof response === 'object') && (!Array.isArray(response))) {\n                    options.patches++;\n                    response.description = (statusCodes[response] || '');\n                }\n            }\n            else {\n                throwError('(Patchable) response.description is mandatory', options);\n            }\n        }\n        if (typeof response.schema !== 'undefined') {\n\n            fixUpSchema(response.schema,options);\n\n            if (response.schema.$ref && (typeof response.schema.$ref === 'string') && response.schema.$ref.startsWith('#/responses/')) {\n                response.schema.$ref = '#/components/responses/' + common.sanitise(decodeURIComponent(response.schema.$ref.replace('#/responses/', '')));\n            }\n\n            if (op && op.produces && (typeof op.produces === 'string')) {\n                if (options.patch) {\n                    options.patches++;\n                    op.produces = [op.produces];\n                }\n                else {\n                    return throwError('(Patchable) operation.produces must be an array', options);\n                }\n            }\n            if (openapi.produces && !Array.isArray(openapi.produces)) delete openapi.produces;\n\n            let produces = ((op ? op.produces : null) || (openapi.produces || [])).filter(common.uniqueOnly);\n            if (!produces.length) produces.push('*/*'); // TODO verify default\n\n            response.content = {};\n            for (let mimetype of produces) {\n                response.content[mimetype] = {};\n                response.content[mimetype].schema = clone(response.schema);\n                if (response.examples && response.examples[mimetype]) {\n                    let example = {};\n                    example.value = response.examples[mimetype];\n                    response.content[mimetype].examples = {};\n                    response.content[mimetype].examples.response = example;\n                    delete response.examples[mimetype];\n                }\n                if (response.content[mimetype].schema.type === 'file') {\n                    response.content[mimetype].schema = { type: 'string', format: 'binary' };\n                }\n            }\n            delete response.schema;\n        }\n        // examples for content-types not listed in produces\n        for (let mimetype in response.examples) {\n            if (!response.content) response.content = {};\n            if (!response.content[mimetype]) response.content[mimetype] = {};\n            response.content[mimetype].examples = {};\n            response.content[mimetype].examples.response = {};\n            response.content[mimetype].examples.response.value = response.examples[mimetype];\n        }\n        delete response.examples;\n\n        if (response.headers) {\n            for (let h in response.headers) {\n                if (h.toLowerCase() === 'status code') {\n                    if (options.patch) {\n                        options.patches++;\n                        delete response.headers[h];\n                    }\n                    else {\n                        throwError('(Patchable) \"Status Code\" is not a valid header', options);\n                    }\n                }\n                else {\n                    processHeader(response.headers[h], options);\n                }\n            }\n        }\n    }\n}\n\nfunction processPaths(container, containerName, options, requestBodyCache, openapi) {\n    for (let p in container) {\n        let path = container[p];\n        // path.$ref is external only\n        if (path && (path['x-trace']) && (typeof path['x-trace'] === 'object')) {\n            path.trace = path['x-trace'];\n            delete path['x-trace'];\n        }\n        if (path && (path['x-summary']) && (typeof path['x-summary'] === 'string')) {\n            path.summary = path['x-summary'];\n            delete path['x-summary'];\n        }\n        if (path && (path['x-description']) && (typeof path['x-description'] === 'string')) {\n            path.description = path['x-description'];\n            delete path['x-description'];\n        }\n        if (path && (path['x-servers']) && (Array.isArray(path['x-servers']))) {\n            path.servers = path['x-servers'];\n            delete path['x-servers'];\n        }\n        for (let method in path) {\n            if ((common.httpMethods.indexOf(method) >= 0) || (method === 'x-amazon-apigateway-any-method')) {\n                let op = path[method];\n\n                if (op && op.parameters && Array.isArray(op.parameters)) {\n                    if (path.parameters) {\n                        for (let param of path.parameters) {\n                            if (typeof param.$ref === 'string') {\n                                fixParamRef(param, options);\n                                param = resolveInternal(openapi, param.$ref);\n                            }\n                            let match = op.parameters.find(function (e, i, a) {\n                                return ((e.name === param.name) && (e.in === param.in));\n                            });\n\n                            if (!match && ((param.in === 'formData') || (param.in === 'body') || (param.type === 'file'))) {\n                                op = processParameter(param, op, path, method, p, openapi, options);\n                                if (options.rbname && op[options.rbname] === '') {\n                                    delete op[options.rbname];\n                                }\n                            }\n                        }\n                    }\n                    for (let param of op.parameters) {\n                        op = processParameter(param, op, path, method, method + ':' + p, openapi, options);\n                    }\n                    if (options.rbname && op[options.rbname] === '') {\n                        delete op[options.rbname];\n                    }\n                    if (!options.debug) {\n                        if (op.parameters) op.parameters = op.parameters.filter(keepParameters);\n                    }\n                }\n\n                if (op && op.security) processSecurity(op.security);\n\n                //don't need to remove requestBody for non-supported ops as they \"SHALL be ignored\"\n\n                // responses\n                if (typeof op === 'object') {\n                    if (!op.responses) {\n                        let defaultResp = {};\n                        defaultResp.description = 'Default response';\n                        op.responses = { default: defaultResp };\n                    }\n                    for (let r in op.responses) {\n                        let response = op.responses[r];\n                        processResponse(response, r, op, openapi, options);\n                    }\n                }\n\n                if (op && (op['x-servers']) && (Array.isArray(op['x-servers']))) {\n                    op.servers = op['x-servers'];\n                    delete op['x-servers'];\n                } else if (op && op.schemes && op.schemes.length) {\n                    for (let scheme of op.schemes) {\n                        if ((!openapi.schemes) || (openapi.schemes.indexOf(scheme) < 0)) {\n                            if (!op.servers) {\n                                op.servers = [];\n                            }\n                            if (Array.isArray(openapi.servers)) {\n                                for (let server of openapi.servers) {\n                                    let newServer = clone(server);\n                                    let serverUrl = url.parse(newServer.url);\n                                    serverUrl.protocol = scheme;\n                                    newServer.url = serverUrl.format();\n                                    op.servers.push(newServer);\n                                }\n                            }\n                        }\n                    }\n                }\n\n                if (options.debug) {\n                    op[\"x-s2o-consumes\"] = op.consumes || [];\n                    op[\"x-s2o-produces\"] = op.produces || [];\n                }\n                if (op) {\n                    delete op.consumes;\n                    delete op.produces;\n                    delete op.schemes;\n\n                    if (op[\"x-ms-examples\"]) {\n                        for (let e in op[\"x-ms-examples\"]) {\n                            let example = op[\"x-ms-examples\"][e];\n                            let se = common.sanitiseAll(e);\n                            if (example.parameters) {\n                                for (let p in example.parameters) {\n                                    let value = example.parameters[p];\n                                    for (let param of (op.parameters||[]).concat(path.parameters||[])) {\n                                        if (param.$ref) {\n                                            param = jptr.jptr(openapi,param.$ref);\n                                        }\n                                        if ((param.name === p) && (!param.example)) {\n                                            if (!param.examples) {\n                                                param.examples = {};\n                                            }\n                                            param.examples[e] = {value: value};\n                                        }\n                                    }\n                                }\n                            }\n                            if (example.responses) {\n                                for (let r in example.responses) {\n                                    if (example.responses[r].headers) {\n                                        for (let h in example.responses[r].headers) {\n                                            let value = example.responses[r].headers[h];\n                                            for (let rh in op.responses[r].headers) {\n                                                if (rh === h) {\n                                                    let header = op.responses[r].headers[rh];\n                                                    header.example = value;\n                                                }\n                                            }\n                                        }\n                                    }\n                                    if (example.responses[r].body) {\n                                        openapi.components.examples[se] = { value: clone(example.responses[r].body) };\n                                        if (op.responses[r] && op.responses[r].content) {\n                                            for (let ct in op.responses[r].content) {\n                                                let contentType = op.responses[r].content[ct];\n                                                if (!contentType.examples) {\n                                                    contentType.examples = {};\n                                                }\n                                                contentType.examples[e] = { $ref: '#/components/examples/'+se };\n                                            }\n                                        }\n                                    }\n\n                                }\n                            }\n                        }\n                        delete op[\"x-ms-examples\"];\n                    }\n\n                    if (op.parameters && op.parameters.length === 0) delete op.parameters;\n                    if (op.requestBody) {\n                        let effectiveOperationId = op.operationId ? common.sanitiseAll(op.operationId) : common.sanitiseAll(method + p).toCamelCase();\n                        let rbName = common.sanitise(op.requestBody['x-s2o-name'] || effectiveOperationId || '');\n                        delete op.requestBody['x-s2o-name'];\n                        let rbStr = JSON.stringify(op.requestBody);\n                        let rbHash = common.hash(rbStr);\n                        if (!requestBodyCache[rbHash]) {\n                            let entry = {};\n                            entry.name = rbName;\n                            entry.body = op.requestBody;\n                            entry.refs = [];\n                            requestBodyCache[rbHash] = entry;\n                        }\n                        let ptr = '#/'+containerName+'/'+encodeURIComponent(jptr.jpescape(p))+'/'+method+'/requestBody';\n                        requestBodyCache[rbHash].refs.push(ptr);\n                    }\n                }\n\n            }\n        }\n        if (path && path.parameters) {\n            for (let p2 in path.parameters) {\n                let param = path.parameters[p2];\n                processParameter(param, null, path, null, p, openapi, options); // index here is the path string\n            }\n            if (!options.debug && Array.isArray(path.parameters)) {\n                path.parameters = path.parameters.filter(keepParameters);\n            }\n        }\n    }\n}\n\nfunction main(openapi, options) {\n\n    let requestBodyCache = {};\n    componentNames = { schemas: {} };\n\n    if (openapi.security) processSecurity(openapi.security);\n\n    for (let s in openapi.components.securitySchemes) {\n        let sname = common.sanitise(s);\n        if (s !== sname) {\n            if (openapi.components.securitySchemes[sname]) {\n                throwError('Duplicate sanitised securityScheme name ' + sname, options);\n            }\n            openapi.components.securitySchemes[sname] = openapi.components.securitySchemes[s];\n            delete openapi.components.securitySchemes[s];\n        }\n        processSecurityScheme(openapi.components.securitySchemes[sname], options);\n    }\n\n    for (let s in openapi.components.schemas) {\n        let sname = common.sanitiseAll(s);\n        let suffix = '';\n        if (s !== sname) {\n            while (openapi.components.schemas[sname + suffix]) {\n                // @ts-ignore\n                suffix = (suffix ? ++suffix : 2);\n            }\n            openapi.components.schemas[sname + suffix] = openapi.components.schemas[s];\n            delete openapi.components.schemas[s];\n        }\n        componentNames.schemas[s] = sname + suffix;\n        fixUpSchema(openapi.components.schemas[sname+suffix],options)\n    }\n\n    // fix all $refs to their new locations (and potentially new names)\n    options.refmap = {};\n    recurse(openapi, { payload: { options: options } }, fixupRefs);\n    dedupeRefs(openapi,options);\n\n    for (let p in openapi.components.parameters) {\n        let sname = common.sanitise(p);\n        if (p !== sname) {\n            if (openapi.components.parameters[sname]) {\n                throwError('Duplicate sanitised parameter name ' + sname, options);\n            }\n            openapi.components.parameters[sname] = openapi.components.parameters[p];\n            delete openapi.components.parameters[p];\n        }\n        let param = openapi.components.parameters[sname];\n        processParameter(param, null, null, null, sname, openapi, options);\n    }\n\n    for (let r in openapi.components.responses) {\n        let sname = common.sanitise(r);\n        if (r !== sname) {\n            if (openapi.components.responses[sname]) {\n                throwError('Duplicate sanitised response name ' + sname, options);\n            }\n            openapi.components.responses[sname] = openapi.components.responses[r];\n            delete openapi.components.responses[r];\n        }\n        let response = openapi.components.responses[sname];\n        processResponse(response, sname, null, openapi, options);\n        if (response.headers) {\n            for (let h in response.headers) {\n                if (h.toLowerCase() === 'status code') {\n                    if (options.patch) {\n                        options.patches++;\n                        delete response.headers[h];\n                    }\n                    else {\n                        throwError('(Patchable) \"Status Code\" is not a valid header', options);\n                    }\n                }\n                else {\n                    processHeader(response.headers[h], options);\n                }\n            }\n        }\n    }\n\n    for (let r in openapi.components.requestBodies) { // converted ones\n        let rb = openapi.components.requestBodies[r];\n        let rbStr = JSON.stringify(rb);\n        let rbHash = common.hash(rbStr);\n        let entry = {};\n        entry.name = r;\n        entry.body = rb;\n        entry.refs = [];\n        requestBodyCache[rbHash] = entry;\n    }\n\n    processPaths(openapi.paths, 'paths', options, requestBodyCache, openapi);\n    if (openapi[\"x-ms-paths\"]) {\n        processPaths(openapi[\"x-ms-paths\"], 'x-ms-paths', options, requestBodyCache, openapi);\n    }\n\n    if (!options.debug) {\n        for (let p in openapi.components.parameters) {\n            let param = openapi.components.parameters[p];\n            if (param[\"x-s2o-delete\"]) {\n                delete openapi.components.parameters[p];\n            }\n        }\n    }\n\n    if (options.debug) {\n        openapi[\"x-s2o-consumes\"] = openapi.consumes || [];\n        openapi[\"x-s2o-produces\"] = openapi.produces || [];\n    }\n    delete openapi.consumes;\n    delete openapi.produces;\n    delete openapi.schemes;\n\n    let rbNamesGenerated = [];\n\n    openapi.components.requestBodies = {}; // for now as we've dereffed them\n\n    if (!options.resolveInternal) {\n        let counter = 1;\n        for (let e in requestBodyCache) {\n            let entry = requestBodyCache[e];\n            if (entry.refs.length > 1) {\n                // create a shared requestBody\n                let suffix = '';\n                if (!entry.name) {\n                    entry.name = 'requestBody';\n                    // @ts-ignore\n                    suffix = counter++;\n                }\n                while (rbNamesGenerated.indexOf(entry.name + suffix) >= 0) {\n                    // @ts-ignore - this can happen if descriptions are not exactly the same (e.g. bitbucket)\n                    suffix = (suffix ? ++suffix : 2);\n                }\n                entry.name = entry.name + suffix;\n                rbNamesGenerated.push(entry.name);\n                openapi.components.requestBodies[entry.name] = clone(entry.body);\n                for (let r in entry.refs) {\n                    let ref = {};\n                    ref.$ref = '#/components/requestBodies/' + entry.name;\n                    jptr.jptr(openapi,entry.refs[r],ref);\n                }\n            }\n        }\n    }\n\n    if (openapi.components.responses && Object.keys(openapi.components.responses).length === 0) {\n        delete openapi.components.responses;\n    }\n    if (openapi.components.parameters && Object.keys(openapi.components.parameters).length === 0) {\n        delete openapi.components.parameters;\n    }\n    if (openapi.components.examples && Object.keys(openapi.components.examples).length === 0) {\n        delete openapi.components.examples;\n    }\n    if (openapi.components.requestBodies && Object.keys(openapi.components.requestBodies).length === 0) {\n        delete openapi.components.requestBodies;\n    }\n    if (openapi.components.securitySchemes && Object.keys(openapi.components.securitySchemes).length === 0) {\n        delete openapi.components.securitySchemes;\n    }\n    if (openapi.components.headers && Object.keys(openapi.components.headers).length === 0) {\n        delete openapi.components.headers;\n    }\n    if (openapi.components.schemas && Object.keys(openapi.components.schemas).length === 0) {\n        delete openapi.components.schemas;\n    }\n    if (openapi.components && Object.keys(openapi.components).length === 0) {\n        delete openapi.components;\n    }\n\n    return openapi;\n}\n\nfunction extractServerParameters(server) {\n    if (!server || !server.url || (typeof server.url !== 'string')) return server;\n    server.url = server.url.split('{{').join('{');\n    server.url = server.url.split('}}').join('}');\n    server.url.replace(/\\{(.+?)\\}/g, function (match, group1) { // TODO extend to :parameters (not port)?\n        if (!server.variables) {\n            server.variables = {};\n        }\n        server.variables[group1] = { default: 'unknown' };\n    });\n    return server;\n}\n\nfunction fixInfo(openapi, options, reject) {\n    if ((typeof openapi.info === 'undefined') || (openapi.info === null)) {\n        if (options.patch) {\n            options.patches++;\n            openapi.info = { version: '', title: '' };\n        }\n        else {\n            return reject(new S2OError('(Patchable) info object is mandatory'));\n        }\n    }\n    if ((typeof openapi.info !== 'object') || (Array.isArray(openapi.info))) {\n        return reject(new S2OError('info must be an object'));\n    }\n    if ((typeof openapi.info.title === 'undefined') || (openapi.info.title === null)) {\n        if (options.patch) {\n            options.patches++;\n            openapi.info.title = '';\n        }\n        else {\n            return reject(new S2OError('(Patchable) info.title cannot be null'));\n        }\n    }\n    if ((typeof openapi.info.version === 'undefined') || (openapi.info.version === null)) {\n        if (options.patch) {\n            options.patches++;\n            openapi.info.version = '';\n        }\n        else {\n            return reject(new S2OError('(Patchable) info.version cannot be null'));\n        }\n    }\n    if (typeof openapi.info.version !== 'string') {\n        if (options.patch) {\n            options.patches++;\n            openapi.info.version = openapi.info.version.toString();\n        }\n        else {\n            return reject(new S2OError('(Patchable) info.version must be a string'));\n        }\n    }\n    if (typeof openapi.info.logo !== 'undefined') {\n        if (options.patch) {\n            options.patches++;\n            openapi.info['x-logo'] = openapi.info.logo;\n            delete openapi.info.logo;\n        }\n        else return reject(new S2OError('(Patchable) info should not have logo property'));\n    }\n    if (typeof openapi.info.termsOfService !== 'undefined') {\n        if (openapi.info.termsOfService === null) {\n            if (options.patch) {\n                options.patches++;\n                openapi.info.termsOfService = '';\n            }\n            else {\n                return reject(new S2OError('(Patchable) info.termsOfService cannot be null'));\n            }\n        }\n        try {\n            let u = new URL(openapi.info.termsOfService);\n        }\n        catch (ex) {\n            if (options.patch) {\n                options.patches++;\n                delete openapi.info.termsOfService;\n            }\n            else return reject(new S2OError('(Patchable) info.termsOfService must be a URL'));\n        }\n    }\n}\n\nfunction fixPaths(openapi, options, reject) {\n    if (typeof openapi.paths === 'undefined') {\n        if (options.patch) {\n            options.patches++;\n            openapi.paths = {};\n        }\n        else {\n            return reject(new S2OError('(Patchable) paths object is mandatory'));\n        }\n    }\n}\n\nfunction detectObjectReferences(obj, options) {\n    const seen = new WeakSet();\n    recurse(obj, {identityDetection:true}, function (obj, key, state) {\n        if ((typeof obj[key] === 'object') && (obj[key] !== null)) {\n            if (seen.has(obj[key])) {\n                if (options.anchors) {\n                    obj[key] = clone(obj[key]);\n                }\n                else {\n                    throwError('YAML anchor or merge key at '+state.path, options);\n                }\n            }\n            else {\n                seen.add(obj[key]);\n            }\n        }\n    });\n}\n\nfunction convertObj(swagger, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        if (!swagger) swagger = {};\n        options.original = swagger;\n        if (!options.text) options.text = yaml.stringify(swagger);\n        options.externals = [];\n        options.externalRefs = {};\n        options.rewriteRefs = true; // avoids stack explosions\n        options.preserveMiro = true;\n        options.promise = {};\n        options.promise.resolve = resolve;\n        options.promise.reject = reject;\n        options.patches = 0;\n        if (!options.cache) options.cache = {};\n        if (options.source) options.cache[options.source] = options.original;\n\n        detectObjectReferences(swagger, options);\n\n        if (swagger.openapi && (typeof swagger.openapi === 'string') && swagger.openapi.startsWith('3.')) {\n            options.openapi = cclone(swagger);\n            fixInfo(options.openapi, options, reject);\n            fixPaths(options.openapi, options, reject);\n\n            resolver.optionalResolve(options) // is a no-op if options.resolve is not set\n            .then(function(){\n                if (options.direct) {\n                    return resolve(options.openapi);\n                }\n                else {\n                    return resolve(options);\n                }\n            })\n            .catch(function(ex){\n                console.warn(ex);\n                reject(ex);\n            });\n            return; // we should have resolved or rejected by now\n        }\n\n        if ((!swagger.swagger) || (swagger.swagger != \"2.0\")) {\n            return reject(new S2OError('Unsupported swagger/OpenAPI version: ' + (swagger.openapi ? swagger.openapi : swagger.swagger)));\n        }\n\n        let openapi = options.openapi = {};\n        openapi.openapi = (typeof options.targetVersion === 'string' && options.targetVersion.startsWith('3.')) ? options.targetVersion : targetVersion; // semver\n\n        if (options.origin) {\n            if (!openapi[\"x-origin\"]) {\n                openapi[\"x-origin\"] = [];\n            }\n            let origin = {};\n            origin.url = options.source||options.origin;\n            origin.format = 'swagger';\n            origin.version = swagger.swagger;\n            origin.converter = {};\n            origin.converter.url = 'https://github.com/mermade/oas-kit';\n            origin.converter.version = ourVersion;\n            openapi[\"x-origin\"].push(origin);\n        }\n\n        // we want the new and existing properties to appear in a sensible order. Not guaranteed\n        openapi = Object.assign(openapi, cclone(swagger));\n        delete openapi.swagger;\n        recurse(openapi, {}, function(obj, key, state){\n            if ((obj[key] === null) && (!key.startsWith('x-')) && key !== 'default' && (state.path.indexOf('/example') < 0)) delete obj[key]; // this saves *so* much grief later\n        });\n\n        if (swagger.host) {\n            for (let s of (Array.isArray(swagger.schemes) ? swagger.schemes : [''])) {\n                let server = {};\n                let basePath = (swagger.basePath || '').replace(/\\/$/, '') // Trailing slashes generally shouldn't be included\n                server.url = (s ? s+':' : '') + '//' + swagger.host + basePath;\n                extractServerParameters(server);\n                if (!openapi.servers) openapi.servers = [];\n                openapi.servers.push(server);\n            }\n        }\n        else if (swagger.basePath) {\n            let server = {};\n            server.url = swagger.basePath;\n            extractServerParameters(server);\n            if (!openapi.servers) openapi.servers = [];\n            openapi.servers.push(server);\n        }\n        delete openapi.host;\n        delete openapi.basePath;\n\n        if (openapi['x-servers'] && Array.isArray(openapi['x-servers'])) {\n            openapi.servers = openapi['x-servers'];\n            delete openapi['x-servers'];\n        }\n\n        // TODO APIMatic extensions (x-server-configuration) ?\n\n        if (swagger['x-ms-parameterized-host']) {\n            let xMsPHost = swagger['x-ms-parameterized-host'];\n            let server = {};\n            server.url = xMsPHost.hostTemplate + (swagger.basePath ? swagger.basePath : '');\n            server.variables = {};\n            const paramNames = server.url.match(/\\{\\w+\\}/g);\n            for (let msp in xMsPHost.parameters) {\n                let param = xMsPHost.parameters[msp];\n                if (param.$ref) {\n                    param = clone(resolveInternal(openapi, param.$ref));\n                }\n                if (!msp.startsWith('x-')) {\n                    delete param.required; // all true\n                    delete param.type; // all strings\n                    delete param.in; // all 'host'\n                    if (typeof param.default === 'undefined') {\n                        if (param.enum) {\n                            param.default = param.enum[0];\n                        }\n                        else {\n                            param.default = 'none';\n                        }\n                    }\n                    if (!param.name) {\n                      param.name = paramNames[msp].replace('{','').replace('}','');\n                    }\n                    server.variables[param.name] = param;\n                    delete param.name;\n                }\n            }\n            if (!openapi.servers) openapi.servers = [];\n            if (xMsPHost.useSchemePrefix === false) {\n                // The server URL already includes a protocol scheme\n                openapi.servers.push(server);\n            } else {\n                // Define this server once for each given protocol scheme\n                swagger.schemes.forEach((scheme) => {\n                    openapi.servers.push(\n                        Object.assign({}, server, { url: scheme + '://' + server.url })\n                    )\n                });\n            }\n            delete openapi['x-ms-parameterized-host'];\n        }\n\n        fixInfo(openapi, options, reject);\n        fixPaths(openapi, options, reject);\n\n        if (typeof openapi.consumes === 'string') {\n            openapi.consumes = [openapi.consumes];\n        }\n        if (typeof openapi.produces === 'string') {\n            openapi.produces = [openapi.produces];\n        }\n\n        openapi.components = {};\n        if (openapi['x-callbacks']) {\n            openapi.components.callbacks = openapi['x-callbacks'];\n            delete openapi['x-callbacks'];\n        }\n        openapi.components.examples = {};\n        openapi.components.headers = {};\n        if (openapi['x-links']) {\n            openapi.components.links = openapi['x-links'];\n            delete openapi['x-links'];\n        }\n        openapi.components.parameters = openapi.parameters || {};\n        openapi.components.responses = openapi.responses || {};\n        openapi.components.requestBodies = {};\n        openapi.components.securitySchemes = openapi.securityDefinitions || {};\n        openapi.components.schemas = openapi.definitions || {};\n        delete openapi.definitions;\n        delete openapi.responses;\n        delete openapi.parameters;\n        delete openapi.securityDefinitions;\n\n        resolver.optionalResolve(options) // is a no-op if options.resolve is not set\n        .then(function(){\n            main(options.openapi, options);\n            if (options.direct) {\n                resolve(options.openapi);\n            }\n            else {\n                resolve(options);\n            }\n        })\n        .catch(function(ex){\n            console.warn(ex);\n            reject(ex);\n        });\n\n    }));\n}\n\nfunction convertStr(str, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        let obj = null;\n        let error = null;\n        try {\n            obj = JSON.parse(str);\n            options.text = JSON.stringify(obj,null,2);\n        }\n        catch (ex) {\n            error = ex;\n            try {\n                obj = yaml.parse(str, { schema: 'core', prettyErrors: true });\n                options.sourceYaml = true;\n                options.text = str;\n            }\n            catch (ex) {\n                error = ex;\n            }\n        }\n        if (obj) {\n            convertObj(obj, options)\n            .then(options => resolve(options))\n            .catch(ex => reject(ex));\n        }\n        else {\n            reject(new S2OError(error ? error.message : 'Could not parse string'));\n        }\n    }));\n}\n\nfunction convertUrl(url, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        options.origin = true;\n        if (!options.source) {\n            options.source = url;\n        }\n        if (options.verbose) {\n            console.warn('GET ' + url);\n        }\n        if (!options.fetch) {\n          options.fetch = fetch;\n        }\n        const fetchOptions = Object.assign({}, options.fetchOptions, {agent:options.agent});\n        options.fetch(url, fetchOptions).then(function (res) {\n            if (res.status !== 200) throw new S2OError(`Received status code ${res.status}: ${url}`);\n            return res.text();\n        }).then(function (body) {\n            convertStr(body, options)\n            .then(options => resolve(options))\n            .catch(ex => reject(ex));\n        }).catch(function (err) {\n            reject(err);\n        });\n    }));\n}\n\nfunction convertFile(filename, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        fs.readFile(filename, options.encoding || 'utf8', function (err, s) {\n            if (err) {\n                reject(err);\n            }\n            else {\n                options.sourceFile = filename;\n                convertStr(s, options)\n                .then(options => resolve(options))\n                .catch(ex => reject(ex));\n            }\n        });\n    }));\n}\n\nfunction convertStream(readable, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        let data = '';\n        readable.on('data', function (chunk) {\n            data += chunk;\n        })\n        .on('end', function () {\n            convertStr(data, options)\n            .then(options => resolve(options))\n            .catch(ex => reject(ex));\n        });\n    }));\n}\n\nmodule.exports = {\n    S2OError: S2OError,\n    targetVersion: targetVersion,\n    convert: convertObj,\n    convertObj: convertObj,\n    convertUrl: convertUrl,\n    convertStr: convertStr,\n    convertFile: convertFile,\n    convertStream: convertStream\n};\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    if (reducer(descriptor, name, obj) !== false) {\n      reducedDescriptors[name] = descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  value = +value;\n  return Number.isFinite(value) ? value : defaultValue;\n}\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n}\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0]\n  }\n\n  return str;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar Stream = require('stream').Stream;\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData(options);\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (util.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response or not a stream\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) && !(value instanceof Stream))) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity –> read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.setBoundary = function(boundary) {\n  this._boundary = boundary;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err && err !== 'Unknown stream') {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    if (length) {\n      request.setHeader('Content-Length', length);\n    }\n\n    this.pipe(request);\n    if (cb) {\n      var onResponse;\n\n      var callback = function (error, responce) {\n        request.removeListener('error', callback);\n        request.removeListener('response', onResponse);\n\n        return cb.call(this, error, responce);\n      };\n\n      onResponse = callback.bind(this, null);\n\n      request.on('error', callback);\n      request.on('response', onResponse);\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?object} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport url from 'url';\nexport default url.URLSearchParams;\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\n\nexport default {\n  isNode: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob: typeof Blob !== 'undefined' && Blob || null\n  },\n  protocols: [ 'http', 'https', 'file', 'data' ]\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\nconst DEFAULT_CONTENT_TYPE = {\n  'Content-Type': undefined\n};\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      if (!hasJSONContentType) {\n        return data;\n      }\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\nutils.freezeMethods(AxiosHeaders.prototype);\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\nvar parseUrl = require('url').parse;\n\nvar DEFAULT_PORTS = {\n  ftp: 21,\n  gopher: 70,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443,\n};\n\nvar stringEndsWith = String.prototype.endsWith || function(s) {\n  return s.length <= this.length &&\n    this.indexOf(s, this.length - s.length) !== -1;\n};\n\n/**\n * @param {string|object} url - The URL, or the result from url.parse.\n * @return {string} The URL of the proxy that should handle the request to the\n *  given URL. If no proxy is set, this will be an empty string.\n */\nfunction getProxyForUrl(url) {\n  var parsedUrl = typeof url === 'string' ? parseUrl(url) : url || {};\n  var proto = parsedUrl.protocol;\n  var hostname = parsedUrl.host;\n  var port = parsedUrl.port;\n  if (typeof hostname !== 'string' || !hostname || typeof proto !== 'string') {\n    return '';  // Don't proxy URLs without a valid scheme or host.\n  }\n\n  proto = proto.split(':', 1)[0];\n  // Stripping ports in this way instead of using parsedUrl.hostname to make\n  // sure that the brackets around IPv6 addresses are kept.\n  hostname = hostname.replace(/:\\d*$/, '');\n  port = parseInt(port) || DEFAULT_PORTS[proto] || 0;\n  if (!shouldProxy(hostname, port)) {\n    return '';  // Don't proxy URLs that match NO_PROXY.\n  }\n\n  var proxy =\n    getEnv('npm_config_' + proto + '_proxy') ||\n    getEnv(proto + '_proxy') ||\n    getEnv('npm_config_proxy') ||\n    getEnv('all_proxy');\n  if (proxy && proxy.indexOf('://') === -1) {\n    // Missing scheme in proxy, default to the requested URL's scheme.\n    proxy = proto + '://' + proxy;\n  }\n  return proxy;\n}\n\n/**\n * Determines whether a given URL should be proxied.\n *\n * @param {string} hostname - The host name of the URL.\n * @param {number} port - The effective port of the URL.\n * @returns {boolean} Whether the given URL should be proxied.\n * @private\n */\nfunction shouldProxy(hostname, port) {\n  var NO_PROXY =\n    (getEnv('npm_config_no_proxy') || getEnv('no_proxy')).toLowerCase();\n  if (!NO_PROXY) {\n    return true;  // Always proxy if NO_PROXY is not set.\n  }\n  if (NO_PROXY === '*') {\n    return false;  // Never proxy if wildcard is set.\n  }\n\n  return NO_PROXY.split(/[,\\s]/).every(function(proxy) {\n    if (!proxy) {\n      return true;  // Skip zero-length hosts.\n    }\n    var parsedProxy = proxy.match(/^(.+):(\\d+)$/);\n    var parsedProxyHostname = parsedProxy ? parsedProxy[1] : proxy;\n    var parsedProxyPort = parsedProxy ? parseInt(parsedProxy[2]) : 0;\n    if (parsedProxyPort && parsedProxyPort !== port) {\n      return true;  // Skip if ports don't match.\n    }\n\n    if (!/^[.*]/.test(parsedProxyHostname)) {\n      // No wildcards, so stop proxying if there is an exact match.\n      return hostname !== parsedProxyHostname;\n    }\n\n    if (parsedProxyHostname.charAt(0) === '*') {\n      // Remove leading wildcard.\n      parsedProxyHostname = parsedProxyHostname.slice(1);\n    }\n    // Stop proxying if the hostname ends with the no_proxy host.\n    return !stringEndsWith.call(hostname, parsedProxyHostname);\n  });\n}\n\n/**\n * Get the value for an environment variable.\n *\n * @param {string} key - The name of the environment variable.\n * @return {string} The value of the environment variable.\n * @private\n */\nfunction getEnv(key) {\n  return process.env[key.toLowerCase()] || process.env[key.toUpperCase()] || '';\n}\n\nexports.getProxyForUrl = getProxyForUrl;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","'use strict';\nmodule.exports = (flag, argv) => {\n\targv = argv || process.argv;\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst pos = argv.indexOf(prefix + flag);\n\tconst terminatorPos = argv.indexOf('--');\n\treturn pos !== -1 && (terminatorPos === -1 ? true : pos < terminatorPos);\n};\n","'use strict';\nconst os = require('os');\nconst hasFlag = require('has-flag');\n\nconst env = process.env;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false')) {\n\tforceColor = false;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = true;\n}\nif ('FORCE_COLOR' in env) {\n\tforceColor = env.FORCE_COLOR.length === 0 || parseInt(env.FORCE_COLOR, 10) !== 0;\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(stream) {\n\tif (forceColor === false) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (stream && !stream.isTTY && forceColor !== true) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor ? 1 : 0;\n\n\tif (process.platform === 'win32') {\n\t\t// Node.js 7.5.0 is the first version of Node.js to include a patch to\n\t\t// libuv that enables 256 color output on Windows. Anything earlier and it\n\t\t// won't work. However, here we target Node.js 8 at minimum as it is an LTS\n\t\t// release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n\t\t// release that supports 256 colors. Windows 10 build 14931 is the first release\n\t\t// that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(process.versions.node.split('.')[0]) >= 8 &&\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel(process.stdout),\n\tstderr: getSupportLevel(process.stderr)\n};\n","\"use strict\";\n\n/**\n * Module dependencies.\n */\nvar tty = require('tty');\n\nvar util = require('util');\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n  // Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n  // eslint-disable-next-line import/no-extraneous-dependencies\n  var supportsColor = require('supports-color');\n\n  if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n    exports.colors = [20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68, 69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134, 135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 214, 215, 220, 221];\n  }\n} catch (error) {} // Swallow - we only care if `supports-color` is available; it doesn't have to be.\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // Camel-case\n  var prop = key.substring(6).toLowerCase().replace(/_([a-z])/g, function (_, k) {\n    return k.toUpperCase();\n  }); // Coerce string value into JS value\n\n  var val = process.env[key];\n\n  if (/^(yes|on|true|enabled)$/i.test(val)) {\n    val = true;\n  } else if (/^(no|off|false|disabled)$/i.test(val)) {\n    val = false;\n  } else if (val === 'null') {\n    val = null;\n  } else {\n    val = Number(val);\n  }\n\n  obj[prop] = val;\n  return obj;\n}, {});\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts ? Boolean(exports.inspectOpts.colors) : tty.isatty(process.stderr.fd);\n}\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  var name = this.namespace,\n      useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = \"\\x1B[3\" + (c < 8 ? c : '8;5;' + c);\n    var prefix = \"  \".concat(colorCode, \";1m\").concat(name, \" \\x1B[0m\");\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + module.exports.humanize(this.diff) + \"\\x1B[0m\");\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  }\n\n  return new Date().toISOString() + ' ';\n}\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  if (namespaces) {\n    process.env.DEBUG = namespaces;\n  } else {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  return process.env.DEBUG;\n}\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\n\nfunction init(debug) {\n  debug.inspectOpts = {};\n  var keys = Object.keys(exports.inspectOpts);\n\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n')\n    .map(function (str) { return str.trim(); })\n    .join(' ');\n};\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\n\nformatters.O = function (v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n","\"use strict\";\n\n/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\n// Error types with codes\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\"\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    self._processResponse(response);\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  abortRequest(this._currentRequest);\n  this.emit(\"abort\");\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    this.emit(\"error\", new TypeError(\"Unsupported protocol \" + protocol));\n    return;\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC7230§5.3.1: When making a request directly to an origin server, […]\n  // a client MUST send only the absolute path […] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, […]\n    // a client MUST send the target URI in absolute-form […].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      /* istanbul ignore else */\n      if (request === self._currentRequest) {\n        // Report any write errors\n        /* istanbul ignore if */\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          /* istanbul ignore else */\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC7231§6.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  abortRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC7231§6.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    this.emit(\"error\", new TooManyRedirectsError());\n    return;\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC7231§6.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, […]\n  // RFC7231§6.4.2–3: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC7231§6.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource […]\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) […]\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = url.parse(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Determine the URL of the redirection\n  var redirectUrl;\n  try {\n    redirectUrl = url.resolve(currentUrl, location);\n  }\n  catch (cause) {\n    this.emit(\"error\", new RedirectionError({ cause: cause }));\n    return;\n  }\n\n  // Create the redirected request\n  debug(\"redirecting to\", redirectUrl);\n  this._isRedirect = true;\n  var redirectUrlParts = url.parse(redirectUrl);\n  Object.assign(this._options, redirectUrlParts);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrlParts.protocol !== currentUrlParts.protocol &&\n     redirectUrlParts.protocol !== \"https:\" ||\n     redirectUrlParts.host !== currentHost &&\n     !isSubdomain(redirectUrlParts.host, currentHost)) {\n    removeMatchingHeaders(/^(?:authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    try {\n      beforeRedirect(this._options, responseDetails, requestDetails);\n    }\n    catch (err) {\n      this.emit(\"error\", err);\n      return;\n    }\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  try {\n    this._performRequest();\n  }\n  catch (cause) {\n    this.emit(\"error\", new RedirectionError({ cause: cause }));\n  }\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters\n      if (isString(input)) {\n        var parsed;\n        try {\n          parsed = urlToOptions(new URL(input));\n        }\n        catch (err) {\n          /* istanbul ignore next */\n          parsed = url.parse(input);\n        }\n        if (!isString(parsed.protocol)) {\n          throw new InvalidUrlError({ input });\n        }\n        input = parsed;\n      }\n      else if (URL && (input instanceof URL)) {\n        input = urlToOptions(input);\n      }\n      else {\n        callback = options;\n        options = input;\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\n/* istanbul ignore next */\nfunction noop() { /* empty */ }\n\n// from https://github.com/nodejs/node/blob/master/lib/internal/url.js\nfunction urlToOptions(urlObject) {\n  var options = {\n    protocol: urlObject.protocol,\n    hostname: urlObject.hostname.startsWith(\"[\") ?\n      /* istanbul ignore next */\n      urlObject.hostname.slice(1, -1) :\n      urlObject.hostname,\n    hash: urlObject.hash,\n    search: urlObject.search,\n    pathname: urlObject.pathname,\n    path: urlObject.pathname + urlObject.search,\n    href: urlObject.href,\n  };\n  if (urlObject.port !== \"\") {\n    options.port = Number(urlObject.port);\n  }\n  return options;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    Error.captureStackTrace(this, this.constructor);\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  CustomError.prototype.constructor = CustomError;\n  CustomError.prototype.name = \"Error [\" + code + \"]\";\n  return CustomError;\n}\n\nfunction abortRequest(request) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.abort();\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","export const VERSION = \"1.4.0\";","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport parseProtocol from './parseProtocol.js';\nimport platform from '../platform/index.js';\n\nconst DATA_URL_PATTERN = /^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\\s\\S]*)$/;\n\n/**\n * Parse data uri to a Buffer or Blob\n *\n * @param {String} uri\n * @param {?Boolean} asBlob\n * @param {?Object} options\n * @param {?Function} options.Blob\n *\n * @returns {Buffer|Blob}\n */\nexport default function fromDataURI(uri, asBlob, options) {\n  const _Blob = options && options.Blob || platform.classes.Blob;\n  const protocol = parseProtocol(uri);\n\n  if (asBlob === undefined && _Blob) {\n    asBlob = true;\n  }\n\n  if (protocol === 'data') {\n    uri = protocol.length ? uri.slice(protocol.length + 1) : uri;\n\n    const match = DATA_URL_PATTERN.exec(uri);\n\n    if (!match) {\n      throw new AxiosError('Invalid URL', AxiosError.ERR_INVALID_URL);\n    }\n\n    const mime = match[1];\n    const isBase64 = match[2];\n    const body = match[3];\n    const buffer = Buffer.from(decodeURIComponent(body), isBase64 ? 'base64' : 'utf8');\n\n    if (asBlob) {\n      if (!_Blob) {\n        throw new AxiosError('Blob is not supported', AxiosError.ERR_NOT_SUPPORT);\n      }\n\n      return new _Blob([buffer], {type: mime});\n    }\n\n    return buffer;\n  }\n\n  throw new AxiosError('Unsupported protocol ' + protocol, AxiosError.ERR_NOT_SUPPORT);\n}\n","'use strict';\n\n/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  const threshold = 1000 / freq;\n  let timer = null;\n  return function throttled(force, args) {\n    const now = Date.now();\n    if (force || now - timestamp > threshold) {\n      if (timer) {\n        clearTimeout(timer);\n        timer = null;\n      }\n      timestamp = now;\n      return fn.apply(null, args);\n    }\n    if (!timer) {\n      timer = setTimeout(() => {\n        timer = null;\n        timestamp = Date.now();\n        return fn.apply(null, args);\n      }, threshold - (now - timestamp));\n    }\n  };\n}\n\nexport default throttle;\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","'use strict';\n\nimport stream from 'stream';\nimport utils from '../utils.js';\nimport throttle from './throttle.js';\nimport speedometer from './speedometer.js';\n\nconst kInternals = Symbol('internals');\n\nclass AxiosTransformStream extends stream.Transform{\n  constructor(options) {\n    options = utils.toFlatObject(options, {\n      maxRate: 0,\n      chunkSize: 64 * 1024,\n      minChunkSize: 100,\n      timeWindow: 500,\n      ticksRate: 2,\n      samplesCount: 15\n    }, null, (prop, source) => {\n      return !utils.isUndefined(source[prop]);\n    });\n\n    super({\n      readableHighWaterMark: options.chunkSize\n    });\n\n    const self = this;\n\n    const internals = this[kInternals] = {\n      length: options.length,\n      timeWindow: options.timeWindow,\n      ticksRate: options.ticksRate,\n      chunkSize: options.chunkSize,\n      maxRate: options.maxRate,\n      minChunkSize: options.minChunkSize,\n      bytesSeen: 0,\n      isCaptured: false,\n      notifiedBytesLoaded: 0,\n      ts: Date.now(),\n      bytes: 0,\n      onReadCallback: null\n    };\n\n    const _speedometer = speedometer(internals.ticksRate * options.samplesCount, internals.timeWindow);\n\n    this.on('newListener', event => {\n      if (event === 'progress') {\n        if (!internals.isCaptured) {\n          internals.isCaptured = true;\n        }\n      }\n    });\n\n    let bytesNotified = 0;\n\n    internals.updateProgress = throttle(function throttledHandler() {\n      const totalBytes = internals.length;\n      const bytesTransferred = internals.bytesSeen;\n      const progressBytes = bytesTransferred - bytesNotified;\n      if (!progressBytes || self.destroyed) return;\n\n      const rate = _speedometer(progressBytes);\n\n      bytesNotified = bytesTransferred;\n\n      process.nextTick(() => {\n        self.emit('progress', {\n          'loaded': bytesTransferred,\n          'total': totalBytes,\n          'progress': totalBytes ? (bytesTransferred / totalBytes) : undefined,\n          'bytes': progressBytes,\n          'rate': rate ? rate : undefined,\n          'estimated': rate && totalBytes && bytesTransferred <= totalBytes ?\n            (totalBytes - bytesTransferred) / rate : undefined\n        });\n      });\n    }, internals.ticksRate);\n\n    const onFinish = () => {\n      internals.updateProgress(true);\n    };\n\n    this.once('end', onFinish);\n    this.once('error', onFinish);\n  }\n\n  _read(size) {\n    const internals = this[kInternals];\n\n    if (internals.onReadCallback) {\n      internals.onReadCallback();\n    }\n\n    return super._read(size);\n  }\n\n  _transform(chunk, encoding, callback) {\n    const self = this;\n    const internals = this[kInternals];\n    const maxRate = internals.maxRate;\n\n    const readableHighWaterMark = this.readableHighWaterMark;\n\n    const timeWindow = internals.timeWindow;\n\n    const divider = 1000 / timeWindow;\n    const bytesThreshold = (maxRate / divider);\n    const minChunkSize = internals.minChunkSize !== false ? Math.max(internals.minChunkSize, bytesThreshold * 0.01) : 0;\n\n    function pushChunk(_chunk, _callback) {\n      const bytes = Buffer.byteLength(_chunk);\n      internals.bytesSeen += bytes;\n      internals.bytes += bytes;\n\n      if (internals.isCaptured) {\n        internals.updateProgress();\n      }\n\n      if (self.push(_chunk)) {\n        process.nextTick(_callback);\n      } else {\n        internals.onReadCallback = () => {\n          internals.onReadCallback = null;\n          process.nextTick(_callback);\n        };\n      }\n    }\n\n    const transformChunk = (_chunk, _callback) => {\n      const chunkSize = Buffer.byteLength(_chunk);\n      let chunkRemainder = null;\n      let maxChunkSize = readableHighWaterMark;\n      let bytesLeft;\n      let passed = 0;\n\n      if (maxRate) {\n        const now = Date.now();\n\n        if (!internals.ts || (passed = (now - internals.ts)) >= timeWindow) {\n          internals.ts = now;\n          bytesLeft = bytesThreshold - internals.bytes;\n          internals.bytes = bytesLeft < 0 ? -bytesLeft : 0;\n          passed = 0;\n        }\n\n        bytesLeft = bytesThreshold - internals.bytes;\n      }\n\n      if (maxRate) {\n        if (bytesLeft <= 0) {\n          // next time window\n          return setTimeout(() => {\n            _callback(null, _chunk);\n          }, timeWindow - passed);\n        }\n\n        if (bytesLeft < maxChunkSize) {\n          maxChunkSize = bytesLeft;\n        }\n      }\n\n      if (maxChunkSize && chunkSize > maxChunkSize && (chunkSize - maxChunkSize) > minChunkSize) {\n        chunkRemainder = _chunk.subarray(maxChunkSize);\n        _chunk = _chunk.subarray(0, maxChunkSize);\n      }\n\n      pushChunk(_chunk, chunkRemainder ? () => {\n        process.nextTick(_callback, null, chunkRemainder);\n      } : _callback);\n    };\n\n    transformChunk(chunk, function transformNextChunk(err, _chunk) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (_chunk) {\n        transformChunk(_chunk, transformNextChunk);\n      } else {\n        callback(null);\n      }\n    });\n  }\n\n  setLength(length) {\n    this[kInternals].length = +length;\n    return this;\n  }\n}\n\nexport default AxiosTransformStream;\n","const {asyncIterator} = Symbol;\n\nconst readBlob = async function* (blob) {\n  if (blob.stream) {\n    yield* blob.stream()\n  } else if (blob.arrayBuffer) {\n    yield await blob.arrayBuffer()\n  } else if (blob[asyncIterator]) {\n    yield* blob[asyncIterator]();\n  } else {\n    yield blob;\n  }\n}\n\nexport default readBlob;\n","import {TextEncoder} from 'util';\nimport {Readable} from 'stream';\nimport utils from \"../utils.js\";\nimport readBlob from \"./readBlob.js\";\n\nconst BOUNDARY_ALPHABET = utils.ALPHABET.ALPHA_DIGIT + '-_';\n\nconst textEncoder = new TextEncoder();\n\nconst CRLF = '\\r\\n';\nconst CRLF_BYTES = textEncoder.encode(CRLF);\nconst CRLF_BYTES_COUNT = 2;\n\nclass FormDataPart {\n  constructor(name, value) {\n    const {escapeName} = this.constructor;\n    const isStringValue = utils.isString(value);\n\n    let headers = `Content-Disposition: form-data; name=\"${escapeName(name)}\"${\n      !isStringValue && value.name ? `; filename=\"${escapeName(value.name)}\"` : ''\n    }${CRLF}`;\n\n    if (isStringValue) {\n      value = textEncoder.encode(String(value).replace(/\\r?\\n|\\r\\n?/g, CRLF));\n    } else {\n      headers += `Content-Type: ${value.type || \"application/octet-stream\"}${CRLF}`\n    }\n\n    this.headers = textEncoder.encode(headers + CRLF);\n\n    this.contentLength = isStringValue ? value.byteLength : value.size;\n\n    this.size = this.headers.byteLength + this.contentLength + CRLF_BYTES_COUNT;\n\n    this.name = name;\n    this.value = value;\n  }\n\n  async *encode(){\n    yield this.headers;\n\n    const {value} = this;\n\n    if(utils.isTypedArray(value)) {\n      yield value;\n    } else {\n      yield* readBlob(value);\n    }\n\n    yield CRLF_BYTES;\n  }\n\n  static escapeName(name) {\n      return String(name).replace(/[\\r\\n\"]/g, (match) => ({\n        '\\r' : '%0D',\n        '\\n' : '%0A',\n        '\"' : '%22',\n      }[match]));\n  }\n}\n\nconst formDataToStream = (form, headersHandler, options) => {\n  const {\n    tag = 'form-data-boundary',\n    size = 25,\n    boundary = tag + '-' + utils.generateString(size, BOUNDARY_ALPHABET)\n  } = options || {};\n\n  if(!utils.isFormData(form)) {\n    throw TypeError('FormData instance required');\n  }\n\n  if (boundary.length < 1 || boundary.length > 70) {\n    throw Error('boundary must be 10-70 characters long')\n  }\n\n  const boundaryBytes = textEncoder.encode('--' + boundary + CRLF);\n  const footerBytes = textEncoder.encode('--' + boundary + '--' + CRLF + CRLF);\n  let contentLength = footerBytes.byteLength;\n\n  const parts = Array.from(form.entries()).map(([name, value]) => {\n    const part = new FormDataPart(name, value);\n    contentLength += part.size;\n    return part;\n  });\n\n  contentLength += boundaryBytes.byteLength * parts.length;\n\n  contentLength = utils.toFiniteNumber(contentLength);\n\n  const computedHeaders = {\n    'Content-Type': `multipart/form-data; boundary=${boundary}`\n  }\n\n  if (Number.isFinite(contentLength)) {\n    computedHeaders['Content-Length'] = contentLength;\n  }\n\n  headersHandler && headersHandler(computedHeaders);\n\n  return Readable.from((async function *() {\n    for(const part of parts) {\n      yield boundaryBytes;\n      yield* part.encode();\n    }\n\n    yield footerBytes;\n  })());\n};\n\nexport default formDataToStream;\n","\"use strict\";\n\nimport stream from \"stream\";\n\nclass ZlibHeaderTransformStream extends stream.Transform {\n  __transform(chunk, encoding, callback) {\n    this.push(chunk);\n    callback();\n  }\n\n  _transform(chunk, encoding, callback) {\n    if (chunk.length !== 0) {\n      this._transform = this.__transform;\n\n      // Add Default Compression headers if no zlib headers are present\n      if (chunk[0] !== 120) { // Hex: 78\n        const header = Buffer.alloc(2);\n        header[0] = 120; // Hex: 78\n        header[1] = 156; // Hex: 9C \n        this.push(header, encoding);\n      }\n    }\n\n    this.__transform(chunk, encoding, callback);\n  }\n}\n\nexport default ZlibHeaderTransformStream;\n","import utils from \"../utils.js\";\n\nconst callbackify = (fn, reducer) => {\n  return utils.isAsyncFn(fn) ? function (...args) {\n    const cb = args.pop();\n    fn.apply(this, args).then((value) => {\n      try {\n        reducer ? cb(null, ...reducer(value)) : cb(null, value);\n      } catch (err) {\n        cb(err);\n      }\n    }, cb);\n  } : fn;\n}\n\nexport default callbackify;\n","'use strict';\n\nimport utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport buildFullPath from '../core/buildFullPath.js';\nimport buildURL from './../helpers/buildURL.js';\nimport {getProxyForUrl} from 'proxy-from-env';\nimport http from 'http';\nimport https from 'https';\nimport util from 'util';\nimport followRedirects from 'follow-redirects';\nimport zlib from 'zlib';\nimport {VERSION} from '../env/data.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport platform from '../platform/index.js';\nimport fromDataURI from '../helpers/fromDataURI.js';\nimport stream from 'stream';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport AxiosTransformStream from '../helpers/AxiosTransformStream.js';\nimport EventEmitter from 'events';\nimport formDataToStream from \"../helpers/formDataToStream.js\";\nimport readBlob from \"../helpers/readBlob.js\";\nimport ZlibHeaderTransformStream from '../helpers/ZlibHeaderTransformStream.js';\nimport callbackify from \"../helpers/callbackify.js\";\n\nconst zlibOptions = {\n  flush: zlib.constants.Z_SYNC_FLUSH,\n  finishFlush: zlib.constants.Z_SYNC_FLUSH\n};\n\nconst brotliOptions = {\n  flush: zlib.constants.BROTLI_OPERATION_FLUSH,\n  finishFlush: zlib.constants.BROTLI_OPERATION_FLUSH\n}\n\nconst isBrotliSupported = utils.isFunction(zlib.createBrotliDecompress);\n\nconst {http: httpFollow, https: httpsFollow} = followRedirects;\n\nconst isHttps = /https:?/;\n\nconst supportedProtocols = platform.protocols.map(protocol => {\n  return protocol + ':';\n});\n\n/**\n * If the proxy or config beforeRedirects functions are defined, call them with the options\n * object.\n *\n * @param {Object<string, any>} options - The options object that was passed to the request.\n *\n * @returns {Object<string, any>}\n */\nfunction dispatchBeforeRedirect(options) {\n  if (options.beforeRedirects.proxy) {\n    options.beforeRedirects.proxy(options);\n  }\n  if (options.beforeRedirects.config) {\n    options.beforeRedirects.config(options);\n  }\n}\n\n/**\n * If the proxy or config afterRedirects functions are defined, call them with the options\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} configProxy configuration from Axios options object\n * @param {string} location\n *\n * @returns {http.ClientRequestArgs}\n */\nfunction setProxy(options, configProxy, location) {\n  let proxy = configProxy;\n  if (!proxy && proxy !== false) {\n    const proxyUrl = getProxyForUrl(location);\n    if (proxyUrl) {\n      proxy = new URL(proxyUrl);\n    }\n  }\n  if (proxy) {\n    // Basic proxy authorization\n    if (proxy.username) {\n      proxy.auth = (proxy.username || '') + ':' + (proxy.password || '');\n    }\n\n    if (proxy.auth) {\n      // Support proxy auth object form\n      if (proxy.auth.username || proxy.auth.password) {\n        proxy.auth = (proxy.auth.username || '') + ':' + (proxy.auth.password || '');\n      }\n      const base64 = Buffer\n        .from(proxy.auth, 'utf8')\n        .toString('base64');\n      options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n    }\n\n    options.headers.host = options.hostname + (options.port ? ':' + options.port : '');\n    const proxyHost = proxy.hostname || proxy.host;\n    options.hostname = proxyHost;\n    // Replace 'host' since options is not a URL object\n    options.host = proxyHost;\n    options.port = proxy.port;\n    options.path = location;\n    if (proxy.protocol) {\n      options.protocol = proxy.protocol.includes(':') ? proxy.protocol : `${proxy.protocol}:`;\n    }\n  }\n\n  options.beforeRedirects.proxy = function beforeRedirect(redirectOptions) {\n    // Configure proxy for redirected request, passing the original config proxy to apply\n    // the exact same logic as if the redirected request was performed by axios directly.\n    setProxy(redirectOptions, configProxy, redirectOptions.href);\n  };\n}\n\nconst isHttpAdapterSupported = typeof process !== 'undefined' && utils.kindOf(process) === 'process';\n\n// temporary hotfix\n\nconst wrapAsync = (asyncExecutor) => {\n  return new Promise((resolve, reject) => {\n    let onDone;\n    let isDone;\n\n    const done = (value, isRejected) => {\n      if (isDone) return;\n      isDone = true;\n      onDone && onDone(value, isRejected);\n    }\n\n    const _resolve = (value) => {\n      done(value);\n      resolve(value);\n    };\n\n    const _reject = (reason) => {\n      done(reason, true);\n      reject(reason);\n    }\n\n    asyncExecutor(_resolve, _reject, (onDoneHandler) => (onDone = onDoneHandler)).catch(_reject);\n  })\n};\n\n/*eslint consistent-return:0*/\nexport default isHttpAdapterSupported && function httpAdapter(config) {\n  return wrapAsync(async function dispatchHttpRequest(resolve, reject, onDone) {\n    let {data, lookup, family} = config;\n    const {responseType, responseEncoding} = config;\n    const method = config.method.toUpperCase();\n    let isDone;\n    let rejected = false;\n    let req;\n\n    if (lookup && utils.isAsyncFn(lookup)) {\n      lookup = callbackify(lookup, (entry) => {\n        if(utils.isString(entry)) {\n          entry = [entry, entry.indexOf('.') < 0 ? 6 : 4]\n        } else if (!utils.isArray(entry)) {\n          throw new TypeError('lookup async function must return an array [ip: string, family: number]]')\n        }\n        return entry;\n      })\n    }\n\n    // temporary internal emitter until the AxiosRequest class will be implemented\n    const emitter = new EventEmitter();\n\n    const onFinished = () => {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(abort);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', abort);\n      }\n\n      emitter.removeAllListeners();\n    }\n\n    onDone((value, isRejected) => {\n      isDone = true;\n      if (isRejected) {\n        rejected = true;\n        onFinished();\n      }\n    });\n\n    function abort(reason) {\n      emitter.emit('abort', !reason || reason.type ? new CanceledError(null, config, req) : reason);\n    }\n\n    emitter.once('abort', reject);\n\n    if (config.cancelToken || config.signal) {\n      config.cancelToken && config.cancelToken.subscribe(abort);\n      if (config.signal) {\n        config.signal.aborted ? abort() : config.signal.addEventListener('abort', abort);\n      }\n    }\n\n    // Parse url\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    const parsed = new URL(fullPath, 'http://localhost');\n    const protocol = parsed.protocol || supportedProtocols[0];\n\n    if (protocol === 'data:') {\n      let convertedData;\n\n      if (method !== 'GET') {\n        return settle(resolve, reject, {\n          status: 405,\n          statusText: 'method not allowed',\n          headers: {},\n          config\n        });\n      }\n\n      try {\n        convertedData = fromDataURI(config.url, responseType === 'blob', {\n          Blob: config.env && config.env.Blob\n        });\n      } catch (err) {\n        throw AxiosError.from(err, AxiosError.ERR_BAD_REQUEST, config);\n      }\n\n      if (responseType === 'text') {\n        convertedData = convertedData.toString(responseEncoding);\n\n        if (!responseEncoding || responseEncoding === 'utf8') {\n          convertedData = utils.stripBOM(convertedData);\n        }\n      } else if (responseType === 'stream') {\n        convertedData = stream.Readable.from(convertedData);\n      }\n\n      return settle(resolve, reject, {\n        data: convertedData,\n        status: 200,\n        statusText: 'OK',\n        headers: new AxiosHeaders(),\n        config\n      });\n    }\n\n    if (supportedProtocols.indexOf(protocol) === -1) {\n      return reject(new AxiosError(\n        'Unsupported protocol ' + protocol,\n        AxiosError.ERR_BAD_REQUEST,\n        config\n      ));\n    }\n\n    const headers = AxiosHeaders.from(config.headers).normalize();\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    // User-Agent is specified; handle case where no UA header is desired\n    // Only set header if it hasn't been set in config\n    headers.set('User-Agent', 'axios/' + VERSION, false);\n\n    const onDownloadProgress = config.onDownloadProgress;\n    const onUploadProgress = config.onUploadProgress;\n    const maxRate = config.maxRate;\n    let maxUploadRate = undefined;\n    let maxDownloadRate = undefined;\n\n    // support for spec compliant FormData objects\n    if (utils.isSpecCompliantForm(data)) {\n      const userBoundary = headers.getContentType(/boundary=([-_\\w\\d]{10,70})/i);\n\n      data = formDataToStream(data, (formHeaders) => {\n        headers.set(formHeaders);\n      }, {\n        tag: `axios-${VERSION}-boundary`,\n        boundary: userBoundary && userBoundary[1] || undefined\n      });\n      // support for https://www.npmjs.com/package/form-data api\n    } else if (utils.isFormData(data) && utils.isFunction(data.getHeaders)) {\n      headers.set(data.getHeaders());\n\n      if (!headers.hasContentLength()) {\n        try {\n          const knownLength = await util.promisify(data.getLength).call(data);\n          Number.isFinite(knownLength) && knownLength >= 0 && headers.setContentLength(knownLength);\n          /*eslint no-empty:0*/\n        } catch (e) {\n        }\n      }\n    } else if (utils.isBlob(data)) {\n      data.size && headers.setContentType(data.type || 'application/octet-stream');\n      headers.setContentLength(data.size || 0);\n      data = stream.Readable.from(readBlob(data));\n    } else if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(new AxiosError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers.setContentLength(data.length, false);\n\n      if (config.maxBodyLength > -1 && data.length > config.maxBodyLength) {\n        return reject(new AxiosError(\n          'Request body larger than maxBodyLength limit',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n    }\n\n    const contentLength = utils.toFiniteNumber(headers.getContentLength());\n\n    if (utils.isArray(maxRate)) {\n      maxUploadRate = maxRate[0];\n      maxDownloadRate = maxRate[1];\n    } else {\n      maxUploadRate = maxDownloadRate = maxRate;\n    }\n\n    if (data && (onUploadProgress || maxUploadRate)) {\n      if (!utils.isStream(data)) {\n        data = stream.Readable.from(data, {objectMode: false});\n      }\n\n      data = stream.pipeline([data, new AxiosTransformStream({\n        length: contentLength,\n        maxRate: utils.toFiniteNumber(maxUploadRate)\n      })], utils.noop);\n\n      onUploadProgress && data.on('progress', progress => {\n        onUploadProgress(Object.assign(progress, {\n          upload: true\n        }));\n      });\n    }\n\n    // HTTP basic authentication\n    let auth = undefined;\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    if (!auth && parsed.username) {\n      const urlUsername = parsed.username;\n      const urlPassword = parsed.password;\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    auth && headers.delete('authorization');\n\n    let path;\n\n    try {\n      path = buildURL(\n        parsed.pathname + parsed.search,\n        config.params,\n        config.paramsSerializer\n      ).replace(/^\\?/, '');\n    } catch (err) {\n      const customErr = new Error(err.message);\n      customErr.config = config;\n      customErr.url = config.url;\n      customErr.exists = true;\n      return reject(customErr);\n    }\n\n    headers.set(\n      'Accept-Encoding',\n      'gzip, compress, deflate' + (isBrotliSupported ? ', br' : ''), false\n      );\n\n    const options = {\n      path,\n      method: method,\n      headers: headers.toJSON(),\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth,\n      protocol,\n      family,\n      lookup,\n      beforeRedirect: dispatchBeforeRedirect,\n      beforeRedirects: {}\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n      setProxy(options, config.proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    let transport;\n    const isHttpsRequest = isHttps.test(options.protocol);\n    options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsRequest ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      if (config.beforeRedirect) {\n        options.beforeRedirects.config = config.beforeRedirect;\n      }\n      transport = isHttpsRequest ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    } else {\n      // follow-redirects does not skip comparison, so it should always succeed for axios -1 unlimited\n      options.maxBodyLength = Infinity;\n    }\n\n    if (config.insecureHTTPParser) {\n      options.insecureHTTPParser = config.insecureHTTPParser;\n    }\n\n    // Create the request\n    req = transport.request(options, function handleResponse(res) {\n      if (req.destroyed) return;\n\n      const streams = [res];\n\n      const responseLength = +res.headers['content-length'];\n\n      if (onDownloadProgress) {\n        const transformStream = new AxiosTransformStream({\n          length: utils.toFiniteNumber(responseLength),\n          maxRate: utils.toFiniteNumber(maxDownloadRate)\n        });\n\n        onDownloadProgress && transformStream.on('progress', progress => {\n          onDownloadProgress(Object.assign(progress, {\n            download: true\n          }));\n        });\n\n        streams.push(transformStream);\n      }\n\n      // decompress the response body transparently if required\n      let responseStream = res;\n\n      // return the last request in case of redirects\n      const lastRequest = res.req || req;\n\n      // if decompress disabled we should not decompress\n      if (config.decompress !== false && res.headers['content-encoding']) {\n        // if no content, but headers still say that it is encoded,\n        // remove the header not confuse downstream operations\n        if (method === 'HEAD' || res.statusCode === 204) {\n          delete res.headers['content-encoding'];\n        }\n\n        switch (res.headers['content-encoding']) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'x-gzip':\n        case 'compress':\n        case 'x-compress':\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib.createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'deflate':\n          streams.push(new ZlibHeaderTransformStream());\n\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib.createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'br':\n          if (isBrotliSupported) {\n            streams.push(zlib.createBrotliDecompress(brotliOptions));\n            delete res.headers['content-encoding'];\n          }\n        }\n      }\n\n      responseStream = streams.length > 1 ? stream.pipeline(streams, utils.noop) : streams[0];\n\n      const offListeners = stream.finished(responseStream, () => {\n        offListeners();\n        onFinished();\n      });\n\n      const response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: new AxiosHeaders(res.headers),\n        config,\n        request: lastRequest\n      };\n\n      if (responseType === 'stream') {\n        response.data = responseStream;\n        settle(resolve, reject, response);\n      } else {\n        const responseBuffer = [];\n        let totalResponseBytes = 0;\n\n        responseStream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            // stream.destroy() emit aborted event before calling reject() on Node.js v16\n            rejected = true;\n            responseStream.destroy();\n            reject(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              AxiosError.ERR_BAD_RESPONSE, config, lastRequest));\n          }\n        });\n\n        responseStream.on('aborted', function handlerStreamAborted() {\n          if (rejected) {\n            return;\n          }\n\n          const err = new AxiosError(\n            'maxContentLength size of ' + config.maxContentLength + ' exceeded',\n            AxiosError.ERR_BAD_RESPONSE,\n            config,\n            lastRequest\n          );\n          responseStream.destroy(err);\n          reject(err);\n        });\n\n        responseStream.on('error', function handleStreamError(err) {\n          if (req.destroyed) return;\n          reject(AxiosError.from(err, null, config, lastRequest));\n        });\n\n        responseStream.on('end', function handleStreamEnd() {\n          try {\n            let responseData = responseBuffer.length === 1 ? responseBuffer[0] : Buffer.concat(responseBuffer);\n            if (responseType !== 'arraybuffer') {\n              responseData = responseData.toString(responseEncoding);\n              if (!responseEncoding || responseEncoding === 'utf8') {\n                responseData = utils.stripBOM(responseData);\n              }\n            }\n            response.data = responseData;\n          } catch (err) {\n            reject(AxiosError.from(err, null, config, response.request, response));\n          }\n          settle(resolve, reject, response);\n        });\n      }\n\n      emitter.once('abort', err => {\n        if (!responseStream.destroyed) {\n          responseStream.emit('error', err);\n          responseStream.destroy();\n        }\n      });\n    });\n\n    emitter.once('abort', err => {\n      reject(err);\n      req.destroy(err);\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      // @todo remove\n      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n      reject(AxiosError.from(err, null, config, req));\n    });\n\n    // set tcp keep alive to prevent drop connection by peer\n    req.on('socket', function handleRequestSocket(socket) {\n      // default interval of sending ack packet is 1 minute\n      socket.setKeepAlive(true, 1000 * 60);\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      const timeout = parseInt(config.timeout, 10);\n\n      if (isNaN(timeout)) {\n        reject(new AxiosError(\n          'error trying to parse `config.timeout` to int',\n          AxiosError.ERR_BAD_OPTION_VALUE,\n          config,\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devouring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        if (isDone) return;\n        let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n        const transitional = config.transitional || transitionalDefaults;\n        if (config.timeoutErrorMessage) {\n          timeoutErrorMessage = config.timeoutErrorMessage;\n        }\n        reject(new AxiosError(\n          timeoutErrorMessage,\n          transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n          config,\n          req\n        ));\n        abort();\n      });\n    }\n\n\n    // Send the request\n    if (utils.isStream(data)) {\n      let ended = false;\n      let errored = false;\n\n      data.on('end', () => {\n        ended = true;\n      });\n\n      data.once('error', err => {\n        errored = true;\n        req.destroy(err);\n      });\n\n      data.on('close', () => {\n        if (!ended && !errored) {\n          abort(new CanceledError('Request stream has been aborted', config, req));\n        }\n      });\n\n      data.pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n}\n\nexport const __setProxy = setProxy;\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.isStandardBrowserEnv ?\n\n// Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        const cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n// Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })();\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.isStandardBrowserEnv ?\n\n// Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    const msie = /(msie|trident)/i.test(navigator.userAgent);\n    const urlParsingNode = document.createElement('a');\n    let originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      let href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n          urlParsingNode.pathname :\n          '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      const parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n          parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })();\n","'use strict';\n\nimport utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport cookies from './../helpers/cookies.js';\nimport buildURL from './../helpers/buildURL.js';\nimport buildFullPath from '../core/buildFullPath.js';\nimport isURLSameOrigin from './../helpers/isURLSameOrigin.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport speedometer from '../helpers/speedometer.js';\n\nfunction progressEventReducer(listener, isDownloadStream) {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e\n    };\n\n    data[isDownloadStream ? 'download' : 'upload'] = true;\n\n    listener(data);\n  };\n}\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    let requestData = config.data;\n    const requestHeaders = AxiosHeaders.from(config.headers).normalize();\n    const responseType = config.responseType;\n    let onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      if (platform.isStandardBrowserEnv || platform.isStandardBrowserWebWorkerEnv) {\n        requestHeaders.setContentType(false); // Let the browser set it\n      } else {\n        requestHeaders.setContentType('multipart/form-data;', false); // mobile/desktop app frameworks\n      }\n    }\n\n    let request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.set('Authorization', 'Basic ' + btoa(username + ':' + password));\n    }\n\n    const fullPath = buildFullPath(config.baseURL, config.url);\n\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (platform.isStandardBrowserEnv) {\n      // Add xsrf header\n      const xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath))\n        && config.xsrfCookieName && cookies.read(config.xsrfCookieName);\n\n      if (xsrfValue) {\n        requestHeaders.set(config.xsrfHeaderName, xsrfValue);\n      }\n    }\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', progressEventReducer(config.onDownloadProgress, true));\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', progressEventReducer(config.onUploadProgress));\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(fullPath);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if(fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      if((adapter = utils.isString(nameOrAdapter) ? knownAdapters[nameOrAdapter.toLowerCase()] : nameOrAdapter)) {\n        break;\n      }\n    }\n\n    if (!adapter) {\n      if (adapter === false) {\n        throw new AxiosError(\n          `Adapter ${nameOrAdapter} is not supported by the environment`,\n          'ERR_NOT_SUPPORT'\n        );\n      }\n\n      throw new Error(\n        utils.hasOwnProp(knownAdapters, nameOrAdapter) ?\n          `Adapter '${nameOrAdapter}' is not available in the build` :\n          `Unknown adapter '${nameOrAdapter}'`\n      );\n    }\n\n    if (!utils.isFunction(adapter)) {\n      throw new TypeError('adapter is not a function');\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? thing.toJSON() : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    let contextHeaders;\n\n    // Flatten headers\n    contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    contextHeaders && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","'use strict'\r\nimport * as fs from 'fs'\r\nimport * as path from 'path'\r\nimport http from 'http'\r\nimport https from 'https'\r\nimport fetch from 'node-fetch'\r\nimport { SwaggerDataToFile } from './convertData'\r\nimport { CreateFile } from './opFile'\r\nimport { ConfigInfo } from '../models/configEntity'\r\nimport { Swagger2 } from '../models/controllerEntity'\r\nimport { FileDesc } from '../models/fileEntity'\r\nimport * as log from '../lib/utils/log.js'\r\nimport converter from 'swagger2openapi'\r\nimport axios from 'axios'\r\n\r\nconst defaultConfig: ConfigInfo = {\r\n  swaggerVersion: '2.0', // 支持的swagger版本\r\n  fileMode: 'paths', // 生成文件的方式  info、paths（目前只支持paths模式）\r\n  createServe: true, // 为服务单独创立文件夹\r\n  pathRoute: ['/admin/api/', '/'], // 在 paths 模式中，截取不同文件的路径（默认分割为【'/admin/api/', '/api/', '/'】）\r\n  excludeRoute: ['/api/'], // 排除那些路径不做生成处理\r\n  template: 'default', // 模板类型，目前只有default类型的模板，是基于公司的PC端脚手架配置\r\n  models: {\r\n    isCreate: true, // 是否创建\r\n    dir: 'models', // 模型添加的目录，相对项目src来说\r\n    isCover: false, // 是否覆盖，存在则不做处理，不存在则创建\r\n    commonResponse: 'itemResult', // 对象返回模型\r\n    pageResponse: 'pageResult', // 分页返回模型\r\n    listResponse: 'listResult', // 列表返回模型\r\n    utilsPath: '/@/models/httpResult', // 通用实体的地址\r\n  },\r\n  enum: {\r\n    isCreate: false, // 是否枚举\r\n    dir: 'models/common', // 枚举的目录\r\n    isCover: true, // 是否覆盖\r\n    isSingle: false, // 是否生成文件\r\n  },\r\n  api: {\r\n    isCreate: false, // 是否创建\r\n    dir: 'api', // 模型添加的目录，相对项目src来说\r\n    isCover: false, // 是否覆盖\r\n    isCreateUse: true, // 是否生成调用文件\r\n    httpPath: '/@/utils/http', // axios的封装类地址\r\n    messagePath: '/@/utils/message/index', // 消息提示的路径  errorMessage 、warnMessage 、successMessage\r\n  },\r\n  fileType: 'ts', // ts 文件  ts 、js（目前只支持ts模式，程序不会使用该属性）\r\n  httpReplace: true, // 是否 https 替换成 http\r\n}\r\n\r\nexport class SwaggerToTypescript {\r\n  swaggerUrl: string\r\n  configData: ConfigInfo\r\n  fileData: Record<string, FileDesc> | null\r\n\r\n  constructor(swaggerUrl: string, callback: Function) {\r\n    //this.swaggerUrl =\r\n    //  \"http://marketingrule.sdptest.shengpay.com/swagger-ui.html\";\r\n    //this.swaggerUrl =\r\n    //  'http://marketingproduct.sdptest.shengpay.com/swagger-ui.html'\r\n\r\n    this.swaggerUrl = swaggerUrl\r\n    this.fileData = null\r\n    this.configData = {\r\n      ...defaultConfig,\r\n      ...this.getConfigInfo(),\r\n    }\r\n\r\n    // 地址验证\r\n    if (!this.swaggerUrl || this.swaggerUrl.length < 5) {\r\n      log.error('swaggerUrl 地址不准确！')\r\n      return\r\n    }\r\n\r\n    // 模式验证\r\n    if (this.configData.fileMode != 'paths') {\r\n      console.error('Only supports paths mode!')\r\n      return\r\n    }\r\n\r\n    // 需要pathRoute进行文件的分割\r\n    if (this.configData.fileMode === 'paths') {\r\n      if (!this.configData.pathRoute || this.configData.pathRoute.length < 1) {\r\n        console.error('Please set [pathRoute] for file segmentation!')\r\n        return\r\n      }\r\n    }\r\n    this.convertSwagger(callback)\r\n  }\r\n\r\n  // 读取配置信息\r\n  getConfigInfo() {\r\n    const configData = fs.readFileSync(\r\n      path.join(__dirname, '../swagger2ts.json')\r\n    )\r\n\r\n    return eval('(' + configData + ')') as ConfigInfo\r\n  }\r\n\r\n  // 获取服务名称\r\n  getServeName(swagger: Swagger2) {\r\n    let fileName = ''\r\n    if (this.configData.createServe) {\r\n      if (swagger.info && swagger.info.title) {\r\n        fileName = swagger.info.title\r\n      } else if (swagger.info && swagger.info.termsOfService) {\r\n        fileName = swagger.info.termsOfService\r\n      } else {\r\n        const urlArr = this.swaggerUrl.split('//')\r\n        if (urlArr && urlArr.length > 1) {\r\n          const domainArr = urlArr[1].split('.')\r\n          fileName = domainArr[0]\r\n        }\r\n      }\r\n    }\r\n\r\n    return fileName\r\n  }\r\n\r\n  converterSwaggerToOpenApi = (swagger: any) => {\r\n    if (!swagger.swagger) {\r\n      return swagger\r\n    }\r\n\r\n    // 因为脚手架要求termsOfService必须为URL\r\n    if (swagger.info && swagger.info.termsOfService) {\r\n      swagger.info.termsOfService = null\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      converter.convertObj(swagger, {}, (err, options) => {\r\n        log.hint('💺 将 Swagger 转化为 openAPI')\r\n        if (err) {\r\n          reject(err)\r\n          return\r\n        }\r\n        resolve(options.openapi)\r\n      })\r\n    })\r\n  }\r\n\r\n  getSchema = async (schemaPath: string) => {\r\n    if (schemaPath.startsWith('http')) {\r\n      const protocol = schemaPath.startsWith('https:') ? https : http\r\n      try {\r\n        const agent = new protocol.Agent({\r\n          rejectUnauthorized: false,\r\n        })\r\n        const json = await fetch(schemaPath, { agent }).then((rest) =>\r\n          rest.json()\r\n        )\r\n        return json\r\n      } catch (error) {\r\n        // eslint-disable-next-line no-console\r\n        console.log('fetch openapi error:', error)\r\n      }\r\n      return null\r\n    }\r\n    const schema = require(schemaPath)\r\n    return schema\r\n  }\r\n\r\n  getOpenAPIConfig = async (schemaPath: string) => {\r\n    const schema = await this.getSchema(schemaPath)\r\n    if (!schema) {\r\n      return null\r\n    }\r\n    const openAPI = await this.converterSwaggerToOpenApi(schema)\r\n    return openAPI\r\n  }\r\n\r\n  async convertSwagger(callback: Function) {\r\n    // const demoData = fs.readFileSync(\r\n    //   path.join(process.cwd(), '/demo/swagger3.json')\r\n    // )\r\n    // // const swagger: Swagger2 = eval('(' + demoData + ')') as Swagger2\r\n    // // const fileDesc = new SwaggerDataToFile(swagger, this.configData)\r\n    // // this.fileData = fileDesc.getFileDesc()\r\n    // // console.log('文件转换：', JSON.stringify(this.fileData))\r\n    // // 拿到swagger数据\r\n    // const swagger: Swagger2 = eval('(' + demoData + ')') as Swagger2\r\n    // // 版本验证\r\n    // if (!swagger || swagger.swagger != this.configData.swaggerVersion) {\r\n    //   console.error('Only version 2.0 swagger is supported')\r\n    //   return\r\n    // }\r\n    // this.configData.serveFileName = this.getServeName(swagger)\r\n    // // 转换信息\r\n    // const fileDesc = new SwaggerDataToFile(swagger, this.configData)\r\n    // // 获取转换的对象\r\n    // this.fileData = fileDesc.getFileDesc()\r\n    // // 创建相关文件\r\n    // new CreateFile(this.fileData, this.configData, swagger)\r\n    // // 处理完成回调\r\n    // setTimeout(() => {\r\n    //   if (callback) {\r\n    //     callback()\r\n    //   }\r\n    // }, 100)\r\n\r\n    var swaggerUrl = this.swaggerUrl.replace('swagger-ui.html', 'v2/api-docs')\r\n    const httpUrl = this.swaggerUrl.split('://')\r\n    const urlArr = httpUrl[1].split('/')\r\n    var swaggerUrl = httpUrl[0] + '://' + urlArr[0] + '/v2/api-docs'\r\n    if (this.configData.httpReplace) {\r\n      swaggerUrl = swaggerUrl.replace('https', 'http')\r\n    }\r\n\r\n    // 这个是后面需要改造的点\r\n    const openAPI = await this.getOpenAPIConfig(swaggerUrl)\r\n    console.log('数据：', openAPI)\r\n\r\n    axios.get(swaggerUrl).then(async (response: any) => {\r\n      try {\r\n        if (response.status == 200) {\r\n          // 拿到swagger数据\r\n          const swagger: Swagger2 = response.data\r\n          // 版本验证\r\n          if (!swagger || swagger.swagger != this.configData.swaggerVersion) {\r\n            console.error('Only version 2.0 swagger is supported')\r\n            return\r\n          }\r\n\r\n          this.configData.serveFileName = this.getServeName(swagger)\r\n          // 转换信息\r\n          const fileDesc = new SwaggerDataToFile(swagger, this.configData)\r\n          // 获取转换的对象\r\n          this.fileData = fileDesc.getFileDesc()\r\n          // 创建相关文件\r\n          new CreateFile(this.fileData, this.configData, swagger)\r\n          // 处理完成回调\r\n          setTimeout(() => {\r\n            if (callback) {\r\n              callback()\r\n            }\r\n          }, 100)\r\n        } else {\r\n          console.error(\"can't fond swagger api-docs\")\r\n        }\r\n      } catch (e: any) {\r\n        console.error('error:' + e.message)\r\n      }\r\n    })\r\n  }\r\n}\r\n","import * as fs from 'fs'\r\nimport * as path from 'path'\r\nimport * as log from '../utils/log.js'\r\nimport { SwaggerToTypescript } from '../../swagger/index.js'\r\n\r\nexport const initConfig = () => {\r\n  // 1.提示信息\r\n  log.hint('初始配置文件......')\r\n\r\n  // 2.创建配置文件\r\n  createFile()\r\n}\r\n\r\n// 创建配置文件\r\nexport const createFile = () => {\r\n  // 配置文件信息\r\n  const fileContent = getConfigTemplate()\r\n  const fileDir = process.cwd() + path.sep + 'swagger2ts.json'\r\n  fs.writeFile(fileDir, fileContent, (err) => {\r\n    // 创建失败\r\n    if (err) {\r\n      log.error(`创建配置文件失败：${err}`)\r\n    }\r\n    // 创建成功\r\n    log.hint(`创建配置文件成功！`)\r\n  })\r\n}\r\n\r\n// 获取模板信息\r\nexport const getConfigTemplate = () => {\r\n  const tempPath = path.resolve(\r\n    __dirname,\r\n\r\n    '.' + path.sep + 'templates' + path.sep + 'config' + path.sep + 'init.json'\r\n  )\r\n\r\n  const tempData = fs.readFileSync(tempPath)\r\n  return tempData.toString()\r\n}\r\n\r\nexport const createCode = async (swaggerUrl) => {\r\n  try {\r\n    // 1.提示信息\r\n    log.hint('根据swaggerUrl创建代码开始......')\r\n\r\n    // 2.执行终端命令tsc\r\n    // terminal.exec('tsc', {cwd: `./${project}`});\r\n    //const npm = process.platform === 'win32' ? 'npm.cmd' : 'npm'\r\n    //await terminal.spawn(npm, ['tsc'], { cwd: `./` })\r\n\r\n    // 调用处理函数\r\n    new SwaggerToTypescript(swaggerUrl, () => {\r\n      log.hint('根据swaggerUrl创建代码完成！')\r\n    })\r\n  } catch (err) {\r\n    log.error(`根据swaggerUrl创建代码异常:${err.message}`)\r\n  }\r\n}\r\n","import { program }  from 'commander'\r\nimport * as todo from './actions.js'\r\n\r\nexport const createCommands = () => {\r\n  program.command('i').description('初始化配置文件').action(todo.initConfig)\r\n  program.command('init').description('初始化配置文件').action(todo.initConfig)\r\n\r\n  program\r\n    .command('u <swaggerUrl>')\r\n    .description('根据Url地址生成代码')\r\n    .action(todo.createCode)\r\n  program\r\n    .command('url <swaggerUrl>')\r\n    .description('根据Url地址生成代码')\r\n    .action(todo.createCode)\r\n}\r\n","import { program } from 'commander'\r\nimport { helpOptions } from './lib/core/help.js'\r\nimport { createCommands } from './lib/core/create.js'\r\n\r\n// 定义显示模块的版本号\r\nprogram.version(require('../package.json').version)\r\n\r\n// 给help增加其他选项\r\nhelpOptions()\r\n\r\n// 创建命令\r\ncreateCommands()\r\n\r\n// 解析终端指令\r\nprogram.parse(process.argv)\r\n\r\n// import { SwaggerToTypescript } from './swagger'\r\n\r\n// new SwaggerToTypescript(\r\n//   'http://rmsmsomr.sdptest.shengpay.com/doc.html#/home',\r\n//   () => {\r\n//     console.log('运行了')\r\n//   }\r\n// )\r\n\r\n// import { SwaggerToTypescript } from './swagger'\r\n\r\n// new SwaggerToTypescript('http://10.241.81.38:8085/swagger-ui.html#', () => {\r\n//   console.log('运行了')\r\n// })\r\n"],"names":["CommanderError","Error","constructor","exitCode","code","message","super","captureStackTrace","this","name","nestedError","undefined","InvalidArgumentError","error","require$$0","Argument","description","variadic","parseArg","defaultValue","defaultValueDescription","argChoices","required","_name","slice","length","_concatValue","value","previous","Array","isArray","concat","default","argParser","fn","choices","values","arg","includes","join","argRequired","argOptional","humanReadableArgName","nameOutput","argument","Help","helpWidth","sortSubcommands","sortOptions","showGlobalOptions","visibleCommands","cmd","commands","filter","_hidden","_hasImplicitHelpCommand","helpName","helpArgs","_helpCommandnameAndArgs","match","helpCommand","createCommand","helpOption","_helpCommandDescription","arguments","push","sort","a","b","localeCompare","compareOptions","getSortKey","option","short","replace","long","visibleOptions","options","hidden","showShortHelpFlag","_hasHelpOption","_helpShortFlag","_findOption","showLongHelpFlag","_helpLongFlag","createOption","_helpFlags","_helpDescription","visibleGlobalOptions","globalOptions","parentCmd","parent","visibleArguments","_argsDescription","_args","forEach","find","subcommandTerm","args","map","_aliases","optionTerm","flags","argumentTerm","longestSubcommandTermLength","helper","reduce","max","command","Math","longestOptionTermLength","longestGlobalOptionTermLength","longestArgumentTermLength","commandUsage","cmdName","parentCmdNames","usage","commandDescription","subcommandDescription","summary","optionDescription","extraInfo","choice","JSON","stringify","optional","isBoolean","presetArg","envVar","argumentDescription","extraDescripton","formatHelp","termWidth","padWidth","formatItem","term","fullText","padEnd","wrap","formatList","textArray","repeat","output","argumentList","optionList","globalOptionList","commandList","str","width","indent","minColumnWidth","manualIndent","RegExp","columnWidth","leadingStr","columnText","indentString","breaks","regex","line","i","trimEnd","help","Option","test","mandatory","optionFlags","splitOptionFlags","shortFlag","longFlag","negate","startsWith","conflictsWith","implied","preset","conflicts","names","implies","impliedOptionValues","newImplied","Object","assign","env","makeOptionMandatory","hideHelp","hide","attributeName","camelcase","is","DualOptions","positiveOptions","Map","negativeOptions","dualOptions","Set","set","key","has","add","valueFromOption","optionKey","get","negativeValue","split","word","toUpperCase","flagParts","shift","maxDistance","editDistance","abs","d","j","cost","min","suggestSimilar","candidates","from","searchingOptions","candidate","similar","bestDistance","distance","suggestSimilar_1","EventEmitter","childProcess","require$$1","path","require$$2","fs","require$$3","process","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","Command","_allowUnknownOption","_allowExcessArguments","rawArgs","processedArgs","_scriptPath","_optionValues","_optionValueSources","_storeOptionsAsProperties","_actionHandler","_executableHandler","_executableFile","_executableDir","_defaultCommandName","_exitCallback","_combineFlagAndOptionalValue","_description","_summary","_enablePositionalOptions","_passThroughOptions","_lifeCycleHooks","_showHelpAfterError","_showSuggestionAfterError","_outputConfiguration","writeOut","stdout","write","writeErr","stderr","getOutHelpWidth","isTTY","columns","getErrHelpWidth","outputError","_addImplicitHelpCommand","_helpCommandName","_helpConfiguration","copyInheritedSettings","sourceCommand","nameAndArgs","actionOptsOrExecDesc","execOpts","desc","opts","isDefault","noHelp","executableFile","createHelp","configureHelp","configuration","configureOutput","showHelpAfterError","displayHelp","showSuggestionAfterError","displaySuggestion","addCommand","createArgument","addArgument","detail","previousArgument","addHelpCommand","enableOrNameAndArgs","_findCommand","hook","event","listener","allowedValues","exitOverride","err","_exit","exit","action","expectedArgsCount","actionArgs","apply","addOption","oname","positiveLongFlag","setOptionValueWithSource","handleOptionValue","val","invalidValueMessage","valueSource","oldValue","getOptionValue","on","_optionEx","config","def","m","exec","requiredOption","combineFlagAndOptionalValue","combine","allowUnknownOption","allowUnknown","allowExcessArguments","allowExcess","enablePositionalOptions","positional","passThroughOptions","passThrough","storeOptionsAsProperties","storeAsProperties","setOptionValue","source","getOptionValueSource","getOptionValueSourceWithGlobals","getCommandAndParents","_prepareUserArgs","argv","parseOptions","userArgs","versions","electron","defaultApp","nameFromFilename","parse","_parseCommand","async","_executeSubCommand","subcommand","launchWithNode","sourceExt","findFile","baseDir","baseName","localBin","resolve","existsSync","extname","foundExt","ext","_checkForMissingMandatoryOptions","_checkForConflictingOptions","proc","executableDir","resolvedScriptPath","realpathSync","dirname","localFile","legacyName","basename","platform","unshift","incrementNodeInspectorPort","execArgv","spawn","stdio","execPath","killed","signal","kill","exitCallback","bind","executableDirMessage","executableMissing","wrappedError","runningCommand","_dispatchSubcommand","commandName","operands","unknown","subCommand","hookResult","_chainOrCallSubCommandHook","_chainOrCall","_checkNumberOfArguments","missingArgument","_excessArguments","_processArguments","myParseArg","parsedValue","declaredArg","index","processed","v","promise","then","_chainOrCallHooks","result","hooks","reverse","hookedCommand","callback","hookDetail","parsed","_parseOptionsEnv","_parseOptionsImplied","outputHelpIfRequested","checkForUnknownOptions","unknownOption","commandEvent","actionResult","emit","listenerCount","unknownCommand","anOption","missingMandatoryOptionValue","_checkForConflictingLocalOptions","definedNonDefaultOptions","optionsWithConflicting","conflictingAndDefined","defined","_conflictingOption","dest","maybeOption","activeVariadicOption","optionMissingArgument","indexOf","len","_versionOptionName","_version","optsWithGlobals","combinedOptions","errorOptions","outputHelp","dualHelper","hasCustomOptionValue","keys","impliedKey","conflictingOption","findBestOptionFromValue","optionValue","negativeOption","target","positiveOption","getErrorMessage","bestOption","flag","suggestion","candidateFlags","moreFlags","receivedArgs","expected","s","unknownName","candidateNames","alias","version","versionOption","argsDescription","aliases","_usage","filename","helpInformation","contextOptions","_getHelpContext","context","deprecatedCallback","Buffer","isBuffer","helpFlags","addHelpText","position","text","helpEvent","helpStr","debugOption","debugHost","debugPort","parseInt","startCommand","exports","module","program","InvalidOptionArgumentError","commander","helpOptions","console","log","colorName","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","cssKeywords","reverseKeywords","convert","rgb","channels","labels","hsl","hsv","hwb","cmyk","xyz","lab","lch","hex","keyword","ansi16","ansi256","hcg","apple","conversions","model","defineProperty","r","g","delta","h","l","rdif","gdif","bdif","diff","diffc","c","w","k","reversed","currentClosestKeyword","currentClosestDistance","Infinity","y","x","z","t2","t3","t1","smin","lmin","hi","floor","f","p","q","t","vmin","sl","wh","bl","ratio","n","y2","x2","z2","atan2","PI","sqrt","hr","cos","sin","saturation","round","ansi","color","mult","rem","string","toString","substring","colorString","char","integer","chroma","grayscale","hue","pure","mg","deriveBFS","fromModel","graph","models","buildGraph","queue","current","pop","adjacents","adjacent","node","link","to","wrapConversion","toModel","cur","conversion","route","routes","wrappedFn","arg0","wrapRounded","raw","wrapRaw","colorConvert","wrapAnsi16","offset","wrapAnsi256","wrapAnsi16m","ansi2ansi","rgb2rgb","setLazyProperty","object","property","enumerable","configurable","makeDynamicStyles","targetSpace","identity","isBackground","styles","sourceSpace","suite","entries","codes","modifier","reset","bold","dim","italic","underline","inverse","strikethrough","blackBright","redBright","greenBright","yellowBright","blueBright","magentaBright","cyanBright","whiteBright","bgColor","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","bgBlackBright","bgRedBright","bgGreenBright","bgYellowBright","bgBlueBright","bgMagentaBright","bgCyanBright","bgWhiteBright","bgGray","bgGrey","groupName","group","styleName","style","open","close","hasFlag","prefix","terminatorPosition","os","tty","forceColor","translateLevel","level","hasBasic","has256","has16m","supportsColor","haveStream","streamIsTTY","TERM","osRelease","release","Number","some","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","getSupportLevel","stream","FORCE_COLOR","supportsColor_1","isatty","stringReplaceAll","replacer","substringLength","endIndex","returnValue","substr","stringEncaseCRLFWithFirstIndex","postfix","gotCR","util","TEMPLATE_REGEX","STYLE_REGEX","STRING_REGEX","ESCAPE_REGEX","ESCAPES","unescape","u","bracket","String","fromCharCode","fromCodePoint","parseArguments","arguments_","results","chunks","trim","matches","chunk","number","isNaN","escape","character","parseStyle","lastIndex","buildStyle","chalk","enabled","layer","templates","temporary","escapeCharacter","errMessage","ansiStyles","stdoutColor","stderrColor","levelMapping","create","applyOptions","isInteger","colorLevel","ChalkClass","chalkFactory","template","chalkTag","setPrototypeOf","Chalk","prototype","Instance","builder","createBuilder","createStyler","_styler","_isEmpty","visible","usedModels","styler","bgModel","proto","defineProperties","_generator","openAll","closeAll","self","applyStyle","lfIndex","strings","firstString","parts","hint","info","chalk.blue","chalk.red","lib","evenRound","createNumberConversion","bitLength","typeOpts","unsigned","lowerBound","pow","upperBound","moduloVal","moduloBitLength","moduloBound","V","enforceRange","isFinite","TypeError","clamp","treatNullAsEmptyString","codePointAt","S","U","charCodeAt","Date","mixin","getOwnPropertyNames","getOwnPropertyDescriptor","wrapperSymbol","Symbol","implSymbol","wrapperForImpl","impl","implForWrapper","wrapper","punycode","mappingTable","PROCESSING_OPTIONS","TRANSITIONAL","NONTRANSITIONAL","normalize","findStatus","start","end","mid","regexAstralSymbols","countSymbols","mapChars","domain_name","useSTD3","processing_option","hasError","codePoint","status","combiningMarksRegex","validateLabel","label","toUnicode","search","processing","validation","e","tr46","toASCII","verifyDnsLength","total","domain","specialSchemes","ftp","file","gopher","http","https","ws","wss","failure","ucs2","decode","at","input","idx","isASCIIDigit","isASCIIAlpha","isASCIIHex","isSingleDot","buffer","toLowerCase","isWindowsDriveLetterString","isSpecialScheme","scheme","isSpecial","url","percentEncode","isC0ControlPercentEncode","extraPathPercentEncodeSet","isPathPercentEncode","extraUserinfoPercentEncodeSet","isUserinfoPercentEncode","percentEncodeChar","encodeSetPredicate","cStr","buf","utf8PercentEncode","parseIPv4Number","R","charAt","parseHost","isSpecialArg","address","pieceIndex","compress","pointer","numbersSeen","ipv4Piece","swaps","temp","parseIPv6","containsForbiddenHostCodePointExcludingPercent","decoded","parseOpaqueHost","utf8PercentDecode","asciiDomain","containsForbiddenHostCodePoint","ipv4Host","numbers","part","ipv4","counter","parseIPv4","serializeHost","host","serializeIPv4","seqResult","arr","maxIdx","maxLen","currStart","currLen","findLongestZeroSequence","ignore0","serializeIPv6","shortenPath","isNormalizedWindowsDriveLetter","includesCredentials","username","password","URLStateMachine","base","encodingOverride","stateOverride","parseError","port","query","fragment","cannotBeABaseURL","res","trimControlChars","trimTabAndNewline","state","atFlag","arrFlag","passwordTokenSeenFlag","ret","isASCIIAlphanumeric","encodedCodePoints","fileOtherwiseCodePoints","cp1","cp2","isNormalizedWindowsDriveLetterString","serializeURL","excludeFragment","serializeURLOrigin","parseURL","tuple","serializeOrigin","basicURLParse","usm","baseURL","setTheUsername","setThePassword","cannotHaveAUsernamePasswordPort","serializeInteger","URLImpl_1","implementation","constructorArgs","parsedBase","parsedURL","_url","href","origin","protocol","hostname","pathname","hash","toJSON","utils","Impl","URL","setup","obj","privateData","interface","expose","Window","Worker","publicApi","Readable","Stream","BUFFER","TYPE","Blob","blobParts","buffers","size","element","ArrayBuffer","isView","byteOffset","byteLength","type","Promise","arrayBuffer","ab","readable","_read","relativeStart","relativeEnd","span","slicedBuffer","blob","FetchError","systemError","call","errno","toStringTag","writable","require","INTERNALS","PassThrough","Body","body","_this","_ref","_ref$size","_ref$timeout","timeout","isURLSearchParams","isBlob","disturbed","consumeBody","_this4","reject","alloc","accum","accumBytes","abort","resTimeout","setTimeout","clearTimeout","convertBody","headers","ct","charset","append","delete","getAll","clone","instance","p1","p2","bodyUsed","getBoundary","pipe","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","writeToStream","BUFFER$1","json","_this2","textConverted","_this3","mixIn","global","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","MAP","Headers","init","rawHeaders","headerNames","headerName","method","iterator","pairs","pair","thisArg","getHeaders","_pairs$i","createHeadersIterator","kind","INTERNAL","HeadersIteratorPrototype","next","getPrototypeOf","_INTERNAL","done","exportNodeCompatibleHeaders","__proto__","hostHeaderKey","createHeadersLenient","INTERNALS$1","STATUS_CODES","Response","contentType","statusText","ok","redirected","INTERNALS$2","Url","whatwgUrl","parse_url","format_url","format","urlStr","streamDestructionSupported","isRequest","isAbortSignal","Request","inputBody","redirect","follow","agent","getNodeRequestOptions","request","contentLengthValue","totalBytes","AbortError","URL$1","PassThrough$1","isDomainOrSubdomain","destination","original","orig","endsWith","isSameProtocol","fetch","send","response","destroyStream","aborted","abortAndFinalize","finalize","req","reqTimeout","removeEventListener","addEventListener","once","socket","fixResponseChunkedTransferBadEnding","addListener","hadError","hasDataListener","isRedirect","statusCode","location","locationURL","requestOpts","response_options","statusMessage","codings","zlibOptions","flush","zlib","Z_SYNC_FLUSH","finishFlush","createGunzip","createInflate","createInflateRaw","createBrotliDecompress","errorCallback","destroy","getEmptySchemaInfo","$ref","getEmptyTwoZeroInfo","schema","getEmptyResponsesInfo","getEmptyApiRefInfo","parametersOrign","parameters","responsesOrign","responses","orignInfo","getEmptyFileDesc","className","apiPaths","apiRefs","SwaggerDataToFile","swaggerData","configData","fileDescData","data","processData","paths","pathArr","fileMode","onlyPath","checkOnlyPath","setClassInfo","checkExclude","checkPaths","setParameters","post","pathData","resultArr","item","excludeRoute","pathRoute","getFileDesc","regExpChars","hasOwnProperty","hasOwn","escapeRegExpChars","_ENCODE_HTML_RULES","_MATCH_HTML","encode_char","escapeXMLToString","Function","escapeXML","markup","warn","shallowCopy","shallowCopyFromList","list","cache","_data","remove","hyphenToCamel","createNullProtoObjWherePossible","scopeOptionWarned","_VERSION_STRING","_DEFAULT_LOCALS_NAME","_OPTS_PASSABLE_WITH_DATA","_OPTS_PASSABLE_WITH_DATA_EXPRESS","_BOM","_JS_IDENTIFIER","resolvePaths","filePath","resolveInclude","handleCache","func","hasTemplate","fileLoader","compile","includeFile","includePath","views","root","includer","escapeFunction","getIncludePath","includerResult","rethrow","flnm","lineno","esc","lines","curr","stripSemi","Template","templateText","mode","truncate","currentLine","client","compileDebug","debug","openDelimiter","closeDelimiter","delimiter","strict","rmWhitespace","outputFunctionName","localsName","destructuredLocals","legacyInclude","_with","createRegex","readFileSync","promiseImpl","isDir","scope","render","o","renderFile","cb","viewOpts","settings","tryHandleCache","clearCache","modes","EVAL","ESCAPED","RAW","COMMENT","LITERAL","delim","src","ctor","prepended","appended","escapeFn","sanitizedFilename","generateSource","destructuring","SyntaxError","returnedFn","includeData","parseTemplateText","closing","scanLine","firstPos","pat","_addOutput","newLineCount","lastIndexOf","__express","VERSION","window","ejs","makeDirSync","items","sep","dir","accessSync","mkdirSync","SwaggerToApi","swaggerOrign","swagger","callBack","createApis","getApiPath","apiPath","cwd","api","serveFileName","isCreate","file.makeDirSync","exists","startCreateApi","mkdir","fileDir","isExists","isCover","createFile","fileContent","createApiFile","writeFile","convertParameter","parameDesc","queryDesc","parameInfo","isBody","in","paramArr","lastName","fileDesc","modelKey","tempData","getTemplateInfo","importRef","fileTemps","apiInfo","methodName","operationId","strParame","responseDesc","importDesc","preDesc","setApiModel","parameStr","strHtml","ejs.render","title","parData","httpPath","getModelDir","tempPath","__dirname","SwaggerToApiUse","createApiUses","isCreateUse","startCreateApiUse","upperFirstStr","resultStr","characters","createApiUseFile","importModelRef","importApiRef","methodTitle","importStr","messagePath","getApiDir","SwaggerToModel","modelNameArr","importArr","createModels","getModePath","modelPath","startCreateModel","createEntity","processSubProperty","subContent","subKey","dataDescent","subProperty","definitions","getDefinitionsInfo","properties","convertProperty","descs","setObjectModel","setStringModel","imortKey","commonResponse","pageResponse","listResponse","commonPath","utilsPath","convertDescription","newDesc","propertyType","getPropertyType","refStr","keyName","getImport","CreateFile","makeNext","nextTick","setImmediate","maybe","DebounceTimers","defaultDelay","delay","timers","pausers","setDelay","pause","unpause","count","unpauseAndTime","time","timer","ERR_INVALID_ARG_TYPE","actual","determiner","assertIsObject","types","initializeOptions","allowHalfOpen","rejectUnauthorized","Http1IncomingMessage","IncomingMessage","Http1ServerResponse","ServerResponse","Http2ServerRequest","http2","Http2ServerResponse","initializeTLSOptions","servername","ALPNProtocols","http2Support","allowHTTP1","requestOptions","_extend","addFunctions","container","STUBBED_METHODS_NAME","ClientRequest","OutgoingMessage","PROPERTIES_TO_PROXY","HEADERS_TO_REMOVE","$stubs","http2Mimic","genericStubber","isInternal","RequestInternalEnforce","isInternalMethod","isInternalProtocol","enforceOptions","urlToOptions","requestManager","getGlobalManager","handleClientRequest","HttpsRequest","globalManager","HttpRequest","HttpRequestManager","eventName","http2Safe","_on","_once","emitError","take","proxyProps","stub","http2Stream","getter","setter","notToProxy","keysToProxy","getOwnPropertyDescriptors","propConfig","shouldCopyValue","httpsAgent","globalAgent","httpAgent","http2Clients","cachedHTTP1Result","setModules","http2Debouncer","foundConnection","removeHttp2Client","keepH1IdentificationCacheFor","keepH2ConnectionFor","useHttp","enforceProtocol","useHttps","clientRequest","clientKey","getClientKey","hasCachedConnection","getHttp2Client","connectionOptions","createConnection","makeRequest","holdConnectionToIdentification","setHttp2Client","httpManager","prevClient","closeClient","closed","removeAllListeners","now","inStream","http2Client","makeHttp2Request","makeHttpRequest","topic","_events","identifyConnection","connect","h1op","maxContentLength","currentContent","onResponse","httpCompatibleResponse","static","httpVersion","removeListener","alpnProtocol","authority","net","tls","auth","Agent","httpsRequestSinglton","Manager","httpRequestSinglton","singeltonHttpManager","HTTP2OutgoingMessage","http_1","https_1","autoDetectManager","resolve_url","h2","Char","ANCHOR","TAG","DIRECTIVES_END","DOCUMENT_END","Type","ALIAS","BLANK_LINE","BLOCK_FOLDED","BLOCK_LITERAL","DIRECTIVE","DOCUMENT","FLOW_MAP","FLOW_SEQ","MAP_KEY","MAP_VALUE","PLAIN","QUOTE_DOUBLE","QUOTE_SINGLE","SEQ","SEQ_ITEM","defaultTagPrefix","defaultTags","STR","findLineStarts","ls","getSrcInfo","cst","lineStarts","getLinePos","col","getLine","getPrettyContext","maxWidth","halfWidth","errLen","errEnd","Range","isEmpty","setOrigRange","cr","origStart","origEnd","nextOffset","Node","endOfWhiteSpace","ch0","prev","ch1","ch2","ch3","ch","isVerbatim","notOk","lineStart","inEnd","endOfIndent","wsEnd","endAsBlank","indentDiff","indicatorAsIndent","inCount","fold","props","range","valueRange","getPropValue","skipKey","prop","anchor","comment","comments","commentHasRequiredWhitespace","header","atBlank","hasComment","hasProps","includesTrailingLines","jsonLike","rangeAsLinePos","rawValue","tag","verbatim","_","handle","suffix","valueRangeContainsNewline","parseComment","endOfLine","commentRange","setOrigRanges","addStringTerminator","YAMLError","makePretty","nodeType","linePos","ctx","YAMLReferenceError","YAMLSemanticError","YAMLSyntaxError","YAMLWarning","_defineProperty","PlainValue","inFlow","strValue","foldNewline","wsStart","errors","parseBlockValue","valueEnd","atDocumentBoundary","endOfBlockIndent","PlainValueEc8e588e","BlankLine","CollectionItem","parseNode","atLineStart","inlineComment","blankLine","nextNodeIsIndented","inCollection","contents","Comment","grabCollectionEndComments","cnode","Collection","ci","ca","splice","prevEnd","nextContentHasIndent","firstItem","itemRange","ec","startOfLine","copy","normalizeOffset","prevIncludesTrailingLines","msg","Directive","parseName","parseParameters","Document","directives","directivesEndMarker","documentEndMarker","parseDirectives","hasDirectives","startCommentOrEndBlankLine","directive","parseContents","iEnd","Alias","endOfIdentifier","Chomp","CLIP","KEEP","STRIP","BlockValue","blockIndent","chomping","lastNewLine","keepStart","bi","folded","atStart","prevMoreIndented","lineEnd","parseBlockHeader","explicit","minBlockIndent","lineIndent","FlowCollection","prevNodeIsJsonLike","origOffset","nodes","QuoteDouble","parseCharCode","cc","NaN","endOfQuote","QuoteSingle","createNewNode","ParseContext","overlay","valueStart","parseProps","parseEnd","nodeStartsCollection","collection","lineHasProps","noIndicatorAsIndent","parseType","documents","doc","crOffset","parseCst","addCommentBefore","addComment","anchors","onCreate","keep","Scalar","collectionFromPath","createNode","isEmptyPath","addIn","rest","deleteIn","getIn","keepScalar","hasAllNullValues","every","commentBefore","hasIn","setIn","blockItem","flowChars","isMap","itemIndent","onComment","onChompKeep","indentStep","allNullValues","chompKeep","hasItemWithNewLine","spaceBefore","sum","maxFlowStringSingleLineLength","asItemIndex","YAMLSeq","it","seq","stringifyKey","jsKey","inStringifyKey","Pair","PAIR","addToJSMap","stringKey","mapAsMap","indentSize","indentSeq","simpleKeys","keyComment","explicitKey","implicitKey","vcb","valueComment","indentAtStart","getName","valueStr","MERGE_PAIR","getAliasCount","aliasCount","kc","vc","newName","maxAliasCount","cstNode","ReferenceError","findPair","YAMLMap","overwrite","sortEntries","sortMapEntries","findIndex","MERGE_KEY","Merge","srcMap","binaryOptions","defaultType","lineWidth","boolOptions","trueStr","falseStr","intOptions","asBigInt","nullOptions","nullStr","strOptions","doubleQuoted","jsonEncoding","minMultiLineLength","minContentWidth","resolveScalar","tags","scalarFallback","FOLD_FLOW","FOLD_BLOCK","FOLD_QUOTED","consumeMoreIndentedLines","foldFlowLines","onFold","onOverflow","endStep","folds","escapedFolds","overflow","escStart","escEnd","getFoldOptions","containsDocumentMarker","lineLengthOverLimit","indentLength","limit","strLen","doubleQuotedString","singleQuotedString","blockString","forceBlockIndent","literal","plainString","actualString","stringifyString","_stringify","_type","stringifyNumber","minFractionDigits","checkFlowCollectionEnd","lastItem","checkFlowCommentSpace","getLongKeyError","sk","resolveComments","afterKey","before","resolveString","resolveTagHandle","tagPrefixes","dtp","getDefaults","warnings","vocab","decodeURIComponent","resolveTagName","nonSpecific","resolveByTagName","tagName","matchWithTest","getFallbackTagName","resolveTag","fallback","refError","stack","isCollectionItem","resolveNodeProps","after","hasAnchor","hasTag","resolveNodeValue","getNode","_cstAliases","resolveNode","keepCstNodes","keepNodeTypes","resolved","resolveMap","resolveFlowMapItems","resolveBlockMapItems","hasCollectionKey","iKey","merge","sources","jKey","valueHasPairComment","resolvePairComment","found","keyStart","valueNode","pos","origPos","nextItem","resolveSeq","resolveFlowSeqItems","resolveBlockSeqItems","prevItem","keyEnd","resolveSeqD03cb037","binary","identify","Uint8Array","atob","btoa","ceil","parsePairs","createPairs","iterable","createPair","YAMLOMap","parseOMap","seenKeys","createOMap","omap","nodeClass","YAMLSet","keepPair","parseSet","createSet","parseSexagesimal","stringifySexagesimal","intTime","floatTime","timestamp","year","month","day","hour","minute","second","millisec","tz","date","UTC","toISOString","shouldWarn","deprecation","YAML_SILENCE_DEPRECATION_WARNINGS","YAML_SILENCE_WARNINGS","warning","emitWarning","warnFileDeprecation","warned","warnOptionDeprecation","alternative","warnings1000a372","createMap","createSeq","wrapScalars","failsafe","intIdentify$2","intResolve$1","radix","BigInt","intStringify$1","nullObj","boolObj","octObj","oct","intObj","hexObj","nanObj","nan","NEGATIVE_INFINITY","POSITIVE_INFINITY","expObj","parseFloat","toExponential","floatObj","frac1","frac2","frac","core","intIdentify$1","stringifyJSON","boolStringify","intIdentify","intResolve","intStringify","yaml11","bin","schemas","bool","float","floatExp","floatNaN","int","intHex","intOct","null","findTagObject","tagObj","class","defaultPrefix","onTagObj","prevObjects","aliasNodes","getSchemaTags","knownTags","customTags","schemaId","sortMapEntriesByKey","Schema","deprecatedCustomTags","baseCtx","Schema88e323a7","defaultOptions","anchorPrefix","keepBlobsInJSON","prettyErrors","scalarOptions","opt","documentOptions","stringifyTag","priv","getTagObject","stringifyProps","createCtx","Anchors","createAlias","setAnchor","createMergePair","getNames","resolveNodes","validAnchorNode","visit","listTagNames","cbNode","resolveTagDirective","resolveYamlDirective","prevDoc","directiveComments","copyTagPrefix","assertCollection","defaults","setSchema","id","toFixed","listNonDefaultTags","setTagPrefix","onAnchor","anchorNames","vd","tagNames","contentComment","Document9b4560a1","Document$1","parseAllDocuments","cstDoc","parseDocument","errMsg","YAML","parseCST","dist","yaml","jpescape","jpunescape","jptr","newValue","components","setAndLast","jptr_1","isRef","isref","nop","shallowClone","deepClone","fastClone","circularClone","WeakMap","clone_1","defaultState","depth","pkey","payload","seen","identityDetection","recurse","oPath","encodeURIComponent","identityPath","newState","recurse_1","getLogger","verbose","dereference","defs","master","logger","changes","entry","dereference_1","fastSafeStringify","stable","deterministicStringify","stableStringify","LIMIT_REPLACE_NODE","CIRCULAR_REPLACE_NODE","replacerStack","depthLimit","MAX_SAFE_INTEGER","edgesLimit","spacer","decirc","replaceGetterValues","setReplace","propertyDescriptor","edgeIndex","compareFunction","tmp","deterministicDecirc","sjs","colour","NODE_DISABLE_COLORS","normal","uniqueOnly","hasDuplicates","array","allSame","deepEquals","obj1","obj2","_equals","compressArray","distinctArray","firstDupe","chr","toCamelCase","group1","parameterTypeProperties","arrayProperties","httpMethods","sanitise","sanitiseAll","oasKitCommon","deRef","common","require$$10","unique","readFileAsync","encoding","readFile","ignoreIOErrors","externalRefs","failed","resolveAllFragment","parentPath","attachPoint","baseUrl","$fixed","newRef","fatal","ex","filterData","filters","testProtocol","backup","resolveExternal","fnComponents","effectiveProtocol","externalRef","handlers","catch","fetchOptions","scanExternalRefs","rej","inner","$extra","refs","potential","extras","rewriteRefs","resolvedAt","resolver","openapi","findExternalRefs","ref","actions","external","updated","externals","localOptions","patch","pointers","aComp","bComp","ptr","cdata","serial","funcs","loopReferences","resolveInternal","preserveMiro","setupOptions","srcUrl","optionalResolve","oasResolver","getDefaultState","top","allowRefSiblings","walkSchema","allOf","anyOf","oneOf","additionalItems","additionalProperties","subSchema","patternProperties","not","oasSchemaWalker","ours","statusCodes","cclone","sw","require$$11","require$$12","require$$13","ourVersion","require$$14","targetVersion","componentNames","S2OError","throwError","throwOrWarn","warnOnly","warnProperty","fixUpSubSchema","nullable","patches","discriminator","propertyName","newSchema","xml","namespace","allowEmptyValue","fixUpSubSchemaExtensions","mapping","schemaOrRef","fixUpSchema","getMiroComponentName","fixupRefs","consumes","produces","newKey","refmap","oldRef","schemaIndex","refSuffix","tmpRef","inSchema","refSiblings","dedupeRefs","processSecurity","securityObject","sname","processSecurityScheme","flow","flowName","authorizationUrl","tokenUrl","scopes","flows","keepParameters","processHeader","collectionFormat","explode","fixParamRef","param","refComponents","attachRequestBody","op","newOp","requestBody","rbname","processParameter","originalType","singularRequestBody","rbody","newParam","deprecated","example","oldCollectionFormat","allowReserved","content","copyExtensions","mimetype","tgt","processResponse","examples","processPaths","containerName","requestBodyCache","trace","servers","security","defaultResp","schemes","server","newServer","serverUrl","se","rh","effectiveOperationId","rbName","rbStr","rbHash","main","securitySchemes","requestBodies","rb","rbNamesGenerated","extractServerParameters","variables","fixInfo","logo","termsOfService","fixPaths","detectObjectReferences","WeakSet","convertObj","direct","converter","basePath","xMsPHost","hostTemplate","paramNames","msp","enum","useSchemePrefix","callbacks","links","securityDefinitions","convertStr","sourceYaml","convertUrl","convertFile","sourceFile","convertStream","swagger2openapi","kindOf","thing","kindOfTest","typeOfTest","isUndefined","isFunction","isArrayBuffer","isArrayBufferView","isString","isNumber","isObject","isPlainObject","isDate","isFile","isFileList","isStream","isFormData","FormData","allOwnKeys","findKey","_key","_global","globalThis","isContextDefined","caseless","assignValue","targetKey","extend","stripBOM","inherits","superConstructor","descriptors","toFlatObject","sourceObj","destObj","propFilter","merged","searchString","toArray","isTypedArray","TypedArray","forEachEntry","matchAll","regExp","isHTMLForm","isRegExp","reduceDescriptors","reducer","reducedDescriptors","descriptor","freezeMethods","toObjectSet","arrayOrString","define","noop","toFiniteNumber","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","generateString","alphabet","random","isSpecCompliantForm","toJSONObject","reducedValue","isAsyncFn","isThenable","hasOwnProp","AxiosError","fileName","lineNumber","columnNumber","customProps","axiosError","cause","delayed_stream","DelayedStream","dataSize","maxDataSize","pauseStream","_maxDataSizeExceeded","_released","_bufferedEvents","delayedStream","realEmit","_handleEmit","setEncoding","resume","_checkIfMaxDataSizeExceeded","combined_stream","CombinedStream","pauseStreams","_streams","_currentStream","_insideLoop","_pendingNext","combinedStream","isStreamLike","newStream","_checkDataSize","_handleErrors","_getNext","_realGetNext","_pipeNext","_emitError","_reset","_updateDataSize","mimeDb","extensions","preference","db","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","mime","charsets","lookup","extension","exts","defer_1","defer","async_1","isAsync","abort_1","jobs","clean","iterate_1","iterate","runJob","state_1","sortMethod","isNamedList","initState","keyedList","terminator_1","terminator","parallel_1","parallel","serialOrdered","iteratorHandler","ascending","descending","serialOrderedModule","serial_1","asynckit","populate","dst","parseUrl","form_data","_overheadLength","_valueLength","_valuesToMeasure","LINE_BREAK","DEFAULT_CONTENT_TYPE","field","_error","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","_lengthRetriever","stat","fileSize","contentDisposition","_getContentDisposition","_getContentType","filepath","_httpMessage","_lastBoundary","userHeaders","formHeaders","setBoundary","boundary","_boundary","_generateBoundary","getBuffer","dataBuffer","getLength","submit","params","setHeader","responce","isVisitable","removeBrackets","renderKey","dots","token","isFlatArray","predicates","toFormData","formData","PlatformFormData","metaTokens","indexes","visitor","defaultVisitor","useBlob","convertValue","el","exposedHelpers","build","encode","charMap","AxiosURLSearchParams","_pairs","buildURL","_encode","serializeFn","serialize","serializedParams","hashmarkIndex","encoder","InterceptorManager","use","fulfilled","rejected","synchronous","runWhen","eject","clear","InterceptorManager$1","transitionalDefaults","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","URLSearchParams","isNode","classes","protocols","toURLEncodedForm","helpers","parsePropPath","arrayToObject","formDataToJSON","buildPath","isNumericKey","isLast","stringifySafely","parser","transitional","adapter","transformRequest","getContentType","hasJSONContentType","isObjectPayload","setContentType","formSerializer","_FormData","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxBodyLength","validateStatus","Accept","defaults$1","ignoreDuplicateOf","parseHeaders","$internals","normalizeHeader","normalizeValue","parseTokens","tokens","tokensRE","isValidHeaderName","matchHeaderValue","isHeaderNameFilter","formatHeader","buildAccessors","accessorName","arg1","arg2","arg3","AxiosHeaders","valueOrRewrite","rewrite","_value","_header","_rewrite","lHeader","setHeaders","matcher","deleted","deleteHeader","normalized","targets","asStrings","first","computed","accessors","defineAccessor","accessor","AxiosHeaders$1","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","ERR_BAD_REQUEST","isAbsoluteURL","combineURLs","relativeURL","buildFullPath","requestedURL","DEFAULT_PORTS","stringEndsWith","getProxyForUrl","parsedUrl","shouldProxy","proxy","getEnv","NO_PROXY","parsedProxy","parsedProxyHostname","parsedProxyPort","getProxyForUrl_1","plural","ms","msAbs","isPlural","fmtLong","fmtShort","selectColor","createDebug","colors","prevTime","_len","coerce","formatter","formatters","formatArgs","useColors","instances","disable","enable","namespaces","save","skips","humanize","load","_typeof","_console","lastC","storage","setItem","removeItem","getItem","DEBUG","__nwjs","navigator","userAgent","document","documentElement","WebkitAppearance","firebug","exception","table","$1","localStorage","localstorage","terminatorPos","inspectOpts","colorCode","hideDate","getDate","Boolean","fd","inspect","O","browser","srcModule","debug_1","Writable","assert","events","eventHandlers","_redirectable","InvalidUrlError","createErrorType","RedirectionError","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","_processResponse","_performRequest","maxRedirects","nativeProtocols","nativeProtocol","wrappedProtocol","equal","wrappedRequest","urlObject","removeMatchingHeaders","lastValue","baseClass","CustomError","abortRequest","isSubdomain","subdomain","dot","_currentRequest","currentRequest","removeHeader","msecs","destroyOnTimeout","startTimer","_timeout","clearTimer","searchPos","agents","_currentUrl","_isRedirect","writeNext","finished","trackRedirects","followRedirects","responseUrl","redirects","requestHeaders","beforeRedirect","Host","getHeader","redirectUrl","currentHostHeader","currentUrlParts","currentHost","currentUrl","redirectUrlParts","responseDetails","requestDetails","followRedirectsModule","parseProtocol","DATA_URL_PATTERN","fromDataURI","uri","asBlob","_Blob","ERR_INVALID_URL","isBase64","ERR_NOT_SUPPORT","throttle","freq","threshold","force","speedometer","samplesCount","bytes","timestamps","firstSampleTS","head","tail","chunkLength","startedAt","bytesCount","passed","kInternals","AxiosTransformStream","Transform","maxRate","chunkSize","minChunkSize","timeWindow","ticksRate","readableHighWaterMark","internals","bytesSeen","isCaptured","notifiedBytesLoaded","ts","onReadCallback","_speedometer","bytesNotified","updateProgress","bytesTransferred","progressBytes","destroyed","rate","loaded","progress","estimated","onFinish","_transform","bytesThreshold","transformChunk","_chunk","_callback","bytesLeft","chunkRemainder","maxChunkSize","subarray","pushChunk","transformNextChunk","setLength","AxiosTransformStream$1","asyncIterator","readBlob","readBlob$1","BOUNDARY_ALPHABET","textEncoder","TextEncoder","CRLF","CRLF_BYTES","CRLF_BYTES_COUNT","FormDataPart","escapeName","isStringValue","contentLength","formDataToStream","form","headersHandler","boundaryBytes","footerBytes","computedHeaders","formDataToStream$1","ZlibHeaderTransformStream","__transform","ZlibHeaderTransformStream$1","callbackify","callbackify$1","constants","brotliOptions","BROTLI_OPERATION_FLUSH","isBrotliSupported","httpFollow","httpsFollow","isHttps","supportedProtocols","dispatchBeforeRedirect","beforeRedirects","setProxy","configProxy","proxyUrl","base64","proxyHost","redirectOptions","isHttpAdapterSupported","wrapAsync","asyncExecutor","onDone","isDone","isRejected","_reject","reason","onDoneHandler","httpAdapter","family","responseEncoding","emitter","onFinished","cancelToken","unsubscribe","subscribe","fullPath","convertedData","onDownloadProgress","onUploadProgress","maxUploadRate","maxDownloadRate","userBoundary","hasContentLength","promisify","setContentLength","getContentLength","objectMode","pipeline","upload","paramsSerializer","customErr","transport","socketPath","isHttpsRequest","insecureHTTPParser","streams","responseLength","transformStream","download","responseStream","lastRequest","decompress","createUnzip","offListeners","responseBuffer","totalResponseBytes","responseData","setKeepAlive","ERR_BAD_OPTION_VALUE","timeoutErrorMessage","ETIMEDOUT","ECONNABORTED","ended","errored","cookies","isStandardBrowserEnv","expires","secure","cookie","toGMTString","read","isURLSameOrigin","msie","urlParsingNode","createElement","originURL","resolveURL","setAttribute","requestURL","progressEventReducer","isDownloadStream","lengthComputable","isXHRAdapterSupported","XMLHttpRequest","xhrAdapter","requestData","onCanceled","isStandardBrowserWebWorkerEnv","onloadend","responseHeaders","getAllResponseHeaders","responseText","onreadystatechange","readyState","responseURL","onabort","onerror","ERR_NETWORK","ontimeout","xsrfValue","withCredentials","setRequestHeader","cancel","knownAdapters","xhr","adapters","getAdapter","nameOrAdapter","throwIfCancellationRequested","throwIfRequested","dispatchRequest","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","timeoutMessage","configValue","validators","deprecatedWarnings","assertOptions","validator","ERR_BAD_OPTION","formatMessage","ERR_DEPRECATED","Axios","instanceConfig","interceptors","configOrUrl","contextHeaders","boolean","function","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","chain","newConfig","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","Axios$1","CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","CancelToken$1","spread","isAxiosError","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","HttpStatusCode$1","createInstance","defaultConfig","axios","Cancel","all","promises","formToJSON","axios$1","swaggerVersion","createServe","isSingle","fileType","httpReplace","SwaggerToTypescript","swaggerUrl","fileData","getConfigInfo","log.error","convertSwagger","eval","getServeName","urlArr","converterSwaggerToOpenApi","log.hint","getSchema","schemaPath","getOpenAPIConfig","httpUrl","openAPI","initConfig","getConfigTemplate","createCode","createCommands","todo.initConfig","todo.createCode"],"mappings":";o8EAMA,MAAMA,yBAAuBC,MAQ3BC,YAAYC,EAAUC,EAAMC,GAC1BC,MAAMD,GAENJ,MAAMM,kBAAkBC,KAAMA,KAAKN,aACnCM,KAAKC,KAAOD,KAAKN,YAAYO,KAC7BD,KAAKJ,KAAOA,EACZI,KAAKL,SAAWA,EAChBK,KAAKE,iBAAcC,CACpB,EAOH,MAAMC,+BAA6BZ,iBAMjCE,YAAYG,GACVC,MAAM,EAAG,4BAA6BD,GAEtCJ,MAAMM,kBAAkBC,KAAMA,KAAKN,aACnCM,KAAKC,KAAOD,KAAKN,YAAYO,IAC9B,EAGmBI,QAAAb,eAAGA,iBACzBa,QAAAD,qBAA+BA,uBC5C/B,MAAQA,qBAAAA,wBAAyBE,QAIjC,MAAMC,WAUJb,YAAYO,EAAMO,GAQhB,OAPAR,KAAKQ,YAAcA,GAAe,GAClCR,KAAKS,UAAW,EAChBT,KAAKU,cAAWP,EAChBH,KAAKW,kBAAeR,EACpBH,KAAKY,6BAA0BT,EAC/BH,KAAKa,gBAAaV,EAEVF,EAAK,IACX,IAAK,IACHD,KAAKc,UAAW,EAChBd,KAAKe,MAAQd,EAAKe,MAAM,GAAI,GAC5B,MACF,IAAK,IACHhB,KAAKc,UAAW,EAChBd,KAAKe,MAAQd,EAAKe,MAAM,GAAI,GAC5B,MACF,QACEhB,KAAKc,UAAW,EAChBd,KAAKe,MAAQd,EAIbD,KAAKe,MAAME,OAAS,GAA8B,QAAzBjB,KAAKe,MAAMC,OAAO,KAC7ChB,KAAKS,UAAW,EAChBT,KAAKe,MAAQf,KAAKe,MAAMC,MAAM,GAAI,GAErC,CAQDf,OACE,OAAOD,KAAKe,KACb,CAMDG,aAAaC,EAAOC,GAClB,OAAIA,IAAapB,KAAKW,cAAiBU,MAAMC,QAAQF,GAI9CA,EAASG,OAAOJ,GAHd,CAACA,EAIX,CAUDK,QAAQL,EAAOX,GAGb,OAFAR,KAAKW,aAAeQ,EACpBnB,KAAKY,wBAA0BJ,EACxBR,IACR,CASDyB,UAAUC,GAER,OADA1B,KAAKU,SAAWgB,EACT1B,IACR,CASD2B,QAAQC,GAWN,OAVA5B,KAAKa,WAAae,EAAOZ,QACzBhB,KAAKU,SAAW,CAACmB,EAAKT,KACpB,IAAKpB,KAAKa,WAAWiB,SAASD,GAC5B,MAAM,IAAIzB,uBAAqB,uBAAuBJ,KAAKa,WAAWkB,KAAK,UAE7E,OAAI/B,KAAKS,SACAT,KAAKkB,aAAaW,EAAKT,GAEzBS,CAAG,EAEL7B,IACR,CAKDgC,cAEE,OADAhC,KAAKc,UAAW,EACTd,IACR,CAKDiC,cAEE,OADAjC,KAAKc,UAAW,EACTd,IACR,EAWH,SAASkC,uBAAqBL,GAC5B,MAAMM,EAAaN,EAAI5B,SAA2B,IAAjB4B,EAAIpB,SAAoB,MAAQ,IAEjE,OAAOoB,EAAIf,SACP,IAAMqB,EAAa,IACnB,IAAMA,EAAa,GACzB,CAEgBC,SAAA7B,SAAGA,WACnB6B,SAAAF,qBAA+BA,8CClJ/B,MAAQA,qBAAAA,wBAAyB5B,SAajC,MAAM+B,OACJ3C,cACEM,KAAKsC,eAAYnC,EACjBH,KAAKuC,iBAAkB,EACvBvC,KAAKwC,aAAc,EACnBxC,KAAKyC,mBAAoB,CAC1B,CASDC,gBAAgBC,GACd,MAAMD,EAAkBC,EAAIC,SAASC,QAAOF,IAAQA,EAAIG,UACxD,GAAIH,EAAII,0BAA2B,CAEjC,MAAM,CAAGC,EAAUC,GAAYN,EAAIO,wBAAwBC,MAAM,iBAC3DC,EAAcT,EAAIU,cAAcL,GACnCM,YAAW,GACdF,EAAY5C,YAAYmC,EAAIY,yBACxBN,GAAUG,EAAYI,UAAUP,GACpCP,EAAgBe,KAAKL,EACtB,CAOD,OANIpD,KAAKuC,iBACPG,EAAgBgB,MAAK,CAACC,EAAGC,IAEhBD,EAAE1D,OAAO4D,cAAcD,EAAE3D,UAG7ByC,CACR,CASDoB,eAAeH,EAAGC,GAChB,MAAMG,EAAcC,GAEXA,EAAOC,MAAQD,EAAOC,MAAMC,QAAQ,KAAM,IAAMF,EAAOG,KAAKD,QAAQ,MAAO,IAEpF,OAAOH,EAAWJ,GAAGE,cAAcE,EAAWH,GAC/C,CASDQ,eAAezB,GACb,MAAMyB,EAAiBzB,EAAI0B,QAAQxB,QAAQmB,IAAYA,EAAOM,SAExDC,EAAoB5B,EAAI6B,gBAAkB7B,EAAI8B,iBAAmB9B,EAAI+B,YAAY/B,EAAI8B,gBACrFE,EAAmBhC,EAAI6B,iBAAmB7B,EAAI+B,YAAY/B,EAAIiC,eACpE,GAAIL,GAAqBI,EAAkB,CACzC,IAAIrB,EAMFA,EALGiB,EAEOI,EAGGhC,EAAIkC,aAAalC,EAAImC,WAAYnC,EAAIoC,kBAFrCpC,EAAIkC,aAAalC,EAAI8B,eAAgB9B,EAAIoC,kBAFzCpC,EAAIkC,aAAalC,EAAIiC,cAAejC,EAAIoC,kBAMvDX,EAAeX,KAAKH,EACrB,CAID,OAHItD,KAAKwC,aACP4B,EAAeV,KAAK1D,KAAK8D,gBAEpBM,CACR,CASDY,qBAAqBrC,GACnB,IAAK3C,KAAKyC,kBAAmB,MAAO,GAEpC,MAAMwC,EAAgB,GACtB,IAAK,IAAIC,EAAYvC,EAAIwC,OAAQD,EAAWA,EAAYA,EAAUC,OAAQ,CACxE,MAAMf,EAAiBc,EAAUb,QAAQxB,QAAQmB,IAAYA,EAAOM,SACpEW,EAAcxB,QAAQW,EACvB,CAID,OAHIpE,KAAKwC,aACPyC,EAAcvB,KAAK1D,KAAK8D,gBAEnBmB,CACR,CASDG,iBAAiBzC,GASf,OAPIA,EAAI0C,kBACN1C,EAAI2C,MAAMC,SAAQnD,IAChBA,EAAS5B,YAAc4B,EAAS5B,aAAemC,EAAI0C,iBAAiBjD,EAASnC,SAAW,EAAE,IAK1F0C,EAAI2C,MAAME,MAAKpD,GAAYA,EAAS5B,cAC/BmC,EAAI2C,MAEN,EACR,CASDG,eAAe9C,GAEb,MAAM+C,EAAO/C,EAAI2C,MAAMK,KAAI9D,GAAOK,uBAAqBL,KAAME,KAAK,KAClE,OAAOY,EAAI5B,OACR4B,EAAIiD,SAAS,GAAK,IAAMjD,EAAIiD,SAAS,GAAK,KAC1CjD,EAAI0B,QAAQpD,OAAS,aAAe,KACpCyE,EAAO,IAAMA,EAAO,GACxB,CASDG,WAAW7B,GACT,OAAOA,EAAO8B,KACf,CASDC,aAAa3D,GACX,OAAOA,EAASnC,MACjB,CAUD+F,4BAA4BrD,EAAKsD,GAC/B,OAAOA,EAAOvD,gBAAgBC,GAAKuD,QAAO,CAACC,EAAKC,IACvCC,KAAKF,IAAIA,EAAKF,EAAOR,eAAeW,GAASnF,SACnD,EACJ,CAUDqF,wBAAwB3D,EAAKsD,GAC3B,OAAOA,EAAO7B,eAAezB,GAAKuD,QAAO,CAACC,EAAKnC,IACtCqC,KAAKF,IAAIA,EAAKF,EAAOJ,WAAW7B,GAAQ/C,SAC9C,EACJ,CAUDsF,8BAA8B5D,EAAKsD,GACjC,OAAOA,EAAOjB,qBAAqBrC,GAAKuD,QAAO,CAACC,EAAKnC,IAC5CqC,KAAKF,IAAIA,EAAKF,EAAOJ,WAAW7B,GAAQ/C,SAC9C,EACJ,CAUDuF,0BAA0B7D,EAAKsD,GAC7B,OAAOA,EAAOb,iBAAiBzC,GAAKuD,QAAO,CAACC,EAAK/D,IACxCiE,KAAKF,IAAIA,EAAKF,EAAOF,aAAa3D,GAAUnB,SAClD,EACJ,CASDwF,aAAa9D,GAEX,IAAI+D,EAAU/D,EAAI5B,MACd4B,EAAIiD,SAAS,KACfc,EAAUA,EAAU,IAAM/D,EAAIiD,SAAS,IAEzC,IAAIe,EAAiB,GACrB,IAAK,IAAIzB,EAAYvC,EAAIwC,OAAQD,EAAWA,EAAYA,EAAUC,OAChEwB,EAAiBzB,EAAUjF,OAAS,IAAM0G,EAE5C,OAAOA,EAAiBD,EAAU,IAAM/D,EAAIiE,OAC7C,CASDC,mBAAmBlE,GAEjB,OAAOA,EAAInC,aACZ,CAUDsG,sBAAsBnE,GAEpB,OAAOA,EAAIoE,WAAapE,EAAInC,aAC7B,CASDwG,kBAAkBhD,GAChB,MAAMiD,EAAY,GAOlB,GALIjD,EAAOnD,YACToG,EAAUxD,KAER,YAAYO,EAAOnD,WAAW8E,KAAKuB,GAAWC,KAAKC,UAAUF,KAASnF,KAAK,cAEnD5B,IAAxB6D,EAAOrD,aAA4B,EAGjBqD,EAAOlD,UAAYkD,EAAOqD,UAC3CrD,EAAOsD,aAA8C,kBAAxBtD,EAAOrD,eAErCsG,EAAUxD,KAAK,YAAYO,EAAOpD,yBAA2BuG,KAAKC,UAAUpD,EAAOrD,gBAEtF,CAQD,YANyBR,IAArB6D,EAAOuD,WAA2BvD,EAAOqD,UAC3CJ,EAAUxD,KAAK,WAAW0D,KAAKC,UAAUpD,EAAOuD,mBAE5BpH,IAAlB6D,EAAOwD,QACTP,EAAUxD,KAAK,QAAQO,EAAOwD,UAE5BP,EAAUhG,OAAS,EACd,GAAG+C,EAAOxD,gBAAgByG,EAAUlF,KAAK,SAG3CiC,EAAOxD,WACf,CASDiH,oBAAoBrF,GAClB,MAAM6E,EAAY,GASlB,GARI7E,EAASvB,YACXoG,EAAUxD,KAER,YAAYrB,EAASvB,WAAW8E,KAAKuB,GAAWC,KAAKC,UAAUF,KAASnF,KAAK,cAEnD5B,IAA1BiC,EAASzB,cACXsG,EAAUxD,KAAK,YAAYrB,EAASxB,yBAA2BuG,KAAKC,UAAUhF,EAASzB,iBAErFsG,EAAUhG,OAAS,EAAG,CACxB,MAAMyG,EAAkB,IAAIT,EAAUlF,KAAK,SAC3C,OAAIK,EAAS5B,YACJ,GAAG4B,EAAS5B,eAAekH,IAE7BA,CACR,CACD,OAAOtF,EAAS5B,WACjB,CAUDmH,WAAWhF,EAAKsD,GACd,MAAM2B,EAAY3B,EAAO4B,SAASlF,EAAKsD,GACjC3D,EAAY2D,EAAO3D,WAAa,GAGtC,SAASwF,EAAWC,EAAMvH,GACxB,GAAIA,EAAa,CACf,MAAMwH,EAAW,GAAGD,EAAKE,OAAOL,EAHT,KAG2CpH,IAClE,OAAOyF,EAAOiC,KAAKF,EAAU1F,EALT,EAKsCsF,EAJnC,EAKxB,CACD,OAAOG,CACR,CACD,SAASI,EAAWC,GAClB,OAAOA,EAAUrG,KAAK,MAAMmC,QAAQ,MAAO,IAAImE,OAVzB,GAWvB,CAGD,IAAIC,EAAS,CAAC,UAAUrC,EAAOQ,aAAa9D,KAAQ,IAGpD,MAAMkE,EAAqBZ,EAAOY,mBAAmBlE,GACjDkE,EAAmB5F,OAAS,IAC9BqH,EAASA,EAAO/G,OAAO,CAAC0E,EAAOiC,KAAKrB,EAAoBvE,EAAW,GAAI,MAIzE,MAAMiG,EAAetC,EAAOb,iBAAiBzC,GAAKgD,KAAKvD,GAC9C0F,EAAW7B,EAAOF,aAAa3D,GAAW6D,EAAOwB,oBAAoBrF,MAE1EmG,EAAatH,OAAS,IACxBqH,EAASA,EAAO/G,OAAO,CAAC,aAAc4G,EAAWI,GAAe,MAIlE,MAAMC,EAAavC,EAAO7B,eAAezB,GAAKgD,KAAK3B,GAC1C8D,EAAW7B,EAAOJ,WAAW7B,GAASiC,EAAOe,kBAAkBhD,MAMxE,GAJIwE,EAAWvH,OAAS,IACtBqH,EAASA,EAAO/G,OAAO,CAAC,WAAY4G,EAAWK,GAAa,MAG1DxI,KAAKyC,kBAAmB,CAC1B,MAAMgG,EAAmBxC,EAAOjB,qBAAqBrC,GAAKgD,KAAK3B,GACtD8D,EAAW7B,EAAOJ,WAAW7B,GAASiC,EAAOe,kBAAkBhD,MAEpEyE,EAAiBxH,OAAS,IAC5BqH,EAASA,EAAO/G,OAAO,CAAC,kBAAmB4G,EAAWM,GAAmB,KAE5E,CAGD,MAAMC,EAAczC,EAAOvD,gBAAgBC,GAAKgD,KAAKhD,GAC5CmF,EAAW7B,EAAOR,eAAe9C,GAAMsD,EAAOa,sBAAsBnE,MAM7E,OAJI+F,EAAYzH,OAAS,IACvBqH,EAASA,EAAO/G,OAAO,CAAC,YAAa4G,EAAWO,GAAc,MAGzDJ,EAAOvG,KAAK,KACpB,CAUD8F,SAASlF,EAAKsD,GACZ,OAAOI,KAAKF,IACVF,EAAOK,wBAAwB3D,EAAKsD,GACpCA,EAAOM,8BAA8B5D,EAAKsD,GAC1CA,EAAOD,4BAA4BrD,EAAKsD,GACxCA,EAAOO,0BAA0B7D,EAAKsD,GAEzC,CAcDiC,KAAKS,EAAKC,EAAOC,EAAQC,EAAiB,IAExC,MAEMC,EAAe,IAAIC,OAAO,oCAChC,GAAIL,EAAIxF,MAAM4F,GAAe,OAAOJ,EAEpC,MAAMM,EAAcL,EAAQC,EAC5B,GAAII,EAAcH,EAAgB,OAAOH,EAEzC,MAAMO,EAAaP,EAAI3H,MAAM,EAAG6H,GAC1BM,EAAaR,EAAI3H,MAAM6H,GAAQ3E,QAAQ,OAAQ,MAC/CkF,EAAe,IAAIf,OAAOQ,GAE1BQ,EAAS,OAGTC,EAAQ,IAAIN,OAAO,UAAUC,EAAc,OAAOI,WAAgBA,SAAcA,QAAc,KAEpG,OAAOH,GADOC,EAAWhG,MAAMmG,IAAU,IACf3D,KAAI,CAAC4D,EAAMC,IACtB,OAATD,EAAsB,IACjBC,EAAI,EAAKJ,EAAe,IAAMG,EAAKE,YAC3C1H,KAAK,KACT,EAGH2H,KAAArH,KAAeA,qBC/cf,MAAQjC,qBAAAA,wBAAyBE,QAIjC,MAAMqJ,SAQJjK,YAAYoG,EAAOtF,GACjBR,KAAK8F,MAAQA,EACb9F,KAAKQ,YAAcA,GAAe,GAElCR,KAAKc,SAAWgF,EAAMhE,SAAS,KAC/B9B,KAAKqH,SAAWvB,EAAMhE,SAAS,KAE/B9B,KAAKS,SAAW,iBAAiBmJ,KAAK9D,GACtC9F,KAAK6J,WAAY,EACjB,MAAMC,EAAcC,mBAAiBjE,GACrC9F,KAAKiE,MAAQ6F,EAAYE,UACzBhK,KAAKmE,KAAO2F,EAAYG,SACxBjK,KAAKkK,QAAS,EACVlK,KAAKmE,OACPnE,KAAKkK,OAASlK,KAAKmE,KAAKgG,WAAW,UAErCnK,KAAKW,kBAAeR,EACpBH,KAAKY,6BAA0BT,EAC/BH,KAAKuH,eAAYpH,EACjBH,KAAKwH,YAASrH,EACdH,KAAKU,cAAWP,EAChBH,KAAKsE,QAAS,EACdtE,KAAKa,gBAAaV,EAClBH,KAAKoK,cAAgB,GACrBpK,KAAKqK,aAAUlK,CAChB,CAUDqB,QAAQL,EAAOX,GAGb,OAFAR,KAAKW,aAAeQ,EACpBnB,KAAKY,wBAA0BJ,EACxBR,IACR,CAcDsK,OAAOzI,GAEL,OADA7B,KAAKuH,UAAY1F,EACV7B,IACR,CAcDuK,UAAUC,GAER,OADAxK,KAAKoK,cAAgBpK,KAAKoK,cAAc7I,OAAOiJ,GACxCxK,IACR,CAeDyK,QAAQC,GACN,IAAIC,EAAaD,EAMjB,MALmC,iBAAxBA,IAETC,EAAa,CAAED,CAACA,IAAsB,IAExC1K,KAAKqK,QAAUO,OAAOC,OAAO7K,KAAKqK,SAAW,CAAA,EAAIM,GAC1C3K,IACR,CAYD8K,IAAI7K,GAEF,OADAD,KAAKwH,OAASvH,EACPD,IACR,CASDyB,UAAUC,GAER,OADA1B,KAAKU,SAAWgB,EACT1B,IACR,CASD+K,oBAAoBlB,GAAY,GAE9B,OADA7J,KAAK6J,YAAcA,EACZ7J,IACR,CASDgL,SAASC,GAAO,GAEd,OADAjL,KAAKsE,SAAW2G,EACTjL,IACR,CAMDkB,aAAaC,EAAOC,GAClB,OAAIA,IAAapB,KAAKW,cAAiBU,MAAMC,QAAQF,GAI9CA,EAASG,OAAOJ,GAHd,CAACA,EAIX,CASDQ,QAAQC,GAWN,OAVA5B,KAAKa,WAAae,EAAOZ,QACzBhB,KAAKU,SAAW,CAACmB,EAAKT,KACpB,IAAKpB,KAAKa,WAAWiB,SAASD,GAC5B,MAAM,IAAIzB,uBAAqB,uBAAuBJ,KAAKa,WAAWkB,KAAK,UAE7E,OAAI/B,KAAKS,SACAT,KAAKkB,aAAaW,EAAKT,GAEzBS,CAAG,EAEL7B,IACR,CAQDC,OACE,OAAID,KAAKmE,KACAnE,KAAKmE,KAAKD,QAAQ,MAAO,IAE3BlE,KAAKiE,MAAMC,QAAQ,KAAM,GACjC,CAUDgH,gBACE,OAAOC,UAAUnL,KAAKC,OAAOiE,QAAQ,OAAQ,IAC9C,CAUDkH,GAAGvJ,GACD,OAAO7B,KAAKiE,QAAUpC,GAAO7B,KAAKmE,OAAStC,CAC5C,CAWDyF,YACE,OAAQtH,KAAKc,WAAad,KAAKqH,WAAarH,KAAKkK,MAClD,EAUH,MAAMmB,cAIJ3L,YAAY2E,GACVrE,KAAKsL,gBAAkB,IAAIC,IAC3BvL,KAAKwL,gBAAkB,IAAID,IAC3BvL,KAAKyL,YAAc,IAAIC,IACvBrH,EAAQkB,SAAQvB,IACVA,EAAOkG,OACTlK,KAAKwL,gBAAgBG,IAAI3H,EAAOkH,gBAAiBlH,GAEjDhE,KAAKsL,gBAAgBK,IAAI3H,EAAOkH,gBAAiBlH,EAClD,IAEHhE,KAAKwL,gBAAgBjG,SAAQ,CAACpE,EAAOyK,KAC/B5L,KAAKsL,gBAAgBO,IAAID,IAC3B5L,KAAKyL,YAAYK,IAAIF,EACtB,GAEJ,CASDG,gBAAgB5K,EAAO6C,GACrB,MAAMgI,EAAYhI,EAAOkH,gBACzB,IAAKlL,KAAKyL,YAAYI,IAAIG,GAAY,OAAO,EAG7C,MAAM1B,EAAStK,KAAKwL,gBAAgBS,IAAID,GAAWzE,UAC7C2E,OAA4B/L,IAAXmK,GAAwBA,EAC/C,OAAOtG,EAAOkG,UAAYgC,IAAkB/K,EAC7C,EAWH,SAASgK,UAAUxC,GACjB,OAAOA,EAAIwD,MAAM,KAAKjG,QAAO,CAACyC,EAAKyD,IAC1BzD,EAAMyD,EAAK,GAAGC,cAAgBD,EAAKpL,MAAM,IAEpD,CAQA,SAAS+I,mBAAiBjE,GACxB,IAAIkE,EACAC,EAGJ,MAAMqC,EAAYxG,EAAMqG,MAAM,UAQ9B,OAPIG,EAAUrL,OAAS,IAAM,QAAQ2I,KAAK0C,EAAU,MAAKtC,EAAYsC,EAAUC,SAC/EtC,EAAWqC,EAAUC,SAEhBvC,GAAa,UAAUJ,KAAKK,KAC/BD,EAAYC,EACZA,OAAW9J,GAEN,CAAE6J,YAAWC,WACtB,CAEcjG,OAAA2F,OAAGA,SACO3F,OAAA+F,iBAAGA,mBAC3B/F,OAAAqH,YAAsBA,sCC1UtB,MAAMmB,YAAc,EAEpB,SAASC,aAAa9I,EAAGC,GAMvB,GAAIyC,KAAKqG,IAAI/I,EAAE1C,OAAS2C,EAAE3C,QAAUuL,YAAa,OAAOnG,KAAKF,IAAIxC,EAAE1C,OAAQ2C,EAAE3C,QAG7E,MAAM0L,EAAI,GAGV,IAAK,IAAInD,EAAI,EAAGA,GAAK7F,EAAE1C,OAAQuI,IAC7BmD,EAAEnD,GAAK,CAACA,GAGV,IAAK,IAAIoD,EAAI,EAAGA,GAAKhJ,EAAE3C,OAAQ2L,IAC7BD,EAAE,GAAGC,GAAKA,EAIZ,IAAK,IAAIA,EAAI,EAAGA,GAAKhJ,EAAE3C,OAAQ2L,IAC7B,IAAK,IAAIpD,EAAI,EAAGA,GAAK7F,EAAE1C,OAAQuI,IAAK,CAClC,IAAIqD,EAAO,EAETA,EADElJ,EAAE6F,EAAI,KAAO5F,EAAEgJ,EAAI,GACd,EAEA,EAETD,EAAEnD,GAAGoD,GAAKvG,KAAKyG,IACbH,EAAEnD,EAAI,GAAGoD,GAAK,EACdD,EAAEnD,GAAGoD,EAAI,GAAK,EACdD,EAAEnD,EAAI,GAAGoD,EAAI,GAAKC,GAGhBrD,EAAI,GAAKoD,EAAI,GAAKjJ,EAAE6F,EAAI,KAAO5F,EAAEgJ,EAAI,IAAMjJ,EAAE6F,EAAI,KAAO5F,EAAEgJ,EAAI,KAChED,EAAEnD,GAAGoD,GAAKvG,KAAKyG,IAAIH,EAAEnD,GAAGoD,GAAID,EAAEnD,EAAI,GAAGoD,EAAI,GAAK,GAEjD,CAGH,OAAOD,EAAEhJ,EAAE1C,QAAQ2C,EAAE3C,OACvB,CAUA,SAAS8L,iBAAeX,EAAMY,GAC5B,IAAKA,GAAoC,IAAtBA,EAAW/L,OAAc,MAAO,GAEnD+L,EAAa3L,MAAM4L,KAAK,IAAIvB,IAAIsB,IAEhC,MAAME,EAAmBd,EAAKjC,WAAW,MACrC+C,IACFd,EAAOA,EAAKpL,MAAM,GAClBgM,EAAaA,EAAWrH,KAAIwH,GAAaA,EAAUnM,MAAM,MAG3D,IAAIoM,EAAU,GACVC,EAAeb,YAwBnB,OAtBAQ,EAAWzH,SAAS4H,IAClB,GAAIA,EAAUlM,QAAU,EAAG,OAE3B,MAAMqM,EAAWb,aAAaL,EAAMe,GAC9BlM,EAASoF,KAAKF,IAAIiG,EAAKnL,OAAQkM,EAAUlM,SAC3BA,EAASqM,GAAYrM,EANrB,KAQdqM,EAAWD,GAEbA,EAAeC,EACfF,EAAU,CAACD,IACFG,IAAaD,GACtBD,EAAQ3J,KAAK0J,GAEhB,IAGHC,EAAQ1J,MAAK,CAACC,EAAGC,IAAMD,EAAEE,cAAcD,KACnCsJ,IACFE,EAAUA,EAAQzH,KAAIwH,GAAa,KAAKA,OAGtCC,EAAQnM,OAAS,EACZ,0BAA0BmM,EAAQrL,KAAK,UAEzB,IAAnBqL,EAAQnM,OACH,mBAAmBmM,EAAQ,OAE7B,EACT,CAEAG,iBAAAR,eAAyBA,iBCnGzB,MAAMS,eAAelN,oBAAiB,QAACkN,aACjCC,aAAeC,oBAAAA,QACfC,OAAOC,cAAAA,QACPC,KAAKC,YAAAA,QACLC,UAAUC,oBAAAA,kBAERzN,WAAQ2B,qBAAEA,sBAAyB+L,UACnCzO,eAAAA,kBAAmB0O,SACnB7L,KAAAA,QAAS8L,MACXxE,OAAEA,SAAMI,iBAAEA,iBAAgBsB,YAAEA,aAAgB+C,QAC5CrB,eAAEA,gBAAmBsB,iBAI3B,MAAMC,kBAAgBd,eAOpB9N,YAAYO,GACVH,QAEAE,KAAK4C,SAAW,GAEhB5C,KAAKqE,QAAU,GACfrE,KAAKmF,OAAS,KACdnF,KAAKuO,qBAAsB,EAC3BvO,KAAKwO,uBAAwB,EAE7BxO,KAAKsF,MAAQ,GAEbtF,KAAK0F,KAAO,GACZ1F,KAAKyO,QAAU,GACfzO,KAAK0O,cAAgB,GACrB1O,KAAK2O,YAAc,KACnB3O,KAAKe,MAAQd,GAAQ,GACrBD,KAAK4O,cAAgB,GACrB5O,KAAK6O,oBAAsB,GAC3B7O,KAAK8O,2BAA4B,EACjC9O,KAAK+O,eAAiB,KACtB/O,KAAKgP,oBAAqB,EAC1BhP,KAAKiP,gBAAkB,KACvBjP,KAAKkP,eAAiB,KACtBlP,KAAKmP,oBAAsB,KAC3BnP,KAAKoP,cAAgB,KACrBpP,KAAK4F,SAAW,GAChB5F,KAAKqP,8BAA+B,EACpCrP,KAAKsP,aAAe,GACpBtP,KAAKuP,SAAW,GAChBvP,KAAKqF,sBAAmBlF,EACxBH,KAAKwP,0BAA2B,EAChCxP,KAAKyP,qBAAsB,EAC3BzP,KAAK0P,gBAAkB,GAEvB1P,KAAK2P,qBAAsB,EAC3B3P,KAAK4P,2BAA4B,EAGjC5P,KAAK6P,qBAAuB,CAC1BC,SAAWnH,GAAQoF,UAAQgC,OAAOC,MAAMrH,GACxCsH,SAAWtH,GAAQoF,UAAQmC,OAAOF,MAAMrH,GACxCwH,gBAAiB,IAAMpC,UAAQgC,OAAOK,MAAQrC,UAAQgC,OAAOM,aAAUlQ,EACvEmQ,gBAAiB,IAAMvC,UAAQmC,OAAOE,MAAQrC,UAAQmC,OAAOG,aAAUlQ,EACvEoQ,YAAa,CAAC5H,EAAKqH,IAAUA,EAAMrH,IAGrC3I,KAAK8C,SAAU,EACf9C,KAAKwE,gBAAiB,EACtBxE,KAAK8E,WAAa,aAClB9E,KAAK+E,iBAAmB,2BACxB/E,KAAKyE,eAAiB,KACtBzE,KAAK4E,cAAgB,SACrB5E,KAAKwQ,6BAA0BrQ,EAC/BH,KAAKyQ,iBAAmB,OACxBzQ,KAAKkD,wBAA0B,iBAC/BlD,KAAKuD,wBAA0B,2BAC/BvD,KAAK0Q,mBAAqB,EAC3B,CAUDC,sBAAsBC,GAmBpB,OAlBA5Q,KAAK6P,qBAAuBe,EAAcf,qBAC1C7P,KAAKwE,eAAiBoM,EAAcpM,eACpCxE,KAAK8E,WAAa8L,EAAc9L,WAChC9E,KAAK+E,iBAAmB6L,EAAc7L,iBACtC/E,KAAKyE,eAAiBmM,EAAcnM,eACpCzE,KAAK4E,cAAgBgM,EAAchM,cACnC5E,KAAKyQ,iBAAmBG,EAAcH,iBACtCzQ,KAAKkD,wBAA0B0N,EAAc1N,wBAC7ClD,KAAKuD,wBAA0BqN,EAAcrN,wBAC7CvD,KAAK0Q,mBAAqBE,EAAcF,mBACxC1Q,KAAKoP,cAAgBwB,EAAcxB,cACnCpP,KAAK8O,0BAA4B8B,EAAc9B,0BAC/C9O,KAAKqP,6BAA+BuB,EAAcvB,6BAClDrP,KAAKwO,sBAAwBoC,EAAcpC,sBAC3CxO,KAAKwP,yBAA2BoB,EAAcpB,yBAC9CxP,KAAK2P,oBAAsBiB,EAAcjB,oBACzC3P,KAAK4P,0BAA4BgB,EAAchB,0BAExC5P,IACR,CA2BDoG,QAAQyK,EAAaC,EAAsBC,GACzC,IAAIC,EAAOF,EACPG,EAAOF,EACS,iBAATC,GAA8B,OAATA,IAC9BC,EAAOD,EACPA,EAAO,MAETC,EAAOA,GAAQ,GACf,MAAM,CAAGhR,EAAMyF,GAAQmL,EAAY1N,MAAM,iBAEnCR,EAAM3C,KAAKqD,cAAcpD,GAa/B,OAZI+Q,IACFrO,EAAInC,YAAYwQ,GAChBrO,EAAIqM,oBAAqB,GAEvBiC,EAAKC,YAAWlR,KAAKmP,oBAAsBxM,EAAI5B,OACnD4B,EAAIG,WAAamO,EAAKE,SAAUF,EAAK3M,QACrC3B,EAAIsM,gBAAkBgC,EAAKG,gBAAkB,KACzC1L,GAAM/C,EAAIa,UAAUkC,GACxB1F,KAAK4C,SAASa,KAAKd,GACnBA,EAAIwC,OAASnF,KACb2C,EAAIgO,sBAAsB3Q,MAEtBgR,EAAahR,KACV2C,CACR,CAYDU,cAAcpD,GACZ,OAAO,IAAIqO,UAAQrO,EACpB,CASDoR,aACE,OAAOzG,OAAOC,OAAO,IAAIxI,OAAQrC,KAAKsR,gBACvC,CAUDA,cAAcC,GACZ,YAAsBpR,IAAlBoR,EAAoCvR,KAAK0Q,oBAE7C1Q,KAAK0Q,mBAAqBa,EACnBvR,KACR,CAqBDwR,gBAAgBD,GACd,YAAsBpR,IAAlBoR,EAAoCvR,KAAK6P,sBAE7CjF,OAAOC,OAAO7K,KAAK6P,qBAAsB0B,GAClCvR,KACR,CAQDyR,mBAAmBC,GAAc,GAG/B,MAF2B,iBAAhBA,IAA0BA,IAAgBA,GACrD1R,KAAK2P,oBAAsB+B,EACpB1R,IACR,CAQD2R,yBAAyBC,GAAoB,GAE3C,OADA5R,KAAK4P,4BAA8BgC,EAC5B5R,IACR,CAYD6R,WAAWlP,EAAKsO,GACd,IAAKtO,EAAI5B,MACP,MAAM,IAAItB,MAAM,gHAUlB,OANAwR,EAAOA,GAAQ,IACNC,YAAWlR,KAAKmP,oBAAsBxM,EAAI5B,QAC/CkQ,EAAKE,QAAUF,EAAK3M,UAAQ3B,EAAIG,SAAU,GAE9C9C,KAAK4C,SAASa,KAAKd,GACnBA,EAAIwC,OAASnF,KACNA,IACR,CAaD8R,eAAe7R,EAAMO,GACnB,OAAO,IAAID,WAASN,EAAMO,EAC3B,CAkBD4B,SAASnC,EAAMO,EAAakB,EAAIf,GAC9B,MAAMyB,EAAWpC,KAAK8R,eAAe7R,EAAMO,GAO3C,MANkB,mBAAPkB,EACTU,EAASZ,QAAQb,GAAcc,UAAUC,GAEzCU,EAASZ,QAAQE,GAEnB1B,KAAK+R,YAAY3P,GACVpC,IACR,CAcDwD,UAAUgH,GAIR,OAHAA,EAAM2B,MAAM,MAAM5G,SAASyM,IACzBhS,KAAKoC,SAAS4P,EAAO,IAEhBhS,IACR,CAQD+R,YAAY3P,GACV,MAAM6P,EAAmBjS,KAAKsF,MAAMtE,OAAO,GAAG,GAC9C,GAAIiR,GAAoBA,EAAiBxR,SACvC,MAAM,IAAIhB,MAAM,2CAA2CwS,EAAiBhS,WAE9E,GAAImC,EAAStB,eAAsCX,IAA1BiC,EAASzB,mBAAoDR,IAAtBiC,EAAS1B,SACvE,MAAM,IAAIjB,MAAM,2DAA2D2C,EAASnC,WAGtF,OADAD,KAAKsF,MAAM7B,KAAKrB,GACTpC,IACR,CAYDkS,eAAeC,EAAqB3R,GAWlC,OAV4B,IAAxB2R,EACFnS,KAAKwQ,yBAA0B,GAE/BxQ,KAAKwQ,yBAA0B,EACI,iBAAxB2B,IACTnS,KAAKyQ,iBAAmB0B,EAAoBhG,MAAM,KAAK,GACvDnM,KAAKkD,wBAA0BiP,GAEjCnS,KAAKuD,wBAA0B/C,GAAeR,KAAKuD,yBAE9CvD,IACR,CAOD+C,0BACE,YAAqC5C,IAAjCH,KAAKwQ,wBACAxQ,KAAK4C,SAAS3B,SAAWjB,KAAK+O,iBAAmB/O,KAAKoS,aAAa,QAErEpS,KAAKwQ,uBACb,CAUD6B,KAAKC,EAAOC,GACV,MAAMC,EAAgB,CAAC,gBAAiB,YAAa,cACrD,IAAKA,EAAc1Q,SAASwQ,GAC1B,MAAM,IAAI7S,MAAM,gDAAgD6S,0BAClDE,EAAczQ,KAAK,YAOnC,OALI/B,KAAK0P,gBAAgB4C,GACvBtS,KAAK0P,gBAAgB4C,GAAO7O,KAAK8O,GAEjCvS,KAAK0P,gBAAgB4C,GAAS,CAACC,GAE1BvS,IACR,CASDyS,aAAa/Q,GAYX,OAVE1B,KAAKoP,cADH1N,GAGmB,CAACgR,IACpB,GAAiB,qCAAbA,EAAI9S,KACN,MAAM8S,CAGP,GAGE1S,IACR,CAYD2S,MAAMhT,EAAUC,EAAMC,GAChBG,KAAKoP,eACPpP,KAAKoP,cAAc,IAAI5P,iBAAeG,EAAUC,EAAMC,IAGxDkO,UAAQ6E,KAAKjT,EACd,CAiBDkT,OAAOnR,GAeL,OADA1B,KAAK+O,eAbarJ,IAEhB,MAAMoN,EAAoB9S,KAAKsF,MAAMrE,OAC/B8R,EAAarN,EAAK1E,MAAM,EAAG8R,GAQjC,OAPI9S,KAAK8O,0BACPiE,EAAWD,GAAqB9S,KAEhC+S,EAAWD,GAAqB9S,KAAKiR,OAEvC8B,EAAWtP,KAAKzD,MAET0B,EAAGsR,MAAMhT,KAAM+S,EAAW,EAG5B/S,IACR,CAaD6E,aAAaiB,EAAOtF,GAClB,OAAO,IAAImJ,SAAO7D,EAAOtF,EAC1B,CAQDyS,UAAUjP,GACR,MAAMkP,EAAQlP,EAAO/D,OACfA,EAAO+D,EAAOkH,gBAGpB,GAAIlH,EAAOkG,OAAQ,CAEjB,MAAMiJ,EAAmBnP,EAAOG,KAAKD,QAAQ,SAAU,MAClDlE,KAAK0E,YAAYyO,IACpBnT,KAAKoT,yBAAyBnT,OAA8BE,IAAxB6D,EAAOrD,cAAoCqD,EAAOrD,aAAc,UAE5G,WAAuCR,IAAxB6D,EAAOrD,cAChBX,KAAKoT,yBAAyBnT,EAAM+D,EAAOrD,aAAc,WAI3DX,KAAKqE,QAAQZ,KAAKO,GAGlB,MAAMqP,EAAoB,CAACC,EAAKC,EAAqBC,KAGxC,MAAPF,QAAoCnT,IAArB6D,EAAOuD,YACxB+L,EAAMtP,EAAOuD,WAIf,MAAMkM,EAAWzT,KAAK0T,eAAezT,GACrC,GAAY,OAARqT,GAAgBtP,EAAOtD,SACzB,IACE4S,EAAMtP,EAAOtD,SAAS4S,EAAKG,EAC5B,CAAC,MAAOf,GACP,GAAiB,8BAAbA,EAAI9S,KAAsC,CAC5C,MAAMC,EAAU,GAAG0T,KAAuBb,EAAI7S,UAC9CG,KAAKK,MAAMR,EAAS,CAAEF,SAAU+S,EAAI/S,SAAUC,KAAM8S,EAAI9S,MACzD,CACD,MAAM8S,CACP,MACgB,OAARY,GAAgBtP,EAAOvD,WAChC6S,EAAMtP,EAAO9C,aAAaoS,EAAKG,IAItB,MAAPH,IAEAA,GADEtP,EAAOkG,YAEAlG,EAAOsD,cAAetD,EAAOqD,WAGhC,KAGVrH,KAAKoT,yBAAyBnT,EAAMqT,EAAKE,EAAY,EAevD,OAZAxT,KAAK2T,GAAG,UAAYT,GAAQI,IAC1B,MAAMC,EAAsB,kBAAkBvP,EAAO8B,oBAAoBwN,iBACzED,EAAkBC,EAAKC,EAAqB,MAAM,IAGhDvP,EAAOwD,QACTxH,KAAK2T,GAAG,aAAeT,GAAQI,IAC7B,MAAMC,EAAsB,kBAAkBvP,EAAO8B,iBAAiBwN,gBAAkBtP,EAAOwD,sBAC/F6L,EAAkBC,EAAKC,EAAqB,MAAM,IAI/CvT,IACR,CAOD4T,UAAUC,EAAQ/N,EAAOtF,EAAakB,EAAIf,GACxC,GAAqB,iBAAVmF,GAAsBA,aAAiB6D,SAChD,MAAM,IAAIlK,MAAM,mFAElB,MAAMuE,EAAShE,KAAK6E,aAAaiB,EAAOtF,GAExC,GADAwD,EAAO+G,sBAAsB8I,EAAOhK,WAClB,mBAAPnI,EACTsC,EAAOxC,QAAQb,GAAcc,UAAUC,QAClC,GAAIA,aAAcsH,OAAQ,CAE/B,MAAMM,EAAQ5H,EACdA,EAAK,CAAC4R,EAAKQ,KACT,MAAMC,EAAIzK,EAAM0K,KAAKV,GACrB,OAAOS,EAAIA,EAAE,GAAKD,CAAG,EAEvB9P,EAAOxC,QAAQb,GAAcc,UAAUC,EAC7C,MACMsC,EAAOxC,QAAQE,GAGjB,OAAO1B,KAAKiT,UAAUjP,EACvB,CAoDDA,OAAO8B,EAAOtF,EAAakB,EAAIf,GAC7B,OAAOX,KAAK4T,UAAU,CAAE,EAAE9N,EAAOtF,EAAakB,EAAIf,EACnD,CAeDsT,eAAenO,EAAOtF,EAAakB,EAAIf,GACrC,OAAOX,KAAK4T,UAAU,CAAE/J,WAAW,GAAQ/D,EAAOtF,EAAakB,EAAIf,EACpE,CAYDuT,4BAA4BC,GAAU,GAEpC,OADAnU,KAAKqP,+BAAiC8E,EAC/BnU,IACR,CAQDoU,mBAAmBC,GAAe,GAEhC,OADArU,KAAKuO,sBAAwB8F,EACtBrU,IACR,CAQDsU,qBAAqBC,GAAc,GAEjC,OADAvU,KAAKwO,wBAA0B+F,EACxBvU,IACR,CASDwU,wBAAwBC,GAAa,GAEnC,OADAzU,KAAKwP,2BAA6BiF,EAC3BzU,IACR,CAWD0U,mBAAmBC,GAAc,GAE/B,GADA3U,KAAKyP,sBAAwBkF,EACvB3U,KAAKmF,QAAUwP,IAAgB3U,KAAKmF,OAAOqK,yBAC/C,MAAM,IAAI/P,MAAM,uGAElB,OAAOO,IACR,CAUD4U,yBAAyBC,GAAoB,GAE3C,GADA7U,KAAK8O,4BAA8B+F,EAC/B7U,KAAKqE,QAAQpD,OACf,MAAM,IAAIxB,MAAM,0DAElB,OAAOO,IACR,CASD0T,eAAe9H,GACb,OAAI5L,KAAK8O,0BACA9O,KAAK4L,GAEP5L,KAAK4O,cAAchD,EAC3B,CAUDkJ,eAAelJ,EAAKzK,GAClB,OAAOnB,KAAKoT,yBAAyBxH,EAAKzK,OAAOhB,EAClD,CAWDiT,yBAAyBxH,EAAKzK,EAAO4T,GAOnC,OANI/U,KAAK8O,0BACP9O,KAAK4L,GAAOzK,EAEZnB,KAAK4O,cAAchD,GAAOzK,EAE5BnB,KAAK6O,oBAAoBjD,GAAOmJ,EACzB/U,IACR,CAUDgV,qBAAqBpJ,GACnB,OAAO5L,KAAK6O,oBAAoBjD,EACjC,CAUDqJ,gCAAgCrJ,GAE9B,IAAImJ,EAMJ,OALAG,qBAAqBlV,MAAMuF,SAAS5C,SACIxC,IAAlCwC,EAAIqS,qBAAqBpJ,KAC3BmJ,EAASpS,EAAIqS,qBAAqBpJ,GACnC,IAEImJ,CACR,CASDI,iBAAiBC,EAAMC,GACrB,QAAalV,IAATiV,IAAuB/T,MAAMC,QAAQ8T,GACvC,MAAM,IAAI3V,MAAM,uDAelB,IAAI6V,EACJ,OAdAD,EAAeA,GAAgB,QAGlBlV,IAATiV,IACFA,EAAOrH,UAAQqH,KAEXrH,UAAQwH,UAAYxH,UAAQwH,SAASC,WACvCH,EAAapI,KAAO,aAGxBjN,KAAKyO,QAAU2G,EAAKpU,QAIZqU,EAAapI,MACnB,UAAK9M,EACL,IAAK,OACHH,KAAK2O,YAAcyG,EAAK,GACxBE,EAAWF,EAAKpU,MAAM,GACtB,MACF,IAAK,WAEC+M,UAAQ0H,YACVzV,KAAK2O,YAAcyG,EAAK,GACxBE,EAAWF,EAAKpU,MAAM,IAEtBsU,EAAWF,EAAKpU,MAAM,GAExB,MACF,IAAK,OACHsU,EAAWF,EAAKpU,MAAM,GACtB,MACF,QACE,MAAM,IAAIvB,MAAM,oCAAoC4V,EAAapI,WAOrE,OAHKjN,KAAKe,OAASf,KAAK2O,aAAa3O,KAAK0V,iBAAiB1V,KAAK2O,aAChE3O,KAAKe,MAAQf,KAAKe,OAAS,UAEpBuU,CACR,CAmBDK,MAAMP,EAAMC,GACV,MAAMC,EAAWtV,KAAKmV,iBAAiBC,EAAMC,GAG7C,OAFArV,KAAK4V,cAAc,GAAIN,GAEhBtV,IACR,CAqBD6V,iBAAiBT,EAAMC,GACrB,MAAMC,EAAWtV,KAAKmV,iBAAiBC,EAAMC,GAG7C,aAFMrV,KAAK4V,cAAc,GAAIN,GAEtBtV,IACR,CAQD8V,mBAAmBC,EAAYrQ,GAC7BA,EAAOA,EAAK1E,QACZ,IAAIgV,GAAiB,EACrB,MAAMC,EAAY,CAAC,MAAO,MAAO,OAAQ,OAAQ,QAEjD,SAASC,EAASC,EAASC,GAEzB,MAAMC,EAAW1I,OAAK2I,QAAQH,EAASC,GACvC,GAAIvI,KAAG0I,WAAWF,GAAW,OAAOA,EAGpC,GAAIJ,EAAUnU,SAAS6L,OAAK6I,QAAQJ,IAAY,OAGhD,MAAMK,EAAWR,EAAUzQ,MAAKkR,GAAO7I,KAAG0I,WAAW,GAAGF,IAAWK,OACnE,OAAID,EAAiB,GAAGJ,IAAWI,SAAnC,CAGD,CAGDzW,KAAK2W,mCACL3W,KAAK4W,8BAGL,IA4BIC,EA5BAzF,EAAiB2E,EAAW9G,iBAAmB,GAAGjP,KAAKe,SAASgV,EAAWhV,QAC3E+V,EAAgB9W,KAAKkP,gBAAkB,GAC3C,GAAIlP,KAAK2O,YAAa,CACpB,IAAIoI,EACJ,IACEA,EAAqBlJ,KAAGmJ,aAAahX,KAAK2O,YAC3C,CAAC,MAAO+D,GACPqE,EAAqB/W,KAAK2O,WAC3B,CACDmI,EAAgBnJ,OAAK2I,QAAQ3I,OAAKsJ,QAAQF,GAAqBD,EAChE,CAGD,GAAIA,EAAe,CACjB,IAAII,EAAYhB,EAASY,EAAe1F,GAGxC,IAAK8F,IAAcnB,EAAW9G,iBAAmBjP,KAAK2O,YAAa,CACjE,MAAMwI,EAAaxJ,OAAKyJ,SAASpX,KAAK2O,YAAahB,OAAK6I,QAAQxW,KAAK2O,cACjEwI,IAAenX,KAAKe,QACtBmW,EAAYhB,EAASY,EAAe,GAAGK,KAAcpB,EAAWhV,SAEnE,CACDqQ,EAAiB8F,GAAa9F,CAC/B,CAsBD,GApBA4E,EAAiBC,EAAUnU,SAAS6L,OAAK6I,QAAQpF,IAGxB,UAArBrD,UAAQsJ,SACNrB,GACFtQ,EAAK4R,QAAQlG,GAEb1L,EAAO6R,2BAA2BxJ,UAAQyJ,UAAUjW,OAAOmE,GAE3DmR,EAAOpJ,aAAagK,MAAM1J,UAAQqH,KAAK,GAAI1P,EAAM,CAAEgS,MAAO,aAE1Db,EAAOpJ,aAAagK,MAAMrG,EAAgB1L,EAAM,CAAEgS,MAAO,aAG3DhS,EAAK4R,QAAQlG,GAEb1L,EAAO6R,2BAA2BxJ,UAAQyJ,UAAUjW,OAAOmE,GAC3DmR,EAAOpJ,aAAagK,MAAM1J,UAAQ4J,SAAUjS,EAAM,CAAEgS,MAAO,cAGxDb,EAAKe,OAAQ,CACA,CAAC,UAAW,UAAW,UAAW,SAAU,UACpDrS,SAASsS,IAEf9J,UAAQ4F,GAAGkE,GAAQ,MACG,IAAhBhB,EAAKe,QAAsC,OAAlBf,EAAKlX,UAChCkX,EAAKiB,KAAKD,EACX,GACD,GAEL,CAID,MAAME,EAAe/X,KAAKoP,cACrB2I,EAGHlB,EAAKlD,GAAG,SAAS,KACfoE,EAAa,IAAIvY,iBAAeuO,UAAQpO,UAAY,EAAG,mCAAoC,WAAW,IAHxGkX,EAAKlD,GAAG,QAAS5F,UAAQ6E,KAAKoF,KAAKjK,YAMrC8I,EAAKlD,GAAG,SAAUjB,IAEhB,GAAiB,WAAbA,EAAI9S,KAAmB,CACzB,MAAMqY,EAAuBnB,EACzB,wDAAwDA,KACxD,kGACEoB,EAAoB,IAAI9G,6BAC7B2E,EAAWhV,0PAEfkX,IACG,MAAM,IAAIxY,MAAMyY,EAExB,CAAa,GAAiB,WAAbxF,EAAI9S,KACb,MAAM,IAAIH,MAAM,IAAI2R,qBAEtB,GAAK2G,EAEE,CACL,MAAMI,EAAe,IAAI3Y,iBAAe,EAAG,mCAAoC,WAC/E2Y,EAAajY,YAAcwS,EAC3BqF,EAAaI,EACd,MALCpK,UAAQ6E,KAAK,EAKd,IAIH5S,KAAKoY,eAAiBvB,CACvB,CAMDwB,oBAAoBC,EAAaC,EAAUC,GACzC,MAAMC,EAAazY,KAAKoS,aAAakG,GAGrC,IAAII,EASJ,OAXKD,GAAYzY,KAAK0J,KAAK,CAAErJ,OAAO,IAGpCqY,EAAa1Y,KAAK2Y,2BAA2BD,EAAYD,EAAY,iBACrEC,EAAa1Y,KAAK4Y,aAAaF,GAAY,KACzC,IAAID,EAAWzJ,mBAGb,OAAOyJ,EAAW7C,cAAc2C,EAAUC,GAF1CxY,KAAK8V,mBAAmB2C,EAAYF,EAAShX,OAAOiX,GAGrD,IAEIE,CACR,CAQDG,0BAEE7Y,KAAKsF,MAAMC,SAAQ,CAAC1D,EAAK2H,KACnB3H,EAAIf,UAA4B,MAAhBd,KAAK0F,KAAK8D,IAC5BxJ,KAAK8Y,gBAAgBjX,EAAI5B,OAC1B,IAGCD,KAAKsF,MAAMrE,OAAS,GAAKjB,KAAKsF,MAAMtF,KAAKsF,MAAMrE,OAAS,GAAGR,UAG3DT,KAAK0F,KAAKzE,OAASjB,KAAKsF,MAAMrE,QAChCjB,KAAK+Y,iBAAiB/Y,KAAK0F,KAE9B,CAQDsT,oBACE,MAAMC,EAAa,CAAC7W,EAAUjB,EAAOC,KAEnC,IAAI8X,EAAc/X,EAClB,GAAc,OAAVA,GAAkBiB,EAAS1B,SAC7B,IACEwY,EAAc9W,EAAS1B,SAASS,EAAOC,EACxC,CAAC,MAAOsR,GACP,GAAiB,8BAAbA,EAAI9S,KAAsC,CAC5C,MAAMC,EAAU,kCAAkCsB,+BAAmCiB,EAASnC,YAAYyS,EAAI7S,UAC9GG,KAAKK,MAAMR,EAAS,CAAEF,SAAU+S,EAAI/S,SAAUC,KAAM8S,EAAI9S,MACzD,CACD,MAAM8S,CACP,CAEH,OAAOwG,CAAW,EAGpBlZ,KAAK6Y,0BAEL,MAAMnK,EAAgB,GACtB1O,KAAKsF,MAAMC,SAAQ,CAAC4T,EAAaC,KAC/B,IAAIjY,EAAQgY,EAAYxY,aACpBwY,EAAY1Y,SAEV2Y,EAAQpZ,KAAK0F,KAAKzE,QACpBE,EAAQnB,KAAK0F,KAAK1E,MAAMoY,GACpBD,EAAYzY,WACdS,EAAQA,EAAM+E,QAAO,CAACmT,EAAWC,IACxBL,EAAWE,EAAaG,EAAGD,IACjCF,EAAYxY,qBAEER,IAAVgB,IACTA,EAAQ,IAEDiY,EAAQpZ,KAAK0F,KAAKzE,SAC3BE,EAAQnB,KAAK0F,KAAK0T,GACdD,EAAYzY,WACdS,EAAQ8X,EAAWE,EAAahY,EAAOgY,EAAYxY,gBAGvD+N,EAAc0K,GAASjY,CAAK,IAE9BnB,KAAK0O,cAAgBA,CACtB,CAWDkK,aAAaW,EAAS7X,GAEpB,OAAI6X,GAAWA,EAAQC,MAAgC,mBAAjBD,EAAQC,KAErCD,EAAQC,MAAK,IAAM9X,MAGrBA,GACR,CAUD+X,kBAAkBF,EAASjH,GACzB,IAAIoH,EAASH,EACb,MAAMI,EAAQ,GAkBd,OAjBAzE,qBAAqBlV,MAClB4Z,UACA/W,QAAOF,QAAsCxC,IAA/BwC,EAAI+M,gBAAgB4C,KAClC/M,SAAQsU,IACPA,EAAcnK,gBAAgB4C,GAAO/M,SAASuU,IAC5CH,EAAMlW,KAAK,CAAEoW,gBAAeC,YAAW,GACvC,IAEQ,eAAVxH,GACFqH,EAAMC,UAGRD,EAAMpU,SAASwU,IACbL,EAAS1Z,KAAK4Y,aAAac,GAAQ,IAC1BK,EAAWD,SAASC,EAAWF,cAAe7Z,OACrD,IAEG0Z,CACR,CAWDf,2BAA2BY,EAASd,EAAYnG,GAC9C,IAAIoH,EAASH,EAQb,YAPoCpZ,IAAhCH,KAAK0P,gBAAgB4C,IACvBtS,KAAK0P,gBAAgB4C,GAAO/M,SAAS8M,IACnCqH,EAAS1Z,KAAK4Y,aAAac,GAAQ,IAC1BrH,EAAKrS,KAAMyY,IAClB,IAGCiB,CACR,CASD9D,cAAc2C,EAAUC,GACtB,MAAMwB,EAASha,KAAKqV,aAAamD,GAOjC,GANAxY,KAAKia,mBACLja,KAAKka,uBACL3B,EAAWA,EAAShX,OAAOyY,EAAOzB,UAClCC,EAAUwB,EAAOxB,QACjBxY,KAAK0F,KAAO6S,EAAShX,OAAOiX,GAExBD,GAAYvY,KAAKoS,aAAamG,EAAS,IACzC,OAAOvY,KAAKqY,oBAAoBE,EAAS,GAAIA,EAASvX,MAAM,GAAIwX,GAElE,GAAIxY,KAAK+C,2BAA6BwV,EAAS,KAAOvY,KAAKyQ,iBAIzD,OAHwB,IAApB8H,EAAStX,QACXjB,KAAK0J,OAEA1J,KAAKqY,oBAAoBE,EAAS,GAAI,GAAI,CAACvY,KAAK4E,gBAEzD,GAAI5E,KAAKmP,oBAEP,OADAgL,sBAAsBna,KAAMwY,GACrBxY,KAAKqY,oBAAoBrY,KAAKmP,oBAAqBoJ,EAAUC,IAElExY,KAAK4C,SAAS3B,QAA+B,IAArBjB,KAAK0F,KAAKzE,QAAiBjB,KAAK+O,gBAAmB/O,KAAKmP,qBAElFnP,KAAK0J,KAAK,CAAErJ,OAAO,IAGrB8Z,sBAAsBna,KAAMga,EAAOxB,SACnCxY,KAAK2W,mCACL3W,KAAK4W,8BAGL,MAAMwD,EAAyB,KACzBJ,EAAOxB,QAAQvX,OAAS,GAC1BjB,KAAKqa,cAAcL,EAAOxB,QAAQ,GACnC,EAGG8B,EAAe,WAAWta,KAAKC,SACrC,GAAID,KAAK+O,eAAgB,CAIvB,IAAIwL,EASJ,OAZAH,IACApa,KAAKgZ,oBAGLuB,EAAeva,KAAKyZ,kBAAkBc,EAAc,aACpDA,EAAeva,KAAK4Y,aAAa2B,GAAc,IAAMva,KAAK+O,eAAe/O,KAAK0O,iBAC1E1O,KAAKmF,SACPoV,EAAeva,KAAK4Y,aAAa2B,GAAc,KAC7Cva,KAAKmF,OAAOqV,KAAKF,EAAc/B,EAAUC,EAAQ,KAGrD+B,EAAeva,KAAKyZ,kBAAkBc,EAAc,cAC7CA,CACR,CACD,GAAIva,KAAKmF,QAAUnF,KAAKmF,OAAOsV,cAAcH,GAC3CF,IACApa,KAAKgZ,oBACLhZ,KAAKmF,OAAOqV,KAAKF,EAAc/B,EAAUC,QACpC,GAAID,EAAStX,OAAQ,CAC1B,GAAIjB,KAAKoS,aAAa,KACpB,OAAOpS,KAAKqY,oBAAoB,IAAKE,EAAUC,GAE7CxY,KAAKya,cAAc,aAErBza,KAAKwa,KAAK,YAAajC,EAAUC,GACxBxY,KAAK4C,SAAS3B,OACvBjB,KAAK0a,kBAELN,IACApa,KAAKgZ,oBAEb,MAAehZ,KAAK4C,SAAS3B,QACvBmZ,IAEApa,KAAK0J,KAAK,CAAErJ,OAAO,MAEnB+Z,IACApa,KAAKgZ,oBAGR,CAOD5G,aAAanS,GACX,GAAKA,EACL,OAAOD,KAAK4C,SAAS4C,MAAK7C,GAAOA,EAAI5B,QAAUd,GAAQ0C,EAAIiD,SAAS9D,SAAS7B,IAC9E,CAUDyE,YAAY7C,GACV,OAAO7B,KAAKqE,QAAQmB,MAAKxB,GAAUA,EAAOoH,GAAGvJ,IAC9C,CASD8U,mCAEE,IAAK,IAAIhU,EAAM3C,KAAM2C,EAAKA,EAAMA,EAAIwC,OAClCxC,EAAI0B,QAAQkB,SAASoV,IACfA,EAAS9Q,gBAA+D1J,IAAjDwC,EAAI+Q,eAAeiH,EAASzP,kBACrDvI,EAAIiY,4BAA4BD,EACjC,GAGN,CAODE,mCACE,MAAMC,EAA2B9a,KAAKqE,QAAQxB,QAC3CmB,IACC,MAAMgI,EAAYhI,EAAOkH,gBACzB,YAAuC/K,IAAnCH,KAAK0T,eAAe1H,IAGwB,YAAzChM,KAAKgV,qBAAqBhJ,EAAwB,IAIvD+O,EAAyBD,EAAyBjY,QACrDmB,GAAWA,EAAOoG,cAAcnJ,OAAS,IAG5C8Z,EAAuBxV,SAASvB,IAC9B,MAAMgX,EAAwBF,EAAyBtV,MAAMyV,GAC3DjX,EAAOoG,cAActI,SAASmZ,EAAQ/P,mBAEpC8P,GACFhb,KAAKkb,mBAAmBlX,EAAQgX,EACjC,GAEJ,CAQDpE,8BAEE,IAAK,IAAIjU,EAAM3C,KAAM2C,EAAKA,EAAMA,EAAIwC,OAClCxC,EAAIkY,kCAEP,CAkBDxF,aAAaD,GACX,MAAMmD,EAAW,GACXC,EAAU,GAChB,IAAI2C,EAAO5C,EACX,MAAM7S,EAAO0P,EAAKpU,QAElB,SAASoa,EAAYvZ,GACnB,OAAOA,EAAIZ,OAAS,GAAgB,MAAXY,EAAI,EAC9B,CAGD,IAAIwZ,EAAuB,KAC3B,KAAO3V,EAAKzE,QAAQ,CAClB,MAAMY,EAAM6D,EAAK6G,QAGjB,GAAY,OAAR1K,EAAc,CACZsZ,IAAS3C,GAAS2C,EAAK1X,KAAK5B,GAChCsZ,EAAK1X,QAAQiC,GACb,KACD,CAED,IAAI2V,GAAyBD,EAAYvZ,GAAzC,CAMA,GAFAwZ,EAAuB,KAEnBD,EAAYvZ,GAAM,CACpB,MAAMmC,EAAShE,KAAK0E,YAAY7C,GAEhC,GAAImC,EAAQ,CACV,GAAIA,EAAOlD,SAAU,CACnB,MAAMK,EAAQuE,EAAK6G,aACLpM,IAAVgB,GAAqBnB,KAAKsb,sBAAsBtX,GACpDhE,KAAKwa,KAAK,UAAUxW,EAAO/D,SAAUkB,EACjD,MAAiB,GAAI6C,EAAOqD,SAAU,CAC1B,IAAIlG,EAAQ,KAERuE,EAAKzE,OAAS,IAAMma,EAAY1V,EAAK,MACvCvE,EAAQuE,EAAK6G,SAEfvM,KAAKwa,KAAK,UAAUxW,EAAO/D,SAAUkB,EACjD,MACYnB,KAAKwa,KAAK,UAAUxW,EAAO/D,UAE7Bob,EAAuBrX,EAAOvD,SAAWuD,EAAS,KAClD,QACD,CACF,CAGD,GAAInC,EAAIZ,OAAS,GAAgB,MAAXY,EAAI,IAAyB,MAAXA,EAAI,GAAY,CACtD,MAAMmC,EAAShE,KAAK0E,YAAY,IAAI7C,EAAI,MACxC,GAAImC,EAAQ,CACNA,EAAOlD,UAAakD,EAAOqD,UAAYrH,KAAKqP,6BAE9CrP,KAAKwa,KAAK,UAAUxW,EAAO/D,SAAU4B,EAAIb,MAAM,KAG/ChB,KAAKwa,KAAK,UAAUxW,EAAO/D,UAC3ByF,EAAK4R,QAAQ,IAAIzV,EAAIb,MAAM,OAE7B,QACD,CACF,CAGD,GAAI,YAAY4I,KAAK/H,GAAM,CACzB,MAAMuX,EAAQvX,EAAI0Z,QAAQ,KACpBvX,EAAShE,KAAK0E,YAAY7C,EAAIb,MAAM,EAAGoY,IAC7C,GAAIpV,IAAWA,EAAOlD,UAAYkD,EAAOqD,UAAW,CAClDrH,KAAKwa,KAAK,UAAUxW,EAAO/D,SAAU4B,EAAIb,MAAMoY,EAAQ,IACvD,QACD,CACF,CAWD,GALIgC,EAAYvZ,KACdsZ,EAAO3C,IAIJxY,KAAKwP,0BAA4BxP,KAAKyP,sBAA4C,IAApB8I,EAAStX,QAAmC,IAAnBuX,EAAQvX,OAAc,CAChH,GAAIjB,KAAKoS,aAAavQ,GAAM,CAC1B0W,EAAS9U,KAAK5B,GACV6D,EAAKzE,OAAS,GAAGuX,EAAQ/U,QAAQiC,GACrC,KACV,CAAe,GAAI7D,IAAQ7B,KAAKyQ,kBAAoBzQ,KAAK+C,0BAA2B,CAC1EwV,EAAS9U,KAAK5B,GACV6D,EAAKzE,OAAS,GAAGsX,EAAS9U,QAAQiC,GACtC,KACV,CAAe,GAAI1F,KAAKmP,oBAAqB,CACnCqJ,EAAQ/U,KAAK5B,GACT6D,EAAKzE,OAAS,GAAGuX,EAAQ/U,QAAQiC,GACrC,KACD,CACF,CAGD,GAAI1F,KAAKyP,oBAAqB,CAC5B0L,EAAK1X,KAAK5B,GACN6D,EAAKzE,OAAS,GAAGka,EAAK1X,QAAQiC,GAClC,KACD,CAGDyV,EAAK1X,KAAK5B,EArFT,MAFC7B,KAAKwa,KAAK,UAAUa,EAAqBpb,SAAU4B,EAwFtD,CAED,MAAO,CAAE0W,WAAUC,UACpB,CAODvH,OACE,GAAIjR,KAAK8O,0BAA2B,CAElC,MAAM4K,EAAS,CAAA,EACT8B,EAAMxb,KAAKqE,QAAQpD,OAEzB,IAAK,IAAIuI,EAAI,EAAGA,EAAIgS,EAAKhS,IAAK,CAC5B,MAAMoC,EAAM5L,KAAKqE,QAAQmF,GAAG0B,gBAC5BwO,EAAO9N,GAAOA,IAAQ5L,KAAKyb,mBAAqBzb,KAAK0b,SAAW1b,KAAK4L,EACtE,CACD,OAAO8N,CACR,CAED,OAAO1Z,KAAK4O,aACb,CAOD+M,kBAEE,OAAOzG,qBAAqBlV,MAAMkG,QAChC,CAAC0V,EAAiBjZ,IAAQiI,OAAOC,OAAO+Q,EAAiBjZ,EAAIsO,SAC7D,CAAE,EAEL,CAUD5Q,MAAMR,EAASgc,GAEb7b,KAAK6P,qBAAqBU,YAAY,GAAG1Q,MAAaG,KAAK6P,qBAAqBI,UACxC,iBAA7BjQ,KAAK2P,oBACd3P,KAAK6P,qBAAqBI,SAAS,GAAGjQ,KAAK2P,yBAClC3P,KAAK2P,sBACd3P,KAAK6P,qBAAqBI,SAAS,MACnCjQ,KAAK8b,WAAW,CAAEzb,OAAO,KAI3B,MAAMwT,EAASgI,GAAgB,GACzBlc,EAAWkU,EAAOlU,UAAY,EAC9BC,EAAOiU,EAAOjU,MAAQ,kBAC5BI,KAAK2S,MAAMhT,EAAUC,EAAMC,EAC5B,CAQDoa,mBACEja,KAAKqE,QAAQkB,SAASvB,IACpB,GAAIA,EAAOwD,QAAUxD,EAAOwD,UAAUuG,UAAQjD,IAAK,CACjD,MAAMkB,EAAYhI,EAAOkH,sBAEc/K,IAAnCH,KAAK0T,eAAe1H,IAA4B,CAAC,UAAW,SAAU,OAAOlK,SAAS9B,KAAKgV,qBAAqBhJ,OAC9GhI,EAAOlD,UAAYkD,EAAOqD,SAE5BrH,KAAKwa,KAAK,aAAaxW,EAAO/D,SAAU8N,UAAQjD,IAAI9G,EAAOwD,SAG3DxH,KAAKwa,KAAK,aAAaxW,EAAO/D,UAGnC,IAEJ,CAODia,uBACE,MAAM6B,EAAa,IAAI1Q,YAAYrL,KAAKqE,SAClC2X,EAAwBhQ,QACc7L,IAAnCH,KAAK0T,eAAe1H,KAA6B,CAAC,UAAW,WAAWlK,SAAS9B,KAAKgV,qBAAqBhJ,IAEpHhM,KAAKqE,QACFxB,QAAOmB,QAA8B7D,IAAnB6D,EAAOqG,SACxB2R,EAAqBhY,EAAOkH,kBAC5B6Q,EAAWhQ,gBAAgB/L,KAAK0T,eAAe1P,EAAOkH,iBAAkBlH,KACzEuB,SAASvB,IACR4G,OAAOqR,KAAKjY,EAAOqG,SAChBxH,QAAOqZ,IAAeF,EAAqBE,KAC3C3W,SAAQ2W,IACPlc,KAAKoT,yBAAyB8I,EAAYlY,EAAOqG,QAAQ6R,GAAa,UAAU,GAChF,GAET,CASDpD,gBAAgB7Y,GACd,MAAMJ,EAAU,qCAAqCI,KACrDD,KAAKK,MAAMR,EAAS,CAAED,KAAM,6BAC7B,CASD0b,sBAAsBtX,GACpB,MAAMnE,EAAU,kBAAkBmE,EAAO8B,0BACzC9F,KAAKK,MAAMR,EAAS,CAAED,KAAM,mCAC7B,CASDgb,4BAA4B5W,GAC1B,MAAMnE,EAAU,2BAA2BmE,EAAO8B,uBAClD9F,KAAKK,MAAMR,EAAS,CAAED,KAAM,yCAC7B,CASDsb,mBAAmBlX,EAAQmY,GAGzB,MAAMC,EAA2BpY,IAC/B,MAAMgI,EAAYhI,EAAOkH,gBACnBmR,EAAcrc,KAAK0T,eAAe1H,GAClCsQ,EAAiBtc,KAAKqE,QAAQmB,MAAK+W,GAAUA,EAAOrS,QAAU8B,IAAcuQ,EAAOrR,kBACnFsR,EAAiBxc,KAAKqE,QAAQmB,MAAK+W,IAAWA,EAAOrS,QAAU8B,IAAcuQ,EAAOrR,kBAC1F,OAAIoR,SAC4Bnc,IAA7Bmc,EAAe/U,YAA2C,IAAhB8U,QACblc,IAA7Bmc,EAAe/U,WAA2B8U,IAAgBC,EAAe/U,WAEnE+U,EAEFE,GAAkBxY,CAAM,EAG3ByY,EAAmBzY,IACvB,MAAM0Y,EAAaN,EAAwBpY,GACrCgI,EAAY0Q,EAAWxR,gBAE7B,MAAe,QADAlL,KAAKgV,qBAAqBhJ,GAEhC,yBAAyB0Q,EAAWlV,UAEtC,WAAWkV,EAAW5W,QAAQ,EAGjCjG,EAAU,UAAU4c,EAAgBzY,0BAA+ByY,EAAgBN,KACzFnc,KAAKK,MAAMR,EAAS,CAAED,KAAM,+BAC7B,CASDya,cAAcsC,GACZ,GAAI3c,KAAKuO,oBAAqB,OAC9B,IAAIqO,EAAa,GAEjB,GAAID,EAAKxS,WAAW,OAASnK,KAAK4P,0BAA2B,CAE3D,IAAIiN,EAAiB,GACjBzW,EAAUpG,KACd,EAAG,CACD,MAAM8c,EAAY1W,EAAQiL,aAAajN,eAAegC,GACnDvD,QAAOmB,GAAUA,EAAOG,OACxBwB,KAAI3B,GAAUA,EAAOG,OACxB0Y,EAAiBA,EAAetb,OAAOub,GACvC1W,EAAUA,EAAQjB,MAC1B,OAAeiB,IAAYA,EAAQoJ,0BAC7BoN,EAAa7P,eAAe4P,EAAME,EACnC,CAED,MAAMhd,EAAU,0BAA0B8c,KAAQC,IAClD5c,KAAKK,MAAMR,EAAS,CAAED,KAAM,2BAC7B,CASDmZ,iBAAiBgE,GACf,GAAI/c,KAAKwO,sBAAuB,OAEhC,MAAMwO,EAAWhd,KAAKsF,MAAMrE,OACtBgc,EAAkB,IAAbD,EAAkB,GAAK,IAE5Bnd,EAAU,4BADMG,KAAKmF,OAAS,SAASnF,KAAKC,UAAY,gBACS+c,aAAoBC,aAAaF,EAAa9b,UACrHjB,KAAKK,MAAMR,EAAS,CAAED,KAAM,6BAC7B,CAQD8a,iBACE,MAAMwC,EAAcld,KAAK0F,KAAK,GAC9B,IAAIkX,EAAa,GAEjB,GAAI5c,KAAK4P,0BAA2B,CAClC,MAAMuN,EAAiB,GACvBnd,KAAKqR,aAAa3O,gBAAgB1C,MAAMuF,SAASa,IAC/C+W,EAAe1Z,KAAK2C,EAAQnG,QAExBmG,EAAQgX,SAASD,EAAe1Z,KAAK2C,EAAQgX,QAAQ,IAE3DR,EAAa7P,eAAemQ,EAAaC,EAC1C,CAED,MAAMtd,EAAU,2BAA2Bqd,KAAeN,IAC1D5c,KAAKK,MAAMR,EAAS,CAAED,KAAM,4BAC7B,CAgBDyd,QAAQ1U,EAAK7C,EAAOtF,GAClB,QAAYL,IAARwI,EAAmB,OAAO3I,KAAK0b,SACnC1b,KAAK0b,SAAW/S,EAChB7C,EAAQA,GAAS,gBACjBtF,EAAcA,GAAe,4BAC7B,MAAM8c,EAAgBtd,KAAK6E,aAAaiB,EAAOtF,GAO/C,OANAR,KAAKyb,mBAAqB6B,EAAcpS,gBACxClL,KAAKqE,QAAQZ,KAAK6Z,GAClBtd,KAAK2T,GAAG,UAAY2J,EAAcrd,QAAQ,KACxCD,KAAK6P,qBAAqBC,SAAS,GAAGnH,OACtC3I,KAAK2S,MAAM,EAAG,oBAAqBhK,EAAI,IAElC3I,IACR,CASDQ,YAAYmI,EAAK4U,GACf,YAAYpd,IAARwI,QAAyCxI,IAApBod,EAAsCvd,KAAKsP,cACpEtP,KAAKsP,aAAe3G,EAChB4U,IACFvd,KAAKqF,iBAAmBkY,GAEnBvd,KACR,CAQD+G,QAAQ4B,GACN,YAAYxI,IAARwI,EAA0B3I,KAAKuP,UACnCvP,KAAKuP,SAAW5G,EACT3I,KACR,CAWDod,MAAMA,GACJ,QAAcjd,IAAVid,EAAqB,OAAOpd,KAAK4F,SAAS,GAG9C,IAAIQ,EAAUpG,KAMd,GAL6B,IAAzBA,KAAK4C,SAAS3B,QAAgBjB,KAAK4C,SAAS5C,KAAK4C,SAAS3B,OAAS,GAAG+N,qBAExE5I,EAAUpG,KAAK4C,SAAS5C,KAAK4C,SAAS3B,OAAS,IAG7Cmc,IAAUhX,EAAQrF,MAAO,MAAM,IAAItB,MAAM,+CAG7C,OADA2G,EAAQR,SAASnC,KAAK2Z,GACfpd,IACR,CAWDwd,QAAQA,GAEN,YAAgBrd,IAAZqd,EAA8Bxd,KAAK4F,UAEvC4X,EAAQjY,SAAS6X,GAAUpd,KAAKod,MAAMA,KAC/Bpd,KACR,CASD4G,MAAM+B,GACJ,QAAYxI,IAARwI,EAAmB,CACrB,GAAI3I,KAAKyd,OAAQ,OAAOzd,KAAKyd,OAE7B,MAAM/X,EAAO1F,KAAKsF,MAAMK,KAAK9D,GACpBK,qBAAqBL,KAE9B,MAAO,GAAGN,OACPvB,KAAKqE,QAAQpD,QAAUjB,KAAKwE,eAAiB,YAAc,GAC3DxE,KAAK4C,SAAS3B,OAAS,YAAc,GACrCjB,KAAKsF,MAAMrE,OAASyE,EAAO,IAC5B3D,KAAK,IACR,CAGD,OADA/B,KAAKyd,OAAS9U,EACP3I,IACR,CASDC,KAAK0I,GACH,YAAYxI,IAARwI,EAA0B3I,KAAKe,OACnCf,KAAKe,MAAQ4H,EACN3I,KACR,CAeD0V,iBAAiBgI,GAGf,OAFA1d,KAAKe,MAAQ4M,OAAKyJ,SAASsG,EAAU/P,OAAK6I,QAAQkH,IAE3C1d,IACR,CAcD8W,cAAcnJ,GACZ,YAAaxN,IAATwN,EAA2B3N,KAAKkP,gBACpClP,KAAKkP,eAAiBvB,EACf3N,KACR,CASD2d,gBAAgBC,GACd,MAAM3X,EAASjG,KAAKqR,aAIpB,YAHyBlR,IAArB8F,EAAO3D,YACT2D,EAAO3D,UAAasb,GAAkBA,EAAevd,MAASL,KAAK6P,qBAAqBS,kBAAoBtQ,KAAK6P,qBAAqBM,mBAEjIlK,EAAO0B,WAAW3H,KAAMiG,EAChC,CAMD4X,gBAAgBD,GAEd,MAAME,EAAU,CAAEzd,SADlBud,EAAiBA,GAAkB,IACOvd,OAC1C,IAAI2P,EAQJ,OANEA,EADE8N,EAAQzd,MACDwB,GAAQ7B,KAAK6P,qBAAqBI,SAASpO,GAE3CA,GAAQ7B,KAAK6P,qBAAqBC,SAASjO,GAEtDic,EAAQ9N,MAAQ4N,EAAe5N,OAASA,EACxC8N,EAAQ1X,QAAUpG,KACX8d,CACR,CAUDhC,WAAW8B,GACT,IAAIG,EAC0B,mBAAnBH,IACTG,EAAqBH,EACrBA,OAAiBzd,GAEnB,MAAM2d,EAAU9d,KAAK6d,gBAAgBD,GAErC1I,qBAAqBlV,MAAM4Z,UAAUrU,SAAQa,GAAWA,EAAQoU,KAAK,gBAAiBsD,KACtF9d,KAAKwa,KAAK,aAAcsD,GAExB,IAAIH,EAAkB3d,KAAK2d,gBAAgBG,GAC3C,GAAIC,IACFJ,EAAkBI,EAAmBJ,GACN,iBAApBA,IAAiCK,OAAOC,SAASN,IAC1D,MAAM,IAAIle,MAAM,wDAGpBqe,EAAQ9N,MAAM2N,GAEd3d,KAAKwa,KAAKxa,KAAK4E,eACf5E,KAAKwa,KAAK,YAAasD,GACvB5I,qBAAqBlV,MAAMuF,SAAQa,GAAWA,EAAQoU,KAAK,eAAgBsD,IAC5E,CAYDxa,WAAWwC,EAAOtF,GAChB,GAAqB,kBAAVsF,EAET,OADA9F,KAAKwE,eAAiBsB,EACf9F,KAETA,KAAK8E,WAAagB,GAAS9F,KAAK8E,WAChC9E,KAAK+E,iBAAmBvE,GAAeR,KAAK+E,iBAE5C,MAAMmZ,EAAYnU,iBAAiB/J,KAAK8E,YAIxC,OAHA9E,KAAKyE,eAAiByZ,EAAUlU,UAChChK,KAAK4E,cAAgBsZ,EAAUjU,SAExBjK,IACR,CAUD0J,KAAKkU,GACH5d,KAAK8b,WAAW8B,GAChB,IAAIje,EAAWoO,UAAQpO,UAAY,EAClB,IAAbA,GAAkBie,GAA4C,mBAAnBA,GAAiCA,EAAevd,QAC7FV,EAAW,GAGbK,KAAK2S,MAAMhT,EAAU,iBAAkB,eACxC,CAYDwe,YAAYC,EAAUC,GACpB,MAAM7L,EAAgB,CAAC,YAAa,SAAU,QAAS,YACvD,IAAKA,EAAc1Q,SAASsc,GAC1B,MAAM,IAAI3e,MAAM,oEACF+S,EAAczQ,KAAK,YAEnC,MAAMuc,EAAY,GAAGF,QAarB,OAZApe,KAAK2T,GAAG2K,GAAYR,IAClB,IAAIS,EAEFA,EADkB,mBAATF,EACCA,EAAK,CAAEhe,MAAOyd,EAAQzd,MAAO+F,QAAS0X,EAAQ1X,UAE9CiY,EAGRE,GACFT,EAAQ9N,MAAM,GAAGuO,MAClB,IAEIve,IACR,EAWH,SAASma,sBAAsBxX,EAAK+C,GACf/C,EAAI6B,gBAAkBkB,EAAKF,MAAK3D,GAAOA,IAAQc,EAAIiC,eAAiB/C,IAAQc,EAAI8B,mBAEjG9B,EAAImZ,aAEJnZ,EAAIgQ,MAAM,EAAG,0BAA2B,gBAE5C,CAUA,SAAS4E,2BAA2B7R,GAKlC,OAAOA,EAAKC,KAAK9D,IACf,IAAKA,EAAIsI,WAAW,aAClB,OAAOtI,EAET,IAAI2c,EAGArb,EAFAsb,EAAY,YACZC,EAAY,OAqBhB,OAnBoD,QAA/Cvb,EAAQtB,EAAIsB,MAAM,yBAErBqb,EAAcrb,EAAM,GACmD,QAA7DA,EAAQtB,EAAIsB,MAAM,wCAC5Bqb,EAAcrb,EAAM,GAChB,QAAQyG,KAAKzG,EAAM,IAErBub,EAAYvb,EAAM,GAGlBsb,EAAYtb,EAAM,IAEyD,QAAnEA,EAAQtB,EAAIsB,MAAM,+CAE5Bqb,EAAcrb,EAAM,GACpBsb,EAAYtb,EAAM,GAClBub,EAAYvb,EAAM,IAGhBqb,GAA6B,MAAdE,EACV,GAAGF,KAAeC,KAAaE,SAASD,GAAa,IAEvD7c,CAAG,GAEd,CAQA,SAASqT,qBAAqB0J,GAC5B,MAAMlF,EAAS,GACf,IAAK,IAAItT,EAAUwY,EAAcxY,EAASA,EAAUA,EAAQjB,OAC1DuU,EAAOjW,KAAK2C,GAEd,OAAOsT,CACT,CAEAtT,QAAAkI,QAAkBA,4CCloElB,MAAM/N,SAAEA,GAAaD,UACfgO,QAAEA,GAAYZ,SACdlO,eAAEA,EAAcY,qBAAEA,GAAyBwN,SAC3CvL,KAAEA,GAASyL,MACXnE,OAAEA,GAAWqE,QAQnB6Q,EAAUC,EAAAD,QAAiB,IAAIvQ,GAC/ByQ,QAAkBF,EAOlBA,EAAAte,SAAmBA,EACnBse,EAAAvQ,QAAkBA,EAClBuQ,EAAArf,eAAyBA,EACzBqf,EAAAxc,KAAeA,EACfwc,EAAAze,qBAA+BA,EAC/Bye,EAAAG,2BAAqC5e,EACrCye,EAAAlV,OAAiBA,iICvBV,MAAMoV,QACXA,QAAO1b,cACPA,cAAayO,eACbA,eAAcjN,aACdA,aAAYrF,eACZA,eAAcY,qBACdA,qBAAoB4e,2BACpBA,2BAA0B1Q,QAC1BA,QAAO/N,SACPA,SAAQoJ,OACRA,OAAMtH,KACNA,MACE4c,UCbSC,YAAc,KACzBH,QAAQ/a,OACN,yBACA,iDAGF+a,QAAQ/a,OAAO,WAAY,8BAE3B+a,QAAQpL,GAAG,UAAU,WACnBwL,QAAQC,IAAI,IACZD,QAAQC,IAAI,SACZD,QAAQC,IAAI,cACZD,QAAQC,IAAI,oBACZD,QAAQC,IAAI,yBACZD,QAAQC,IAAI,8BAChB,GAAI,0PCfJC,UAAiB,CAChBC,UAAa,CAAC,IAAK,IAAK,KACxBC,aAAgB,CAAC,IAAK,IAAK,KAC3BC,KAAQ,CAAC,EAAG,IAAK,KACjBC,WAAc,CAAC,IAAK,IAAK,KACzBC,MAAS,CAAC,IAAK,IAAK,KACpBC,MAAS,CAAC,IAAK,IAAK,KACpBC,OAAU,CAAC,IAAK,IAAK,KACrBC,MAAS,CAAC,EAAG,EAAG,GAChBC,eAAkB,CAAC,IAAK,IAAK,KAC7BC,KAAQ,CAAC,EAAG,EAAG,KACfC,WAAc,CAAC,IAAK,GAAI,KACxBC,MAAS,CAAC,IAAK,GAAI,IACnBC,UAAa,CAAC,IAAK,IAAK,KACxBC,UAAa,CAAC,GAAI,IAAK,KACvBC,WAAc,CAAC,IAAK,IAAK,GACzBC,UAAa,CAAC,IAAK,IAAK,IACxBC,MAAS,CAAC,IAAK,IAAK,IACpBC,eAAkB,CAAC,IAAK,IAAK,KAC7BC,SAAY,CAAC,IAAK,IAAK,KACvBC,QAAW,CAAC,IAAK,GAAI,IACrBC,KAAQ,CAAC,EAAG,IAAK,KACjBC,SAAY,CAAC,EAAG,EAAG,KACnBC,SAAY,CAAC,EAAG,IAAK,KACrBC,cAAiB,CAAC,IAAK,IAAK,IAC5BC,SAAY,CAAC,IAAK,IAAK,KACvBC,UAAa,CAAC,EAAG,IAAK,GACtBC,SAAY,CAAC,IAAK,IAAK,KACvBC,UAAa,CAAC,IAAK,IAAK,KACxBC,YAAe,CAAC,IAAK,EAAG,KACxBC,eAAkB,CAAC,GAAI,IAAK,IAC5BC,WAAc,CAAC,IAAK,IAAK,GACzBC,WAAc,CAAC,IAAK,GAAI,KACxBC,QAAW,CAAC,IAAK,EAAG,GACpBC,WAAc,CAAC,IAAK,IAAK,KACzBC,aAAgB,CAAC,IAAK,IAAK,KAC3BC,cAAiB,CAAC,GAAI,GAAI,KAC1BC,cAAiB,CAAC,GAAI,GAAI,IAC1BC,cAAiB,CAAC,GAAI,GAAI,IAC1BC,cAAiB,CAAC,EAAG,IAAK,KAC1BC,WAAc,CAAC,IAAK,EAAG,KACvBC,SAAY,CAAC,IAAK,GAAI,KACtBC,YAAe,CAAC,EAAG,IAAK,KACxBC,QAAW,CAAC,IAAK,IAAK,KACtBC,QAAW,CAAC,IAAK,IAAK,KACtBC,WAAc,CAAC,GAAI,IAAK,KACxBC,UAAa,CAAC,IAAK,GAAI,IACvBC,YAAe,CAAC,IAAK,IAAK,KAC1BC,YAAe,CAAC,GAAI,IAAK,IACzBC,QAAW,CAAC,IAAK,EAAG,KACpBC,UAAa,CAAC,IAAK,IAAK,KACxBC,WAAc,CAAC,IAAK,IAAK,KACzBC,KAAQ,CAAC,IAAK,IAAK,GACnBC,UAAa,CAAC,IAAK,IAAK,IACxBC,KAAQ,CAAC,IAAK,IAAK,KACnBC,MAAS,CAAC,EAAG,IAAK,GAClBC,YAAe,CAAC,IAAK,IAAK,IAC1BC,KAAQ,CAAC,IAAK,IAAK,KACnBC,SAAY,CAAC,IAAK,IAAK,KACvBC,QAAW,CAAC,IAAK,IAAK,KACtBC,UAAa,CAAC,IAAK,GAAI,IACvBC,OAAU,CAAC,GAAI,EAAG,KAClBC,MAAS,CAAC,IAAK,IAAK,KACpBC,MAAS,CAAC,IAAK,IAAK,KACpBC,SAAY,CAAC,IAAK,IAAK,KACvBC,cAAiB,CAAC,IAAK,IAAK,KAC5BC,UAAa,CAAC,IAAK,IAAK,GACxBC,aAAgB,CAAC,IAAK,IAAK,KAC3BC,UAAa,CAAC,IAAK,IAAK,KACxBC,WAAc,CAAC,IAAK,IAAK,KACzBC,UAAa,CAAC,IAAK,IAAK,KACxBC,qBAAwB,CAAC,IAAK,IAAK,KACnCC,UAAa,CAAC,IAAK,IAAK,KACxBC,WAAc,CAAC,IAAK,IAAK,KACzBC,UAAa,CAAC,IAAK,IAAK,KACxBC,UAAa,CAAC,IAAK,IAAK,KACxBC,YAAe,CAAC,IAAK,IAAK,KAC1BC,cAAiB,CAAC,GAAI,IAAK,KAC3BC,aAAgB,CAAC,IAAK,IAAK,KAC3BC,eAAkB,CAAC,IAAK,IAAK,KAC7BC,eAAkB,CAAC,IAAK,IAAK,KAC7BC,eAAkB,CAAC,IAAK,IAAK,KAC7BC,YAAe,CAAC,IAAK,IAAK,KAC1BC,KAAQ,CAAC,EAAG,IAAK,GACjBC,UAAa,CAAC,GAAI,IAAK,IACvBC,MAAS,CAAC,IAAK,IAAK,KACpBC,QAAW,CAAC,IAAK,EAAG,KACpBC,OAAU,CAAC,IAAK,EAAG,GACnBC,iBAAoB,CAAC,IAAK,IAAK,KAC/BC,WAAc,CAAC,EAAG,EAAG,KACrBC,aAAgB,CAAC,IAAK,GAAI,KAC1BC,aAAgB,CAAC,IAAK,IAAK,KAC3BC,eAAkB,CAAC,GAAI,IAAK,KAC5BC,gBAAmB,CAAC,IAAK,IAAK,KAC9BC,kBAAqB,CAAC,EAAG,IAAK,KAC9BC,gBAAmB,CAAC,GAAI,IAAK,KAC7BC,gBAAmB,CAAC,IAAK,GAAI,KAC7BC,aAAgB,CAAC,GAAI,GAAI,KACzBC,UAAa,CAAC,IAAK,IAAK,KACxBC,UAAa,CAAC,IAAK,IAAK,KACxBC,SAAY,CAAC,IAAK,IAAK,KACvBC,YAAe,CAAC,IAAK,IAAK,KAC1BC,KAAQ,CAAC,EAAG,EAAG,KACfC,QAAW,CAAC,IAAK,IAAK,KACtBC,MAAS,CAAC,IAAK,IAAK,GACpBC,UAAa,CAAC,IAAK,IAAK,IACxBC,OAAU,CAAC,IAAK,IAAK,GACrBC,UAAa,CAAC,IAAK,GAAI,GACvBC,OAAU,CAAC,IAAK,IAAK,KACrBC,cAAiB,CAAC,IAAK,IAAK,KAC5BC,UAAa,CAAC,IAAK,IAAK,KACxBC,cAAiB,CAAC,IAAK,IAAK,KAC5BC,cAAiB,CAAC,IAAK,IAAK,KAC5BC,WAAc,CAAC,IAAK,IAAK,KACzBC,UAAa,CAAC,IAAK,IAAK,KACxBC,KAAQ,CAAC,IAAK,IAAK,IACnBC,KAAQ,CAAC,IAAK,IAAK,KACnBC,KAAQ,CAAC,IAAK,IAAK,KACnBC,WAAc,CAAC,IAAK,IAAK,KACzBC,OAAU,CAAC,IAAK,EAAG,KACnBC,cAAiB,CAAC,IAAK,GAAI,KAC3BC,IAAO,CAAC,IAAK,EAAG,GAChBC,UAAa,CAAC,IAAK,IAAK,KACxBC,UAAa,CAAC,GAAI,IAAK,KACvBC,YAAe,CAAC,IAAK,GAAI,IACzBC,OAAU,CAAC,IAAK,IAAK,KACrBC,WAAc,CAAC,IAAK,IAAK,IACzBC,SAAY,CAAC,GAAI,IAAK,IACtBC,SAAY,CAAC,IAAK,IAAK,KACvBC,OAAU,CAAC,IAAK,GAAI,IACpBC,OAAU,CAAC,IAAK,IAAK,KACrBC,QAAW,CAAC,IAAK,IAAK,KACtBC,UAAa,CAAC,IAAK,GAAI,KACvBC,UAAa,CAAC,IAAK,IAAK,KACxBC,UAAa,CAAC,IAAK,IAAK,KACxBC,KAAQ,CAAC,IAAK,IAAK,KACnBC,YAAe,CAAC,EAAG,IAAK,KACxBC,UAAa,CAAC,GAAI,IAAK,KACvBC,IAAO,CAAC,IAAK,IAAK,KAClBC,KAAQ,CAAC,EAAG,IAAK,KACjBC,QAAW,CAAC,IAAK,IAAK,KACtBC,OAAU,CAAC,IAAK,GAAI,IACpBC,UAAa,CAAC,GAAI,IAAK,KACvBC,OAAU,CAAC,IAAK,IAAK,KACrBC,MAAS,CAAC,IAAK,IAAK,KACpBC,MAAS,CAAC,IAAK,IAAK,KACpBC,WAAc,CAAC,IAAK,IAAK,KACzBC,OAAU,CAAC,IAAK,IAAK,GACrBC,YAAe,CAAC,IAAK,IAAK,4GCpJ3B,MAAMC,EAAcpoB,mBAMdqoB,EAAkB,CAAA,EACxB,IAAK,MAAM/c,KAAOhB,OAAOqR,KAAKyM,GAC7BC,EAAgBD,EAAY9c,IAAQA,EAGrC,MAAMgd,EAAU,CACfC,IAAK,CAACC,SAAU,EAAGC,OAAQ,OAC3BC,IAAK,CAACF,SAAU,EAAGC,OAAQ,OAC3BE,IAAK,CAACH,SAAU,EAAGC,OAAQ,OAC3BG,IAAK,CAACJ,SAAU,EAAGC,OAAQ,OAC3BI,KAAM,CAACL,SAAU,EAAGC,OAAQ,QAC5BK,IAAK,CAACN,SAAU,EAAGC,OAAQ,OAC3BM,IAAK,CAACP,SAAU,EAAGC,OAAQ,OAC3BO,IAAK,CAACR,SAAU,EAAGC,OAAQ,OAC3BQ,IAAK,CAACT,SAAU,EAAGC,OAAQ,CAAC,QAC5BS,QAAS,CAACV,SAAU,EAAGC,OAAQ,CAAC,YAChCU,OAAQ,CAACX,SAAU,EAAGC,OAAQ,CAAC,WAC/BW,QAAS,CAACZ,SAAU,EAAGC,OAAQ,CAAC,YAChCY,IAAK,CAACb,SAAU,EAAGC,OAAQ,CAAC,IAAK,IAAK,MACtCa,MAAO,CAACd,SAAU,EAAGC,OAAQ,CAAC,MAAO,MAAO,QAC5CpG,KAAM,CAACmG,SAAU,EAAGC,OAAQ,CAAC,UAGhBc,cAAGjB,EAGjB,IAAK,MAAMkB,KAASlf,OAAOqR,KAAK2M,GAAU,CACzC,KAAM,aAAcA,EAAQkB,IAC3B,MAAM,IAAIrqB,MAAM,8BAAgCqqB,GAGjD,KAAM,WAAYlB,EAAQkB,IACzB,MAAM,IAAIrqB,MAAM,oCAAsCqqB,GAGvD,GAAIlB,EAAQkB,GAAOf,OAAO9nB,SAAW2nB,EAAQkB,GAAOhB,SACnD,MAAM,IAAIrpB,MAAM,sCAAwCqqB,GAGzD,MAAMhB,SAACA,EAAQC,OAAEA,GAAUH,EAAQkB,UAC5BlB,EAAQkB,GAAOhB,gBACfF,EAAQkB,GAAOf,OACtBne,OAAOmf,eAAenB,EAAQkB,GAAQ,WAAY,CAAC3oB,MAAO2nB,IAC1Dle,OAAOmf,eAAenB,EAAQkB,GAAQ,SAAU,CAAC3oB,MAAO4nB,GACxD,QAEDH,EAAQC,IAAIG,IAAM,SAAUH,GAC3B,MAAMmB,EAAInB,EAAI,GAAK,IACboB,EAAIpB,EAAI,GAAK,IACbjlB,EAAIilB,EAAI,GAAK,IACb/b,EAAMzG,KAAKyG,IAAIkd,EAAGC,EAAGrmB,GACrBuC,EAAME,KAAKF,IAAI6jB,EAAGC,EAAGrmB,GACrBsmB,EAAQ/jB,EAAM2G,EACpB,IAAIqd,EACAlN,EAEA9W,IAAQ2G,EACXqd,EAAI,EACMH,IAAM7jB,EAChBgkB,GAAKF,EAAIrmB,GAAKsmB,EACJD,IAAM9jB,EAChBgkB,EAAI,GAAKvmB,EAAIomB,GAAKE,EACRtmB,IAAMuC,IAChBgkB,EAAI,GAAKH,EAAIC,GAAKC,GAGnBC,EAAI9jB,KAAKyG,IAAQ,GAAJqd,EAAQ,KAEjBA,EAAI,IACPA,GAAK,KAGN,MAAMC,GAAKtd,EAAM3G,GAAO,EAUxB,OAPC8W,EADG9W,IAAQ2G,EACP,EACMsd,GAAK,GACXF,GAAS/jB,EAAM2G,GAEfod,GAAS,EAAI/jB,EAAM2G,GAGjB,CAACqd,EAAO,IAAJlN,EAAa,IAAJmN,EACrB,EAEAxB,EAAQC,IAAII,IAAM,SAAUJ,GAC3B,IAAIwB,EACAC,EACAC,EACAJ,EACAlN,EAEJ,MAAM+M,EAAInB,EAAI,GAAK,IACboB,EAAIpB,EAAI,GAAK,IACbjlB,EAAIilB,EAAI,GAAK,IACbvP,EAAIjT,KAAKF,IAAI6jB,EAAGC,EAAGrmB,GACnB4mB,EAAOlR,EAAIjT,KAAKyG,IAAIkd,EAAGC,EAAGrmB,GAC1B6mB,EAAQ,SAAUC,GACvB,OAAQpR,EAAIoR,GAAK,EAAIF,EAAO,EAC9B,EA0BC,OAxBa,IAATA,GACHL,EAAI,EACJlN,EAAI,IAEJA,EAAIuN,EAAOlR,EACX+Q,EAAOI,EAAMT,GACbM,EAAOG,EAAMR,GACbM,EAAOE,EAAM7mB,GAETomB,IAAM1Q,EACT6Q,EAAII,EAAOD,EACDL,IAAM3Q,EAChB6Q,EAAK,EAAI,EAAKE,EAAOE,EACX3mB,IAAM0V,IAChB6Q,EAAK,EAAI,EAAKG,EAAOD,GAGlBF,EAAI,EACPA,GAAK,EACKA,EAAI,IACdA,GAAK,IAIA,CACF,IAAJA,EACI,IAAJlN,EACI,IAAJ3D,EAEF,EAEAsP,EAAQC,IAAIK,IAAM,SAAUL,GAC3B,MAAMmB,EAAInB,EAAI,GACRoB,EAAIpB,EAAI,GACd,IAAIjlB,EAAIilB,EAAI,GACZ,MAAMsB,EAAIvB,EAAQC,IAAIG,IAAIH,GAAK,GACzB8B,EAAI,EAAI,IAAMtkB,KAAKyG,IAAIkd,EAAG3jB,KAAKyG,IAAImd,EAAGrmB,IAI5C,OAFAA,EAAI,EAAI,EAAI,IAAMyC,KAAKF,IAAI6jB,EAAG3jB,KAAKF,IAAI8jB,EAAGrmB,IAEnC,CAACumB,EAAO,IAAJQ,EAAa,IAAJ/mB,EACrB,EAEAglB,EAAQC,IAAIM,KAAO,SAAUN,GAC5B,MAAMmB,EAAInB,EAAI,GAAK,IACboB,EAAIpB,EAAI,GAAK,IACbjlB,EAAIilB,EAAI,GAAK,IAEb+B,EAAIvkB,KAAKyG,IAAI,EAAIkd,EAAG,EAAIC,EAAG,EAAIrmB,GAKrC,MAAO,CAAK,MAJD,EAAIomB,EAAIY,IAAM,EAAIA,IAAM,GAId,MAHV,EAAIX,EAAIW,IAAM,EAAIA,IAAM,GAGL,MAFnB,EAAIhnB,EAAIgnB,IAAM,EAAIA,IAAM,GAEI,IAAJA,EACpC,EAaAhC,EAAQC,IAAIW,QAAU,SAAUX,GAC/B,MAAMgC,EAAWlC,EAAgBE,GACjC,GAAIgC,EACH,OAAOA,EAGR,IACIC,EADAC,EAAyBC,IAG7B,IAAK,MAAMxB,KAAW5e,OAAOqR,KAAKyM,GAAc,CAC/C,MAAMvnB,EAAQunB,EAAYc,GAGpBlc,GAxBwB2d,EAwBY9pB,IAxBf+pB,EAwBUrC,GAnBjC,GAAKoC,EAAE,KAAO,GAChBC,EAAE,GAAKD,EAAE,KAAO,GAChBC,EAAE,GAAKD,EAAE,KAAO,GAoBd3d,EAAWyd,IACdA,EAAyBzd,EACzBwd,EAAwBtB,EAEzB,CA/BF,IAA6B0B,EAAGD,EAiC/B,OAAOH,CACR,EAEAlC,EAAQY,QAAQX,IAAM,SAAUW,GAC/B,OAAOd,EAAYc,EACpB,EAEAZ,EAAQC,IAAIO,IAAM,SAAUP,GAC3B,IAAImB,EAAInB,EAAI,GAAK,IACboB,EAAIpB,EAAI,GAAK,IACbjlB,EAAIilB,EAAI,GAAK,IAGjBmB,EAAIA,EAAI,SAAaA,EAAI,MAAS,QAAU,IAAQA,EAAI,MACxDC,EAAIA,EAAI,SAAaA,EAAI,MAAS,QAAU,IAAQA,EAAI,MACxDrmB,EAAIA,EAAI,SAAaA,EAAI,MAAS,QAAU,IAAQA,EAAI,MAMxD,MAAO,CAAK,KAJG,MAAJomB,EAAmB,MAAJC,EAAmB,MAAJrmB,GAIpB,KAHN,MAAJomB,EAAmB,MAAJC,EAAmB,MAAJrmB,GAGX,KAFf,MAAJomB,EAAmB,MAAJC,EAAmB,MAAJrmB,GAG1C,EAEAglB,EAAQC,IAAIQ,IAAM,SAAUR,GAC3B,MAAMO,EAAMR,EAAQC,IAAIO,IAAIP,GAC5B,IAAIqC,EAAI9B,EAAI,GACR6B,EAAI7B,EAAI,GACR+B,EAAI/B,EAAI,GAEZ8B,GAAK,OACLD,GAAK,IACLE,GAAK,QAELD,EAAIA,EAAI,QAAYA,IAAM,EAAI,GAAO,MAAQA,EAAM,GAAK,IACxDD,EAAIA,EAAI,QAAYA,IAAM,EAAI,GAAO,MAAQA,EAAM,GAAK,IACxDE,EAAIA,EAAI,QAAYA,IAAM,EAAI,GAAO,MAAQA,EAAM,GAAK,IAMxD,MAAO,CAJI,IAAMF,EAAK,GACZ,KAAOC,EAAID,GACX,KAAOA,EAAIE,GAGtB,EAEAvC,EAAQI,IAAIH,IAAM,SAAUG,GAC3B,MAAMmB,EAAInB,EAAI,GAAK,IACb/L,EAAI+L,EAAI,GAAK,IACboB,EAAIpB,EAAI,GAAK,IACnB,IAAIoC,EACAC,EACA/X,EAEJ,GAAU,IAAN2J,EAEH,OADA3J,EAAU,IAAJ8W,EACC,CAAC9W,EAAKA,EAAKA,GAIlB8X,EADGhB,EAAI,GACFA,GAAK,EAAInN,GAETmN,EAAInN,EAAImN,EAAInN,EAGlB,MAAMqO,EAAK,EAAIlB,EAAIgB,EAEbvC,EAAM,CAAC,EAAG,EAAG,GACnB,IAAK,IAAIrf,EAAI,EAAGA,EAAI,EAAGA,IACtB6hB,EAAKlB,EAAI,EAAI,IAAM3gB,EAAI,GACnB6hB,EAAK,GACRA,IAGGA,EAAK,GACRA,IAIA/X,EADG,EAAI+X,EAAK,EACNC,EAAiB,GAAXF,EAAKE,GAAUD,EACjB,EAAIA,EAAK,EACbD,EACI,EAAIC,EAAK,EACbC,GAAMF,EAAKE,IAAO,EAAI,EAAID,GAAM,EAEhCC,EAGPzC,EAAIrf,GAAW,IAAN8J,EAGV,OAAOuV,CACR,EAEAD,EAAQI,IAAIC,IAAM,SAAUD,GAC3B,MAAMmB,EAAInB,EAAI,GACd,IAAI/L,EAAI+L,EAAI,GAAK,IACboB,EAAIpB,EAAI,GAAK,IACbuC,EAAOtO,EACX,MAAMuO,EAAOnlB,KAAKF,IAAIikB,EAAG,KAEzBA,GAAK,EACLnN,GAAMmN,GAAK,EAAKA,EAAI,EAAIA,EACxBmB,GAAQC,GAAQ,EAAIA,EAAO,EAAIA,EAI/B,MAAO,CAACrB,EAAQ,KAFC,IAANC,EAAW,EAAImB,GAASC,EAAOD,GAAS,EAAItO,GAAMmN,EAAInN,IAExC,MAHdmN,EAAInN,GAAK,GAIrB,EAEA2L,EAAQK,IAAIJ,IAAM,SAAUI,GAC3B,MAAMkB,EAAIlB,EAAI,GAAK,GACbhM,EAAIgM,EAAI,GAAK,IACnB,IAAI3P,EAAI2P,EAAI,GAAK,IACjB,MAAMwC,EAAKplB,KAAKqlB,MAAMvB,GAAK,EAErBwB,EAAIxB,EAAI9jB,KAAKqlB,MAAMvB,GACnByB,EAAI,IAAMtS,GAAK,EAAI2D,GACnB4O,EAAI,IAAMvS,GAAK,EAAK2D,EAAI0O,GACxBG,EAAI,IAAMxS,GAAK,EAAK2D,GAAK,EAAI0O,IAGnC,OAFArS,GAAK,IAEGmS,GACP,KAAK,EACJ,MAAO,CAACnS,EAAGwS,EAAGF,GACf,KAAK,EACJ,MAAO,CAACC,EAAGvS,EAAGsS,GACf,KAAK,EACJ,MAAO,CAACA,EAAGtS,EAAGwS,GACf,KAAK,EACJ,MAAO,CAACF,EAAGC,EAAGvS,GACf,KAAK,EACJ,MAAO,CAACwS,EAAGF,EAAGtS,GACf,KAAK,EACJ,MAAO,CAACA,EAAGsS,EAAGC,GAEjB,EAEAjD,EAAQK,IAAID,IAAM,SAAUC,GAC3B,MAAMkB,EAAIlB,EAAI,GACRhM,EAAIgM,EAAI,GAAK,IACb3P,EAAI2P,EAAI,GAAK,IACb8C,EAAO1lB,KAAKF,IAAImT,EAAG,KACzB,IAAI0S,EACA5B,EAEJA,GAAK,EAAInN,GAAK3D,EACd,MAAMkS,GAAQ,EAAIvO,GAAK8O,EAMvB,OALAC,EAAK/O,EAAI8O,EACTC,GAAOR,GAAQ,EAAKA,EAAO,EAAIA,EAC/BQ,EAAKA,GAAM,EACX5B,GAAK,EAEE,CAACD,EAAQ,IAAL6B,EAAc,IAAJ5B,EACtB,EAGAxB,EAAQM,IAAIL,IAAM,SAAUK,GAC3B,MAAMiB,EAAIjB,EAAI,GAAK,IACnB,IAAI+C,EAAK/C,EAAI,GAAK,IACdgD,EAAKhD,EAAI,GAAK,IAClB,MAAMiD,EAAQF,EAAKC,EACnB,IAAIP,EAGAQ,EAAQ,IACXF,GAAME,EACND,GAAMC,GAGP,MAAM3iB,EAAInD,KAAKqlB,MAAM,EAAIvB,GACnB7Q,EAAI,EAAI4S,EACdP,EAAI,EAAIxB,EAAI3gB,EAEO,IAAV,EAAJA,KACJmiB,EAAI,EAAIA,GAGT,MAAMS,EAAIH,EAAKN,GAAKrS,EAAI2S,GAExB,IAAIjC,EACAC,EACArmB,EAEJ,OAAQ4F,GACP,QACA,KAAK,EACL,KAAK,EAAGwgB,EAAI1Q,EAAI2Q,EAAImC,EAAIxoB,EAAIqoB,EAAI,MAChC,KAAK,EAAGjC,EAAIoC,EAAInC,EAAI3Q,EAAI1V,EAAIqoB,EAAI,MAChC,KAAK,EAAGjC,EAAIiC,EAAIhC,EAAI3Q,EAAI1V,EAAIwoB,EAAG,MAC/B,KAAK,EAAGpC,EAAIiC,EAAIhC,EAAImC,EAAIxoB,EAAI0V,EAAG,MAC/B,KAAK,EAAG0Q,EAAIoC,EAAInC,EAAIgC,EAAIroB,EAAI0V,EAAG,MAC/B,KAAK,EAAG0Q,EAAI1Q,EAAI2Q,EAAIgC,EAAIroB,EAAIwoB,EAI7B,MAAO,CAAK,IAAJpC,EAAa,IAAJC,EAAa,IAAJrmB,EAC3B,EAEAglB,EAAQO,KAAKN,IAAM,SAAUM,GAC5B,MAAMuB,EAAIvB,EAAK,GAAK,IACdpV,EAAIoV,EAAK,GAAK,IACd8B,EAAI9B,EAAK,GAAK,IACdyB,EAAIzB,EAAK,GAAK,IAMpB,MAAO,CAAK,KAJF,EAAI9iB,KAAKyG,IAAI,EAAG4d,GAAK,EAAIE,GAAKA,IAInB,KAHX,EAAIvkB,KAAKyG,IAAI,EAAGiH,GAAK,EAAI6W,GAAKA,IAGV,KAFpB,EAAIvkB,KAAKyG,IAAI,EAAGme,GAAK,EAAIL,GAAKA,IAGzC,EAEAhC,EAAQQ,IAAIP,IAAM,SAAUO,GAC3B,MAAM8B,EAAI9B,EAAI,GAAK,IACb6B,EAAI7B,EAAI,GAAK,IACb+B,EAAI/B,EAAI,GAAK,IACnB,IAAIY,EACAC,EACArmB,EAuBJ,OArBAomB,EAAS,OAAJkB,GAAoB,OAALD,GAAqB,MAALE,EACpClB,GAAU,MAALiB,EAAoB,OAAJD,EAAmB,MAAJE,EACpCvnB,EAAS,MAAJsnB,GAAoB,KAALD,EAAoB,MAAJE,EAGpCnB,EAAIA,EAAI,SACH,MAASA,IAAM,EAAM,KAAS,KAC5B,MAAJA,EAEHC,EAAIA,EAAI,SACH,MAASA,IAAM,EAAM,KAAS,KAC5B,MAAJA,EAEHrmB,EAAIA,EAAI,SACH,MAASA,IAAM,EAAM,KAAS,KAC5B,MAAJA,EAEHomB,EAAI3jB,KAAKyG,IAAIzG,KAAKF,IAAI,EAAG6jB,GAAI,GAC7BC,EAAI5jB,KAAKyG,IAAIzG,KAAKF,IAAI,EAAG8jB,GAAI,GAC7BrmB,EAAIyC,KAAKyG,IAAIzG,KAAKF,IAAI,EAAGvC,GAAI,GAEtB,CAAK,IAAJomB,EAAa,IAAJC,EAAa,IAAJrmB,EAC3B,EAEAglB,EAAQQ,IAAIC,IAAM,SAAUD,GAC3B,IAAI8B,EAAI9B,EAAI,GACR6B,EAAI7B,EAAI,GACR+B,EAAI/B,EAAI,GAEZ8B,GAAK,OACLD,GAAK,IACLE,GAAK,QAELD,EAAIA,EAAI,QAAYA,IAAM,EAAI,GAAO,MAAQA,EAAM,GAAK,IACxDD,EAAIA,EAAI,QAAYA,IAAM,EAAI,GAAO,MAAQA,EAAM,GAAK,IACxDE,EAAIA,EAAI,QAAYA,IAAM,EAAI,GAAO,MAAQA,EAAM,GAAK,IAMxD,MAAO,CAJI,IAAMF,EAAK,GACZ,KAAOC,EAAID,GACX,KAAOA,EAAIE,GAGtB,EAEAvC,EAAQS,IAAID,IAAM,SAAUC,GAI3B,IAAI6B,EACAD,EACAE,EAEJF,GAPU5B,EAAI,GAOL,IAAM,IACf6B,EAPU7B,EAAI,GAON,IAAM4B,EACdE,EAAIF,EAPM5B,EAAI,GAOF,IAEZ,MAAMgD,EAAKpB,GAAK,EACVqB,EAAKpB,GAAK,EACVqB,EAAKpB,GAAK,EAShB,OARAF,EAAIoB,EAAK,QAAWA,GAAMpB,EAAI,GAAK,KAAO,MAC1CC,EAAIoB,EAAK,QAAWA,GAAMpB,EAAI,GAAK,KAAO,MAC1CC,EAAIoB,EAAK,QAAWA,GAAMpB,EAAI,GAAK,KAAO,MAE1CD,GAAK,OACLD,GAAK,IACLE,GAAK,QAEE,CAACD,EAAGD,EAAGE,EACf,EAEAvC,EAAQS,IAAIC,IAAM,SAAUD,GAC3B,MAAMe,EAAIf,EAAI,GACR1lB,EAAI0lB,EAAI,GACRzlB,EAAIylB,EAAI,GACd,IAAIc,EAGJA,EAAS,IADE9jB,KAAKmmB,MAAM5oB,EAAGD,GACV,EAAI0C,KAAKomB,GAEpBtC,EAAI,IACPA,GAAK,KAKN,MAAO,CAACC,EAFE/jB,KAAKqmB,KAAK/oB,EAAIA,EAAIC,EAAIA,GAElBumB,EACf,EAEAvB,EAAQU,IAAID,IAAM,SAAUC,GAC3B,MAAMc,EAAId,EAAI,GACRoB,EAAIpB,EAAI,GAGRqD,EAFIrD,EAAI,GAEC,IAAM,EAAIjjB,KAAKomB,GAI9B,MAAO,CAACrC,EAHEM,EAAIrkB,KAAKumB,IAAID,GACbjC,EAAIrkB,KAAKwmB,IAAIF,GAGxB,EAEA/D,EAAQC,IAAIY,OAAS,SAAU/jB,EAAMonB,EAAa,MACjD,MAAO9C,EAAGC,EAAGrmB,GAAK8B,EAClB,IAAIvE,EAAuB,OAAf2rB,EAAsBlE,EAAQC,IAAII,IAAIvjB,GAAM,GAAKonB,EAI7D,GAFA3rB,EAAQkF,KAAK0mB,MAAM5rB,EAAQ,IAEb,IAAVA,EACH,OAAO,GAGR,IAAI6rB,EAAO,IACN3mB,KAAK0mB,MAAMnpB,EAAI,MAAQ,EACxByC,KAAK0mB,MAAM9C,EAAI,MAAQ,EACxB5jB,KAAK0mB,MAAM/C,EAAI,MAMlB,OAJc,IAAV7oB,IACH6rB,GAAQ,IAGFA,CACR,EAEApE,EAAQK,IAAIQ,OAAS,SAAU/jB,GAG9B,OAAOkjB,EAAQC,IAAIY,OAAOb,EAAQK,IAAIJ,IAAInjB,GAAOA,EAAK,GACvD,EAEAkjB,EAAQC,IAAIa,QAAU,SAAUhkB,GAC/B,MAAMskB,EAAItkB,EAAK,GACTukB,EAAIvkB,EAAK,GACT9B,EAAI8B,EAAK,GAIf,GAAIskB,IAAMC,GAAKA,IAAMrmB,EACpB,OAAIomB,EAAI,EACA,GAGJA,EAAI,IACA,IAGD3jB,KAAK0mB,OAAQ/C,EAAI,GAAK,IAAO,IAAM,IAQ3C,OALa,GACT,GAAK3jB,KAAK0mB,MAAM/C,EAAI,IAAM,GAC1B,EAAI3jB,KAAK0mB,MAAM9C,EAAI,IAAM,GAC1B5jB,KAAK0mB,MAAMnpB,EAAI,IAAM,EAGzB,EAEAglB,EAAQa,OAAOZ,IAAM,SAAUnjB,GAC9B,IAAIunB,EAAQvnB,EAAO,GAGnB,GAAc,IAAVunB,GAAyB,IAAVA,EAOlB,OANIvnB,EAAO,KACVunB,GAAS,KAGVA,EAAQA,EAAQ,KAAO,IAEhB,CAACA,EAAOA,EAAOA,GAGvB,MAAMC,EAA6B,IAAL,KAAbxnB,EAAO,KAKxB,MAAO,EAJa,EAARunB,GAAaC,EAAQ,KACpBD,GAAS,EAAK,GAAKC,EAAQ,KAC3BD,GAAS,EAAK,GAAKC,EAAQ,IAGzC,EAEAtE,EAAQc,QAAQb,IAAM,SAAUnjB,GAE/B,GAAIA,GAAQ,IAAK,CAChB,MAAMglB,EAAmB,IAAdhlB,EAAO,KAAY,EAC9B,MAAO,CAACglB,EAAGA,EAAGA,EACd,CAID,IAAIyC,EAFJznB,GAAQ,GAOR,MAAO,CAJGW,KAAKqlB,MAAMhmB,EAAO,IAAM,EAAI,IAC5BW,KAAKqlB,OAAOyB,EAAMznB,EAAO,IAAM,GAAK,EAAI,IACvCynB,EAAM,EAAK,EAAI,IAG3B,EAEAvE,EAAQC,IAAIU,IAAM,SAAU7jB,GAC3B,MAIM0nB,KAJkC,IAAtB/mB,KAAK0mB,MAAMrnB,EAAK,MAAe,MACtB,IAAtBW,KAAK0mB,MAAMrnB,EAAK,MAAe,IACV,IAAtBW,KAAK0mB,MAAMrnB,EAAK,MAEG2nB,SAAS,IAAIhhB,cACpC,MAAO,SAASihB,UAAUF,EAAOnsB,QAAUmsB,CAC5C,EAEAxE,EAAQW,IAAIV,IAAM,SAAUnjB,GAC3B,MAAMvC,EAAQuC,EAAK2nB,SAAS,IAAIlqB,MAAM,4BACtC,IAAKA,EACJ,MAAO,CAAC,EAAG,EAAG,GAGf,IAAIoqB,EAAcpqB,EAAM,GAEA,IAApBA,EAAM,GAAGlC,SACZssB,EAAcA,EAAYphB,MAAM,IAAIxG,KAAI6nB,GAChCA,EAAOA,IACZzrB,KAAK,KAGT,MAAM0rB,EAAU9O,SAAS4O,EAAa,IAKtC,MAAO,CAJIE,GAAW,GAAM,IACjBA,GAAW,EAAK,IACP,IAAVA,EAGX,EAEA7E,EAAQC,IAAIc,IAAM,SAAUd,GAC3B,MAAMmB,EAAInB,EAAI,GAAK,IACboB,EAAIpB,EAAI,GAAK,IACbjlB,EAAIilB,EAAI,GAAK,IACb1iB,EAAME,KAAKF,IAAIE,KAAKF,IAAI6jB,EAAGC,GAAIrmB,GAC/BkJ,EAAMzG,KAAKyG,IAAIzG,KAAKyG,IAAIkd,EAAGC,GAAIrmB,GAC/B8pB,EAAUvnB,EAAM2G,EACtB,IAAI6gB,EACAC,EAuBJ,OApBCD,EADGD,EAAS,EACA5gB,GAAO,EAAI4gB,GAEX,EAIZE,EADGF,GAAU,EACP,EAEHvnB,IAAQ6jB,GACHC,EAAIrmB,GAAK8pB,EAAU,EAExBvnB,IAAQ8jB,EACL,GAAKrmB,EAAIomB,GAAK0D,EAEd,GAAK1D,EAAIC,GAAKyD,EAGrBE,GAAO,EACPA,GAAO,EAEA,CAAO,IAANA,EAAoB,IAATF,EAA0B,IAAZC,EAClC,EAEA/E,EAAQI,IAAIW,IAAM,SAAUX,GAC3B,MAAM/L,EAAI+L,EAAI,GAAK,IACboB,EAAIpB,EAAI,GAAK,IAEb0B,EAAIN,EAAI,GAAO,EAAMnN,EAAImN,EAAM,EAAMnN,GAAK,EAAMmN,GAEtD,IAAIuB,EAAI,EAKR,OAJIjB,EAAI,IACPiB,GAAKvB,EAAI,GAAMM,IAAM,EAAMA,IAGrB,CAAC1B,EAAI,GAAQ,IAAJ0B,EAAa,IAAJiB,EAC1B,EAEA/C,EAAQK,IAAIU,IAAM,SAAUV,GAC3B,MAAMhM,EAAIgM,EAAI,GAAK,IACb3P,EAAI2P,EAAI,GAAK,IAEbyB,EAAIzN,EAAI3D,EACd,IAAIqS,EAAI,EAMR,OAJIjB,EAAI,IACPiB,GAAKrS,EAAIoR,IAAM,EAAIA,IAGb,CAACzB,EAAI,GAAQ,IAAJyB,EAAa,IAAJiB,EAC1B,EAEA/C,EAAQe,IAAId,IAAM,SAAUc,GAC3B,MAAMQ,EAAIR,EAAI,GAAK,IACbe,EAAIf,EAAI,GAAK,IACbM,EAAIN,EAAI,GAAK,IAEnB,GAAU,IAANe,EACH,MAAO,CAAK,IAAJT,EAAa,IAAJA,EAAa,IAAJA,GAG3B,MAAM4D,EAAO,CAAC,EAAG,EAAG,GACdpC,EAAMtB,EAAI,EAAK,EACf7Q,EAAImS,EAAK,EACTd,EAAI,EAAIrR,EACd,IAAIwU,EAAK,EAGT,OAAQznB,KAAKqlB,MAAMD,IAClB,KAAK,EACJoC,EAAK,GAAK,EAAGA,EAAK,GAAKvU,EAAGuU,EAAK,GAAK,EAAG,MACxC,KAAK,EACJA,EAAK,GAAKlD,EAAGkD,EAAK,GAAK,EAAGA,EAAK,GAAK,EAAG,MACxC,KAAK,EACJA,EAAK,GAAK,EAAGA,EAAK,GAAK,EAAGA,EAAK,GAAKvU,EAAG,MACxC,KAAK,EACJuU,EAAK,GAAK,EAAGA,EAAK,GAAKlD,EAAGkD,EAAK,GAAK,EAAG,MACxC,KAAK,EACJA,EAAK,GAAKvU,EAAGuU,EAAK,GAAK,EAAGA,EAAK,GAAK,EAAG,MACxC,QACCA,EAAK,GAAK,EAAGA,EAAK,GAAK,EAAGA,EAAK,GAAKlD,EAMtC,OAFAmD,GAAM,EAAMpD,GAAKT,EAEV,CACe,KAApBS,EAAImD,EAAK,GAAKC,GACM,KAApBpD,EAAImD,EAAK,GAAKC,GACM,KAApBpD,EAAImD,EAAK,GAAKC,GAEjB,EAEAlF,EAAQe,IAAIV,IAAM,SAAUU,GAC3B,MAAMe,EAAIf,EAAI,GAAK,IAGbrQ,EAAIoR,EAFAf,EAAI,GAAK,KAEA,EAAMe,GACzB,IAAIiB,EAAI,EAMR,OAJIrS,EAAI,IACPqS,EAAIjB,EAAIpR,GAGF,CAACqQ,EAAI,GAAQ,IAAJgC,EAAa,IAAJrS,EAC1B,EAEAsP,EAAQe,IAAIX,IAAM,SAAUW,GAC3B,MAAMe,EAAIf,EAAI,GAAK,IAGbS,EAFIT,EAAI,GAAK,KAEJ,EAAMe,GAAK,GAAMA,EAChC,IAAIzN,EAAI,EASR,OAPImN,EAAI,GAAOA,EAAI,GAClBnN,EAAIyN,GAAK,EAAIN,GAEVA,GAAK,IAAOA,EAAI,IACnBnN,EAAIyN,GAAK,GAAK,EAAIN,KAGZ,CAACT,EAAI,GAAQ,IAAJ1M,EAAa,IAAJmN,EAC1B,EAEAxB,EAAQe,IAAIT,IAAM,SAAUS,GAC3B,MAAMe,EAAIf,EAAI,GAAK,IAEbrQ,EAAIoR,EADAf,EAAI,GAAK,KACA,EAAMe,GACzB,MAAO,CAACf,EAAI,GAAc,KAATrQ,EAAIoR,GAAoB,KAAT,EAAIpR,GACrC,EAEAsP,EAAQM,IAAIS,IAAM,SAAUT,GAC3B,MAAMyB,EAAIzB,EAAI,GAAK,IAEb5P,EAAI,EADA4P,EAAI,GAAK,IAEbwB,EAAIpR,EAAIqR,EACd,IAAIV,EAAI,EAMR,OAJIS,EAAI,IACPT,GAAK3Q,EAAIoR,IAAM,EAAIA,IAGb,CAACxB,EAAI,GAAQ,IAAJwB,EAAa,IAAJT,EAC1B,EAEArB,EAAQgB,MAAMf,IAAM,SAAUe,GAC7B,MAAO,CAAEA,EAAM,GAAK,MAAS,IAAMA,EAAM,GAAK,MAAS,IAAMA,EAAM,GAAK,MAAS,IAClF,EAEAhB,EAAQC,IAAIe,MAAQ,SAAUf,GAC7B,MAAO,CAAEA,EAAI,GAAK,IAAO,MAAQA,EAAI,GAAK,IAAO,MAAQA,EAAI,GAAK,IAAO,MAC1E,EAEAD,EAAQjG,KAAKkG,IAAM,SAAUnjB,GAC5B,MAAO,CAACA,EAAK,GAAK,IAAM,IAAKA,EAAK,GAAK,IAAM,IAAKA,EAAK,GAAK,IAAM,IACnE,EAEAkjB,EAAQjG,KAAKqG,IAAM,SAAUtjB,GAC5B,MAAO,CAAC,EAAG,EAAGA,EAAK,GACpB,EAEAkjB,EAAQjG,KAAKsG,IAAML,EAAQjG,KAAKqG,IAEhCJ,EAAQjG,KAAKuG,IAAM,SAAUvG,GAC5B,MAAO,CAAC,EAAG,IAAKA,EAAK,GACtB,EAEAiG,EAAQjG,KAAKwG,KAAO,SAAUxG,GAC7B,MAAO,CAAC,EAAG,EAAG,EAAGA,EAAK,GACvB,EAEAiG,EAAQjG,KAAK0G,IAAM,SAAU1G,GAC5B,MAAO,CAACA,EAAK,GAAI,EAAG,EACrB,EAEAiG,EAAQjG,KAAK4G,IAAM,SAAU5G,GAC5B,MAAMrP,EAAwC,IAAlCjN,KAAK0mB,MAAMpK,EAAK,GAAK,IAAM,KAGjCyK,IAFW9Z,GAAO,KAAOA,GAAO,GAAKA,GAEpB+Z,SAAS,IAAIhhB,cACpC,MAAO,SAASihB,UAAUF,EAAOnsB,QAAUmsB,CAC5C,EAEAxE,EAAQC,IAAIlG,KAAO,SAAUkG,GAE5B,MAAO,EADMA,EAAI,GAAKA,EAAI,GAAKA,EAAI,IAAM,EAC3B,IAAM,gGCr0BrB,MAAMgB,EAAcvpB,qBA+BpB,SAASytB,EAAUC,GAClB,MAAMC,EAnBP,WACC,MAAMA,EAAQ,CAAA,EAERC,EAAStjB,OAAOqR,KAAK4N,GAE3B,IAAK,IAAIrO,EAAM0S,EAAOjtB,OAAQuI,EAAI,EAAGA,EAAIgS,EAAKhS,IAC7CykB,EAAMC,EAAO1kB,IAAM,CAGlB8D,UAAW,EACXnI,OAAQ,MAIV,OAAO8oB,CACP,CAIcE,GACRC,EAAQ,CAACJ,GAIf,IAFAC,EAAMD,GAAW1gB,SAAW,EAErB8gB,EAAMntB,QAAQ,CACpB,MAAMotB,EAAUD,EAAME,MAChBC,EAAY3jB,OAAOqR,KAAK4N,EAAYwE,IAE1C,IAAK,IAAI7S,EAAM+S,EAAUttB,OAAQuI,EAAI,EAAGA,EAAIgS,EAAKhS,IAAK,CACrD,MAAMglB,EAAWD,EAAU/kB,GACrBilB,EAAOR,EAAMO,IAEI,IAAnBC,EAAKnhB,WACRmhB,EAAKnhB,SAAW2gB,EAAMI,GAAS/gB,SAAW,EAC1CmhB,EAAKtpB,OAASkpB,EACdD,EAAM9W,QAAQkX,GAEf,CACD,CAED,OAAOP,CACP,CAED,SAASS,EAAKzhB,EAAM0hB,GACnB,OAAO,SAAUjpB,GAChB,OAAOipB,EAAG1hB,EAAKvH,GACjB,CACC,CAED,SAASkpB,EAAeC,EAASZ,GAChC,MAAMtgB,EAAO,CAACsgB,EAAMY,GAAS1pB,OAAQ0pB,GACrC,IAAIntB,EAAKmoB,EAAYoE,EAAMY,GAAS1pB,QAAQ0pB,GAExCC,EAAMb,EAAMY,GAAS1pB,OACzB,KAAO8oB,EAAMa,GAAK3pB,QACjBwI,EAAK2J,QAAQ2W,EAAMa,GAAK3pB,QACxBzD,EAAKgtB,EAAK7E,EAAYoE,EAAMa,GAAK3pB,QAAQ2pB,GAAMptB,GAC/CotB,EAAMb,EAAMa,GAAK3pB,OAIlB,OADAzD,EAAGqtB,WAAaphB,EACTjM,CACP,QAEastB,MAAG,SAAUhB,GAC1B,MAAMC,EAAQF,EAAUC,GAClBe,EAAa,CAAA,EAEbb,EAAStjB,OAAOqR,KAAKgS,GAC3B,IAAK,IAAIzS,EAAM0S,EAAOjtB,OAAQuI,EAAI,EAAGA,EAAIgS,EAAKhS,IAAK,CAClD,MAAMqlB,EAAUX,EAAO1kB,GAGH,OAFPykB,EAAMY,GAEV1pB,SAKT4pB,EAAWF,GAAWD,EAAeC,EAASZ,GAC9C,CAED,OAAOc,2GC9FR,MAAMlF,EAAcvpB,qBACd0uB,EAAQthB,eAERkb,EAAU,CAAA,SAEDhe,OAAOqR,KAAK4N,GA0DpBtkB,SAAQyoB,IACdpF,EAAQoF,GAAa,GAErBpjB,OAAOmf,eAAenB,EAAQoF,GAAY,WAAY,CAAC7sB,MAAO0oB,EAAYmE,GAAWlF,WACrFle,OAAOmf,eAAenB,EAAQoF,GAAY,SAAU,CAAC7sB,MAAO0oB,EAAYmE,GAAWjF,SAEnF,MAAMkG,EAASD,EAAMhB,GACDpjB,OAAOqR,KAAKgT,GAEpB1pB,SAAQspB,IACnB,MAAMntB,EAAKutB,EAAOJ,GAElBjG,EAAQoF,GAAWa,GA9CrB,SAAqBntB,GACpB,MAAMwtB,EAAY,YAAaxpB,GAC9B,MAAMypB,EAAOzpB,EAAK,GAElB,GAAIypB,QACH,OAAOA,EAGJA,EAAKluB,OAAS,IACjByE,EAAOypB,GAGR,MAAMzV,EAAShY,EAAGgE,GAKlB,GAAsB,iBAAXgU,EACV,IAAK,IAAI8B,EAAM9B,EAAOzY,OAAQuI,EAAI,EAAGA,EAAIgS,EAAKhS,IAC7CkQ,EAAOlQ,GAAKnD,KAAK0mB,MAAMrT,EAAOlQ,IAIhC,OAAOkQ,CACT,EAOC,MAJI,eAAgBhY,IACnBwtB,EAAUH,WAAartB,EAAGqtB,YAGpBG,CACP,CAc+BE,CAAY1tB,GAC1CknB,EAAQoF,GAAWa,GAASQ,IArE9B,SAAiB3tB,GAChB,MAAMwtB,EAAY,YAAaxpB,GAC9B,MAAMypB,EAAOzpB,EAAK,GAClB,OAAIypB,QACIA,GAGJA,EAAKluB,OAAS,IACjByE,EAAOypB,GAGDztB,EAAGgE,GACZ,EAOC,MAJI,eAAgBhE,IACnBwtB,EAAUH,WAAartB,EAAGqtB,YAGpBG,CACP,CAiDmCI,CAAQ5tB,EAAG,GAC5C,IAGH6tB,aAAiB3G,mCC9EjB,MAAM4G,EAAa,CAAC9tB,EAAI+tB,IAAW,IAAI/pB,IAE/B,KADMhE,KAAMgE,GACK+pB,KAGnBC,EAAc,CAAChuB,EAAI+tB,IAAW,IAAI/pB,KACvC,MAAM9F,EAAO8B,KAAMgE,GACnB,MAAO,KAAU,GAAK+pB,OAAY7vB,IAAO,EAGpC+vB,EAAc,CAACjuB,EAAI+tB,IAAW,IAAI/pB,KACvC,MAAMmjB,EAAMnnB,KAAMgE,GAClB,MAAO,KAAU,GAAK+pB,OAAY5G,EAAI,MAAMA,EAAI,MAAMA,EAAI,KAAK,EAG1D+G,EAAYxD,GAAKA,EACjByD,EAAU,CAAC7F,EAAGC,EAAGrmB,IAAM,CAAComB,EAAGC,EAAGrmB,GAE9BksB,EAAkB,CAACC,EAAQC,EAAU/jB,KAC1CrB,OAAOmf,eAAegG,EAAQC,EAAU,CACvC/jB,IAAK,KACJ,MAAM9K,EAAQ8K,IAQd,OANArB,OAAOmf,eAAegG,EAAQC,EAAU,CACvC7uB,QACA8uB,YAAY,EACZC,cAAc,IAGR/uB,CAAK,EAEb8uB,YAAY,EACZC,cAAc,GACb,EAIH,IAAIX,EACJ,MAAMY,EAAoB,CAACjoB,EAAMkoB,EAAaC,EAAUC,UAClCnwB,IAAjBovB,IACHA,EAAejvB,uBAGhB,MAAMmvB,EAASa,EAAe,GAAK,EAC7BC,EAAS,CAAA,EAEf,IAAK,MAAOC,EAAaC,KAAU7lB,OAAO8lB,QAAQnB,GAAe,CAChE,MAAMtvB,EAAuB,WAAhBuwB,EAA2B,OAASA,EAC7CA,IAAgBJ,EACnBG,EAAOtwB,GAAQiI,EAAKmoB,EAAUZ,GACH,iBAAVgB,IACjBF,EAAOtwB,GAAQiI,EAAKuoB,EAAML,GAAcX,GAEzC,CAED,OAAOc,CAAM,EAsGd3lB,OAAOmf,eAAejL,EAAQ,UAAW,CACxCmR,YAAY,EACZhkB,IArGD,WACC,MAAM0kB,EAAQ,IAAIplB,IACZglB,EAAS,CACdK,SAAU,CACTC,MAAO,CAAC,EAAG,GAEXC,KAAM,CAAC,EAAG,IACVC,IAAK,CAAC,EAAG,IACTC,OAAQ,CAAC,EAAG,IACZC,UAAW,CAAC,EAAG,IACfC,QAAS,CAAC,EAAG,IACb5sB,OAAQ,CAAC,EAAG,IACZ6sB,cAAe,CAAC,EAAG,KAEpBlE,MAAO,CACNpN,MAAO,CAAC,GAAI,IACZiH,IAAK,CAAC,GAAI,IACVlE,MAAO,CAAC,GAAI,IACZ4F,OAAQ,CAAC,GAAI,IACbzI,KAAM,CAAC,GAAI,IACX4E,QAAS,CAAC,GAAI,IACdjE,KAAM,CAAC,GAAI,IACX4H,MAAO,CAAC,GAAI,IAGZ8I,YAAa,CAAC,GAAI,IAClBC,UAAW,CAAC,GAAI,IAChBC,YAAa,CAAC,GAAI,IAClBC,aAAc,CAAC,GAAI,IACnBC,WAAY,CAAC,GAAI,IACjBC,cAAe,CAAC,GAAI,IACpBC,WAAY,CAAC,GAAI,IACjBC,YAAa,CAAC,GAAI,KAEnBC,QAAS,CACRC,QAAS,CAAC,GAAI,IACdC,MAAO,CAAC,GAAI,IACZC,QAAS,CAAC,GAAI,IACdC,SAAU,CAAC,GAAI,IACfC,OAAQ,CAAC,GAAI,IACbC,UAAW,CAAC,GAAI,IAChBC,OAAQ,CAAC,GAAI,IACbC,QAAS,CAAC,GAAI,IAGdC,cAAe,CAAC,IAAK,IACrBC,YAAa,CAAC,IAAK,IACnBC,cAAe,CAAC,IAAK,IACrBC,eAAgB,CAAC,IAAK,IACtBC,aAAc,CAAC,IAAK,IACpBC,gBAAiB,CAAC,IAAK,IACvBC,aAAc,CAAC,IAAK,IACpBC,cAAe,CAAC,IAAK,MAKvBrC,EAAOtD,MAAMtK,KAAO4N,EAAOtD,MAAMmE,YACjCb,EAAOqB,QAAQiB,OAAStC,EAAOqB,QAAQS,cACvC9B,EAAOtD,MAAMnK,KAAOyN,EAAOtD,MAAMmE,YACjCb,EAAOqB,QAAQkB,OAASvC,EAAOqB,QAAQS,cAEvC,IAAK,MAAOU,EAAWC,KAAUpoB,OAAO8lB,QAAQH,GAAS,CACxD,IAAK,MAAO0C,EAAWC,KAAUtoB,OAAO8lB,QAAQsC,GAC/CzC,EAAO0C,GAAa,CACnBE,KAAM,KAAUD,EAAM,MACtBE,MAAO,KAAUF,EAAM,OAGxBF,EAAMC,GAAa1C,EAAO0C,GAE1BtC,EAAMhlB,IAAIunB,EAAM,GAAIA,EAAM,IAG3BtoB,OAAOmf,eAAewG,EAAQwC,EAAW,CACxC5xB,MAAO6xB,EACP/C,YAAY,GAEb,CAiBD,OAfArlB,OAAOmf,eAAewG,EAAQ,QAAS,CACtCpvB,MAAOwvB,EACPV,YAAY,IAGbM,EAAOtD,MAAMmG,MAAQ,QACrB7C,EAAOqB,QAAQwB,MAAQ,QAEvBtD,EAAgBS,EAAOtD,MAAO,QAAQ,IAAMkD,EAAkBX,EAAY,SAAUI,GAAW,KAC/FE,EAAgBS,EAAOtD,MAAO,WAAW,IAAMkD,EAAkBT,EAAa,UAAWE,GAAW,KACpGE,EAAgBS,EAAOtD,MAAO,WAAW,IAAMkD,EAAkBR,EAAa,MAAOE,GAAS,KAC9FC,EAAgBS,EAAOqB,QAAS,QAAQ,IAAMzB,EAAkBX,EAAY,SAAUI,GAAW,KACjGE,EAAgBS,EAAOqB,QAAS,WAAW,IAAMzB,EAAkBT,EAAa,UAAWE,GAAW,KACtGE,EAAgBS,EAAOqB,QAAS,WAAW,IAAMzB,EAAkBR,EAAa,MAAOE,GAAS,KAEzFU,CACP,8DC1JD8C,UAAiB,CAAC1W,EAAMvH,EAAOrH,QAAQqH,QACtC,MAAMke,EAAS3W,EAAKxS,WAAW,KAAO,GAAsB,IAAhBwS,EAAK1b,OAAe,IAAM,KAChEmd,EAAWhJ,EAAKmG,QAAQ+X,EAAS3W,GACjC4W,EAAqBne,EAAKmG,QAAQ,MACxC,OAAqB,IAAd6C,KAA4C,IAAxBmV,GAA6BnV,EAAWmV,EAAmB,ECLvF,MAAMC,GAAKlzB,sBAAAA,QACLmzB,IAAM/lB,sBAAAA,QACN2lB,UAAUzlB,WAEV9C,IAACA,KAAOiD,QAEd,IAAI2lB,WAuBJ,SAASC,eAAeC,GACvB,OAAc,IAAVA,GAIG,CACNA,QACAC,UAAU,EACVC,OAAQF,GAAS,EACjBG,OAAQH,GAAS,EAEnB,CAEA,SAASI,cAAcC,EAAYC,GAClC,GAAmB,IAAfR,WACH,OAAO,EAGR,GAAIL,UAAQ,cACXA,UAAQ,eACRA,UAAQ,mBACR,OAAO,EAGR,GAAIA,UAAQ,aACX,OAAO,EAGR,GAAIY,IAAeC,QAA8B/zB,IAAfuzB,WACjC,OAAO,EAGR,MAAM5mB,EAAM4mB,YAAc,EAE1B,GAAiB,SAAb5oB,IAAIqpB,KACP,OAAOrnB,EAGR,GAAyB,UAArBiB,QAAQsJ,SAAsB,CAGjC,MAAM+c,EAAYZ,GAAGa,UAAUloB,MAAM,KACrC,OACCmoB,OAAOF,EAAU,KAAO,IACxBE,OAAOF,EAAU,KAAO,MAEjBE,OAAOF,EAAU,KAAO,MAAQ,EAAI,EAGrC,CACP,CAED,GAAI,OAAQtpB,IACX,MAAI,CAAC,SAAU,WAAY,WAAY,YAAa,iBAAkB,aAAaypB,MAAKC,GAAQA,KAAQ1pB,OAAwB,aAAhBA,IAAI2pB,QAC5G,EAGD3nB,EAGR,GAAI,qBAAsBhC,IACzB,MAAO,gCAAgClB,KAAKkB,IAAI4pB,kBAAoB,EAAI,EAGzE,GAAsB,cAAlB5pB,IAAI6pB,UACP,OAAO,EAGR,GAAI,iBAAkB7pB,IAAK,CAC1B,MAAMuS,EAAUsB,UAAU7T,IAAI8pB,sBAAwB,IAAIzoB,MAAM,KAAK,GAAI,IAEzE,OAAQrB,IAAI+pB,cACX,IAAK,YACJ,OAAOxX,GAAW,EAAI,EAAI,EAC3B,IAAK,iBACJ,OAAO,EAGT,CAED,MAAI,iBAAiBzT,KAAKkB,IAAIqpB,MACtB,EAGJ,8DAA8DvqB,KAAKkB,IAAIqpB,OAIvE,cAAerpB,IAHX,EAODgC,CACR,CAEA,SAASgoB,gBAAgBC,GAExB,OAAOpB,eADOK,cAAce,EAAQA,GAAUA,EAAO3kB,OAEtD,CAxHIijB,UAAQ,aACXA,UAAQ,cACRA,UAAQ,gBACRA,UAAQ,eACRK,WAAa,GACHL,UAAQ,UAClBA,UAAQ,WACRA,UAAQ,eACRA,UAAQ,mBACRK,WAAa,GAGV,gBAAiB5oB,MAEnB4oB,WADuB,SAApB5oB,IAAIkqB,YACM,EACiB,UAApBlqB,IAAIkqB,YACD,EAE2B,IAA3BlqB,IAAIkqB,YAAY/zB,OAAe,EAAIoF,KAAKyG,IAAI6R,SAAS7T,IAAIkqB,YAAa,IAAK,IAwG1F,IAAAC,kBAAiB,CAChBjB,cAAec,gBACf/kB,OAAQ4jB,eAAeK,eAAc,EAAMP,IAAIyB,OAAO,KACtDhlB,OAAQyjB,eAAeK,eAAc,EAAMP,IAAIyB,OAAO,MCnIvD,MAAMC,mBAAmB,CAAC/H,EAAQE,EAAW8H,KAC5C,IAAIhc,EAAQgU,EAAO7R,QAAQ+R,GAC3B,IAAe,IAAXlU,EACH,OAAOgU,EAGR,MAAMiI,EAAkB/H,EAAUrsB,OAClC,IAAIq0B,EAAW,EACXC,EAAc,GAClB,GACCA,GAAenI,EAAOoI,OAAOF,EAAUlc,EAAQkc,GAAYhI,EAAY8H,EACvEE,EAAWlc,EAAQic,EACnBjc,EAAQgU,EAAO7R,QAAQ+R,EAAWgI,UACf,IAAXlc,GAGT,OADAmc,GAAenI,EAAOoI,OAAOF,GACtBC,CAAW,EAGbE,iCAAiC,CAACrI,EAAQkG,EAAQoC,EAAStc,KAChE,IAAIkc,EAAW,EACXC,EAAc,GAClB,EAAG,CACF,MAAMI,EAA8B,OAAtBvI,EAAOhU,EAAQ,GAC7Bmc,GAAenI,EAAOoI,OAAOF,GAAWK,EAAQvc,EAAQ,EAAIA,GAASkc,GAAYhC,GAAUqC,EAAQ,OAAS,MAAQD,EACpHJ,EAAWlc,EAAQ,EACnBA,EAAQgU,EAAO7R,QAAQ,KAAM+Z,EAC/B,QAAqB,IAAXlc,GAGT,OADAmc,GAAenI,EAAOoI,OAAOF,GACtBC,CAAW,EAGnB,IAAAK,OAAiB,CACjBT,iBAACA,mBACDM,+BAACA,6JCpCD,MAAMI,EAAiB,4JACjBC,EAAc,iCACdC,EAAe,mCACfC,EAAe,6DAEfC,EAAU,IAAI1qB,IAAI,CACvB,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,IAAK,MACN,CAAC,KAAM,MACP,CAAC,IAAK,KACN,CAAC,IAAK,OAGP,SAAS2qB,EAASxL,GACjB,MAAMyL,EAAa,MAATzL,EAAE,GACN0L,EAAmB,MAAT1L,EAAE,GAElB,OAAKyL,IAAMC,GAAwB,IAAb1L,EAAEzpB,QAA2B,MAATypB,EAAE,IAA2B,IAAbA,EAAEzpB,OACpDo1B,OAAOC,aAAa3X,SAAS+L,EAAE1pB,MAAM,GAAI,KAG7Cm1B,GAAKC,EACDC,OAAOE,cAAc5X,SAAS+L,EAAE1pB,MAAM,GAAI,GAAI,KAG/Ci1B,EAAQhqB,IAAIye,IAAMA,CACzB,CAED,SAAS8L,EAAev2B,EAAMw2B,GAC7B,MAAMC,EAAU,GACVC,EAASF,EAAWG,OAAOzqB,MAAM,YACvC,IAAI0qB,EAEJ,IAAK,MAAMC,KAASH,EAAQ,CAC3B,MAAMI,EAASzC,OAAOwC,GACtB,GAAKxC,OAAO0C,MAAMD,GAEX,MAAKF,EAAUC,EAAM3zB,MAAM4yB,IAGjC,MAAM,IAAIt2B,MAAM,0CAA0Cq3B,gBAAoB72B,OAF9Ey2B,EAAQjzB,KAAKozB,EAAQ,GAAG3yB,QAAQ8xB,GAAc,CAACjiB,EAAGkjB,EAAQC,IAAcD,EAASf,EAASe,GAAUC,IAGpG,MALAR,EAAQjzB,KAAKszB,EAMd,CAED,OAAOL,CACP,CAED,SAASS,EAAWjE,GACnB4C,EAAYsB,UAAY,EAExB,MAAMV,EAAU,GAChB,IAAIG,EAEJ,KAA+C,QAAvCA,EAAUf,EAAY9hB,KAAKkf,KAAkB,CACpD,MAAMjzB,EAAO42B,EAAQ,GAErB,GAAIA,EAAQ,GAAI,CACf,MAAMnxB,EAAO8wB,EAAev2B,EAAM42B,EAAQ,IAC1CH,EAAQjzB,KAAK,CAACxD,GAAMsB,OAAOmE,GAC9B,MACGgxB,EAAQjzB,KAAK,CAACxD,GAEf,CAED,OAAOy2B,CACP,CAED,SAASW,EAAWC,EAAO/G,GAC1B,MAAMgH,EAAU,CAAA,EAEhB,IAAK,MAAMC,KAASjH,EACnB,IAAK,MAAM2C,KAASsE,EAAMjH,OACzBgH,EAAQrE,EAAM,IAAMsE,EAAMtG,QAAU,KAAOgC,EAAMlyB,MAAM,GAIzD,IAAIqtB,EAAUiJ,EACd,IAAK,MAAOrE,EAAW1C,KAAW3lB,OAAO8lB,QAAQ6G,GAChD,GAAKl2B,MAAMC,QAAQivB,GAAnB,CAIA,KAAM0C,KAAa5E,GAClB,MAAM,IAAI5uB,MAAM,wBAAwBwzB,KAGzC5E,EAAUkC,EAAOtvB,OAAS,EAAIotB,EAAQ4E,MAAc1C,GAAUlC,EAAQ4E,EANrE,CASF,OAAO5E,CACP,QAEDoJ,UAAiB,CAACH,EAAOI,KACxB,MAAMnH,EAAS,GACToG,EAAS,GACf,IAAIG,EAAQ,GA0BZ,GAvBAY,EAAUxzB,QAAQ2xB,GAAgB,CAAC9hB,EAAG4jB,EAAiBzG,EAASgC,EAAOE,EAAO8D,KAC7E,GAAIS,EACHb,EAAMrzB,KAAKyyB,EAASyB,SACd,GAAIzE,EAAO,CACjB,MAAM9F,EAAS0J,EAAM/0B,KAAK,IAC1B+0B,EAAQ,GACRH,EAAOlzB,KAAuB,IAAlB8sB,EAAOtvB,OAAemsB,EAASiK,EAAWC,EAAO/G,EAAlB8G,CAA0BjK,IACrEmD,EAAO9sB,KAAK,CAACytB,UAASX,OAAQ4G,EAAWjE,IACzC,MAAM,GAAIE,EAAO,CACjB,GAAsB,IAAlB7C,EAAOtvB,OACV,MAAM,IAAIxB,MAAM,gDAGjBk3B,EAAOlzB,KAAK4zB,EAAWC,EAAO/G,EAAlB8G,CAA0BP,EAAM/0B,KAAK,MACjD+0B,EAAQ,GACRvG,EAAOjC,KACV,MACGwI,EAAMrzB,KAAKyzB,EACX,IAGFP,EAAOlzB,KAAKqzB,EAAM/0B,KAAK,KAEnBwuB,EAAOtvB,OAAS,EAAG,CACtB,MAAM22B,EAAa,qCAAqCrH,EAAOtvB,yBAA2C,IAAlBsvB,EAAOtvB,OAAe,GAAK,cACnH,MAAM,IAAIxB,MAAMm4B,EAChB,CAED,OAAOjB,EAAO50B,KAAK,GAAG,YCnIvB,MAAM81B,WAAav3B,mBACZyP,OAAQ+nB,YAAa5nB,OAAQ6nB,aAAerqB,mBAC7CynB,iBACLA,iBAAgBM,+BAChBA,gCACG7nB,QAEGtM,QAAAA,WAAWD,MAGZ22B,aAAe,CACpB,OACA,OACA,UACA,WAGKzH,OAAS3lB,OAAOqtB,OAAO,MAEvBC,aAAe,CAACnI,EAAQ1rB,EAAU,MACvC,GAAIA,EAAQuvB,SAAWU,OAAO6D,UAAU9zB,EAAQuvB,QAAUvvB,EAAQuvB,OAAS,GAAKvvB,EAAQuvB,OAAS,GAChG,MAAM,IAAIn0B,MAAM,uDAIjB,MAAM24B,EAAaN,YAAcA,YAAYlE,MAAQ,EACrD7D,EAAO6D,WAA0BzzB,IAAlBkE,EAAQuvB,MAAsBwE,EAAa/zB,EAAQuvB,KAAK,EAGxE,MAAMyE,WACL34B,YAAY2E,GAEX,OAAOi0B,aAAaj0B,EACpB,EAGF,MAAMi0B,aAAej0B,IACpB,MAAMizB,EAAQ,CAAA,EAcd,OAbAY,aAAaZ,EAAOjzB,GAEpBizB,EAAMiB,SAAW,IAAI9B,IAAe+B,SAASlB,EAAMiB,YAAa9B,GAEhE7rB,OAAO6tB,eAAenB,EAAOoB,MAAMC,WACnC/tB,OAAO6tB,eAAenB,EAAMiB,SAAUjB,GAEtCA,EAAMiB,SAAS74B,YAAc,KAC5B,MAAM,IAAID,MAAM,2EAA2E,EAG5F63B,EAAMiB,SAASK,SAAWP,WAEnBf,EAAMiB,QAAQ,EAGtB,SAASG,MAAMr0B,GACd,OAAOi0B,aAAaj0B,EACrB,CAEA,IAAK,MAAO4uB,EAAWC,KAAUtoB,OAAO8lB,QAAQmH,YAC/CtH,OAAO0C,GAAa,CACnBhnB,MACC,MAAM4sB,EAAUC,cAAc94B,KAAM+4B,aAAa7F,EAAMC,KAAMD,EAAME,MAAOpzB,KAAKg5B,SAAUh5B,KAAKi5B,UAE9F,OADAruB,OAAOmf,eAAe/pB,KAAMizB,EAAW,CAAC9xB,MAAO03B,IACxCA,CACP,GAIHtI,OAAO2I,QAAU,CAChBjtB,MACC,MAAM4sB,EAAUC,cAAc94B,KAAMA,KAAKg5B,SAAS,GAElD,OADApuB,OAAOmf,eAAe/pB,KAAM,UAAW,CAACmB,MAAO03B,IACxCA,CACP,GAGF,MAAMM,WAAa,CAAC,MAAO,MAAO,UAAW,MAAO,MAAO,MAAO,OAAQ,WAE1E,IAAK,MAAMrP,KAASqP,WACnB5I,OAAOzG,GAAS,CACf7d,MACC,MAAM2nB,MAACA,GAAS5zB,KAChB,OAAO,YAAay2B,GACnB,MAAM2C,EAASL,aAAalB,WAAW5K,MAAM+K,aAAapE,IAAQ9J,MAAU2M,GAAaoB,WAAW5K,MAAMmG,MAAOpzB,KAAKg5B,SACtH,OAAOF,cAAc94B,KAAMo5B,EAAQp5B,KAAKi5B,SAC5C,CACG,GAIH,IAAK,MAAMnP,KAASqP,WAAY,CAC/B,MAAME,EAAU,KAAOvP,EAAM,GAAGzd,cAAgByd,EAAM9oB,MAAM,GAC5DuvB,OAAO8I,GAAW,CACjBptB,MACC,MAAM2nB,MAACA,GAAS5zB,KAChB,OAAO,YAAay2B,GACnB,MAAM2C,EAASL,aAAalB,WAAWjG,QAAQoG,aAAapE,IAAQ9J,MAAU2M,GAAaoB,WAAWjG,QAAQwB,MAAOpzB,KAAKg5B,SAC1H,OAAOF,cAAc94B,KAAMo5B,EAAQp5B,KAAKi5B,SAC5C,CACG,EAEH,CAEA,MAAMK,MAAQ1uB,OAAO2uB,kBAAiB,QAAU,IAC5ChJ,OACHqD,MAAO,CACN3D,YAAY,EACZhkB,MACC,OAAOjM,KAAKw5B,WAAW5F,KACvB,EACDjoB,IAAIioB,GACH5zB,KAAKw5B,WAAW5F,MAAQA,CACxB,KAIGmF,aAAe,CAAC5F,EAAMC,EAAOjuB,KAClC,IAAIs0B,EACAC,EASJ,YARev5B,IAAXgF,GACHs0B,EAAUtG,EACVuG,EAAWtG,IAEXqG,EAAUt0B,EAAOs0B,QAAUtG,EAC3BuG,EAAWtG,EAAQjuB,EAAOu0B,UAGpB,CACNvG,OACAC,QACAqG,UACAC,WACAv0B,SACA,EAGI2zB,cAAgB,CAACa,EAAMX,EAASC,KACrC,MAAMJ,EAAU,IAAIpC,IACfn1B,UAAQm1B,EAAW,KAAOn1B,UAAQm1B,EAAW,GAAGpH,KAE5CuK,WAAWf,EAASL,SAASK,KAAYpC,IAK1CmD,WAAWf,EAAgC,IAAtBpC,EAAWx1B,OAAiB,GAAKw1B,EAAW,GAAMA,EAAW10B,KAAK,MAW/F,OANA6I,OAAO6tB,eAAeI,EAASS,OAE/BT,EAAQW,WAAaG,EACrBd,EAAQG,QAAUA,EAClBH,EAAQI,SAAWA,EAEZJ,CAAO,EAGTe,WAAa,CAACD,EAAMvM,KACzB,GAAIuM,EAAK/F,OAAS,IAAMxG,EACvB,OAAOuM,EAAKV,SAAW,GAAK7L,EAG7B,IAAIgM,EAASO,EAAKX,QAElB,QAAe74B,IAAXi5B,EACH,OAAOhM,EAGR,MAAMqM,QAACA,EAAOC,SAAEA,GAAYN,EAC5B,IAAkC,IAA9BhM,EAAO7R,QAAQ,KAClB,UAAkBpb,IAAXi5B,GAINhM,EAAS+H,iBAAiB/H,EAAQgM,EAAOhG,MAAOgG,EAAOjG,MAEvDiG,EAASA,EAAOj0B,OAOlB,MAAM00B,EAAUzM,EAAO7R,QAAQ,MAK/B,OAJiB,IAAbse,IACHzM,EAASqI,+BAA+BrI,EAAQsM,EAAUD,EAASI,IAG7DJ,EAAUrM,EAASsM,CAAQ,EAGnC,IAAInB,SACJ,MAAMC,SAAW,CAAClB,KAAUwC,KAC3B,MAAOC,GAAeD,EAEtB,IAAKx4B,UAAQy4B,KAAiBz4B,UAAQy4B,EAAY1K,KAGjD,OAAOyK,EAAQ/3B,KAAK,KAGrB,MAAM00B,EAAaqD,EAAQ94B,MAAM,GAC3Bg5B,EAAQ,CAACD,EAAY1K,IAAI,IAE/B,IAAK,IAAI7lB,EAAI,EAAGA,EAAIuwB,EAAY94B,OAAQuI,IACvCwwB,EAAMv2B,KACL4yB,OAAOI,EAAWjtB,EAAI,IAAItF,QAAQ,UAAW,QAC7CmyB,OAAO0D,EAAY1K,IAAI7lB,KAQzB,YAJiBrJ,IAAbo4B,WACHA,SAAWzqB,oBAGLyqB,SAASjB,EAAO0C,EAAMj4B,KAAK,IAAI,EAGvC6I,OAAO2uB,iBAAiBb,MAAMC,UAAWpI,QAEzC,MAAM+G,MAAQoB,QACdpB,MAAMtD,cAAgB8D,YACtBR,MAAMpnB,OAASwoB,MAAM,CAAC9E,MAAOmE,YAAcA,YAAYnE,MAAQ,IAC/D0D,MAAMpnB,OAAO8jB,cAAgB+D,YAE7B,IAAAhjB,OAAiBuiB,MClOV,MAAM2C,KAAO,IAAIC,KACtB/a,QAAQC,IAAI+a,YAAWD,GAAM,EAGlB75B,MAAQ,IAAI65B,KACvB/a,QAAQC,IAAIgb,WAAUF,GAAM,sCCL1BrQ,YAAc,CAAA,EAClBwQ,MAAiBxQ,YAEjB,SAAS2K,KAAKtJ,GACV,OAAOA,EAAI,GAAK,EAAI,CACxB,CAEA,SAASoP,UAAUpP,GAEf,OAAKA,EAAI,GAAO,IAAmB,IAAP,EAAJA,GACb7kB,KAAKqlB,MAAMR,GAEX7kB,KAAK0mB,MAAM7B,EAE1B,CAEA,SAASqP,uBAAuBC,EAAWC,GAClCA,EAASC,YACRF,EAEN,MAAMG,EAAaF,EAASC,SAAW,GAAKr0B,KAAKu0B,IAAI,EAAGJ,GAClDK,EAAax0B,KAAKu0B,IAAI,EAAGJ,GAAa,EAEtCM,EAAYL,EAASM,gBAAkB10B,KAAKu0B,IAAI,EAAGH,EAASM,iBAAmB10B,KAAKu0B,IAAI,EAAGJ,GAC3FQ,EAAcP,EAASM,gBAAkB10B,KAAKu0B,IAAI,EAAGH,EAASM,gBAAkB,GAAK10B,KAAKu0B,IAAI,EAAGJ,EAAY,GAEnH,OAAO,SAASS,EAAGhqB,GACVA,IAAMA,EAAO,IAElB,IAAIia,GAAK+P,EAET,GAAIhqB,EAAKiqB,aAAc,CACnB,IAAK5G,OAAO6G,SAASjQ,GACjB,MAAM,IAAIkQ,UAAU,mCAIxB,GADAlQ,EAAIsJ,KAAKtJ,GAAK7kB,KAAKqlB,MAAMrlB,KAAKqG,IAAIwe,IAC9BA,EAAIyP,GAAczP,EAAI2P,EACtB,MAAM,IAAIO,UAAU,iCAGxB,OAAOlQ,CACV,CAED,IAAK8L,MAAM9L,IAAMja,EAAKoqB,MAKlB,OAJAnQ,EAAIoP,UAAUpP,GAEVA,EAAIyP,IAAYzP,EAAIyP,GACpBzP,EAAI2P,IAAY3P,EAAI2P,GACjB3P,EAGX,IAAKoJ,OAAO6G,SAASjQ,IAAY,IAANA,EACvB,OAAO,EAMX,GAHAA,EAAIsJ,KAAKtJ,GAAK7kB,KAAKqlB,MAAMrlB,KAAKqG,IAAIwe,IAClCA,GAAQ4P,GAEHL,EAASC,UAAYxP,GAAK8P,EAC3B,OAAO9P,EAAI4P,EACR,GAAIL,EAASC,SAChB,GAAIxP,EAAI,EACNA,GAAK4P,OACA,IAAW,IAAP5P,EACT,OAAO,EAIb,OAAOA,CACV,CACL,CAEArB,YAAkB,KAAI,WAEtB,EAEAA,YAAqB,QAAI,SAAUvW,GAC/B,QAASA,CACb,EAEAuW,YAAkB,KAAI0Q,uBAAuB,EAAG,CAAEG,UAAU,IAC5D7Q,YAAmB,MAAI0Q,uBAAuB,EAAG,CAAEG,UAAU,IAE7D7Q,YAAmB,MAAI0Q,uBAAuB,GAAI,CAAEG,UAAU,IAC9D7Q,YAAY,kBAAoB0Q,uBAAuB,GAAI,CAAEG,UAAU,IAEvE7Q,YAAkB,KAAI0Q,uBAAuB,GAAI,CAAEG,UAAU,IAC7D7Q,YAAY,iBAAmB0Q,uBAAuB,GAAI,CAAEG,UAAU,IAEtE7Q,YAAY,aAAe0Q,uBAAuB,GAAI,CAAEG,UAAU,EAAOK,gBAAiB,KAC1FlR,YAAY,sBAAwB0Q,uBAAuB,GAAI,CAAEG,UAAU,EAAMK,gBAAiB,KAElGlR,YAAoB,OAAI,SAAUoR,GAC9B,MAAM/P,GAAK+P,EAEX,IAAK3G,OAAO6G,SAASjQ,GACjB,MAAM,IAAIkQ,UAAU,iDAGxB,OAAOlQ,CACX,EAEArB,YAAY,uBAAyB,SAAUoR,GAC3C,MAAM/P,GAAK+P,EAEX,GAAIjE,MAAM9L,GACN,MAAM,IAAIkQ,UAAU,mBAGxB,OAAOlQ,CACX,EAGArB,YAAmB,MAAIA,YAAoB,OAC3CA,YAAY,sBAAwBA,YAAY,uBAEhDA,YAAuB,UAAI,SAAUoR,EAAGhqB,GAGpC,OAFKA,IAAMA,EAAO,IAEdA,EAAKqqB,wBAAgC,OAANL,EACxB,GAGJ5E,OAAO4E,EAClB,EAEApR,YAAwB,WAAI,SAAUoR,EAAGhqB,GACrC,MAAMia,EAAImL,OAAO4E,GACjB,IAAIvQ,EACJ,IAAK,IAAIlhB,EAAI,OAA8BrJ,KAA1BuqB,EAAIQ,EAAEqQ,YAAY/xB,MAAqBA,EACpD,GAAIkhB,EAAI,IACJ,MAAM,IAAI0Q,UAAU,sCAI5B,OAAOlQ,CACX,EAEArB,YAAuB,UAAI,SAAUoR,GACjC,MAAMO,EAAInF,OAAO4E,GACX7O,EAAIoP,EAAEv6B,OACNw6B,EAAI,GACV,IAAK,IAAIjyB,EAAI,EAAGA,EAAI4iB,IAAK5iB,EAAG,CACxB,MAAMkhB,EAAI8Q,EAAEE,WAAWlyB,GACvB,GAAIkhB,EAAI,OAAUA,EAAI,MAClB+Q,EAAEh4B,KAAK4yB,OAAOE,cAAc7L,SACzB,GAAI,OAAUA,GAAKA,GAAK,MAC3B+Q,EAAEh4B,KAAK4yB,OAAOE,cAAc,aAE5B,GAAI/sB,IAAM4iB,EAAI,EACVqP,EAAEh4B,KAAK4yB,OAAOE,cAAc,YACzB,CACH,MAAM5pB,EAAI6uB,EAAEE,WAAWlyB,EAAI,GAC3B,GAAI,OAAUmD,GAAKA,GAAK,MAAQ,CAC5B,MAAMhJ,EAAQ,KAAJ+mB,EACJ9mB,EAAQ,KAAJ+I,EACV8uB,EAAEh4B,KAAK4yB,OAAOE,cAAc,MAAY,KAAW5yB,EAAIC,MACrD4F,CACtB,MACoBiyB,EAAEh4B,KAAK4yB,OAAOE,cAAc,OAEnC,CAER,CAED,OAAOkF,EAAE15B,KAAK,GAClB,EAEA8nB,YAAkB,KAAI,SAAUoR,EAAGhqB,GAC/B,KAAMgqB,aAAaU,MACf,MAAM,IAAIP,UAAU,iCAExB,IAAIpE,MAAMiE,GAIV,OAAOA,CACX,EAEApR,YAAoB,OAAI,SAAUoR,EAAGhqB,GAKjC,OAJMgqB,aAAajyB,SACfiyB,EAAI,IAAIjyB,OAAOiyB,IAGZA,CACX,iEC1LAnc,OAAAD,QAAA+c,MAAuB,SAAerf,EAAQxH,GAC5C,MAAMkH,EAAOrR,OAAOixB,oBAAoB9mB,GACxC,IAAK,IAAIvL,EAAI,EAAGA,EAAIyS,EAAKhb,SAAUuI,EACjCoB,OAAOmf,eAAexN,EAAQN,EAAKzS,GAAIoB,OAAOkxB,yBAAyB/mB,EAAQkH,EAAKzS,IAExF,EAEAsV,OAAAD,QAAAkd,cAA+BC,OAAO,WACtCld,OAAAD,QAAAod,WAA4BD,OAAO,QAEnCld,OAAgCD,QAAAqd,eAAA,SAAUC,GACxC,OAAOA,EAAKrd,OAAOD,QAAQkd,cAC7B,EAEAjd,OAAgCD,QAAAud,eAAA,SAAUC,GACxC,OAAOA,EAAQvd,OAAOD,QAAQod,+h8PCf5BK,SAAWh8B,sBAAAA,QACXi8B,aAAe7uB,WAEf8uB,mBAAqB,CACvBC,aAAc,EACdC,gBAAiB,GAGnB,SAASC,UAAUh0B,GACjB,OAAOA,EAAIwD,MAAM,MAAUxG,KAAI,SAAUsX,GAAK,OAAOA,EAAE0f,UAAU,MAAS,IAAE56B,KAAK,KACnF,CAEA,SAAS66B,WAAWtpB,GAIlB,IAHA,IAAIupB,EAAQ,EACRC,EAAMP,aAAat7B,OAAS,EAEzB47B,GAASC,GAAK,CACnB,IAAIC,EAAM12B,KAAKqlB,OAAOmR,EAAQC,GAAO,GAEjCvgB,EAASggB,aAAaQ,GAC1B,GAAIxgB,EAAO,GAAG,IAAMjJ,GAAOiJ,EAAO,GAAG,IAAMjJ,EACzC,OAAOiJ,EACEA,EAAO,GAAG,GAAKjJ,EACxBwpB,EAAMC,EAAM,EAEZF,EAAQE,EAAM,CAEjB,CAED,OAAO,IACT,CAEA,IAAIC,mBAAqB,kCAEzB,SAASC,aAAa7P,GACpB,OAAOA,EAEJlpB,QAAQ84B,mBAAoB,KAE5B/7B,MACL,CAEA,SAASi8B,SAASC,EAAaC,EAASC,GAKtC,IAJA,IAAIC,GAAW,EACXjkB,EAAY,GAEZmC,EAAMyhB,aAAaE,GACd3zB,EAAI,EAAGA,EAAIgS,IAAOhS,EAAG,CAC5B,IAAI+zB,EAAYJ,EAAY5B,YAAY/xB,GACpCg0B,EAASZ,WAAWW,GAExB,OAAQC,EAAO,IACb,IAAK,aACHF,GAAW,EACXjkB,GAAagd,OAAOE,cAAcgH,GAClC,MACF,IAAK,UACH,MACF,IAAK,SACHlkB,GAAagd,OAAOE,cAAcvjB,MAAMqjB,OAAQmH,EAAO,IACvD,MACF,IAAK,YACCH,IAAsBb,mBAAmBC,aAC3CpjB,GAAagd,OAAOE,cAAcvjB,MAAMqjB,OAAQmH,EAAO,IAEvDnkB,GAAagd,OAAOE,cAAcgH,GAEpC,MACF,IAAK,QACHlkB,GAAagd,OAAOE,cAAcgH,GAClC,MACF,IAAK,yBACCH,GACFE,GAAW,EACXjkB,GAAagd,OAAOE,cAAcgH,IAElClkB,GAAagd,OAAOE,cAAcvjB,MAAMqjB,OAAQmH,EAAO,IAEzD,MACF,IAAK,wBACCJ,IACFE,GAAW,GAGbjkB,GAAagd,OAAOE,cAAcgH,GAGvC,CAED,MAAO,CACLnQ,OAAQ/T,EACRhZ,MAAOi9B,EAEX,CAEA,IAAIG,oBAAsB,oqFAE1B,SAASC,cAAcC,EAAON,GACD,SAAvBM,EAAMnI,OAAO,EAAG,KAClBmI,EAAQrB,SAASsB,UAAUD,GACPnB,mBAAmBE,iBAGzC,IAAIr8B,GAAQ,GAERs8B,UAAUgB,KAAWA,GACP,MAAbA,EAAM,IAA2B,MAAbA,EAAM,IACd,MAAbA,EAAM,IAA0C,MAA5BA,EAAMA,EAAM18B,OAAS,KACjB,IAAxB08B,EAAMpiB,QAAQ,MACwB,IAAtCoiB,EAAME,OAAOJ,wBACfp9B,GAAQ,GAIV,IADA,IAAImb,EAAMyhB,aAAaU,GACdn0B,EAAI,EAAGA,EAAIgS,IAAOhS,EAAG,CAC5B,IAAIg0B,EAASZ,WAAWe,EAAMpC,YAAY/xB,IAC1C,GAAKs0B,aAAetB,mBAAmBC,cAA8B,UAAde,EAAO,IACzDM,aAAetB,mBAAmBE,iBACpB,UAAdc,EAAO,IAAgC,cAAdA,EAAO,GAAqB,CACxDn9B,GAAQ,EACR,KACD,CACF,CAED,MAAO,CACLs9B,MAAOA,EACPt9B,MAAOA,EAEX,CAEA,SAASy9B,WAAWX,EAAaC,EAASC,GACxC,IAAI3jB,EAASwjB,SAASC,EAAaC,EAASC,GAC5C3jB,EAAO0T,OAASuP,UAAUjjB,EAAO0T,QAGjC,IADA,IAAIrE,EAASrP,EAAO0T,OAAOjhB,MAAM,KACxB3C,EAAI,EAAGA,EAAIuf,EAAO9nB,SAAUuI,EACnC,IACE,IAAIu0B,EAAaL,cAAc3U,EAAOvf,IACtCuf,EAAOvf,GAAKu0B,EAAWJ,MACvBjkB,EAAOrZ,MAAQqZ,EAAOrZ,OAAS09B,EAAW19B,KAC3C,CAAC,MAAM29B,GACNtkB,EAAOrZ,OAAQ,CAChB,CAGH,MAAO,CACL+sB,OAAQrE,EAAOhnB,KAAK,KACpB1B,MAAOqZ,EAAOrZ,MAElB,CAEsB49B,KAAAC,QAAG,SAASf,EAAaC,EAASC,EAAmBc,GACzE,IAAIzkB,EAASokB,WAAWX,EAAaC,EAASC,GAC1CtU,EAASrP,EAAO0T,OAAOjhB,MAAM,KAUjC,GATA4c,EAASA,EAAOpjB,KAAI,SAASykB,GAC3B,IACE,OAAOkS,SAAS4B,QAAQ9T,EACzB,CAAC,MAAM4T,GAEN,OADAtkB,EAAOrZ,OAAQ,EACR+pB,CACR,CACL,IAEM+T,EAAiB,CACnB,IAAIC,EAAQrV,EAAO/nB,MAAM,EAAG+nB,EAAO9nB,OAAS,GAAGc,KAAK,KAAKd,QACrDm9B,EAAMn9B,OAAS,KAAwB,IAAjBm9B,EAAMn9B,UAC9ByY,EAAOrZ,OAAQ,GAGjB,IAAK,IAAImJ,EAAE,EAAGA,EAAIuf,EAAO9nB,SAAUuI,EACjC,GAAIuf,EAAO9nB,OAAS,IAAwB,IAAlB8nB,EAAO9nB,OAAc,CAC7CyY,EAAOrZ,OAAQ,EACf,KACD,CAEJ,CAED,OAAIqZ,EAAOrZ,MAAc,KAClB0oB,EAAOhnB,KAAK,IACrB,EAEAk8B,KAAAL,UAA2B,SAAST,EAAaC,GAC/C,IAAI1jB,EAASokB,WAAWX,EAAaC,EAASZ,mBAAmBE,iBAEjE,MAAO,CACL2B,OAAQ3kB,EAAO0T,OACf/sB,MAAOqZ,EAAOrZ,MAElB,EAEA49B,KAAAzB,mBAAoCA,uDC/LpC,MAAMF,EAAWh8B,sBAAAA,QACX29B,EAAOvwB,KAEP4wB,EAAiB,CACrBC,IAAK,GACLC,KAAM,KACNC,OAAQ,GACRC,KAAM,GACNC,MAAO,IACPC,GAAI,GACJC,IAAK,KAGDC,EAAU9C,OAAO,WAEvB,SAASiB,EAAat0B,GACpB,OAAO2zB,EAASyC,KAAKC,OAAOr2B,GAAK1H,MAClC,CAED,SAASg+B,EAAGC,EAAOC,GACjB,MAAMzU,EAAIwU,EAAMC,GAChB,OAAOnI,MAAMtM,QAAKvqB,EAAYk2B,OAAOE,cAAc7L,EACpD,CAED,SAAS0U,EAAa1U,GACpB,OAAOA,GAAK,IAAQA,GAAK,EAC1B,CAED,SAAS2U,EAAa3U,GACpB,OAAQA,GAAK,IAAQA,GAAK,IAAUA,GAAK,IAAQA,GAAK,GACvD,CAMD,SAAS4U,EAAW5U,GAClB,OAAO0U,EAAa1U,IAAOA,GAAK,IAAQA,GAAK,IAAUA,GAAK,IAAQA,GAAK,GAC1E,CAED,SAAS6U,EAAYC,GACnB,MAAkB,MAAXA,GAA2C,QAAzBA,EAAOC,aACjC,CAWD,SAASC,EAA2BtS,GAClC,OAAyB,IAAlBA,EAAOnsB,QAAgBo+B,EAAajS,EAAOmO,YAAY,MAAsB,MAAdnO,EAAO,IAA4B,MAAdA,EAAO,GACnG,CAcD,SAASuS,EAAgBC,GACvB,YAAkCz/B,IAA3Bm+B,EAAesB,EACvB,CAED,SAASC,EAAUC,GACjB,OAAOH,EAAgBG,EAAIF,OAC5B,CAMD,SAASG,EAAcrV,GACrB,IAAInB,EAAMmB,EAAE2C,SAAS,IAAIhhB,cAKzB,OAJmB,IAAfkd,EAAItoB,SACNsoB,EAAM,IAAMA,GAGP,IAAMA,CACd,CA8BD,SAASyW,EAAyBtV,GAChC,OAAOA,GAAK,IAAQA,EAAI,GACzB,CAED,MAAMuV,EAA4B,IAAIv0B,IAAI,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,MAC5E,SAASw0B,EAAoBxV,GAC3B,OAAOsV,EAAyBtV,IAAMuV,EAA0Bp0B,IAAI6e,EACrE,CAED,MAAMyV,EACJ,IAAIz0B,IAAI,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,MAC/C,SAAS00B,EAAwB1V,GAC/B,OAAOwV,EAAoBxV,IAAMyV,EAA8Bt0B,IAAI6e,EACpE,CAED,SAAS2V,EAAkB3V,EAAG4V,GAC5B,MAAMC,EAAOlK,OAAOE,cAAc7L,GAElC,OAAI4V,EAAmB5V,GA9CzB,SAA2BA,GACzB,MAAM8V,EAAM,IAAIxiB,OAAO0M,GAEvB,IAAI/hB,EAAM,GAEV,IAAK,IAAIa,EAAI,EAAGA,EAAIg3B,EAAIv/B,SAAUuI,EAChCb,GAAOo3B,EAAcS,EAAIh3B,IAG3B,OAAOb,CACR,CAqCU83B,CAAkBF,GAGpBA,CACR,CAED,SAASG,EAAgBxB,GACvB,IAAIyB,EAAI,GAUR,GARIzB,EAAMj+B,QAAU,GAAyB,MAApBi+B,EAAM0B,OAAO,IAAgD,MAAlC1B,EAAM0B,OAAO,GAAGnB,eAClEP,EAAQA,EAAM5R,UAAU,GACxBqT,EAAI,IACKzB,EAAMj+B,QAAU,GAAyB,MAApBi+B,EAAM0B,OAAO,KAC3C1B,EAAQA,EAAM5R,UAAU,GACxBqT,EAAI,GAGQ,KAAVzB,EACF,OAAO,EAIT,OADoB,KAANyB,EAAW,SAAkB,KAANA,EAAW,eAAiB,UACvD/2B,KAAKs1B,GACNJ,EAGFngB,SAASugB,EAAOyB,EACxB,CA6ND,SAASE,EAAU3B,EAAO4B,GACxB,GAAiB,MAAb5B,EAAM,GACR,MAAgC,MAA5BA,EAAMA,EAAMj+B,OAAS,GAChB69B,EAlKb,SAAmBI,GACjB,MAAM6B,EAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACtC,IAAIC,EAAa,EACbC,EAAW,KACXC,EAAU,EAId,GAAuB,MAFvBhC,EAAQ5C,EAASyC,KAAKC,OAAOE,IAEnBgC,GAAiB,CACzB,GAA2B,KAAvBhC,EAAMgC,EAAU,GAClB,OAAOpC,EAGToC,GAAW,IACTF,EACFC,EAAWD,CACZ,CAED,KAAOE,EAAUhC,EAAMj+B,QAAQ,CAC7B,GAAmB,IAAf+/B,EACF,OAAOlC,EAGT,GAAuB,KAAnBI,EAAMgC,GAAiB,CACzB,GAAiB,OAAbD,EACF,OAAOnC,IAEPoC,IACAF,EACFC,EAAWD,EACX,QACD,CAED,IAAI7/B,EAAQ,EACRF,EAAS,EAEb,KAAOA,EAAS,GAAKq+B,EAAWJ,EAAMgC,KACpC//B,EAAgB,GAARA,EAAewd,SAASsgB,EAAGC,EAAOgC,GAAU,MAClDA,IACAjgC,EAGJ,GAAuB,KAAnBi+B,EAAMgC,GAAiB,CACzB,GAAe,IAAXjgC,EACF,OAAO69B,EAKT,GAFAoC,GAAWjgC,EAEP+/B,EAAa,EACf,OAAOlC,EAGT,IAAIqC,EAAc,EAElB,UAA0BhhC,IAAnB++B,EAAMgC,IAAwB,CACnC,IAAIE,EAAY,KAEhB,GAAID,EAAc,EAAG,CACnB,KAAuB,KAAnBjC,EAAMgC,IAAmBC,EAAc,GAGzC,OAAOrC,IAFLoC,CAIL,CAED,IAAK9B,EAAaF,EAAMgC,IACtB,OAAOpC,EAGT,KAAOM,EAAaF,EAAMgC,KAAW,CACnC,MAAMnK,EAASpY,SAASsgB,EAAGC,EAAOgC,IAClC,GAAkB,OAAdE,EACFA,EAAYrK,MACP,IAAkB,IAAdqK,EACT,OAAOtC,EAEPsC,EAAwB,GAAZA,EAAiBrK,CAC9B,CACD,GAAIqK,EAAY,IACd,OAAOtC,IAEPoC,CACH,CAEDH,EAAQC,GAAoC,IAAtBD,EAAQC,GAAsBI,IAElDD,EAEkB,IAAhBA,GAAqC,IAAhBA,KACrBH,CAEL,CAED,GAAoB,IAAhBG,EACF,OAAOrC,EAGT,KACD,CAAM,GAAuB,KAAnBI,EAAMgC,IAEf,KADEA,OACqB/gC,IAAnB++B,EAAMgC,GACR,OAAOpC,OAEJ,QAAuB3+B,IAAnB++B,EAAMgC,GACf,OAAOpC,EAGTiC,EAAQC,GAAc7/B,IACpB6/B,CACH,CAED,GAAiB,OAAbC,EAAmB,CACrB,IAAII,EAAQL,EAAaC,EAEzB,IADAD,EAAa,EACS,IAAfA,GAAoBK,EAAQ,GAAG,CACpC,MAAMC,EAAOP,EAAQE,EAAWI,EAAQ,GACxCN,EAAQE,EAAWI,EAAQ,GAAKN,EAAQC,GACxCD,EAAQC,GAAcM,IACpBN,IACAK,CACH,CACF,MAAM,GAAiB,OAAbJ,GAAoC,IAAfD,EAC9B,OAAOlC,EAGT,OAAOiC,CACR,CAsCUQ,CAAUrC,EAAM5R,UAAU,EAAG4R,EAAMj+B,OAAS,IAGrD,IAAK6/B,EACH,OAqBJ,SAAyB5B,GACvB,GAhWF,SAAwD9R,GACtD,OAAqF,IAA9EA,EAAOyQ,OAAO,0DACtB,CA8VK2D,CAA+CtC,GACjD,OAAOJ,EAGT,IAAIx2B,EAAS,GACb,MAAMm5B,EAAUnF,EAASyC,KAAKC,OAAOE,GACrC,IAAK,IAAI11B,EAAI,EAAGA,EAAIi4B,EAAQxgC,SAAUuI,EACpClB,GAAU+3B,EAAkBoB,EAAQj4B,GAAIw2B,GAE1C,OAAO13B,CACR,CAhCUo5B,CAAgBxC,GAGzB,MAAMb,EAxSR,SAA2B11B,GACzB,MAAMu2B,EAAQ,IAAIlhB,OAAOrV,GACnBL,EAAS,GACf,IAAK,IAAIkB,EAAI,EAAGA,EAAI01B,EAAMj+B,SAAUuI,EACjB,KAAb01B,EAAM11B,GACRlB,EAAO7E,KAAKy7B,EAAM11B,IACI,KAAb01B,EAAM11B,IAAa81B,EAAWJ,EAAM11B,EAAI,KAAO81B,EAAWJ,EAAM11B,EAAI,KAC7ElB,EAAO7E,KAAKkb,SAASugB,EAAMl+B,MAAMwI,EAAI,EAAGA,EAAI,GAAG6jB,WAAY,KAC3D7jB,GAAK,GAELlB,EAAO7E,KAAKy7B,EAAM11B,IAGtB,OAAO,IAAIwU,OAAO1V,GAAQ+kB,UAC3B,CA0RgBsU,CAAkBzC,GAC3B0C,EAAc3D,EAAKC,QAAQG,GAAQ,EAAOJ,EAAKzB,mBAAmBE,iBAAiB,GACzF,GAAoB,OAAhBkF,EACF,OAAO9C,EAGT,GAvVF,SAAwC1R,GACtC,OAAuF,IAAhFA,EAAOyQ,OAAO,4DACtB,CAqVKgE,CAA+BD,GACjC,OAAO9C,EAGT,MAAMgD,EAlPR,SAAmB5C,GACjB,MAAMlF,EAAQkF,EAAM/yB,MAAM,KAO1B,GANgC,KAA5B6tB,EAAMA,EAAM/4B,OAAS,IACnB+4B,EAAM/4B,OAAS,GACjB+4B,EAAM1L,MAIN0L,EAAM/4B,OAAS,EACjB,OAAOi+B,EAGT,MAAM6C,EAAU,GAChB,IAAK,MAAMC,KAAQhI,EAAO,CACxB,GAAa,KAATgI,EACF,OAAO9C,EAET,MAAM9S,EAAIsU,EAAgBsB,GAC1B,GAAI5V,IAAM0S,EACR,OAAOI,EAGT6C,EAAQt+B,KAAK2oB,EACd,CAED,IAAK,IAAI5iB,EAAI,EAAGA,EAAIu4B,EAAQ9gC,OAAS,IAAKuI,EACxC,GAAIu4B,EAAQv4B,GAAK,IACf,OAAOs1B,EAGX,GAAIiD,EAAQA,EAAQ9gC,OAAS,IAAMoF,KAAKu0B,IAAI,IAAK,EAAImH,EAAQ9gC,QAC3D,OAAO69B,EAGT,IAAImD,EAAOF,EAAQzT,MACf4T,EAAU,EAEd,IAAK,MAAM9V,KAAK2V,EACdE,GAAQ7V,EAAI/lB,KAAKu0B,IAAI,IAAK,EAAIsH,KAC5BA,EAGJ,OAAOD,CACR,CAuMkBE,CAAUP,GAC3B,MAAwB,iBAAbE,GAAyBA,IAAahD,EACxCgD,EAGFF,CACR,CAkDD,SAASQ,EAAcC,GACrB,MAAoB,iBAATA,EA9Pb,SAAuBtB,GACrB,IAAIz4B,EAAS,GACT8jB,EAAI2U,EAER,IAAK,IAAIv3B,EAAI,EAAGA,GAAK,IAAKA,EACxBlB,EAAS+tB,OAAOjK,EAAI,KAAO9jB,EACjB,IAANkB,IACFlB,EAAS,IAAMA,GAEjB8jB,EAAI/lB,KAAKqlB,MAAMU,EAAI,KAGrB,OAAO9jB,CACR,CAkPUg6B,CAAcD,GAInBA,aAAgBhhC,MACX,IApHX,SAAuB0/B,GACrB,IAAIz4B,EAAS,GACb,MAAMi6B,EAwER,SAAiCC,GAC/B,IAAIC,EAAS,KACTC,EAAS,EACTC,EAAY,KACZC,EAAU,EAEd,IAAK,IAAIp5B,EAAI,EAAGA,EAAIg5B,EAAIvhC,SAAUuI,EACjB,IAAXg5B,EAAIh5B,IACFo5B,EAAUF,IACZD,EAASE,EACTD,EAASE,GAGXD,EAAY,KACZC,EAAU,IAEQ,OAAdD,IACFA,EAAYn5B,KAEZo5B,GAUN,OALIA,EAAUF,IACZD,EAASE,EACTD,EAASE,GAGJ,CACLzD,IAAKsD,EACLjnB,IAAKknB,EAER,CAzGmBG,CAAwB9B,GACpCE,EAAWsB,EAAUpD,IAC3B,IAAI2D,GAAU,EAEd,IAAK,IAAI9B,EAAa,EAAGA,GAAc,IAAKA,EACtC8B,GAAmC,IAAxB/B,EAAQC,KAEZ8B,IACTA,GAAU,GAGR7B,IAAaD,GAOjB14B,GAAUy4B,EAAQC,GAAY3T,SAAS,IAEpB,IAAf2T,IACF14B,GAAU,OARVA,GADiC,IAAf04B,EAAmB,KAAO,IAE5C8B,GAAU,IAWd,OAAOx6B,CACR,CAwFgBy6B,CAAcV,GAAQ,IAG9BA,CACR,CAUD,SAASW,EAAYlD,GACnB,MAAMnyB,EAAOmyB,EAAInyB,KACG,IAAhBA,EAAK1M,SAGU,SAAf6+B,EAAIF,QAAqC,IAAhBjyB,EAAK1M,QAepC,SAAwCmsB,GACtC,MAAO,cAAcxjB,KAAKwjB,EAC3B,CAjBmD6V,CAA+Bt1B,EAAK,KAItFA,EAAK2gB,MACN,CAED,SAAS4U,EAAoBpD,GAC3B,MAAwB,KAAjBA,EAAIqD,UAAoC,KAAjBrD,EAAIsD,QACnC,CAUD,SAASC,EAAgBnE,EAAOoE,EAAMC,EAAkBzD,EAAK0D,GAU3D,GATAxjC,KAAKkhC,QAAU,EACflhC,KAAKk/B,MAAQA,EACbl/B,KAAKsjC,KAAOA,GAAQ,KACpBtjC,KAAKujC,iBAAmBA,GAAoB,QAC5CvjC,KAAKwjC,cAAgBA,EACrBxjC,KAAK8/B,IAAMA,EACX9/B,KAAK8+B,SAAU,EACf9+B,KAAKyjC,YAAa,GAEbzjC,KAAK8/B,IAAK,CACb9/B,KAAK8/B,IAAM,CACTF,OAAQ,GACRuD,SAAU,GACVC,SAAU,GACVf,KAAM,KACNqB,KAAM,KACN/1B,KAAM,GACNg2B,MAAO,KACPC,SAAU,KAEVC,kBAAkB,GAGpB,MAAMC,EAxDV,SAA0BhE,GACxB,OAAOA,EAAI57B,QAAQ,mDAAoD,GACxE,CAsDe6/B,CAAiB/jC,KAAKk/B,OAC9B4E,IAAQ9jC,KAAKk/B,QACfl/B,KAAKyjC,YAAa,GAEpBzjC,KAAKk/B,MAAQ4E,CACd,CAED,MAAMA,EA3DR,SAA2BhE,GACzB,OAAOA,EAAI57B,QAAQ,wBAAyB,GAC7C,CAyDa8/B,CAAkBhkC,KAAKk/B,OAenC,IAdI4E,IAAQ9jC,KAAKk/B,QACfl/B,KAAKyjC,YAAa,GAEpBzjC,KAAKk/B,MAAQ4E,EAEb9jC,KAAKikC,MAAQT,GAAiB,eAE9BxjC,KAAKw/B,OAAS,GACdx/B,KAAKkkC,QAAS,EACdlkC,KAAKmkC,SAAU,EACfnkC,KAAKokC,uBAAwB,EAE7BpkC,KAAKk/B,MAAQ5C,EAASyC,KAAKC,OAAOh/B,KAAKk/B,OAEhCl/B,KAAKkhC,SAAWlhC,KAAKk/B,MAAMj+B,SAAUjB,KAAKkhC,QAAS,CACxD,MAAMxW,EAAI1qB,KAAKk/B,MAAMl/B,KAAKkhC,SACpBX,EAAOvJ,MAAMtM,QAAKvqB,EAAYk2B,OAAOE,cAAc7L,GAGnD2Z,EAAMrkC,KAAK,SAAWA,KAAKikC,OAAOvZ,EAAG6V,GAC3C,IAAK8D,EACH,MACK,GAAIA,IAAQvF,EAAS,CAC1B9+B,KAAK8+B,SAAU,EACf,KACD,CACF,CACF,CAEDuE,EAAgB1K,UAAU,sBAAwB,SAA0BjO,EAAG6V,GAC7E,GAAIlB,EAAa3U,GACf1qB,KAAKw/B,QAAUe,EAAKd,cACpBz/B,KAAKikC,MAAQ,aACR,IAAKjkC,KAAKwjC,cAKf,OADAxjC,KAAKyjC,YAAa,EACX3E,EAJP9+B,KAAKikC,MAAQ,cACXjkC,KAAKkhC,OAIR,CAED,OAAO,CACT,EAEAmC,EAAgB1K,UAAU,gBAAkB,SAAqBjO,EAAG6V,GAClE,GA1iBF,SAA6B7V,GAC3B,OAAO2U,EAAa3U,IAAM0U,EAAa1U,EACxC,CAwiBK4Z,CAAoB5Z,IAAY,KAANA,GAAkB,KAANA,GAAkB,KAANA,EACpD1qB,KAAKw/B,QAAUe,EAAKd,mBACf,GAAU,KAAN/U,EAAU,CACnB,GAAI1qB,KAAKwjC,cAAe,CACtB,GAAI3D,EAAU7/B,KAAK8/B,OAASH,EAAgB3/B,KAAKw/B,QAC/C,OAAO,EAGT,IAAKK,EAAU7/B,KAAK8/B,MAAQH,EAAgB3/B,KAAKw/B,QAC/C,OAAO,EAGT,IAAK0D,EAAoBljC,KAAK8/B,MAA0B,OAAlB9/B,KAAK8/B,IAAI4D,OAAkC,SAAhB1jC,KAAKw/B,OACpE,OAAO,EAGT,GAAwB,SAApBx/B,KAAK8/B,IAAIF,SAAwC,KAAlB5/B,KAAK8/B,IAAIuC,MAAiC,OAAlBriC,KAAK8/B,IAAIuC,MAClE,OAAO,CAEV,CAGD,GAFAriC,KAAK8/B,IAAIF,OAAS5/B,KAAKw/B,OACvBx/B,KAAKw/B,OAAS,GACVx/B,KAAKwjC,cACP,OAAO,EAEe,SAApBxjC,KAAK8/B,IAAIF,QAC0B,KAAjC5/B,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,IAA8C,KAAjClhC,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,KACnElhC,KAAKyjC,YAAa,GAEpBzjC,KAAKikC,MAAQ,QACJpE,EAAU7/B,KAAK8/B,MAAsB,OAAd9/B,KAAKsjC,MAAiBtjC,KAAKsjC,KAAK1D,SAAW5/B,KAAK8/B,IAAIF,OACpF5/B,KAAKikC,MAAQ,gCACJpE,EAAU7/B,KAAK8/B,KACxB9/B,KAAKikC,MAAQ,4BAC6B,KAAjCjkC,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,IACnClhC,KAAKikC,MAAQ,sBACXjkC,KAAKkhC,UAEPlhC,KAAK8/B,IAAI+D,kBAAmB,EAC5B7jC,KAAK8/B,IAAInyB,KAAKlK,KAAK,IACnBzD,KAAKikC,MAAQ,4BAEnB,KAAS,IAAKjkC,KAAKwjC,cAMf,OADAxjC,KAAKyjC,YAAa,EACX3E,EALP9+B,KAAKw/B,OAAS,GACdx/B,KAAKikC,MAAQ,YACbjkC,KAAKkhC,SAAW,CAIjB,CAED,OAAO,CACT,EAEAmC,EAAgB1K,UAAU,mBAAqB,SAAuBjO,GACpE,OAAkB,OAAd1qB,KAAKsjC,MAAkBtjC,KAAKsjC,KAAKO,kBAA0B,KAANnZ,EAChDoU,GACE9+B,KAAKsjC,KAAKO,kBAA0B,KAANnZ,GACvC1qB,KAAK8/B,IAAIF,OAAS5/B,KAAKsjC,KAAK1D,OAC5B5/B,KAAK8/B,IAAInyB,KAAO3N,KAAKsjC,KAAK31B,KAAK3M,QAC/BhB,KAAK8/B,IAAI6D,MAAQ3jC,KAAKsjC,KAAKK,MAC3B3jC,KAAK8/B,IAAI8D,SAAW,GACpB5jC,KAAK8/B,IAAI+D,kBAAmB,EAC5B7jC,KAAKikC,MAAQ,YACiB,SAArBjkC,KAAKsjC,KAAK1D,QACnB5/B,KAAKikC,MAAQ,SACXjkC,KAAKkhC,UAEPlhC,KAAKikC,MAAQ,aACXjkC,KAAKkhC,UAGF,EACT,EAEAmC,EAAgB1K,UAAU,uCAAyC,SAAyCjO,GAU1G,OATU,KAANA,GAA6C,KAAjC1qB,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,IACxClhC,KAAKikC,MAAQ,qCACXjkC,KAAKkhC,UAEPlhC,KAAKyjC,YAAa,EAClBzjC,KAAKikC,MAAQ,aACXjkC,KAAKkhC,UAGF,CACT,EAEAmC,EAAgB1K,UAAU,2BAA6B,SAA8BjO,GAQnF,OAPU,KAANA,EACF1qB,KAAKikC,MAAQ,aAEbjkC,KAAKikC,MAAQ,SACXjkC,KAAKkhC,UAGF,CACT,EAEAmC,EAAgB1K,UAAU,kBAAoB,SAAuBjO,GA0CnE,OAzCA1qB,KAAK8/B,IAAIF,OAAS5/B,KAAKsjC,KAAK1D,OACxB5I,MAAMtM,IACR1qB,KAAK8/B,IAAIqD,SAAWnjC,KAAKsjC,KAAKH,SAC9BnjC,KAAK8/B,IAAIsD,SAAWpjC,KAAKsjC,KAAKF,SAC9BpjC,KAAK8/B,IAAIuC,KAAOriC,KAAKsjC,KAAKjB,KAC1BriC,KAAK8/B,IAAI4D,KAAO1jC,KAAKsjC,KAAKI,KAC1B1jC,KAAK8/B,IAAInyB,KAAO3N,KAAKsjC,KAAK31B,KAAK3M,QAC/BhB,KAAK8/B,IAAI6D,MAAQ3jC,KAAKsjC,KAAKK,OACZ,KAANjZ,EACT1qB,KAAKikC,MAAQ,iBACE,KAANvZ,GACT1qB,KAAK8/B,IAAIqD,SAAWnjC,KAAKsjC,KAAKH,SAC9BnjC,KAAK8/B,IAAIsD,SAAWpjC,KAAKsjC,KAAKF,SAC9BpjC,KAAK8/B,IAAIuC,KAAOriC,KAAKsjC,KAAKjB,KAC1BriC,KAAK8/B,IAAI4D,KAAO1jC,KAAKsjC,KAAKI,KAC1B1jC,KAAK8/B,IAAInyB,KAAO3N,KAAKsjC,KAAK31B,KAAK3M,QAC/BhB,KAAK8/B,IAAI6D,MAAQ,GACjB3jC,KAAKikC,MAAQ,SACE,KAANvZ,GACT1qB,KAAK8/B,IAAIqD,SAAWnjC,KAAKsjC,KAAKH,SAC9BnjC,KAAK8/B,IAAIsD,SAAWpjC,KAAKsjC,KAAKF,SAC9BpjC,KAAK8/B,IAAIuC,KAAOriC,KAAKsjC,KAAKjB,KAC1BriC,KAAK8/B,IAAI4D,KAAO1jC,KAAKsjC,KAAKI,KAC1B1jC,KAAK8/B,IAAInyB,KAAO3N,KAAKsjC,KAAK31B,KAAK3M,QAC/BhB,KAAK8/B,IAAI6D,MAAQ3jC,KAAKsjC,KAAKK,MAC3B3jC,KAAK8/B,IAAI8D,SAAW,GACpB5jC,KAAKikC,MAAQ,YACJpE,EAAU7/B,KAAK8/B,MAAc,KAANpV,GAChC1qB,KAAKyjC,YAAa,EAClBzjC,KAAKikC,MAAQ,mBAEbjkC,KAAK8/B,IAAIqD,SAAWnjC,KAAKsjC,KAAKH,SAC9BnjC,KAAK8/B,IAAIsD,SAAWpjC,KAAKsjC,KAAKF,SAC9BpjC,KAAK8/B,IAAIuC,KAAOriC,KAAKsjC,KAAKjB,KAC1BriC,KAAK8/B,IAAI4D,KAAO1jC,KAAKsjC,KAAKI,KAC1B1jC,KAAK8/B,IAAInyB,KAAO3N,KAAKsjC,KAAK31B,KAAK3M,MAAM,EAAGhB,KAAKsjC,KAAK31B,KAAK1M,OAAS,GAEhEjB,KAAKikC,MAAQ,SACXjkC,KAAKkhC,UAGF,CACT,EAEAmC,EAAgB1K,UAAU,wBAA0B,SAA4BjO,GAiB9E,OAhBImV,EAAU7/B,KAAK8/B,MAAe,KAANpV,GAAkB,KAANA,EAKvB,KAANA,EACT1qB,KAAKikC,MAAQ,aAEbjkC,KAAK8/B,IAAIqD,SAAWnjC,KAAKsjC,KAAKH,SAC9BnjC,KAAK8/B,IAAIsD,SAAWpjC,KAAKsjC,KAAKF,SAC9BpjC,KAAK8/B,IAAIuC,KAAOriC,KAAKsjC,KAAKjB,KAC1BriC,KAAK8/B,IAAI4D,KAAO1jC,KAAKsjC,KAAKI,KAC1B1jC,KAAKikC,MAAQ,SACXjkC,KAAKkhC,UAZG,KAANxW,IACF1qB,KAAKyjC,YAAa,GAEpBzjC,KAAKikC,MAAQ,qCAYR,CACT,EAEAZ,EAAgB1K,UAAU,mCAAqC,SAAsCjO,GAUnG,OATU,KAANA,GAA6C,KAAjC1qB,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,IACxClhC,KAAKikC,MAAQ,qCACXjkC,KAAKkhC,UAEPlhC,KAAKyjC,YAAa,EAClBzjC,KAAKikC,MAAQ,qCACXjkC,KAAKkhC,UAGF,CACT,EAEAmC,EAAgB1K,UAAU,0CAA4C,SAA4CjO,GAQhH,OAPU,KAANA,GAAkB,KAANA,GACd1qB,KAAKikC,MAAQ,cACXjkC,KAAKkhC,SAEPlhC,KAAKyjC,YAAa,GAGb,CACT,EAEAJ,EAAgB1K,UAAU,mBAAqB,SAAwBjO,EAAG6V,GACxE,GAAU,KAAN7V,EAAU,CACZ1qB,KAAKyjC,YAAa,EACdzjC,KAAKkkC,SACPlkC,KAAKw/B,OAAS,MAAQx/B,KAAKw/B,QAE7Bx/B,KAAKkkC,QAAS,EAGd,MAAM1oB,EAAMyhB,EAAaj9B,KAAKw/B,QAC9B,IAAK,IAAI0B,EAAU,EAAGA,EAAU1lB,IAAO0lB,EAAS,CAC9C,MAAM3D,EAAYv9B,KAAKw/B,OAAOjE,YAAY2F,GAE1C,GAAkB,KAAd3D,IAAqBv9B,KAAKokC,sBAAuB,CACnDpkC,KAAKokC,uBAAwB,EAC7B,QACD,CACD,MAAMG,EAAoBlE,EAAkB9C,EAAW6C,GACnDpgC,KAAKokC,sBACPpkC,KAAK8/B,IAAIsD,UAAYmB,EAErBvkC,KAAK8/B,IAAIqD,UAAYoB,CAExB,CACDvkC,KAAKw/B,OAAS,EAClB,MAAS,GAAIxI,MAAMtM,IAAY,KAANA,GAAkB,KAANA,GAAkB,KAANA,GACnCmV,EAAU7/B,KAAK8/B,MAAc,KAANpV,EAAW,CAC5C,GAAI1qB,KAAKkkC,QAA0B,KAAhBlkC,KAAKw/B,OAEtB,OADAx/B,KAAKyjC,YAAa,EACX3E,EAET9+B,KAAKkhC,SAAWjE,EAAaj9B,KAAKw/B,QAAU,EAC5Cx/B,KAAKw/B,OAAS,GACdx/B,KAAKikC,MAAQ,MACjB,MACIjkC,KAAKw/B,QAAUe,EAGjB,OAAO,CACT,EAEA8C,EAAgB1K,UAAU,kBAC1B0K,EAAgB1K,UAAU,cAAgB,SAAuBjO,EAAG6V,GAClE,GAAIvgC,KAAKwjC,eAAqC,SAApBxjC,KAAK8/B,IAAIF,SAC/B5/B,KAAKkhC,QACPlhC,KAAKikC,MAAQ,iBACR,GAAU,KAANvZ,GAAa1qB,KAAKmkC,QAiBtB,GAAInN,MAAMtM,IAAY,KAANA,GAAkB,KAANA,GAAkB,KAANA,GACnCmV,EAAU7/B,KAAK8/B,MAAc,KAANpV,EAAW,CAE5C,KADE1qB,KAAKkhC,QACHrB,EAAU7/B,KAAK8/B,MAAwB,KAAhB9/B,KAAKw/B,OAE9B,OADAx/B,KAAKyjC,YAAa,EACX3E,EACF,GAAI9+B,KAAKwjC,eAAiC,KAAhBxjC,KAAKw/B,SAC1B0D,EAAoBljC,KAAK8/B,MAA0B,OAAlB9/B,KAAK8/B,IAAI4D,MAEpD,OADA1jC,KAAKyjC,YAAa,GACX,EAGT,MAAMpB,EAAOxB,EAAU7gC,KAAKw/B,OAAQK,EAAU7/B,KAAK8/B,MACnD,GAAIuC,IAASvD,EACX,OAAOA,EAMT,GAHA9+B,KAAK8/B,IAAIuC,KAAOA,EAChBriC,KAAKw/B,OAAS,GACdx/B,KAAKikC,MAAQ,aACTjkC,KAAKwjC,cACP,OAAO,CAEb,MACc,KAAN9Y,EACF1qB,KAAKmkC,SAAU,EACA,KAANzZ,IACT1qB,KAAKmkC,SAAU,GAEjBnkC,KAAKw/B,QAAUe,MA9CqB,CACpC,GAAoB,KAAhBvgC,KAAKw/B,OAEP,OADAx/B,KAAKyjC,YAAa,EACX3E,EAGT,MAAMuD,EAAOxB,EAAU7gC,KAAKw/B,OAAQK,EAAU7/B,KAAK8/B,MACnD,GAAIuC,IAASvD,EACX,OAAOA,EAMT,GAHA9+B,KAAK8/B,IAAIuC,KAAOA,EAChBriC,KAAKw/B,OAAS,GACdx/B,KAAKikC,MAAQ,OACc,aAAvBjkC,KAAKwjC,cACP,OAAO,CAEb,CAgCE,OAAO,CACT,EAEAH,EAAgB1K,UAAU,cAAgB,SAAmBjO,EAAG6V,GAC9D,GAAInB,EAAa1U,GACf1qB,KAAKw/B,QAAUe,MACV,MAAIvJ,MAAMtM,IAAY,KAANA,GAAkB,KAANA,GAAkB,KAANA,GACnCmV,EAAU7/B,KAAK8/B,MAAc,KAANpV,GACxB1qB,KAAKwjC,eAiBd,OADAxjC,KAAKyjC,YAAa,EACX3E,EAhBP,GAAoB,KAAhB9+B,KAAKw/B,OAAe,CACtB,MAAMkE,EAAO/kB,SAAS3e,KAAKw/B,QAC3B,GAAIkE,EAAOr9B,KAAKu0B,IAAI,EAAG,IAAM,EAE3B,OADA56B,KAAKyjC,YAAa,EACX3E,EAET9+B,KAAK8/B,IAAI4D,KAAOA,KAvyBD9D,EAuyBsB5/B,KAAK8/B,IAAIF,OAtyB3CtB,EAAesB,IAsyBsC,KAAO8D,EAC/D1jC,KAAKw/B,OAAS,EACf,CACD,GAAIx/B,KAAKwjC,cACP,OAAO,EAETxjC,KAAKikC,MAAQ,eACXjkC,KAAKkhC,OAIR,CAlzBH,IAAqBtB,EAozBnB,OAAO,CACT,EAEA,MAAM4E,EAA0B,IAAI94B,IAAI,CAAC,GAAI,GAAI,GAAI,KAErD23B,EAAgB1K,UAAU,cAAgB,SAAmBjO,GAr1B7D,IAAwC+Z,EAAKC,EAi4B3C,OA3CA1kC,KAAK8/B,IAAIF,OAAS,OAER,KAANlV,GAAkB,KAANA,GACJ,KAANA,IACF1qB,KAAKyjC,YAAa,GAEpBzjC,KAAKikC,MAAQ,cACU,OAAdjkC,KAAKsjC,MAAsC,SAArBtjC,KAAKsjC,KAAK1D,OACrC5I,MAAMtM,IACR1qB,KAAK8/B,IAAIuC,KAAOriC,KAAKsjC,KAAKjB,KAC1BriC,KAAK8/B,IAAInyB,KAAO3N,KAAKsjC,KAAK31B,KAAK3M,QAC/BhB,KAAK8/B,IAAI6D,MAAQ3jC,KAAKsjC,KAAKK,OACZ,KAANjZ,GACT1qB,KAAK8/B,IAAIuC,KAAOriC,KAAKsjC,KAAKjB,KAC1BriC,KAAK8/B,IAAInyB,KAAO3N,KAAKsjC,KAAK31B,KAAK3M,QAC/BhB,KAAK8/B,IAAI6D,MAAQ,GACjB3jC,KAAKikC,MAAQ,SACE,KAANvZ,GACT1qB,KAAK8/B,IAAIuC,KAAOriC,KAAKsjC,KAAKjB,KAC1BriC,KAAK8/B,IAAInyB,KAAO3N,KAAKsjC,KAAK31B,KAAK3M,QAC/BhB,KAAK8/B,IAAI6D,MAAQ3jC,KAAKsjC,KAAKK,MAC3B3jC,KAAK8/B,IAAI8D,SAAW,GACpB5jC,KAAKikC,MAAQ,aAETjkC,KAAKk/B,MAAMj+B,OAASjB,KAAKkhC,QAAU,GAAM,IA92BXuD,EA+2BE/Z,EA/2BGga,EA+2BA1kC,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,IA92B9D7B,EAAaoF,IAAiB,KAARC,GAAsB,MAARA,IA+2BlC1kC,KAAKk/B,MAAMj+B,OAASjB,KAAKkhC,QAAU,GAAK,IACvCsD,EAAwB34B,IAAI7L,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,KAC1DlhC,KAAK8/B,IAAIuC,KAAOriC,KAAKsjC,KAAKjB,KAC1BriC,KAAK8/B,IAAInyB,KAAO3N,KAAKsjC,KAAK31B,KAAK3M,QAC/BgiC,EAAYhjC,KAAK8/B,MAEjB9/B,KAAKyjC,YAAa,EAGpBzjC,KAAKikC,MAAQ,SACXjkC,KAAKkhC,UAGTlhC,KAAKikC,MAAQ,SACXjkC,KAAKkhC,UAGF,CACT,EAEAmC,EAAgB1K,UAAU,oBAAsB,SAAwBjO,GAkBtE,OAjBU,KAANA,GAAkB,KAANA,GACJ,KAANA,IACF1qB,KAAKyjC,YAAa,GAEpBzjC,KAAKikC,MAAQ,cAEK,OAAdjkC,KAAKsjC,MAAsC,SAArBtjC,KAAKsjC,KAAK1D,UAn4BxC,SAA8CxS,GAC5C,OAAyB,IAAlBA,EAAOnsB,QAAgBo+B,EAAajS,EAAOmO,YAAY,KAAqB,MAAdnO,EAAO,EAC7E,CAk4BSuX,CAAqC3kC,KAAKsjC,KAAK31B,KAAK,IAGtD3N,KAAK8/B,IAAIuC,KAAOriC,KAAKsjC,KAAKjB,KAF1BriC,KAAK8/B,IAAInyB,KAAKlK,KAAKzD,KAAKsjC,KAAK31B,KAAK,KAKtC3N,KAAKikC,MAAQ,SACXjkC,KAAKkhC,UAGF,CACT,EAEAmC,EAAgB1K,UAAU,mBAAqB,SAAuBjO,EAAG6V,GACvE,GAAIvJ,MAAMtM,IAAY,KAANA,GAAkB,KAANA,GAAkB,KAANA,GAAkB,KAANA,EAElD,KADE1qB,KAAKkhC,SACFlhC,KAAKwjC,eAAiB9D,EAA2B1/B,KAAKw/B,QACzDx/B,KAAKyjC,YAAa,EAClBzjC,KAAKikC,MAAQ,YACR,GAAoB,KAAhBjkC,KAAKw/B,OAAe,CAE7B,GADAx/B,KAAK8/B,IAAIuC,KAAO,GACZriC,KAAKwjC,cACP,OAAO,EAETxjC,KAAKikC,MAAQ,YACnB,KAAW,CACL,IAAI5B,EAAOxB,EAAU7gC,KAAKw/B,OAAQK,EAAU7/B,KAAK8/B,MACjD,GAAIuC,IAASvD,EACX,OAAOA,EAOT,GALa,cAATuD,IACFA,EAAO,IAETriC,KAAK8/B,IAAIuC,KAAOA,EAEZriC,KAAKwjC,cACP,OAAO,EAGTxjC,KAAKw/B,OAAS,GACdx/B,KAAKikC,MAAQ,YACd,MAEDjkC,KAAKw/B,QAAUe,EAGjB,OAAO,CACT,EAEA8C,EAAgB1K,UAAU,oBAAsB,SAAwBjO,GAuBtE,OAtBImV,EAAU7/B,KAAK8/B,MACP,KAANpV,IACF1qB,KAAKyjC,YAAa,GAEpBzjC,KAAKikC,MAAQ,OAEH,KAANvZ,GAAkB,KAANA,KACZ1qB,KAAKkhC,SAEClhC,KAAKwjC,eAAuB,KAAN9Y,EAGtB1qB,KAAKwjC,eAAuB,KAAN9Y,OAGjBvqB,IAANuqB,IACT1qB,KAAKikC,MAAQ,OACH,KAANvZ,KACA1qB,KAAKkhC,UALTlhC,KAAK8/B,IAAI8D,SAAW,GACpB5jC,KAAKikC,MAAQ,aAJbjkC,KAAK8/B,IAAI6D,MAAQ,GACjB3jC,KAAKikC,MAAQ,UAWR,CACT,EAEAZ,EAAgB1K,UAAU,cAAgB,SAAmBjO,GAC3D,GAAIsM,MAAMtM,IAAY,KAANA,GAAamV,EAAU7/B,KAAK8/B,MAAc,KAANpV,IAC9C1qB,KAAKwjC,gBAAwB,KAAN9Y,GAAkB,KAANA,GAAY,CAwBnD,GAvBImV,EAAU7/B,KAAK8/B,MAAc,KAANpV,IACzB1qB,KAAKyjC,YAAa,GA99BJ,QADlBjE,GADmBA,EAm+BDx/B,KAAKw/B,QAl+BPC,gBACqB,SAAXD,GAAgC,SAAXA,GAAgC,WAAXA,GAk+BhEwD,EAAYhjC,KAAK8/B,KACP,KAANpV,GAAcmV,EAAU7/B,KAAK8/B,MAAc,KAANpV,GACvC1qB,KAAK8/B,IAAInyB,KAAKlK,KAAK,MAEZ87B,EAAYv/B,KAAKw/B,SAAiB,KAAN9U,GAC1BmV,EAAU7/B,KAAK8/B,MAAc,KAANpV,EAExB6U,EAAYv/B,KAAKw/B,UACH,SAApBx/B,KAAK8/B,IAAIF,QAA8C,IAAzB5/B,KAAK8/B,IAAInyB,KAAK1M,QAAgBy+B,EAA2B1/B,KAAKw/B,UACxE,KAAlBx/B,KAAK8/B,IAAIuC,MAAiC,OAAlBriC,KAAK8/B,IAAIuC,OACnCriC,KAAKyjC,YAAa,EAClBzjC,KAAK8/B,IAAIuC,KAAO,IAElBriC,KAAKw/B,OAASx/B,KAAKw/B,OAAO,GAAK,KAEjCx/B,KAAK8/B,IAAInyB,KAAKlK,KAAKzD,KAAKw/B,SATxBx/B,KAAK8/B,IAAInyB,KAAKlK,KAAK,IAWrBzD,KAAKw/B,OAAS,GACU,SAApBx/B,KAAK8/B,IAAIF,cAA4Bz/B,IAANuqB,GAAyB,KAANA,GAAkB,KAANA,GAChE,KAAO1qB,KAAK8/B,IAAInyB,KAAK1M,OAAS,GAA0B,KAArBjB,KAAK8/B,IAAInyB,KAAK,IAC/C3N,KAAKyjC,YAAa,EAClBzjC,KAAK8/B,IAAInyB,KAAKpB,QAGR,KAANme,IACF1qB,KAAK8/B,IAAI6D,MAAQ,GACjB3jC,KAAKikC,MAAQ,SAEL,KAANvZ,IACF1qB,KAAK8/B,IAAI8D,SAAW,GACpB5jC,KAAKikC,MAAQ,WAEnB,MAGc,KAANvZ,GACA4U,EAAWt/B,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,KACpC5B,EAAWt/B,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,MACxClhC,KAAKyjC,YAAa,GAGpBzjC,KAAKw/B,QAAUa,EAAkB3V,EAAGwV,GA7gCxC,IAAqBV,EAghCnB,OAAO,CACT,EAEA6D,EAAgB1K,UAAU,mCAAqC,SAAmCjO,GAwBhG,OAvBU,KAANA,GACF1qB,KAAK8/B,IAAI6D,MAAQ,GACjB3jC,KAAKikC,MAAQ,SACE,KAANvZ,GACT1qB,KAAK8/B,IAAI8D,SAAW,GACpB5jC,KAAKikC,MAAQ,aAGRjN,MAAMtM,IAAY,KAANA,IACf1qB,KAAKyjC,YAAa,GAGV,KAAN/Y,GACE4U,EAAWt/B,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,KACrC5B,EAAWt/B,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,MACzClhC,KAAKyjC,YAAa,GAGfzM,MAAMtM,KACT1qB,KAAK8/B,IAAInyB,KAAK,GAAK3N,KAAK8/B,IAAInyB,KAAK,GAAK0yB,EAAkB3V,EAAGsV,MAIxD,CACT,EAEAqD,EAAgB1K,UAAU,eAAiB,SAAoBjO,EAAG6V,GAChE,GAAIvJ,MAAMtM,KAAQ1qB,KAAKwjC,eAAuB,KAAN9Y,EAAW,CAC5CmV,EAAU7/B,KAAK8/B,MAA4B,OAApB9/B,KAAK8/B,IAAIF,QAAuC,QAApB5/B,KAAK8/B,IAAIF,SAC/D5/B,KAAKujC,iBAAmB,SAG1B,MAAM/D,EAAS,IAAIxhB,OAAOhe,KAAKw/B,QAC/B,IAAK,IAAIh2B,EAAI,EAAGA,EAAIg2B,EAAOv+B,SAAUuI,EAC/Bg2B,EAAOh2B,GAAK,IAAQg2B,EAAOh2B,GAAK,KAAsB,KAAdg2B,EAAOh2B,IAA6B,KAAdg2B,EAAOh2B,IACvD,KAAdg2B,EAAOh2B,IAA6B,KAAdg2B,EAAOh2B,GAC/BxJ,KAAK8/B,IAAI6D,OAAS5D,EAAcP,EAAOh2B,IAEvCxJ,KAAK8/B,IAAI6D,OAAStN,OAAOE,cAAciJ,EAAOh2B,IAIlDxJ,KAAKw/B,OAAS,GACJ,KAAN9U,IACF1qB,KAAK8/B,IAAI8D,SAAW,GACpB5jC,KAAKikC,MAAQ,WAEnB,MAEc,KAANvZ,GACA4U,EAAWt/B,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,KACpC5B,EAAWt/B,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,MACxClhC,KAAKyjC,YAAa,GAGpBzjC,KAAKw/B,QAAUe,EAGjB,OAAO,CACT,EAEA8C,EAAgB1K,UAAU,kBAAoB,SAAuBjO,GAenE,OAdIsM,MAAMtM,KACO,IAANA,EACT1qB,KAAKyjC,YAAa,GAGR,KAAN/Y,GACA4U,EAAWt/B,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,KACpC5B,EAAWt/B,KAAKk/B,MAAMl/B,KAAKkhC,QAAU,MACxClhC,KAAKyjC,YAAa,GAGpBzjC,KAAK8/B,IAAI8D,UAAYvD,EAAkB3V,EAAGsV,MAGrC,CACT,EAsDAlhB,EAAAD,QAAA+lB,aApDA,SAAsB9E,EAAK+E,GACzB,IAAIv8B,EAASw3B,EAAIF,OAAS,IAqB1B,GApBiB,OAAbE,EAAIuC,MACN/5B,GAAU,KAEW,KAAjBw3B,EAAIqD,UAAoC,KAAjBrD,EAAIsD,WAC7B96B,GAAUw3B,EAAIqD,SACO,KAAjBrD,EAAIsD,WACN96B,GAAU,IAAMw3B,EAAIsD,UAEtB96B,GAAU,KAGZA,GAAU85B,EAActC,EAAIuC,MAEX,OAAbvC,EAAI4D,OACNp7B,GAAU,IAAMw3B,EAAI4D,OAEA,OAAb5D,EAAIuC,MAAgC,SAAfvC,EAAIF,SAClCt3B,GAAU,MAGRw3B,EAAI+D,iBACNv7B,GAAUw3B,EAAInyB,KAAK,QAEnB,IAAK,MAAMyf,KAAU0S,EAAInyB,KACvBrF,GAAU,IAAM8kB,EAYpB,OARkB,OAAd0S,EAAI6D,QACNr7B,GAAU,IAAMw3B,EAAI6D,OAGjBkB,GAAoC,OAAjB/E,EAAI8D,WAC1Bt7B,GAAU,IAAMw3B,EAAI8D,UAGft7B,CACR,EAeDwW,EAAoCD,QAAAimB,mBAAA,SAAUhF,GAE5C,OAAQA,EAAIF,QACV,IAAK,OACH,IACE,OAAO9gB,EAAOD,QAAQimB,mBAAmBhmB,EAAOD,QAAQkmB,SAASjF,EAAInyB,KAAK,IAC3E,CAAC,MAAOqwB,GAEP,MAAO,MACR,CACH,IAAK,MACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,KACL,IAAK,MACH,OA7BN,SAAyBgH,GACvB,IAAItrB,EAASsrB,EAAMpF,OAAS,MAO5B,OANAlmB,GAAU0oB,EAAc4C,EAAM3C,MAEX,OAAf2C,EAAMtB,OACRhqB,GAAU,IAAMsrB,EAAMtB,MAGjBhqB,CACR,CAoBYurB,CAAgB,CACrBrF,OAAQE,EAAIF,OACZyC,KAAMvC,EAAIuC,KACVqB,KAAM5D,EAAI4D,OAEd,IAAK,OAEH,MAAO,UACT,QAEE,MAAO,OAEb,EAEA5kB,EAAAD,QAAAqmB,cAA+B,SAAUhG,EAAO76B,QAC9BlE,IAAZkE,IACFA,EAAU,CAAA,GAGZ,MAAM8gC,EAAM,IAAI9B,EAAgBnE,EAAO76B,EAAQ+gC,QAAS/gC,EAAQk/B,iBAAkBl/B,EAAQy7B,IAAKz7B,EAAQm/B,eACvG,OAAI2B,EAAIrG,QACC,UAGFqG,EAAIrF,GACb,EAEAhhB,EAAAD,QAAAwmB,eAAgC,SAAUvF,EAAKqD,GAC7CrD,EAAIqD,SAAW,GACf,MAAM1B,EAAUnF,EAASyC,KAAKC,OAAOmE,GACrC,IAAK,IAAI35B,EAAI,EAAGA,EAAIi4B,EAAQxgC,SAAUuI,EACpCs2B,EAAIqD,UAAY9C,EAAkBoB,EAAQj4B,GAAI42B,EAElD,EAEAthB,EAAAD,QAAAymB,eAAgC,SAAUxF,EAAKsD,GAC7CtD,EAAIsD,SAAW,GACf,MAAM3B,EAAUnF,EAASyC,KAAKC,OAAOoE,GACrC,IAAK,IAAI55B,EAAI,EAAGA,EAAIi4B,EAAQxgC,SAAUuI,EACpCs2B,EAAIsD,UAAY/C,EAAkBoB,EAAQj4B,GAAI42B,EAElD,EAEAthB,EAAAD,QAAAujB,cAA+BA,EAE/BtjB,EAAAD,QAAA0mB,gCA7wBA,SAAyCzF,GACvC,OAAoB,OAAbA,EAAIuC,MAA8B,KAAbvC,EAAIuC,MAAevC,EAAI+D,kBAAmC,SAAf/D,EAAIF,MAC5E,EA6wBD9gB,EAAkCD,QAAA2mB,iBAAA,SAAU/X,GAC1C,OAAO4I,OAAO5I,EAChB,EAEA3O,EAAAD,QAAAkmB,SAA0B,SAAU7F,EAAO76B,GAMzC,YALgBlE,IAAZkE,IACFA,EAAU,CAAA,GAILya,EAAOD,QAAQqmB,cAAchG,EAAO,CAAEkG,QAAS/gC,EAAQ+gC,QAAS7B,iBAAkBl/B,EAAQk/B,yFC9wCnG,MAAM4B,IAAM7kC,uBAEUmlC,QAAAC,eAAG,MACvBhmC,YAAYimC,GACV,MAAM7F,EAAM6F,EAAgB,GACtBrC,EAAOqC,EAAgB,GAE7B,IAAIC,EAAa,KACjB,QAAazlC,IAATmjC,IACFsC,EAAaT,IAAID,cAAc5B,GACZ,YAAfsC,GACF,MAAM,IAAIxK,UAAU,oBAIxB,MAAMyK,EAAYV,IAAID,cAAcpF,EAAK,CAAEsF,QAASQ,IACpD,GAAkB,YAAdC,EACF,MAAM,IAAIzK,UAAU,eAGtBp7B,KAAK8lC,KAAOD,CAGb,CAEGE,WACF,OAAOZ,IAAIP,aAAa5kC,KAAK8lC,KAC9B,CAEGC,SAAKzsB,GACP,MAAMusB,EAAYV,IAAID,cAAc5rB,GACpC,GAAkB,YAAdusB,EACF,MAAM,IAAIzK,UAAU,eAGtBp7B,KAAK8lC,KAAOD,CACb,CAEGG,aACF,OAAOb,IAAIL,mBAAmB9kC,KAAK8lC,KACpC,CAEGG,eACF,OAAOjmC,KAAK8lC,KAAKlG,OAAS,GAC3B,CAEGqG,aAAS3sB,GACX6rB,IAAID,cAAc5rB,EAAI,IAAK,CAAEwmB,IAAK9/B,KAAK8lC,KAAMtC,cAAe,gBAC7D,CAEGL,eACF,OAAOnjC,KAAK8lC,KAAK3C,QAClB,CAEGA,aAAS7pB,GACP6rB,IAAII,gCAAgCvlC,KAAK8lC,OAI7CX,IAAIE,eAAerlC,KAAK8lC,KAAMxsB,EAC/B,CAEG8pB,eACF,OAAOpjC,KAAK8lC,KAAK1C,QAClB,CAEGA,aAAS9pB,GACP6rB,IAAII,gCAAgCvlC,KAAK8lC,OAI7CX,IAAIG,eAAetlC,KAAK8lC,KAAMxsB,EAC/B,CAEG+oB,WACF,MAAMvC,EAAM9/B,KAAK8lC,KAEjB,OAAiB,OAAbhG,EAAIuC,KACC,GAGQ,OAAbvC,EAAI4D,KACCyB,IAAI/C,cAActC,EAAIuC,MAGxB8C,IAAI/C,cAActC,EAAIuC,MAAQ,IAAM8C,IAAIK,iBAAiB1F,EAAI4D,KACrE,CAEGrB,SAAK/oB,GACHtZ,KAAK8lC,KAAKjC,kBAIdsB,IAAID,cAAc5rB,EAAG,CAAEwmB,IAAK9/B,KAAK8lC,KAAMtC,cAAe,QACvD,CAEG0C,eACF,OAAuB,OAAnBlmC,KAAK8lC,KAAKzD,KACL,GAGF8C,IAAI/C,cAAcpiC,KAAK8lC,KAAKzD,KACpC,CAEG6D,aAAS5sB,GACPtZ,KAAK8lC,KAAKjC,kBAIdsB,IAAID,cAAc5rB,EAAG,CAAEwmB,IAAK9/B,KAAK8lC,KAAMtC,cAAe,YACvD,CAEGE,WACF,OAAuB,OAAnB1jC,KAAK8lC,KAAKpC,KACL,GAGFyB,IAAIK,iBAAiBxlC,KAAK8lC,KAAKpC,KACvC,CAEGA,SAAKpqB,GACH6rB,IAAII,gCAAgCvlC,KAAK8lC,QAInC,KAANxsB,EACFtZ,KAAK8lC,KAAKpC,KAAO,KAEjByB,IAAID,cAAc5rB,EAAG,CAAEwmB,IAAK9/B,KAAK8lC,KAAMtC,cAAe,SAEzD,CAEG2C,eACF,OAAInmC,KAAK8lC,KAAKjC,iBACL7jC,KAAK8lC,KAAKn4B,KAAK,GAGM,IAA1B3N,KAAK8lC,KAAKn4B,KAAK1M,OACV,GAGF,IAAMjB,KAAK8lC,KAAKn4B,KAAK5L,KAAK,IAClC,CAEGokC,aAAS7sB,GACPtZ,KAAK8lC,KAAKjC,mBAId7jC,KAAK8lC,KAAKn4B,KAAO,GACjBw3B,IAAID,cAAc5rB,EAAG,CAAEwmB,IAAK9/B,KAAK8lC,KAAMtC,cAAe,eACvD,CAEG3F,aACF,OAAwB,OAApB79B,KAAK8lC,KAAKnC,OAAsC,KAApB3jC,KAAK8lC,KAAKnC,MACjC,GAGF,IAAM3jC,KAAK8lC,KAAKnC,KACxB,CAEG9F,WAAOvkB,GAGT,MAAMwmB,EAAM9/B,KAAK8lC,KAEjB,GAAU,KAANxsB,EAEF,YADAwmB,EAAI6D,MAAQ,MAId,MAAMzE,EAAiB,MAAT5lB,EAAE,GAAaA,EAAEgU,UAAU,GAAKhU,EAC9CwmB,EAAI6D,MAAQ,GACZwB,IAAID,cAAchG,EAAO,CAAEY,MAAK0D,cAAe,SAChD,CAEG4C,WACF,OAA2B,OAAvBpmC,KAAK8lC,KAAKlC,UAA4C,KAAvB5jC,KAAK8lC,KAAKlC,SACpC,GAGF,IAAM5jC,KAAK8lC,KAAKlC,QACxB,CAEGwC,SAAK9sB,GACP,GAAU,KAANA,EAEF,YADAtZ,KAAK8lC,KAAKlC,SAAW,MAIvB,MAAM1E,EAAiB,MAAT5lB,EAAE,GAAaA,EAAEgU,UAAU,GAAKhU,EAC9CtZ,KAAK8lC,KAAKlC,SAAW,GACrBuB,IAAID,cAAchG,EAAO,CAAEY,IAAK9/B,KAAK8lC,KAAMtC,cAAe,YAC3D,CAED6C,SACE,OAAOrmC,KAAK+lC,IACb,6BCpMH,MAAMlc,EAAcvpB,MACdgmC,EAAQ54B,aACR64B,EAAO34B,QAEPuuB,EAAOmK,EAAMrK,WAEnB,SAASuK,EAAI1G,GACX,IAAK9/B,MAAQA,KAAKm8B,MAAWn8B,gBAAgBwmC,GAC3C,MAAM,IAAIpL,UAAU,yHAEtB,GAAI53B,UAAUvC,OAAS,EACrB,MAAM,IAAIm6B,UAAU,4DAA8D53B,UAAUvC,OAAS,aAEvG,MAAMyE,EAAO,GACb,IAAK,IAAI8D,EAAI,EAAGA,EAAIhG,UAAUvC,QAAUuI,EAAI,IAAKA,EAC/C9D,EAAK8D,GAAKhG,UAAUgG,GAEtB9D,EAAK,GAAKmkB,EAAuB,UAAEnkB,EAAK,SACxBvF,IAAZuF,EAAK,KACTA,EAAK,GAAKmkB,EAAuB,UAAEnkB,EAAK,KAGxCoZ,EAAOD,QAAQ4nB,MAAMzmC,KAAM0F,EAC5B,CAED8gC,EAAI7N,UAAU0N,OAAS,WACrB,IAAKrmC,OAAS8e,EAAOD,QAAQzT,GAAGpL,MAC9B,MAAM,IAAIo7B,UAAU,sBAEtB,MAAM11B,EAAO,GACb,IAAK,IAAI8D,EAAI,EAAGA,EAAIhG,UAAUvC,QAAUuI,EAAI,IAAKA,EAC/C9D,EAAK8D,GAAKhG,UAAUgG,GAEtB,OAAOxJ,KAAKm8B,GAAMkK,OAAOrzB,MAAMhT,KAAKm8B,GAAOz2B,EAC7C,EACAkF,OAAOmf,eAAeyc,EAAI7N,UAAW,OAAQ,CAC3C1sB,MACE,OAAOjM,KAAKm8B,GAAM4J,IACnB,EACDp6B,IAAIsvB,GACFA,EAAIpR,EAAuB,UAAEoR,GAC7Bj7B,KAAKm8B,GAAM4J,KAAO9K,CACnB,EACDhL,YAAY,EACZC,cAAc,IAGhBsW,EAAI7N,UAAUtL,SAAW,WACvB,IAAKrtB,OAAS8e,EAAOD,QAAQzT,GAAGpL,MAC9B,MAAM,IAAIo7B,UAAU,sBAEtB,OAAOp7B,KAAK+lC,IACd,EAEAn7B,OAAOmf,eAAeyc,EAAI7N,UAAW,SAAU,CAC7C1sB,MACE,OAAOjM,KAAKm8B,GAAM6J,MACnB,EACD/V,YAAY,EACZC,cAAc,IAGhBtlB,OAAOmf,eAAeyc,EAAI7N,UAAW,WAAY,CAC/C1sB,MACE,OAAOjM,KAAKm8B,GAAM8J,QACnB,EACDt6B,IAAIsvB,GACFA,EAAIpR,EAAuB,UAAEoR,GAC7Bj7B,KAAKm8B,GAAM8J,SAAWhL,CACvB,EACDhL,YAAY,EACZC,cAAc,IAGhBtlB,OAAOmf,eAAeyc,EAAI7N,UAAW,WAAY,CAC/C1sB,MACE,OAAOjM,KAAKm8B,GAAMgH,QACnB,EACDx3B,IAAIsvB,GACFA,EAAIpR,EAAuB,UAAEoR,GAC7Bj7B,KAAKm8B,GAAMgH,SAAWlI,CACvB,EACDhL,YAAY,EACZC,cAAc,IAGhBtlB,OAAOmf,eAAeyc,EAAI7N,UAAW,WAAY,CAC/C1sB,MACE,OAAOjM,KAAKm8B,GAAMiH,QACnB,EACDz3B,IAAIsvB,GACFA,EAAIpR,EAAuB,UAAEoR,GAC7Bj7B,KAAKm8B,GAAMiH,SAAWnI,CACvB,EACDhL,YAAY,EACZC,cAAc,IAGhBtlB,OAAOmf,eAAeyc,EAAI7N,UAAW,OAAQ,CAC3C1sB,MACE,OAAOjM,KAAKm8B,GAAMkG,IACnB,EACD12B,IAAIsvB,GACFA,EAAIpR,EAAuB,UAAEoR,GAC7Bj7B,KAAKm8B,GAAMkG,KAAOpH,CACnB,EACDhL,YAAY,EACZC,cAAc,IAGhBtlB,OAAOmf,eAAeyc,EAAI7N,UAAW,WAAY,CAC/C1sB,MACE,OAAOjM,KAAKm8B,GAAM+J,QACnB,EACDv6B,IAAIsvB,GACFA,EAAIpR,EAAuB,UAAEoR,GAC7Bj7B,KAAKm8B,GAAM+J,SAAWjL,CACvB,EACDhL,YAAY,EACZC,cAAc,IAGhBtlB,OAAOmf,eAAeyc,EAAI7N,UAAW,OAAQ,CAC3C1sB,MACE,OAAOjM,KAAKm8B,GAAMuH,IACnB,EACD/3B,IAAIsvB,GACFA,EAAIpR,EAAuB,UAAEoR,GAC7Bj7B,KAAKm8B,GAAMuH,KAAOzI,CACnB,EACDhL,YAAY,EACZC,cAAc,IAGhBtlB,OAAOmf,eAAeyc,EAAI7N,UAAW,WAAY,CAC/C1sB,MACE,OAAOjM,KAAKm8B,GAAMgK,QACnB,EACDx6B,IAAIsvB,GACFA,EAAIpR,EAAuB,UAAEoR,GAC7Bj7B,KAAKm8B,GAAMgK,SAAWlL,CACvB,EACDhL,YAAY,EACZC,cAAc,IAGhBtlB,OAAOmf,eAAeyc,EAAI7N,UAAW,SAAU,CAC7C1sB,MACE,OAAOjM,KAAKm8B,GAAM0B,MACnB,EACDlyB,IAAIsvB,GACFA,EAAIpR,EAAuB,UAAEoR,GAC7Bj7B,KAAKm8B,GAAM0B,OAAS5C,CACrB,EACDhL,YAAY,EACZC,cAAc,IAGhBtlB,OAAOmf,eAAeyc,EAAI7N,UAAW,OAAQ,CAC3C1sB,MACE,OAAOjM,KAAKm8B,GAAMiK,IACnB,EACDz6B,IAAIsvB,GACFA,EAAIpR,EAAuB,UAAEoR,GAC7Bj7B,KAAKm8B,GAAMiK,KAAOnL,CACnB,EACDhL,YAAY,EACZC,cAAc,IAIhBpR,EAAiBD,QAAA,CACfzT,GAAGs7B,KACQA,GAAOA,EAAIvK,aAAiBoK,EAAKb,eAE5CzN,OAAO0N,EAAiBgB,GACtB,IAAID,EAAM97B,OAAOqtB,OAAOuO,EAAI7N,WAE5B,OADA34B,KAAKymC,MAAMC,EAAKf,EAAiBgB,GAC1BD,CACR,EACDD,MAAMC,EAAKf,EAAiBgB,GACrBA,IAAaA,EAAc,IAChCA,EAAYtK,QAAUqK,EAEtBA,EAAIvK,GAAQ,IAAIoK,EAAKb,eAAeC,EAAiBgB,GACrDD,EAAIvK,GAAMmK,EAAMvK,eAAiB2K,CAClC,EACDE,UAAWJ,EACXK,OAAQ,CACNC,OAAQ,CAAEN,IAAKA,GACfO,OAAQ,CAAEP,IAAKA,0CC9LnBQ,UAAAR,IAAclmC,WAAiBsmC,UAC/BI,UAAApC,aAAuBl3B,uBAA+Bk3B,aACtDoC,UAAAlC,mBAA6Bp3B,uBAA+Bo3B,mBAC5DkC,UAAA9B,cAAwBx3B,uBAA+Bw3B,cACvD8B,UAAA3B,eAAyB33B,uBAA+B23B,eACxD2B,UAAA1B,eAAyB53B,uBAA+B43B,eACxD0B,UAAA5E,cAAwB10B,uBAA+B00B,cACvD4E,UAAAxB,iBAA2B93B,uBAA+B83B,iBAC1CwB,UAAAjC,SAAGr3B,uBAA+Bq3B,SCAlD,MAAMkC,SAAWC,gBAAM,QAACD,SAElBE,SAASnL,OAAO,UAChBoL,OAAOpL,OAAO,QAEpB,MAAMqL,OACL3nC,cACCM,KAAKonC,QAAQ,GAEb,MAAME,EAAY9jC,UAAU,GACtBa,EAAUb,UAAU,GAEpB+jC,EAAU,GAChB,IAAIC,EAAO,EAEX,GAAIF,EAAW,CACd,MAAM3jC,EAAI2jC,EACJrmC,EAASqzB,OAAO3wB,EAAE1C,QACxB,IAAK,IAAIuI,EAAI,EAAGA,EAAIvI,EAAQuI,IAAK,CAChC,MAAMi+B,EAAU9jC,EAAE6F,GAClB,IAAIg2B,EAEHA,EADGiI,aAAmBzpB,OACbypB,EACCC,YAAYC,OAAOF,GACpBzpB,OAAO/Q,KAAKw6B,EAAQjI,OAAQiI,EAAQG,WAAYH,EAAQI,YACvDJ,aAAmBC,YACpB1pB,OAAO/Q,KAAKw6B,GACXA,aAAmBJ,OACpBI,EAAQN,UAERnpB,OAAO/Q,KAAwB,iBAAZw6B,EAAuBA,EAAUpR,OAAOoR,IAErED,GAAQhI,EAAOv+B,OACfsmC,EAAQ9jC,KAAK+7B,EACb,CACD,CAEDx/B,KAAKmnC,UAAUnpB,OAAOzc,OAAOgmC,GAE7B,IAAIO,EAAOzjC,QAA4BlE,IAAjBkE,EAAQyjC,MAAsBzR,OAAOhyB,EAAQyjC,MAAMrI,cACrEqI,IAAS,mBAAmBl+B,KAAKk+B,KACpC9nC,KAAKonC,QAAQU,EAEd,CACGN,WACH,OAAOxnC,KAAKmnC,UAAQlmC,MACpB,CACG6mC,WACH,OAAO9nC,KAAKonC,OACZ,CACD/oB,OACC,OAAO0pB,QAAQzxB,QAAQtW,KAAKmnC,UAAQ9Z,WACpC,CACD2a,cACC,MAAMxH,EAAMxgC,KAAKmnC,UACXc,EAAKzH,EAAIhB,OAAOx+B,MAAMw/B,EAAIoH,WAAYpH,EAAIoH,WAAapH,EAAIqH,YACjE,OAAOE,QAAQzxB,QAAQ2xB,EACvB,CACDlT,SACC,MAAMmT,EAAW,IAAIjB,SAIrB,OAHAiB,EAASC,MAAQ,aACjBD,EAASzkC,KAAKzD,KAAKmnC,WACnBe,EAASzkC,KAAK,MACPykC,CACP,CACD7a,WACC,MAAO,eACP,CACDrsB,QACC,MAAMwmC,EAAOxnC,KAAKwnC,KAEZ3K,EAAQr5B,UAAU,GAClBs5B,EAAMt5B,UAAU,GACtB,IAAI4kC,EAAeC,EAElBD,OADajoC,IAAV08B,EACa,EACNA,EAAQ,EACFx2B,KAAKF,IAAIqhC,EAAO3K,EAAO,GAEvBx2B,KAAKyG,IAAI+vB,EAAO2K,GAGhCa,OADWloC,IAAR28B,EACW0K,EACJ1K,EAAM,EACFz2B,KAAKF,IAAIqhC,EAAO1K,EAAK,GAErBz2B,KAAKyG,IAAIgwB,EAAK0K,GAE7B,MAAMc,EAAOjiC,KAAKF,IAAIkiC,EAAcD,EAAe,GAG7CG,EADSvoC,KAAKmnC,UACQnmC,MAAMonC,EAAeA,EAAgBE,GAC3DE,EAAO,IAAInB,OAAK,GAAI,CAAES,KAAMtkC,UAAU,KAE5C,OADAglC,EAAKrB,UAAUoB,EACRC,CACP,EA8BF,SAASC,aAAW5oC,EAASioC,EAAMY,GACjCjpC,MAAMkpC,KAAK3oC,KAAMH,GAEjBG,KAAKH,QAAUA,EACfG,KAAK8nC,KAAOA,EAGRY,IACF1oC,KAAKJ,KAAOI,KAAK4oC,MAAQF,EAAY9oC,MAIvCH,MAAMM,kBAAkBC,KAAMA,KAAKN,YACrC,CAMA,IAAIkpB,UA9CJhe,OAAO2uB,iBAAiB8N,OAAK1O,UAAW,CACvC6O,KAAM,CAAEvX,YAAY,GACpB6X,KAAM,CAAE7X,YAAY,GACpBjvB,MAAO,CAAEivB,YAAY,KAGtBrlB,OAAOmf,eAAesd,OAAK1O,UAAWqD,OAAO6M,YAAa,CACzD1nC,MAAO,OACP2nC,UAAU,EACV7Y,YAAY,EACZC,cAAc,IAgCfuY,aAAW9P,UAAY/tB,OAAOqtB,OAAOx4B,MAAMk5B,WAC3C8P,aAAW9P,UAAUj5B,YAAc+oC,aACnCA,aAAW9P,UAAU14B,KAAO,aAG5B,IACC2oB,UAAUmgB,QAAQ,YAAYngB,OAC/B,CAAE,MAAOoV,GAAK,CAEd,MAAMgL,YAAYhN,OAAO,kBAGnBiN,cAAc/B,gBAAM,QAAC+B,YAW3B,SAASC,OAAKC,GACb,IAAIC,EAAQppC,KAERqpC,EAAO7lC,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,CAAE,EAC7E8lC,EAAYD,EAAK7B,KAErB,IAAIA,OAAqBrnC,IAAdmpC,EAA0B,EAAIA,EACzC,IAAIC,EAAeF,EAAKG,QACxB,IAAIA,OAA2BrpC,IAAjBopC,EAA6B,EAAIA,EAEnC,MAARJ,EAEHA,EAAO,KACGM,oBAAkBN,GAE5BA,EAAOnrB,OAAO/Q,KAAKk8B,EAAK9b,YACdqc,SAAOP,IAAkBnrB,OAAOC,SAASkrB,KAA2D,yBAAzCv+B,OAAO+tB,UAAUtL,SAASsb,KAAKQ,GAEpGA,EAAOnrB,OAAO/Q,KAAKk8B,GACTzB,YAAYC,OAAOwB,GAE7BA,EAAOnrB,OAAO/Q,KAAKk8B,EAAK3J,OAAQ2J,EAAKvB,WAAYuB,EAAKtB,YAC5CsB,aAAgBjC,gBAAM,UAGhCiC,EAAOnrB,OAAO/Q,KAAKopB,OAAO8S,MAE3BnpC,KAAKgpC,aAAa,CACjBG,OACAQ,WAAW,EACXtpC,MAAO,MAERL,KAAKwnC,KAAOA,EACZxnC,KAAKwpC,QAAUA,EAEXL,aAAgBjC,gBAAAA,SACnBiC,EAAKx1B,GAAG,SAAS,SAAUjB,GAC1B,MAAMrS,EAAqB,eAAbqS,EAAIzS,KAAwByS,EAAM,IAAI+1B,aAAW,+CAA+CW,EAAMtJ,QAAQptB,EAAI7S,UAAW,SAAU6S,GACrJ02B,EAAMJ,aAAW3oC,MAAQA,CAC5B,GAEA,CAuHA,SAASupC,gBACR,IAAIC,EAAS7pC,KAEb,GAAIA,KAAKgpC,aAAWW,UACnB,OAAOT,OAAKnB,QAAQ+B,OAAO,IAAI1O,UAAU,0BAA0Bp7B,KAAK8/B,QAKzE,GAFA9/B,KAAKgpC,aAAWW,WAAY,EAExB3pC,KAAKgpC,aAAW3oC,MACnB,OAAO6oC,OAAKnB,QAAQ+B,OAAO9pC,KAAKgpC,aAAW3oC,OAG5C,IAAI8oC,EAAOnpC,KAAKmpC,KAGhB,GAAa,OAATA,EACH,OAAOD,OAAKnB,QAAQzxB,QAAQ0H,OAAO+rB,MAAM,IAS1C,GALIL,SAAOP,KACVA,EAAOA,EAAKpU,UAIT/W,OAAOC,SAASkrB,GACnB,OAAOD,OAAKnB,QAAQzxB,QAAQ6yB,GAI7B,KAAMA,aAAgBjC,gBAAAA,SACrB,OAAOgC,OAAKnB,QAAQzxB,QAAQ0H,OAAO+rB,MAAM,IAK1C,IAAIC,EAAQ,GACRC,EAAa,EACbC,GAAQ,EAEZ,OAAO,IAAIhB,OAAKnB,SAAQ,SAAUzxB,EAASwzB,GAC1C,IAAIK,EAGAN,EAAOL,UACVW,EAAaC,YAAW,WACvBF,GAAQ,EACRJ,EAAO,IAAIrB,aAAW,0CAA0CoB,EAAO/J,aAAa+J,EAAOL,aAAc,gBAC7G,GAAMK,EAAOL,UAIXL,EAAKx1B,GAAG,SAAS,SAAUjB,GACT,eAAbA,EAAIzS,MAEPiqC,GAAQ,EACRJ,EAAOp3B,IAGPo3B,EAAO,IAAIrB,aAAW,+CAA+CoB,EAAO/J,QAAQptB,EAAI7S,UAAW,SAAU6S,GAEjH,IAEEy2B,EAAKx1B,GAAG,QAAQ,SAAUmjB,GACzB,IAAIoT,GAAmB,OAAVpT,EAAb,CAIA,GAAI+S,EAAOrC,MAAQyC,EAAanT,EAAM71B,OAAS4oC,EAAOrC,KAGrD,OAFA0C,GAAQ,OACRJ,EAAO,IAAIrB,aAAW,mBAAmBoB,EAAO/J,mBAAmB+J,EAAOrC,OAAQ,aAInFyC,GAAcnT,EAAM71B,OACpB+oC,EAAMvmC,KAAKqzB,EATV,CAUJ,IAEEqS,EAAKx1B,GAAG,OAAO,WACd,IAAIu2B,EAAJ,CAIAG,aAAaF,GAEb,IACC7zB,EAAQ0H,OAAOzc,OAAOyoC,EAAOC,GAC7B,CAAC,MAAOv3B,GAERo3B,EAAO,IAAIrB,aAAW,kDAAkDoB,EAAO/J,QAAQptB,EAAI7S,UAAW,SAAU6S,GAChH,CATA,CAUJ,GACA,GACA,CAUA,SAAS43B,cAAY9K,EAAQ+K,GAC5B,GAAuB,mBAAZ3hB,UACV,MAAM,IAAInpB,MAAM,gFAGjB,MAAM+qC,EAAKD,EAAQt+B,IAAI,gBACvB,IACI63B,EAAKn7B,EADL8hC,EAAU,QAgDd,OA5CID,IACH1G,EAAM,mBAAmB9vB,KAAKw2B,IAI/B7hC,EAAM62B,EAAOx+B,MAAM,EAAG,MAAMqsB,YAGvByW,GAAOn7B,IACXm7B,EAAM,iCAAiC9vB,KAAKrL,KAIxCm7B,GAAOn7B,IACXm7B,EAAM,yEAAyE9vB,KAAKrL,GAC/Em7B,IACJA,EAAM,yEAAyE9vB,KAAKrL,GAChFm7B,GACHA,EAAIxV,OAIFwV,IACHA,EAAM,gBAAgB9vB,KAAK8vB,EAAIxV,UAK5BwV,GAAOn7B,IACXm7B,EAAM,mCAAmC9vB,KAAKrL,IAI3Cm7B,IACH2G,EAAU3G,EAAIxV,MAIE,WAAZmc,GAAoC,QAAZA,IAC3BA,EAAU,YAKL7hB,UAAQ4W,EAAQ,QAASiL,GAASpd,UAC1C,CASA,SAASoc,oBAAkB/C,GAE1B,MAAmB,iBAARA,GAA0C,mBAAfA,EAAIgE,QAA+C,mBAAfhE,EAAIiE,QAA4C,mBAAZjE,EAAIz6B,KAA4C,mBAAfy6B,EAAIkE,QAA4C,mBAAZlE,EAAI76B,KAAyC,mBAAZ66B,EAAI/6B,MAKxL,oBAAzB+6B,EAAIhnC,YAAYO,MAAsE,6BAAxC2K,OAAO+tB,UAAUtL,SAASsb,KAAKjC,IAA2D,mBAAbA,EAAIhjC,KACvI,CAOA,SAASgmC,SAAOhD,GACf,MAAsB,iBAARA,GAA+C,mBAApBA,EAAIsB,aAAkD,iBAAbtB,EAAIoB,MAA2C,mBAAfpB,EAAI3R,QAAoD,mBAApB2R,EAAIhnC,aAA8D,iBAAzBgnC,EAAIhnC,YAAYO,MAAqB,gBAAgB2J,KAAK88B,EAAIhnC,YAAYO,OAAS,gBAAgB2J,KAAK88B,EAAI1K,OAAO6M,aACnT,CAQA,SAASgC,QAAMC,GACd,IAAIC,EAAIC,EACJ7B,EAAO2B,EAAS3B,KAGpB,GAAI2B,EAASG,SACZ,MAAM,IAAIxrC,MAAM,sCAgBjB,OAXI0pC,aAAgBjC,gBAAM,SAAgC,mBAArBiC,EAAK+B,cAEzCH,EAAK,IAAI9B,cACT+B,EAAK,IAAI/B,cACTE,EAAKgC,KAAKJ,GACV5B,EAAKgC,KAAKH,GAEVF,EAAS9B,aAAWG,KAAO4B,EAC3B5B,EAAO6B,GAGD7B,CACR,CAWA,SAASiC,qBAAmBjC,GAC3B,OAAa,OAATA,EAEI,KACmB,iBAATA,EAEV,2BACGM,oBAAkBN,GAErB,kDACGO,SAAOP,GAEVA,EAAKrB,MAAQ,KACV9pB,OAAOC,SAASkrB,IAGyB,yBAAzCv+B,OAAO+tB,UAAUtL,SAASsb,KAAKQ,IAG/BzB,YAAYC,OAAOwB,GAJtB,KAO+B,mBAArBA,EAAK+B,YAEf,gCAAgC/B,EAAK+B,gBAClC/B,aAAgBjC,wBAGnB,KAGA,0BAET,CAWA,SAASmE,gBAAcP,GACtB,MAAM3B,EAAO2B,EAAS3B,KAGtB,OAAa,OAATA,EAEI,EACGO,SAAOP,GACVA,EAAK3B,KACFxpB,OAAOC,SAASkrB,GAEnBA,EAAKloC,OACFkoC,GAAsC,mBAAvBA,EAAKmC,gBAE1BnC,EAAKoC,mBAAsD,GAAjCpC,EAAKoC,kBAAkBtqC,QACrDkoC,EAAKqC,gBAAkBrC,EAAKqC,kBAEpBrC,EAAKmC,gBAKN,IAET,CAQA,SAASG,gBAActwB,EAAM2vB,GAC5B,MAAM3B,EAAO2B,EAAS3B,KAGT,OAATA,EAEHhuB,EAAK2hB,MACK4M,SAAOP,GACjBA,EAAKpU,SAASoW,KAAKhwB,GACT6C,OAAOC,SAASkrB,IAE1BhuB,EAAKnL,MAAMm5B,GACXhuB,EAAK2hB,OAGLqM,EAAKgC,KAAKhwB,EAEZ,CArbA+tB,OAAKvQ,UAAY,CACZwQ,WACH,OAAOnpC,KAAKgpC,aAAWG,IACvB,EAEG8B,eACH,OAAOjrC,KAAKgpC,aAAWW,SACvB,EAOD3B,cACC,OAAO4B,cAAYjB,KAAK3oC,MAAMwZ,MAAK,SAAUgnB,GAC5C,OAAOA,EAAIhB,OAAOx+B,MAAMw/B,EAAIoH,WAAYpH,EAAIoH,WAAapH,EAAIqH,WAChE,GACE,EAODW,OACC,IAAIgC,EAAKxqC,KAAKuqC,SAAWvqC,KAAKuqC,QAAQt+B,IAAI,iBAAmB,GAC7D,OAAO29B,cAAYjB,KAAK3oC,MAAMwZ,MAAK,SAAUgnB,GAC5C,OAAO51B,OAAOC,OAEd,IAAIw8B,OAAK,GAAI,CACZS,KAAM0C,EAAG/K,gBACN,CACHiM,CAACvE,UAAS3G,GAEd,GACE,EAODmL,OACC,IAAIC,EAAS5rC,KAEb,OAAO4pC,cAAYjB,KAAK3oC,MAAMwZ,MAAK,SAAUgmB,GAC5C,IACC,OAAOr4B,KAAKwO,MAAM6pB,EAAOnS,WACzB,CAAC,MAAO3a,GACR,OAAOw2B,OAAKnB,QAAQ+B,OAAO,IAAIrB,aAAW,iCAAiCmD,EAAO9L,eAAeptB,EAAI7S,UAAW,gBAChH,CACJ,GACE,EAODwe,OACC,OAAOurB,cAAYjB,KAAK3oC,MAAMwZ,MAAK,SAAUgmB,GAC5C,OAAOA,EAAOnS,UACjB,GACE,EAODmS,SACC,OAAOoK,cAAYjB,KAAK3oC,KACxB,EAQD6rC,gBACC,IAAIC,EAAS9rC,KAEb,OAAO4pC,cAAYjB,KAAK3oC,MAAMwZ,MAAK,SAAUgmB,GAC5C,OAAO8K,cAAY9K,EAAQsM,EAAOvB,QACrC,GACE,GAIF3/B,OAAO2uB,iBAAiB2P,OAAKvQ,UAAW,CACvCwQ,KAAM,CAAElZ,YAAY,GACpBgb,SAAU,CAAEhb,YAAY,GACxB+X,YAAa,CAAE/X,YAAY,GAC3BuY,KAAM,CAAEvY,YAAY,GACpB0b,KAAM,CAAE1b,YAAY,GACpB5R,KAAM,CAAE4R,YAAY,KAGrBiZ,OAAK6C,MAAQ,SAAUzS,GACtB,IAAK,MAAMr5B,KAAQ2K,OAAOixB,oBAAoBqN,OAAKvQ,WAElD,KAAM14B,KAAQq5B,GAAQ,CACrB,MAAMtoB,EAAOpG,OAAOkxB,yBAAyBoN,OAAKvQ,UAAW14B,GAC7D2K,OAAOmf,eAAeuP,EAAOr5B,EAAM+Q,EACnC,CAEH,EA4UAk4B,OAAKnB,QAAUiE,OAAOjE,QAQtB,MAAMkE,oBAAoB,gCACpBC,yBAAyB,0BAE/B,SAASC,eAAalsC,GAErB,GADAA,EAAO,GAAGA,IACNgsC,oBAAkBriC,KAAK3J,IAAkB,KAATA,EACnC,MAAM,IAAIm7B,UAAU,GAAGn7B,oCAEzB,CAEA,SAASmsC,gBAAcjrC,GAEtB,GADAA,EAAQ,GAAGA,IACP+qC,yBAAuBtiC,KAAKzI,GAC/B,MAAM,IAAIi6B,UAAU,GAAGj6B,qCAEzB,CAUA,SAASqE,OAAKG,EAAK1F,GAClBA,EAAOA,EAAKw/B,cACZ,IAAK,MAAM7zB,KAAOjG,EACjB,GAAIiG,EAAI6zB,gBAAkBx/B,EACzB,OAAO2L,CAIV,CAEA,MAAMygC,MAAMrQ,OAAO,OACnB,MAAMsQ,UAOL5sC,cACC,IAAI6sC,EAAO/oC,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,QAAKrD,EAI/E,GAFAH,KAAKqsC,OAAOzhC,OAAOqtB,OAAO,MAEtBsU,aAAgBD,UAApB,CACC,MAAME,EAAaD,EAAKld,MAClBod,EAAc7hC,OAAOqR,KAAKuwB,GAEhC,IAAK,MAAME,KAAcD,EACxB,IAAK,MAAMtrC,KAASqrC,EAAWE,GAC9B1sC,KAAK0qC,OAAOgC,EAAYvrC,EAK1B,MAID,GAAY,MAARorC,OAAqB,IAAoB,iBAATA,EA+BnC,MAAM,IAAInR,UAAU,0CA/BkC,CACtD,MAAMuR,EAASJ,EAAKvQ,OAAO4Q,UAC3B,GAAc,MAAVD,EAAgB,CACnB,GAAsB,mBAAXA,EACV,MAAM,IAAIvR,UAAU,iCAKrB,MAAMyR,EAAQ,GACd,IAAK,MAAMC,KAAQP,EAAM,CACxB,GAAoB,iBAATO,GAAsD,mBAA1BA,EAAK9Q,OAAO4Q,UAClD,MAAM,IAAIxR,UAAU,qCAErByR,EAAMppC,KAAKpC,MAAM4L,KAAK6/B,GACtB,CAED,IAAK,MAAMA,KAAQD,EAAO,CACzB,GAAoB,IAAhBC,EAAK7rC,OACR,MAAM,IAAIm6B,UAAU,+CAErBp7B,KAAK0qC,OAAOoC,EAAK,GAAIA,EAAK,GAC1B,CACL,MAEI,IAAK,MAAMlhC,KAAOhB,OAAOqR,KAAKswB,GAAO,CACpC,MAAMprC,EAAQorC,EAAK3gC,GACnB5L,KAAK0qC,OAAO9+B,EAAKzK,EACjB,CAEL,CAEG,CACD,CAQD8K,IAAIhM,GAEHksC,eADAlsC,EAAO,GAAGA,KAEV,MAAM2L,EAAMpG,OAAKxF,KAAKqsC,OAAMpsC,GAC5B,YAAYE,IAARyL,EACI,KAGD5L,KAAKqsC,OAAKzgC,GAAK7J,KAAK,KAC3B,CASDwD,QAAQuU,GACP,IAAIizB,EAAUvpC,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,QAAKrD,EAE9E0sC,EAAQG,aAAWhtC,MACnBwJ,EAAI,EACR,KAAOA,EAAIqjC,EAAM5rC,QAAQ,CACxB,IAAIgsC,EAAWJ,EAAMrjC,GACrB,MAAMvJ,EAAOgtC,EAAS,GAChB9rC,EAAQ8rC,EAAS,GAEvBnzB,EAAS6uB,KAAKoE,EAAS5rC,EAAOlB,EAAMD,MACpC6sC,EAAQG,aAAWhtC,MACnBwJ,GACA,CACD,CASDmC,IAAI1L,EAAMkB,GAETA,EAAQ,GAAGA,IACXgrC,eAFAlsC,EAAO,GAAGA,KAGVmsC,gBAAcjrC,GACd,MAAMyK,EAAMpG,OAAKxF,KAAKqsC,OAAMpsC,GAC5BD,KAAKqsC,YAAalsC,IAARyL,EAAoBA,EAAM3L,GAAQ,CAACkB,EAC7C,CASDupC,OAAOzqC,EAAMkB,GAEZA,EAAQ,GAAGA,IACXgrC,eAFAlsC,EAAO,GAAGA,KAGVmsC,gBAAcjrC,GACd,MAAMyK,EAAMpG,OAAKxF,KAAKqsC,OAAMpsC,QAChBE,IAARyL,EACH5L,KAAKqsC,OAAKzgC,GAAKnI,KAAKtC,GAEpBnB,KAAKqsC,OAAKpsC,GAAQ,CAACkB,EAEpB,CAQD0K,IAAI5L,GAGH,OADAksC,eADAlsC,EAAO,GAAGA,UAEuBE,IAA1BqF,OAAKxF,KAAKqsC,OAAMpsC,EACvB,CAQD0qC,OAAO1qC,GAENksC,eADAlsC,EAAO,GAAGA,KAEV,MAAM2L,EAAMpG,OAAKxF,KAAKqsC,OAAMpsC,QAChBE,IAARyL,UACI5L,KAAKqsC,OAAKzgC,EAElB,CAODyjB,MACC,OAAOrvB,KAAKqsC,MACZ,CAODpwB,OACC,OAAOixB,wBAAsBltC,KAAM,MACnC,CAOD4B,SACC,OAAOsrC,wBAAsBltC,KAAM,QACnC,CASD,CAACg8B,OAAO4Q,YACP,OAAOM,wBAAsBltC,KAAM,YACnC,EAuBF,SAASgtC,aAAWzC,GACnB,IAAI4C,EAAO3pC,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,YAG/E,OADaoH,OAAOqR,KAAKsuB,EAAQ8B,QAAM3oC,OAC3BiC,IAAa,QAATwnC,EAAiB,SAAUviB,GAC1C,OAAOA,EAAE6U,aACX,EAAc,UAAT0N,EAAmB,SAAUviB,GAChC,OAAO2f,EAAQ8B,OAAKzhB,GAAG7oB,KAAK,KAC5B,EAAG,SAAU6oB,GACb,MAAO,CAACA,EAAE6U,cAAe8K,EAAQ8B,OAAKzhB,GAAG7oB,KAAK,MAChD,EACA,CAhCAuqC,UAAQ3T,UAAUjI,QAAU4b,UAAQ3T,UAAUqD,OAAO4Q,UAErDhiC,OAAOmf,eAAeuiB,UAAQ3T,UAAWqD,OAAO6M,YAAa,CAC5D1nC,MAAO,UACP2nC,UAAU,EACV7Y,YAAY,EACZC,cAAc,IAGftlB,OAAO2uB,iBAAiB+S,UAAQ3T,UAAW,CAC1C1sB,IAAK,CAAEgkB,YAAY,GACnB1qB,QAAS,CAAE0qB,YAAY,GACvBtkB,IAAK,CAAEskB,YAAY,GACnBya,OAAQ,CAAEza,YAAY,GACtBpkB,IAAK,CAAEokB,YAAY,GACnB0a,OAAQ,CAAE1a,YAAY,GACtBhU,KAAM,CAAEgU,YAAY,GACpBruB,OAAQ,CAAEquB,YAAY,GACtBS,QAAS,CAAET,YAAY,KAgBxB,MAAMmd,WAAWpR,OAAO,YAExB,SAASkR,wBAAsB3wB,EAAQ4wB,GACtC,MAAMP,EAAWhiC,OAAOqtB,OAAOoV,4BAM/B,OALAT,EAASQ,YAAY,CACpB7wB,SACA4wB,OACA/zB,MAAO,GAEDwzB,CACR,CAEA,MAAMS,2BAA2BziC,OAAO6tB,eAAe,CACtD6U,OAEC,IAAKttC,MAAQ4K,OAAO2iC,eAAevtC,QAAUqtC,2BAC5C,MAAM,IAAIjS,UAAU,4CAGrB,IAAIoS,EAAYxtC,KAAKotC,YACrB,MAAM7wB,EAASixB,EAAUjxB,OACnB4wB,EAAOK,EAAUL,KACjB/zB,EAAQo0B,EAAUp0B,MAElBxX,EAASorC,aAAWzwB,EAAQ4wB,GAElC,OAAI/zB,GADQxX,EAAOX,OAEX,CACNE,WAAOhB,EACPstC,MAAM,IAIRztC,KAAKotC,YAAUh0B,MAAQA,EAAQ,EAExB,CACNjY,MAAOS,EAAOwX,GACdq0B,MAAM,GAEP,GACC7iC,OAAO2iC,eAAe3iC,OAAO2iC,eAAe,GAAGvR,OAAO4Q,eAezD,SAASc,8BAA4BnD,GACpC,MAAM7D,EAAM97B,OAAOC,OAAO,CAAE8iC,UAAW,MAAQpD,EAAQ8B,QAIjDuB,EAAgBpoC,OAAK+kC,EAAQ8B,OAAM,QAKzC,YAJsBlsC,IAAlBytC,IACHlH,EAAIkH,GAAiBlH,EAAIkH,GAAe,IAGlClH,CACR,CASA,SAASmH,uBAAqBnH,GAC7B,MAAM6D,EAAU,IAAI+B,UACpB,IAAK,MAAMrsC,KAAQ2K,OAAOqR,KAAKyqB,GAC9B,IAAIuF,oBAAkBriC,KAAK3J,GAG3B,GAAIoB,MAAMC,QAAQolC,EAAIzmC,IACrB,IAAK,MAAMqT,KAAOozB,EAAIzmC,GACjBisC,yBAAuBtiC,KAAK0J,UAGLnT,IAAvBoqC,EAAQ8B,OAAKpsC,GAChBsqC,EAAQ8B,OAAKpsC,GAAQ,CAACqT,GAEtBi3B,EAAQ8B,OAAKpsC,GAAMwD,KAAK6P,SAGf44B,yBAAuBtiC,KAAK88B,EAAIzmC,MAC3CsqC,EAAQ8B,OAAKpsC,GAAQ,CAACymC,EAAIzmC,KAG5B,OAAOsqC,CACR,CAvDA3/B,OAAOmf,eAAesjB,2BAA0BrR,OAAO6M,YAAa,CACnE1nC,MAAO,kBACP2nC,UAAU,EACV7Y,YAAY,EACZC,cAAc,IAqDf,MAAM4d,cAAc9R,OAAO,sBAGrB+R,eAAerP,cAAI,QAACqP,aAS1B,MAAMC,WACLtuC,cACC,IAAIypC,EAAO3lC,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,KAC3EyN,EAAOzN,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,CAAA,EAE/E0lC,OAAKP,KAAK3oC,KAAMmpC,EAAMl4B,GAEtB,MAAMusB,EAASvsB,EAAKusB,QAAU,IACxB+M,EAAU,IAAI+B,UAAQr7B,EAAKs5B,SAEjC,GAAY,MAARpB,IAAiBoB,EAAQ1+B,IAAI,gBAAiB,CACjD,MAAMoiC,EAAc7C,qBAAmBjC,GACnC8E,GACH1D,EAAQG,OAAO,eAAgBuD,EAEhC,CAEDjuC,KAAK8tC,eAAe,CACnBhO,IAAK7uB,EAAK6uB,IACVtC,SACA0Q,WAAYj9B,EAAKi9B,YAAcH,eAAavQ,GAC5C+M,UACArI,QAASjxB,EAAKixB,QAEf,CAEGpC,UACH,OAAO9/B,KAAK8tC,eAAahO,KAAO,EAChC,CAEGtC,aACH,OAAOx9B,KAAK8tC,eAAatQ,MACzB,CAKG2Q,SACH,OAAOnuC,KAAK8tC,eAAatQ,QAAU,KAAOx9B,KAAK8tC,eAAatQ,OAAS,GACrE,CAEG4Q,iBACH,OAAOpuC,KAAK8tC,eAAa5L,QAAU,CACnC,CAEGgM,iBACH,OAAOluC,KAAK8tC,eAAaI,UACzB,CAEG3D,cACH,OAAOvqC,KAAK8tC,eAAavD,OACzB,CAODM,QACC,OAAO,IAAImD,WAASnD,QAAM7qC,MAAO,CAChC8/B,IAAK9/B,KAAK8/B,IACVtC,OAAQx9B,KAAKw9B,OACb0Q,WAAYluC,KAAKkuC,WACjB3D,QAASvqC,KAAKuqC,QACd4D,GAAInuC,KAAKmuC,GACTC,WAAYpuC,KAAKouC,YAElB,EAGFlF,OAAK6C,MAAMiC,WAASrV,WAEpB/tB,OAAO2uB,iBAAiByU,WAASrV,UAAW,CAC3CmH,IAAK,CAAE7P,YAAY,GACnBuN,OAAQ,CAAEvN,YAAY,GACtBke,GAAI,CAAEle,YAAY,GAClBme,WAAY,CAAEne,YAAY,GAC1Bie,WAAY,CAAEje,YAAY,GAC1Bsa,QAAS,CAAEta,YAAY,GACvB4a,MAAO,CAAE5a,YAAY,KAGtBrlB,OAAOmf,eAAeikB,WAASrV,UAAWqD,OAAO6M,YAAa,CAC7D1nC,MAAO,WACP2nC,UAAU,EACV7Y,YAAY,EACZC,cAAc,IAGf,MAAMme,cAAcrS,OAAO,qBACrBwK,MAAM8H,aAAG,QAAC9H,KAAO+H,UAAU/H,IAG3BgI,YAAYF,aAAG,QAAC34B,MAChB84B,aAAaH,aAAG,QAACI,OAQvB,SAAS3J,SAAS4J,GAWjB,MALI,4BAA4B36B,KAAK26B,KACpCA,EAAS,IAAInI,MAAImI,GAAQthB,YAInBmhB,YAAUG,EAClB,CAEA,MAAMC,6BAA6B,YAAa1H,wBAAOD,SAAStO,UAQhE,SAASkW,YAAU3P,GAClB,MAAwB,iBAAVA,GAAoD,iBAAvBA,EAAMmP,cAClD,CAEA,SAASS,gBAAcj3B,GACtB,MAAMyhB,EAAQzhB,GAA4B,iBAAXA,GAAuBjN,OAAO2iC,eAAe11B,GAC5E,SAAUyhB,GAAoC,gBAA3BA,EAAM55B,YAAYO,KACtC,CASA,MAAM8uC,UACLrvC,YAAYw/B,GACX,IAEI2G,EAFA0G,EAAO/oC,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,CAAA,EAK1EqrC,YAAU3P,GAYd2G,EAAYd,SAAS7F,EAAMY,MAP1B+F,EAJG3G,GAASA,EAAM6G,KAINhB,SAAS7F,EAAM6G,MAGfhB,SAAS,GAAG7F,KAEzBA,EAAQ,CAAA,GAKT,IAAIyN,EAASJ,EAAKI,QAAUzN,EAAMyN,QAAU,MAG5C,GAFAA,EAASA,EAAOtgC,eAEE,MAAbkgC,EAAKpD,MAAgB0F,YAAU3P,IAAyB,OAAfA,EAAMiK,QAA8B,QAAXwD,GAA+B,SAAXA,GAC1F,MAAM,IAAIvR,UAAU,iDAGrB,IAAI4T,EAAyB,MAAbzC,EAAKpD,KAAeoD,EAAKpD,KAAO0F,YAAU3P,IAAyB,OAAfA,EAAMiK,KAAgB0B,QAAM3L,GAAS,KAEzGgK,OAAKP,KAAK3oC,KAAMgvC,EAAW,CAC1BxF,QAAS+C,EAAK/C,SAAWtK,EAAMsK,SAAW,EAC1ChC,KAAM+E,EAAK/E,MAAQtI,EAAMsI,MAAQ,IAGlC,MAAM+C,EAAU,IAAI+B,UAAQC,EAAKhC,SAAWrL,EAAMqL,SAAW,CAAA,GAE7D,GAAiB,MAAbyE,IAAsBzE,EAAQ1+B,IAAI,gBAAiB,CACtD,MAAMoiC,EAAc7C,qBAAmB4D,GACnCf,GACH1D,EAAQG,OAAO,eAAgBuD,EAEhC,CAED,IAAIp2B,EAASg3B,YAAU3P,GAASA,EAAMrnB,OAAS,KAG/C,GAFI,WAAY00B,IAAM10B,EAAS00B,EAAK10B,QAEtB,MAAVA,IAAmBi3B,gBAAcj3B,GACpC,MAAM,IAAIujB,UAAU,mDAGrBp7B,KAAKquC,eAAe,CACnB1B,SACAsC,SAAU1C,EAAK0C,UAAY/P,EAAM+P,UAAY,SAC7C1E,UACA1E,YACAhuB,UAID7X,KAAKkvC,YAAyB/uC,IAAhBosC,EAAK2C,OAAuB3C,EAAK2C,YAA0B/uC,IAAjB++B,EAAMgQ,OAAuBhQ,EAAMgQ,OAAS,GACpGlvC,KAAKihC,cAA6B9gC,IAAlBosC,EAAKtL,SAAyBsL,EAAKtL,cAA8B9gC,IAAnB++B,EAAM+B,UAAyB/B,EAAM+B,SACnGjhC,KAAKkiC,QAAUqK,EAAKrK,SAAWhD,EAAMgD,SAAW,EAChDliC,KAAKmvC,MAAQ5C,EAAK4C,OAASjQ,EAAMiQ,KACjC,CAEGxC,aACH,OAAO3sC,KAAKquC,eAAa1B,MACzB,CAEG7M,UACH,OAAO2O,aAAWzuC,KAAKquC,eAAaxI,UACpC,CAEG0E,cACH,OAAOvqC,KAAKquC,eAAa9D,OACzB,CAEG0E,eACH,OAAOjvC,KAAKquC,eAAaY,QACzB,CAEGp3B,aACH,OAAO7X,KAAKquC,eAAax2B,MACzB,CAODgzB,QACC,OAAO,IAAIkE,UAAQ/uC,KACnB,EA2BF,SAASovC,wBAAsBC,GAC9B,MAAMxJ,EAAYwJ,EAAQhB,eAAaxI,UACjC0E,EAAU,IAAI+B,UAAQ+C,EAAQhB,eAAa9D,SAQjD,GALKA,EAAQ1+B,IAAI,WAChB0+B,EAAQ5+B,IAAI,SAAU,QAIlBk6B,EAAUI,WAAaJ,EAAUK,SACrC,MAAM,IAAI9K,UAAU,oCAGrB,IAAK,YAAYxxB,KAAKi8B,EAAUI,UAC/B,MAAM,IAAI7K,UAAU,wCAGrB,GAAIiU,EAAQx3B,QAAUw3B,EAAQlG,gBAAgBjC,wBAAOD,WAAa2H,6BACjE,MAAM,IAAInvC,MAAM,mFAIjB,IAAI6vC,EAAqB,KAIzB,GAHoB,MAAhBD,EAAQlG,MAAgB,gBAAgBv/B,KAAKylC,EAAQ1C,UACxD2C,EAAqB,KAEF,MAAhBD,EAAQlG,KAAc,CACzB,MAAMoG,EAAalE,gBAAcgE,GACP,iBAAfE,IACVD,EAAqBjZ,OAAOkZ,GAE7B,CACGD,GACH/E,EAAQ5+B,IAAI,iBAAkB2jC,GAI1B/E,EAAQ1+B,IAAI,eAChB0+B,EAAQ5+B,IAAI,aAAc,0DAIvB0jC,EAAQpO,WAAasJ,EAAQ1+B,IAAI,oBACpC0+B,EAAQ5+B,IAAI,kBAAmB,gBAGhC,IAAIwjC,EAAQE,EAAQF,MAYpB,MAXqB,mBAAVA,IACVA,EAAQA,EAAMtJ,IAGV0E,EAAQ1+B,IAAI,eAAkBsjC,GAClC5E,EAAQ5+B,IAAI,aAAc,SAMpBf,OAAOC,OAAO,CAAE,EAAEg7B,EAAW,CACnC8G,OAAQ0C,EAAQ1C,OAChBpC,QAASmD,8BAA4BnD,GACrC4E,SAEF,CAcA,SAASK,aAAW3vC,GAClBJ,MAAMkpC,KAAK3oC,KAAMH,GAEjBG,KAAK8nC,KAAO,UACZ9nC,KAAKH,QAAUA,EAGfJ,MAAMM,kBAAkBC,KAAMA,KAAKN,YACrC,CA9GAwpC,OAAK6C,MAAMgD,UAAQpW,WAEnB/tB,OAAOmf,eAAeglB,UAAQpW,UAAWqD,OAAO6M,YAAa,CAC5D1nC,MAAO,UACP2nC,UAAU,EACV7Y,YAAY,EACZC,cAAc,IAGftlB,OAAO2uB,iBAAiBwV,UAAQpW,UAAW,CAC1CgU,OAAQ,CAAE1c,YAAY,GACtB6P,IAAK,CAAE7P,YAAY,GACnBsa,QAAS,CAAEta,YAAY,GACvBgf,SAAU,CAAEhf,YAAY,GACxB4a,MAAO,CAAE5a,YAAY,GACrBpY,OAAQ,CAAEoY,YAAY,KAiGvBuf,aAAW7W,UAAY/tB,OAAOqtB,OAAOx4B,MAAMk5B,WAC3C6W,aAAW7W,UAAUj5B,YAAc8vC,aACnCA,aAAW7W,UAAU14B,KAAO,aAE5B,MAAMwvC,QAAQnB,aAAG,QAAC9H,KAAO+H,UAAU/H,IAG7BkJ,gBAAgBxI,gBAAM,QAAC+B,YAEvB0G,oBAAsB,SAA6BC,EAAaC,GACrE,MAAMC,EAAO,IAAIL,QAAMI,GAAU3J,SAC3B/qB,EAAO,IAAIs0B,QAAMG,GAAa1J,SAEpC,OAAO4J,IAAS30B,GAAgD,MAAxC20B,EAAKA,EAAK7uC,OAASka,EAAKla,OAAS,IAAc6uC,EAAKC,SAAS50B,EACtF,EASM60B,eAAiB,SAAwBJ,EAAaC,GAI3D,OAHa,IAAIJ,QAAMI,GAAU5J,WACpB,IAAIwJ,QAAMG,GAAa3J,QAGrC,EASA,SAASgK,QAAMnQ,EAAK7uB,GAGnB,IAAKg/B,QAAMlI,QACV,MAAM,IAAItoC,MAAM,0EAMjB,OAHAypC,OAAKnB,QAAUkI,QAAMlI,QAGd,IAAIkI,QAAMlI,SAAQ,SAAUzxB,EAASwzB,GAE3C,MAAMuF,EAAU,IAAIN,UAAQjP,EAAK7uB,GAC3B5M,EAAU+qC,wBAAsBC,GAEhCa,GAA6B,WAArB7rC,EAAQ4hC,SAAwBtH,eAAK,QAAGD,cAAI,SAAE2Q,QACtDx3B,EAASw3B,EAAQx3B,OAEvB,IAAIs4B,EAAW,KAEf,MAAMjG,EAAQ,WACb,IAAI7pC,EAAQ,IAAImvC,aAAW,+BAC3B1F,EAAOzpC,GACHgvC,EAAQlG,MAAQkG,EAAQlG,gBAAgBjC,gBAAAA,QAAOD,UAClDmJ,cAAcf,EAAQlG,KAAM9oC,GAExB8vC,GAAaA,EAAShH,MAC3BgH,EAAShH,KAAK3uB,KAAK,QAASna,EAC/B,EAEE,GAAIwX,GAAUA,EAAOw4B,QAEpB,YADAnG,IAID,MAAMoG,EAAmB,WACxBpG,IACAqG,GACH,EAGQC,EAAMN,EAAK7rC,GACjB,IAAIosC,EAMJ,SAASF,IACRC,EAAItG,QACAryB,GAAQA,EAAO64B,oBAAoB,QAASJ,GAChDjG,aAAaoG,EACb,CARG54B,GACHA,EAAO84B,iBAAiB,QAASL,GAS9BjB,EAAQ7F,SACXgH,EAAII,KAAK,UAAU,SAAUC,GAC5BJ,EAAarG,YAAW,WACvBN,EAAO,IAAIrB,aAAW,uBAAuB4G,EAAQvP,MAAO,oBAC5DyQ,GACL,GAAOlB,EAAQ7F,QACf,IAGEgH,EAAI78B,GAAG,SAAS,SAAUjB,GACzBo3B,EAAO,IAAIrB,aAAW,cAAc4G,EAAQvP,uBAAuBptB,EAAI7S,UAAW,SAAU6S,IAExFy9B,GAAYA,EAAShH,MACxBiH,cAAcD,EAAShH,KAAMz2B,GAG9B69B,GACH,IAEEO,oCAAoCN,GAAK,SAAU99B,GAC9CmF,GAAUA,EAAOw4B,SAIjBF,GAAYA,EAAShH,MACxBiH,cAAcD,EAAShH,KAAMz2B,EAEjC,IAGMiM,SAAS5Q,QAAQsP,QAAQiQ,UAAU,IAAM,IAG5CkjB,EAAI78B,GAAG,UAAU,SAAUsJ,GAC1BA,EAAE8zB,YAAY,SAAS,SAAUC,GAEhC,MAAMC,EAAkBh0B,EAAExC,cAAc,QAAU,EAGlD,GAAI01B,GAAYc,IAAoBD,KAAcn5B,IAAUA,EAAOw4B,SAAU,CAC5E,MAAM39B,EAAM,IAAIjT,MAAM,mBACtBiT,EAAI9S,KAAO,6BACXuwC,EAAShH,KAAK3uB,KAAK,QAAS9H,EAC5B,CACN,GACA,IAGE89B,EAAI78B,GAAG,YAAY,SAAUmwB,GAC5BuG,aAAaoG,GAEb,MAAMlG,EAAUsD,uBAAqB/J,EAAIyG,SAGzC,GAAI0F,QAAMiB,WAAWpN,EAAIqN,YAAa,CAErC,MAAMC,EAAW7G,EAAQt+B,IAAI,YAG7B,IAAIolC,EAAc,KAClB,IACCA,EAA2B,OAAbD,EAAoB,KAAO,IAAI3B,QAAM2B,EAAU/B,EAAQvP,KAAKzS,UAC1E,CAAC,MAAO3a,GAIR,GAAyB,WAArB28B,EAAQJ,SAGX,OAFAnF,EAAO,IAAIrB,aAAW,wDAAwD2I,IAAY,0BAC1Fb,GAGD,CAGD,OAAQlB,EAAQJ,UACf,IAAK,QAGJ,OAFAnF,EAAO,IAAIrB,aAAW,0EAA0E4G,EAAQvP,MAAO,qBAC/GyQ,IAED,IAAK,SAEJ,GAAoB,OAAhBc,EAEH,IACC9G,EAAQ5+B,IAAI,WAAY0lC,EACxB,CAAC,MAAO3+B,GAERo3B,EAAOp3B,EACP,CAEF,MACD,IAAK,SAEJ,GAAoB,OAAhB2+B,EACH,MAID,GAAIhC,EAAQnN,SAAWmN,EAAQH,OAG9B,OAFApF,EAAO,IAAIrB,aAAW,gCAAgC4G,EAAQvP,MAAO,sBACrEyQ,IAMD,MAAMe,EAAc,CACnB/G,QAAS,IAAI+B,UAAQ+C,EAAQ9E,SAC7B2E,OAAQG,EAAQH,OAChBhN,QAASmN,EAAQnN,QAAU,EAC3BiN,MAAOE,EAAQF,MACflO,SAAUoO,EAAQpO,SAClB0L,OAAQ0C,EAAQ1C,OAChBxD,KAAMkG,EAAQlG,KACdtxB,OAAQw3B,EAAQx3B,OAChB2xB,QAAS6F,EAAQ7F,QACjBhC,KAAM6H,EAAQ7H,MAGf,IAAKmI,oBAAoBN,EAAQvP,IAAKuR,KAAiBrB,eAAeX,EAAQvP,IAAKuR,GAClF,IAAK,MAAMpxC,IAAQ,CAAC,gBAAiB,mBAAoB,SAAU,WAClEqxC,EAAY/G,QAAQI,OAAO1qC,GAK7B,OAAuB,MAAnB6jC,EAAIqN,YAAsB9B,EAAQlG,MAAmC,OAA3BkC,gBAAcgE,IAC3DvF,EAAO,IAAIrB,aAAW,2DAA4D,8BAClF8H,MAKsB,MAAnBzM,EAAIqN,aAA0C,MAAnBrN,EAAIqN,YAAyC,MAAnBrN,EAAIqN,YAA0C,SAAnB9B,EAAQ1C,UAC3F2E,EAAY3E,OAAS,MACrB2E,EAAYnI,UAAOhpC,EACnBmxC,EAAY/G,QAAQI,OAAO,mBAI5Br0B,EAAQ25B,QAAM,IAAIlB,UAAQsC,EAAaC,UACvCf,KAGF,CAGDzM,EAAI8M,KAAK,OAAO,WACX/4B,GAAQA,EAAO64B,oBAAoB,QAASJ,EACpD,IACG,IAAInH,EAAOrF,EAAIqH,KAAK,IAAIuE,iBAExB,MAAM6B,EAAmB,CACxBzR,IAAKuP,EAAQvP,IACbtC,OAAQsG,EAAIqN,WACZjD,WAAYpK,EAAI0N,cAChBjH,QAASA,EACT/C,KAAM6H,EAAQ7H,KACdgC,QAAS6F,EAAQ7F,QACjBtH,QAASmN,EAAQnN,SAIZuP,EAAUlH,EAAQt+B,IAAI,oBAU5B,IAAKojC,EAAQpO,UAA+B,SAAnBoO,EAAQ1C,QAAiC,OAAZ8E,GAAuC,MAAnB3N,EAAIqN,YAAyC,MAAnBrN,EAAIqN,WAGvG,OAFAhB,EAAW,IAAInC,WAAS7E,EAAMoI,QAC9Bj7B,EAAQ65B,GAST,MAAMuB,EAAc,CACnBC,MAAOC,cAAI,QAACC,aACZC,YAAaF,cAAI,QAACC,cAInB,GAAe,QAAXJ,GAAgC,UAAXA,EAIxB,OAHAtI,EAAOA,EAAKgC,KAAKyG,cAAI,QAACG,aAAaL,IACnCvB,EAAW,IAAInC,WAAS7E,EAAMoI,QAC9Bj7B,EAAQ65B,GAKT,GAAe,WAAXsB,GAAmC,aAAXA,EAAwB,CAGnD,MAAMpiB,EAAMyU,EAAIqH,KAAK,IAAIuE,iBAkBzB,OAjBArgB,EAAIuhB,KAAK,QAAQ,SAAU9Z,GAGzBqS,EADyB,IAAV,GAAXrS,EAAM,IACHqS,EAAKgC,KAAKyG,cAAAA,QAAKI,iBAEf7I,EAAKgC,KAAKyG,cAAAA,QAAKK,oBAEvB9B,EAAW,IAAInC,WAAS7E,EAAMoI,GAC9Bj7B,EAAQ65B,EACb,SACI9gB,EAAI1b,GAAG,OAAO,WAERw8B,IACJA,EAAW,IAAInC,WAAS7E,EAAMoI,GAC9Bj7B,EAAQ65B,GAEd,GAEI,CAGD,GAAe,MAAXsB,GAA0D,mBAAhCG,cAAAA,QAAKM,uBAIlC,OAHA/I,EAAOA,EAAKgC,KAAKyG,cAAAA,QAAKM,0BACtB/B,EAAW,IAAInC,WAAS7E,EAAMoI,QAC9Bj7B,EAAQ65B,GAKTA,EAAW,IAAInC,WAAS7E,EAAMoI,GAC9Bj7B,EAAQ65B,EACX,IAEE1E,gBAAc+E,EAAKnB,EACrB,GACA,CACA,SAASyB,oCAAoCzB,EAAS8C,GACrD,IAAItB,EAEJxB,EAAQ17B,GAAG,UAAU,SAAUsJ,GAC9B4zB,EAAS5zB,CACX,IAECoyB,EAAQ17B,GAAG,YAAY,SAAUw8B,GAChC,MAAM5F,EAAU4F,EAAS5F,QAEY,YAAjCA,EAAQ,sBAAuCA,EAAQ,mBAC1D4F,EAASS,KAAK,SAAS,SAAUI,GAOhC,GAFwBH,GAAUA,EAAOp2B,cAAc,QAAU,IAEzCu2B,EAAU,CACjC,MAAMt+B,EAAM,IAAIjT,MAAM,mBACtBiT,EAAI9S,KAAO,6BACXuyC,EAAcz/B,EACd,CACL,GAEA,GACA,CAEA,SAAS09B,cAAcrb,EAAQriB,GAC1BqiB,EAAOqd,QACVrd,EAAOqd,QAAQ1/B,IAGfqiB,EAAOva,KAAK,QAAS9H,GACrBqiB,EAAO+H,MAET,CAQAmT,QAAMiB,WAAa,SAAUtxC,GAC5B,OAAgB,MAATA,GAAyB,MAATA,GAAyB,MAATA,GAAyB,MAATA,GAAyB,MAATA,CACxE,EAGAqwC,QAAMlI,QAAUiE,OAAOjE,QC/tDhB,MAAMsK,mBAAqB,KACzB,CACLC,KAAM,KAiCGC,oBAAsB,KAC1B,CACL/xC,YAAa,GACbgyC,OAAQH,uBAYCI,sBAAwB,KAC5B,CACL,IAAKF,sBACL,IAAK,CAAE,EACP,IAAK,CAAE,EACP,IAAK,CAAE,EACP,IAAK,CAAE,ICpDEG,mBAAqB,KACzB,CACLC,gBAAiB,GACjBC,WAAY,GACZC,eAAgBJ,wBAChBK,UAAW,GACXC,UAAW,CAAE,IAUJC,iBAAmB,KACvB,CACLC,UAAW,GACXC,SAAU,GACVC,QAAS,CAAE,UChCFC,kBACXC,YACAC,WACOC,aAEP7zC,YAAY8zC,EAAgBF,GAC1BtzC,KAAKqzC,YAAcG,EACnBxzC,KAAKszC,WAAaA,EAElBtzC,KAAKuzC,aAAevzC,KAAKyzC,aAC1B,CAGDA,cACE,IAAKzzC,KAAKqzC,cAAgBrzC,KAAKqzC,YAAYK,MACzC,OAAO,KAGT,IAAIC,EAAoC,CAAA,EAyBxC,MAvBiC,SAA7B3zC,KAAKszC,WAAWM,UAElBhpC,OAAOqR,KAAKjc,KAAKqzC,YAAYK,OAAOnuC,SAASqG,IAC3C,GACE5L,KAAKszC,WAAWO,UAChB7zC,KAAKszC,WAAWO,SAAS5yC,OAAS,GAClCjB,KAAKszC,WAAWO,SAAS,GACzB,CAEa7zC,KAAK8zC,cAAcloC,IAE9B5L,KAAK+zC,aAAaJ,EAAS/nC,EAE9B,KAAM,CACW5L,KAAKg0C,aAAapoC,IAGhC5L,KAAK+zC,aAAaJ,EAAS/nC,EAE9B,KAIE+nC,CACR,CAGDI,aAAaJ,EAAmC/nC,GAC9C,MAAMqnC,EAAYjzC,KAAKi0C,WAAWroC,GAC9BqnC,IACGU,EAAQV,KACXU,EAAQV,GAAaD,oBAEvBW,EAAQV,GAAWA,UAAYA,EAC/BU,EAAQV,GAAWC,SAASzvC,KAAKmI,GAE5B+nC,EAAQV,GAAWE,QAAQvnC,KAC9B+nC,EAAQV,GAAWE,QAAQvnC,GAAO8mC,sBAEpCiB,EAAQV,GAAWE,QAAQvnC,GAAKmnC,UAAY/yC,KAAKqzC,YAAYK,MAAM9nC,GAEnE+nC,EAAQV,GAAWE,QAAQvnC,GAAKgnC,WAAa5yC,KAAKk0C,cAChDl0C,KAAKqzC,YAAYK,MAAM9nC,IAGzB+nC,EAAQV,GAAWE,QAAQvnC,GAAK+mC,qBAAkBxyC,EAEhDH,KAAKqzC,YAAYK,MAAM9nC,GAAKuoC,MAC5Bn0C,KAAKqzC,YAAYK,MAAM9nC,GAAKuoC,MAAMvB,WAElCe,EAAQV,GAAWE,QAAQvnC,GAAK+mC,gBAC9B3yC,KAAKqzC,YAAYK,MAAM9nC,GAAKuoC,MAAMvB,WAEpC5yC,KAAKqzC,YAAYK,MAAM9nC,GAAKK,KAC5BjM,KAAKqzC,YAAYK,MAAM9nC,GAAKK,KAAK2mC,aAEjCe,EAAQV,GAAWE,QAAQvnC,GAAK+mC,gBAC9B3yC,KAAKqzC,YAAYK,MAAM9nC,GAAKK,KAAK2mC,YAGrCe,EAAQV,GAAWE,QAAQvnC,GAAKknC,eAAY3yC,EAE1CH,KAAKqzC,YAAYK,MAAM9nC,GAAKuoC,MAC5Bn0C,KAAKqzC,YAAYK,MAAM9nC,GAAKuoC,MAAMrB,UAAU,MAC5C9yC,KAAKqzC,YAAYK,MAAM9nC,GAAKuoC,MAAMrB,UAAU,KAAKN,OAEjDmB,EAAQV,GAAWE,QAAQvnC,GAAKknC,UAC9B9yC,KAAKqzC,YAAYK,MAAM9nC,GAAKuoC,MAAMrB,UAAU,KAAKN,OAAOF,KAE1DtyC,KAAKqzC,YAAYK,MAAM9nC,GAAKK,KAC5BjM,KAAKqzC,YAAYK,MAAM9nC,GAAKK,KAAK6mC,UAAU,MAC3C9yC,KAAKqzC,YAAYK,MAAM9nC,GAAKK,KAAK6mC,UAAU,KAAKN,SAEhDmB,EAAQV,GAAWE,QAAQvnC,GAAKknC,UAC9B9yC,KAAKqzC,YAAYK,MAAM9nC,GAAKK,KAAK6mC,UAAU,KAAKN,OAAOF,MAG3DqB,EAAQV,GAAWE,QAAQvnC,GAAKinC,oBAAiB1yC,EAE/CH,KAAKqzC,YAAYK,MAAM9nC,GAAKuoC,MAC5Bn0C,KAAKqzC,YAAYK,MAAM9nC,GAAKuoC,MAAMrB,UAElCa,EAAQV,GAAWE,QAAQvnC,GAAKinC,eAC9B7yC,KAAKqzC,YAAYK,MAAM9nC,GAAKuoC,MAAMrB,UAEpC9yC,KAAKqzC,YAAYK,MAAM9nC,GAAKK,KAC5BjM,KAAKqzC,YAAYK,MAAM9nC,GAAKK,KAAK6mC,YAEjCa,EAAQV,GAAWE,QAAQvnC,GAAKinC,eAC9B7yC,KAAKqzC,YAAYK,MAAM9nC,GAAKK,KAAK6mC,WAGxC,CAGDoB,cAAcE,GACZ,IAAIC,EAA2B,GAgB/B,OAfID,EAASD,MAAQC,EAASD,KAAKvB,WACjCwB,EAASD,KAAKvB,WAAWrtC,SAAS+uC,IAC5BA,EAAK9B,QAAU8B,EAAK9B,OAAOF,MAC7B+B,EAAU5wC,KAAK6wC,EAAK9B,OAAOF,KAC5B,IAGC8B,EAASnoC,KAAOmoC,EAASnoC,IAAI2mC,YAC/BwB,EAASnoC,IAAI2mC,WAAWrtC,SAAS+uC,IAC3BA,EAAK9B,QAAU8B,EAAK9B,OAAOF,MAC7B+B,EAAU5wC,KAAK6wC,EAAK9B,OAAOF,KAC5B,IAIA+B,CACR,CAGDP,cAAcnmC,GACZ,IAAI+L,GAAS,EACb,OAAK/L,GAAS3N,KAAKszC,WAAWO,UAI9B7zC,KAAKszC,WAAWO,SAAStuC,SAASypB,IAC5BA,GAASrhB,EAAKxD,WAAW6kB,KAC3BtV,GAAS,EACV,IAGIA,GATEA,CAUV,CAGDs6B,aAAarmC,GACX,IAAI+L,GAAS,EACb,OAAK/L,GAAS3N,KAAKszC,WAAWiB,cAI9Bv0C,KAAKszC,WAAWiB,aAAahvC,SAASypB,IAChCA,GAASrhB,EAAKxD,WAAW6kB,KAC3BtV,GAAS,EACV,IAGIA,GATEA,CAUV,CAGDu6B,WAAWtmC,GACT,IAAIslC,EAAY,GAChB,OAAKtlC,GAAS3N,KAAKszC,WAAWkB,WAK9Bx0C,KAAKszC,WAAWkB,UAAUjvC,SAASypB,IACjC,GAAIrhB,EAAKxD,WAAW6kB,KAAWikB,EAAW,CAExC,MAAMU,EADShmC,EAAKzJ,QAAQ8qB,EAAO,IACV7iB,MAAM,KAAKtJ,QAAQyxC,GAAiB,IAARA,IACrDrB,EAAYU,EAAQ,EACrB,KAGIV,GAZEA,CAaV,CAEDwB,cACE,OAAOz0C,KAAKuzC,YACb,qCC1KH,IAAImB,EAAc,sBACdC,EAAiB/pC,OAAO+tB,UAAUgc,eAClCC,EAAS,SAAUlO,EAAK96B,GAAO,OAAO+oC,EAAe3hC,MAAM0zB,EAAK,CAAC96B,GAAM,EAY3EiT,EAA4Bg2B,kBAAA,SAAUznB,GAEpC,OAAKA,EAGEiJ,OAAOjJ,GAAQlpB,QAAQwwC,EAAa,QAFlC,EAGX,EAEA,IAAII,EAAqB,CACvB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,SAEHC,EAAc,WAElB,SAASC,EAAYtqB,GACnB,OAAOoqB,EAAmBpqB,IAAMA,CACjC,CA2CD,SAASuqB,IACP,OAAOC,SAASvc,UAAUtL,SAASsb,KAAK3oC,MAAjCk1C,kPACR,CATDr2B,EAAoBs2B,UAAA,SAAUC,GAC5B,OAAiBj1C,MAAVi1C,EACH,GACA/e,OAAO+e,GACNlxC,QAAQ6wC,EAAaC,EAC5B,EAMA,IACuC,mBAA1BpqC,OAAOmf,eAKhBnf,OAAOmf,eAAelL,EAAQs2B,UAAW,WAAY,CAAEh0C,MAAO8zC,IAG9Dp2B,EAAQs2B,UAAU9nB,SAAW4nB,CAEhC,CAAC,MAAOviC,GACPyM,QAAQk2B,KAAK,uEACd,CAaDx2B,EAAAy2B,YAAsB,SAAU3mB,EAAI1hB,GAElC,GADAA,EAAOA,GAAQ,GACX,MAAC0hB,EACH,IAAK,IAAI/C,KAAK3e,EACP2nC,EAAO3nC,EAAM2e,IAGR,cAANA,GAA2B,gBAANA,IAGzB+C,EAAG/C,GAAK3e,EAAK2e,IAGjB,OAAO+C,CACT,EAcA9P,EAAA02B,oBAA8B,SAAU5mB,EAAI1hB,EAAMuoC,GAGhD,GAFAA,EAAOA,GAAQ,GACfvoC,EAAOA,GAAQ,GACX,MAAC0hB,EACH,IAAK,IAAInlB,EAAI,EAAGA,EAAIgsC,EAAKv0C,OAAQuI,IAAK,CACpC,IAAIoiB,EAAI4pB,EAAKhsC,GACb,QAAsB,IAAXyD,EAAK2e,GAAmB,CACjC,IAAKgpB,EAAO3nC,EAAM2e,GAChB,SAEF,GAAU,cAANA,GAA2B,gBAANA,EACvB,SAEF+C,EAAG/C,GAAK3e,EAAK2e,EACd,CACF,CAEH,OAAO+C,CACT,EAUA9P,EAAgB42B,MAAA,CACdC,MAAO,CAAE,EACT/pC,IAAK,SAAUC,EAAK0H,GAClBtT,KAAK01C,MAAM9pC,GAAO0H,CACnB,EACDrH,IAAK,SAAUL,GACb,OAAO5L,KAAK01C,MAAM9pC,EACnB,EACD+pC,OAAQ,SAAU/pC,UACT5L,KAAK01C,MAAM9pC,EACnB,EACDilB,MAAO,WACL7wB,KAAK01C,MAAQ,EACd,GAWH72B,EAAwB+2B,cAAA,SAAUjtC,GAChC,OAAOA,EAAIzE,QAAQ,WAAW,SAAUf,GAAS,OAAOA,EAAM,GAAGkJ,aAAgB,GACnF,EASAwS,EAAAg3B,gCAC8B,mBAAjBjrC,OAAOqtB,OACT,WACL,OAAOrtB,OAAOqtB,OAAO,KAC3B,EAEQ,CAAC0V,UAAW,gBAAiB/iC,OAM5B,WACL,MAAO,EACX,EAPW,WACL,MAAO,CAAC+iC,UAAW,KACzB;;;;;;;;ACzLA,IAAI9/B,EAAKvN,YAAAA,QACLqN,EAAOD,cAAAA,QACP44B,EAAQ14B,QAERkoC,GAAoB,EAEpBC,EAAkBjoC,WAA2BuP,QAI7C24B,EAAuB,SAGvBC,EAA2B,CAAC,YAAa,QAAS,UAAW,QAAS,eACxE,SAAU,QAAS,eAAgB,SAAU,WAAY,SAIvDC,EAAmCD,EAAyB10C,OAAO,SACnE40C,EAAO,UACPC,EAAiB,6BAuErB,SAASC,EAAap2C,EAAMyzC,GAC1B,IAAI4C,EACJ,GAAI5C,EAAMnf,MAAK,SAAUjb,GAEvB,OADAg9B,EAAWz3B,EAAQ03B,eAAet2C,EAAMqZ,GAAG,GACpCzL,EAAG0I,WAAW+/B,EACzB,IACI,OAAOA,CAEV,CA+DD,SAASE,EAAYnyC,EAASk0B,GAC5B,IAAIke,EACA/4B,EAAWrZ,EAAQqZ,SACnBg5B,EAAclzC,UAAUvC,OAAS,EAErC,GAAIoD,EAAQoxC,MAAO,CACjB,IAAK/3B,EACH,MAAM,IAAIje,MAAM,oCAGlB,GADAg3C,EAAO53B,EAAQ42B,MAAMxpC,IAAIyR,GAEvB,OAAO+4B,EAEJC,IACHne,EAAWoe,EAAWj5B,GAAU2P,WAAWnpB,QAAQiyC,EAAM,IAE5D,MACI,IAAKO,EAAa,CAErB,IAAKh5B,EACH,MAAM,IAAIje,MAAM,yDAGlB84B,EAAWoe,EAAWj5B,GAAU2P,WAAWnpB,QAAQiyC,EAAM,GAC1D,CAKD,OAJAM,EAAO53B,EAAQ+3B,QAAQre,EAAUl0B,GAC7BA,EAAQoxC,OACV52B,EAAQ42B,MAAM9pC,IAAI+R,EAAU+4B,GAEvBA,CACR,CAoDD,SAASE,EAAWL,GAClB,OAAOz3B,EAAQ83B,WAAWL,EAC3B,CAeD,SAASO,EAAYlpC,EAAMtJ,GACzB,IAAI4M,EAAOq1B,EAAMgP,YAAYhP,EAAMuP,kCAAmCxxC,GAEtE,GADA4M,EAAKyM,SA3JP,SAAwB/P,EAAMtJ,GAC5B,IAAIyyC,EACAR,EACAS,EAAQ1yC,EAAQ0yC,MAChB5zC,EAAQ,oBAAoB6Q,KAAKrG,GAGrC,GAAIxK,GAASA,EAAMlC,OACjB0M,EAAOA,EAAKzJ,QAAQ,OAAQ,IAE1B4yC,EADEz1C,MAAMC,QAAQ+C,EAAQ2yC,MACVX,EAAa1oC,EAAMtJ,EAAQ2yC,MAE3Bn4B,EAAQ03B,eAAe5oC,EAAMtJ,EAAQ2yC,MAAQ,KAAK,QAgBlE,GAVI3yC,EAAQqZ,WACV44B,EAAWz3B,EAAQ03B,eAAe5oC,EAAMtJ,EAAQqZ,UAC5C7P,EAAG0I,WAAW+/B,KAChBQ,EAAcR,KAIbQ,GAAez1C,MAAMC,QAAQy1C,KAChCD,EAAcT,EAAa1oC,EAAMopC,KAE9BD,GAA2C,mBAArBzyC,EAAQ4yC,SACjC,MAAM,IAAIx3C,MAAM,oCACZ4E,EAAQ6yC,eAAevpC,GAAQ,KAGvC,OAAOmpC,CACR,CAyHiBK,CAAexpC,EAAMsD,GACL,mBAArB5M,EAAQ4yC,SAAyB,CAC1C,IAAIG,EAAiB/yC,EAAQ4yC,SAAStpC,EAAMsD,EAAKyM,UACjD,GAAI05B,IACEA,EAAe15B,WACjBzM,EAAKyM,SAAW05B,EAAe15B,UAE7B05B,EAAe7e,UACjB,OAAOie,EAAYvlC,EAAMmmC,EAAe7e,SAG7C,CACD,OAAOie,EAAYvlC,EACpB,CAgBD,SAASomC,EAAQ3kC,EAAK/J,EAAK2uC,EAAMC,EAAQC,GACvC,IAAIC,EAAQ9uC,EAAIwD,MAAM,MAClB0wB,EAAQx2B,KAAKF,IAAIoxC,EAAS,EAAG,GAC7Bza,EAAMz2B,KAAKyG,IAAI2qC,EAAMx2C,OAAQs2C,EAAS,GACtC75B,EAAW85B,EAAIF,GAEfx5B,EAAU25B,EAAMz2C,MAAM67B,EAAOC,GAAKn3B,KAAI,SAAU4D,EAAMC,GACxD,IAAIkuC,EAAOluC,EAAIqzB,EAAQ,EACvB,OAAQ6a,GAAQH,EAAS,OAAS,QAC9BG,EACA,KACAnuC,CACR,IAAKxH,KAAK,MASR,MANA2Q,EAAI/E,KAAO+P,EACXhL,EAAI7S,SAAW6d,GAAY,OAAS,IAChC65B,EAAS,KACTz5B,EAAU,OACVpL,EAAI7S,QAEF6S,CACP,CAED,SAASilC,EAAUhvC,GACjB,OAAOA,EAAIzE,QAAQ,UAAW,KAC/B,CA+ID,SAAS0zC,EAASv5B,EAAMpN,GACtBA,EAAOA,GAAQq1B,EAAMuP,kCACrB,IAAIxxC,EAAUiiC,EAAMuP,kCACpB71C,KAAK63C,aAAex5B,EAEpBre,KAAK83C,KAAO,KACZ93C,KAAK+3C,UAAW,EAChB/3C,KAAKg4C,YAAc,EACnBh4C,KAAK+U,OAAS,GACd1Q,EAAQ4zC,OAAShnC,EAAKgnC,SAAU,EAChC5zC,EAAQ6yC,eAAiBjmC,EAAKgmB,QAAUhmB,EAAKimC,gBAAkB5Q,EAAM6O,UACrE9wC,EAAQ6zC,cAAqC,IAAtBjnC,EAAKinC,aAC5B7zC,EAAQ8zC,QAAUlnC,EAAKknC,MACvB9zC,EAAQqZ,SAAWzM,EAAKyM,SACxBrZ,EAAQ+zC,cAAgBnnC,EAAKmnC,eAAiBv5B,EAAQu5B,eApd1B,IAqd5B/zC,EAAQg0C,eAAiBpnC,EAAKonC,gBAAkBx5B,EAAQw5B,gBApd3B,IAqd7Bh0C,EAAQi0C,UAAYrnC,EAAKqnC,WAAaz5B,EAAQy5B,WApdvB,IAqdvBj0C,EAAQk0C,OAAStnC,EAAKsnC,SAAU,EAChCl0C,EAAQyZ,QAAU7M,EAAK6M,QACvBzZ,EAAQoxC,MAAQxkC,EAAKwkC,QAAS,EAC9BpxC,EAAQm0C,aAAevnC,EAAKunC,aAC5Bn0C,EAAQ2yC,KAAO/lC,EAAK+lC,KACpB3yC,EAAQ4yC,SAAWhmC,EAAKgmC,SACxB5yC,EAAQo0C,mBAAqBxnC,EAAKwnC,mBAClCp0C,EAAQq0C,WAAaznC,EAAKynC,YAAc75B,EAAQ65B,YAAc1C,EAC9D3xC,EAAQ0yC,MAAQ9lC,EAAK8lC,MACrB1yC,EAAQwR,MAAQ5E,EAAK4E,MACrBxR,EAAQs0C,mBAAqB1nC,EAAK0nC,mBAClCt0C,EAAQu0C,mBAA6C,IAAtB3nC,EAAK2nC,iBAAiC3nC,EAAK2nC,cAEtEv0C,EAAQk0C,OACVl0C,EAAQw0C,OAAQ,EAGhBx0C,EAAQw0C,WAA6B,IAAd5nC,EAAK4nC,OAAuB5nC,EAAK4nC,MAG1D74C,KAAKiR,KAAO5M,EAEZrE,KAAKsJ,MAAQtJ,KAAK84C,aACnB,CAvdDj6B,EAAgB42B,MAAAnP,EAAMmP,MAStB52B,EAAqB83B,WAAA9oC,EAAGkrC,aAYxBl6B,EAAA65B,WAAqB1C,EAUrBn3B,EAAsBm6B,YAAA,IAAK9D,SAAS,eAAd,GAAiCnN,QAWvDlpB,EAAA03B,eAAyB,SAASt2C,EAAMyd,EAAUu7B,GAChD,IAAIhiC,EAAUtJ,EAAKsJ,QACfT,EAAU7I,EAAK6I,QAEfsgC,GAAcxgC,EADJ3I,EAAK2I,SACO2iC,EAAQv7B,EAAWzG,EAAQyG,GAAWzd,GAKhE,OAJUuW,EAAQvW,KAEhB62C,GAAe,QAEVA,CACT,EA2PAj4B,EAAA+3B,QAAkB,SAAiBre,EAAUtnB,GAiB3C,OAXIA,GAAQA,EAAKioC,QACVpD,IACH32B,QAAQk2B,KAAK,6DACbS,GAAoB,GAEjB7kC,EAAK6M,UACR7M,EAAK6M,QAAU7M,EAAKioC,cAEfjoC,EAAKioC,OAEN,IAAItB,EAASrf,EAAUtnB,GAClB2lC,SACf,EAgBA/3B,EAAAs6B,OAAiB,SAAU5gB,EAAU5rB,EAAGysC,GACtC,IAAI5F,EAAO7mC,GAAK25B,EAAMuP,kCAClB5kC,EAAOmoC,GAAK9S,EAAMuP,kCAQtB,OAJwB,GAApBryC,UAAUvC,QACZqlC,EAAMiP,oBAAoBtkC,EAAMuiC,EAAMyC,GAGjCO,EAAYvlC,EAAMsnB,EAAlBie,CAA4BhD,EACrC,EAeA30B,EAAAw6B,WAAqB,WACnB,IAEIC,EAEA9F,EACA+F,EALA7zC,EAAOrE,MAAMs3B,UAAU33B,MAAM2nC,KAAKnlC,WAClCka,EAAWhY,EAAK6G,QAEhB0E,EAAO,CAACyM,SAAUA,GA8CtB,MAzC8C,mBAAnCla,UAAUA,UAAUvC,OAAS,KACtCq4C,EAAK5zC,EAAK4oB,OAGR5oB,EAAKzE,QAEPuyC,EAAO9tC,EAAK6G,QAER7G,EAAKzE,OAEPqlC,EAAMgP,YAAYrkC,EAAMvL,EAAK4oB,QAKzBklB,EAAKgG,WAEHhG,EAAKgG,SAASzC,QAChB9lC,EAAK8lC,MAAQvD,EAAKgG,SAASzC,OAEzBvD,EAAKgG,SAAS,gBAChBvoC,EAAKwkC,OAAQ,IAIf8D,EAAW/F,EAAKgG,SAAS,kBAEvBlT,EAAMgP,YAAYrkC,EAAMsoC,IAM5BjT,EAAMiP,oBAAoBtkC,EAAMuiC,EAAM0C,IAExCjlC,EAAKyM,SAAWA,GAGhB81B,EAAOlN,EAAMuP,kCA1OjB,SAAwBxxC,EAASmvC,EAAM8F,GACrC,IAAI5/B,EACJ,IAAK4/B,EAAI,CACP,GAAkC,mBAAvBz6B,EAAQm6B,YACjB,OAAO,IAAIn6B,EAAQm6B,aAAY,SAAU1iC,EAASwzB,GAChD,IAEExzB,EADAoD,EAAS88B,EAAYnyC,EAAZmyC,CAAqBhD,GAE/B,CACD,MAAO9gC,GACLo3B,EAAOp3B,EACR,CACT,IAGM,MAAM,IAAIjT,MAAM,qCAEnB,CAEC,IACEia,EAAS88B,EAAYnyC,EAAZmyC,CAAqBhD,EAC/B,CACD,MAAO9gC,GACL,OAAO4mC,EAAG5mC,EACX,CAED4mC,EAAG,KAAM5/B,EAEZ,CAiNQ+/B,CAAexoC,EAAMuiC,EAAM8F,EACpC,EAWAz6B,EAAA+4B,SAAmBA,EAEnB/4B,EAAA66B,WAAqB,WACnB76B,EAAQ42B,MAAM5kB,OAChB,EA4CA+mB,EAAS+B,MAAQ,CACfC,KAAM,OACNC,QAAS,UACTC,IAAK,MACLC,QAAS,UACTC,QAAS,WAGXpC,EAASjf,UAAY,CACnBmgB,YAAa,WACX,IAAInwC,EArfY,0CAsfZsxC,EAAQ3T,EAAMuO,kBAAkB70C,KAAKiR,KAAKqnC,WAC1CnlB,EAAOmT,EAAMuO,kBAAkB70C,KAAKiR,KAAKmnC,eACzChlB,EAAQkT,EAAMuO,kBAAkB70C,KAAKiR,KAAKonC,gBAI9C,OAHA1vC,EAAMA,EAAIzE,QAAQ,KAAM+1C,GACrB/1C,QAAQ,KAAMivB,GACdjvB,QAAQ,KAAMkvB,GACV,IAAIpqB,OAAOL,EACnB,EAEDiuC,QAAS,WAEP,IAAIsD,EAEAx4C,EAOAy4C,EANAlpC,EAAOjR,KAAKiR,KACZmpC,EAAY,GACZC,EAAW,GAEXC,EAAWrpC,EAAKimC,eAIhBqD,EAAoBtpC,EAAKyM,SAAWvW,KAAKC,UAAU6J,EAAKyM,UAAY,YAExE,IAAK1d,KAAK+U,OAAQ,CAKhB,GAJA/U,KAAKw6C,iBACLJ,GACE,sGAEEnpC,EAAKwnC,mBAAoB,CAC3B,IAAKrC,EAAexsC,KAAKqH,EAAKwnC,oBAC5B,MAAM,IAAIh5C,MAAM,oDAElB26C,GAAa,SAAWnpC,EAAKwnC,mBAAhB,gBACd,CACD,GAAIxnC,EAAKynC,aAAetC,EAAexsC,KAAKqH,EAAKynC,YAC/C,MAAM,IAAIj5C,MAAM,4CAElB,GAAIwR,EAAK0nC,oBAAsB1nC,EAAK0nC,mBAAmB13C,OAAQ,CAE7D,IADA,IAAIw5C,EAAgB,qBAAuBxpC,EAAKynC,WAAa,aACpDlvC,EAAI,EAAGA,EAAIyH,EAAK0nC,mBAAmB13C,OAAQuI,IAAK,CACvD,IAAIvJ,EAAOgR,EAAK0nC,mBAAmBnvC,GACnC,IAAK4sC,EAAexsC,KAAK3J,GACvB,MAAM,IAAIR,MAAM,sBAAwB+J,EAAI,mCAE1CA,EAAI,IACNixC,GAAiB,SAEnBA,GAAiBx6C,EAAO,eAAiBA,CAC1C,CACDm6C,GAAaK,EAAgB,KAC9B,EACkB,IAAfxpC,EAAK4nC,QACPuB,GAAc,WAAanpC,EAAKynC,WAAlB,cACd2B,GAAY,SAEdA,GAAY,uBACZr6C,KAAK+U,OAASqlC,EAAYp6C,KAAK+U,OAASslC,CACzC,CAGCH,EADEjpC,EAAKinC,aACD,iCACiB/wC,KAAKC,UAAUpH,KAAK63C,cADrC,sBAEoB0C,EAFpB,aAIFv6C,KAAK+U,OAJH,2EAUA/U,KAAK+U,OAGT9D,EAAKgnC,SACPiC,EAAM,0BAA4BI,EAASjtB,WAArC,MAA+D6sB,EACjEjpC,EAAKinC,eACPgC,EAAM,wBAA0B7C,EAAQhqB,WAAlC,MAA4D6sB,IAIlEjpC,EAAKsnC,SACP2B,EAAM,kBAAoBA,GAExBjpC,EAAKknC,OACPh5B,QAAQC,IAAI86B,GAEVjpC,EAAKinC,cAAgBjnC,EAAKyM,WAC5Bw8B,EAAMA,qBACiBK,EAAoB,MAG7C,IACE,GAAItpC,EAAK4E,MAGP,IACEskC,EAAO,IAAKjF,SAAS,2CAAd,EACR,CACD,MAAMlX,GACJ,MAAIA,aAAa0c,YACT,IAAIj7C,MAAM,iDAGVu+B,CAET,MAGDmc,EAAOjF,SAETxzC,EAAK,IAAIy4C,EAAKlpC,EAAKynC,WAAa,+BAAgCwB,EACjE,CACD,MAAMlc,GAcJ,MAZIA,aAAa0c,cACXzpC,EAAKyM,WACPsgB,EAAEn+B,SAAW,OAASoR,EAAKyM,UAE7BsgB,EAAEn+B,SAAW,2BACbm+B,EAAEn+B,SAAW,qEACbm+B,EAAEn+B,SAAW,sCACRoR,EAAK4E,QACRmoB,EAAEn+B,SAAW,KACbm+B,EAAEn+B,SAAW,mFAGXm+B,CACP,CAKD,IAAI2c,EAAa1pC,EAAKgnC,OAASv2C,EAAK,SAAmB8xC,GAQrD,OAAO9xC,EAAGsR,MAAM/B,EAAK6M,QACnB,CAAC01B,GAAQlN,EAAMuP,kCAAmCyE,EARtC,SAAU3sC,EAAMitC,GAC5B,IAAIjuC,EAAI25B,EAAMgP,YAAYhP,EAAMuP,kCAAmCrC,GAInE,OAHIoH,IACFjuC,EAAI25B,EAAMgP,YAAY3oC,EAAGiuC,IAEpB/D,EAAYlpC,EAAMsD,EAAlB4lC,CAAwBlqC,EACvC,EAE6E0qC,GAC7E,EACI,GAAIpmC,EAAKyM,UAA6C,mBAA1B9S,OAAOmf,eAA+B,CAChE,IAAIrM,EAAWzM,EAAKyM,SAChBtG,EAAWzJ,EAAKyJ,SAASsG,EAAU/P,EAAK6I,QAAQkH,IACpD,IACE9S,OAAOmf,eAAe4wB,EAAY,OAAQ,CACxCx5C,MAAOiW,EACP0xB,UAAU,EACV7Y,YAAY,EACZC,cAAc,GAExB,CAAQ,MAAO8N,GAAiB,CAC3B,CACD,OAAO2c,CACR,EAEDH,eAAgB,WACHx6C,KAAKiR,KAEPunC,eAGPx4C,KAAK63C,aACH73C,KAAK63C,aAAa3zC,QAAQ,WAAY,MAAMA,QAAQ,cAAe,KAIvElE,KAAK63C,aACH73C,KAAK63C,aAAa3zC,QAAQ,cAAe,OAAOA,QAAQ,cAAe,OAEzE,IAAIy1B,EAAO35B,KACP62B,EAAU72B,KAAK66C,oBACfluC,EAAI3M,KAAKiR,KAAKqnC,UACdc,EAAIp5C,KAAKiR,KAAKmnC,cACd1tB,EAAI1qB,KAAKiR,KAAKonC,eAEdxhB,GAAWA,EAAQ51B,QACrB41B,EAAQtxB,SAAQ,SAAUgE,EAAM6P,GAC9B,IAAI0hC,EAKJ,GAA6B,IAAxBvxC,EAAKgS,QAAQ69B,EAAIzsC,IACW,IAA5BpD,EAAKgS,QAAQ69B,EAAIzsC,EAAIA,KACxBmuC,EAAUjkB,EAAQzd,EAAQ,KACTzM,EAAI+d,GAAKowB,GAAW,IAAMnuC,EAAI+d,GAAKowB,GAAW,IAAMnuC,EAAI+d,EACvE,MAAM,IAAIjrB,MAAM,0CAA4C8J,EAAO,MAGvEowB,EAAKohB,SAASxxC,EACtB,GAGG,EAEDsxC,kBAAmB,WAOjB,IANA,IAIIG,EAJAryC,EAAM3I,KAAK63C,aACXoD,EAAMj7C,KAAKsJ,MACXoQ,EAASuhC,EAAIjnC,KAAKrL,GAClB65B,EAAM,GAGH9oB,GAGY,KAFjBshC,EAAWthC,EAAON,SAGhBopB,EAAI/+B,KAAKkF,EAAI2kB,UAAU,EAAG0tB,IAC1BryC,EAAMA,EAAI3H,MAAMg6C,IAGlBxY,EAAI/+B,KAAKiW,EAAO,IAChB/Q,EAAMA,EAAI3H,MAAM0Y,EAAO,GAAGzY,QAC1ByY,EAASuhC,EAAIjnC,KAAKrL,GAOpB,OAJIA,GACF65B,EAAI/+B,KAAKkF,GAGJ65B,CACR,EAED0Y,WAAY,SAAU3xC,GAUpB,GATIvJ,KAAK+3C,WAMPxuC,EAAOA,EAAKrF,QAAQ,kBAAmB,IACvClE,KAAK+3C,UAAW,IAEbxuC,EACH,OAAOA,EAYTA,GAJAA,GADAA,GAHAA,EAAOA,EAAKrF,QAAQ,MAAO,SAGfA,QAAQ,MAAO,QACfA,QAAQ,MAAO,QAIfA,QAAQ,KAAM,OAC1BlE,KAAK+U,QAAU,mBAAqBxL,EAArB,MAChB,EAEDwxC,SAAU,SAAUxxC,GAClB,IAII4xC,EAHAxuC,EAAI3M,KAAKiR,KAAKqnC,UACdc,EAAIp5C,KAAKiR,KAAKmnC,cACd1tB,EAAI1qB,KAAKiR,KAAKonC,eAKlB,OAFA8C,EAAgB5xC,EAAK4C,MAAM,MAAMlL,OAAS,EAElCsI,GACR,KAAK6vC,EAAIzsC,EACT,KAAKysC,EAAIzsC,EAAI,IACX3M,KAAK83C,KAAOF,EAAS+B,MAAMC,KAC3B,MACF,KAAKR,EAAIzsC,EAAI,IACX3M,KAAK83C,KAAOF,EAAS+B,MAAME,QAC3B,MACF,KAAKT,EAAIzsC,EAAI,IACX3M,KAAK83C,KAAOF,EAAS+B,MAAMG,IAC3B,MACF,KAAKV,EAAIzsC,EAAI,IACX3M,KAAK83C,KAAOF,EAAS+B,MAAMI,QAC3B,MACF,KAAKX,EAAIzsC,EAAIA,EACX3M,KAAK83C,KAAOF,EAAS+B,MAAMK,QAC3Bh6C,KAAK+U,QAAU,mBAAqBxL,EAAKrF,QAAQk1C,EAAIzsC,EAAIA,EAAGysC,EAAIzsC,GAAjD,OACf,MACF,KAAKA,EAAIA,EAAI+d,EACX1qB,KAAK83C,KAAOF,EAAS+B,MAAMK,QAC3Bh6C,KAAK+U,QAAU,mBAAqBxL,EAAKrF,QAAQyI,EAAIA,EAAI+d,EAAG/d,EAAI+d,GAAjD,OACf,MACF,KAAK/d,EAAI+d,EACT,IAAK,IAAM/d,EAAI+d,EACf,IAAK,IAAM/d,EAAI+d,EACT1qB,KAAK83C,MAAQF,EAAS+B,MAAMK,SAC9Bh6C,KAAKk7C,WAAW3xC,GAGlBvJ,KAAK83C,KAAO,KACZ93C,KAAK+3C,SAAiC,IAAtBxuC,EAAKgS,QAAQ,MAAoC,IAAtBhS,EAAKgS,QAAQ,KACxD,MACF,QAEE,GAAIvb,KAAK83C,KAAM,CAEb,OAAQ93C,KAAK83C,MACb,KAAKF,EAAS+B,MAAMC,KACpB,KAAKhC,EAAS+B,MAAME,QACpB,KAAKjC,EAAS+B,MAAMG,IACdvwC,EAAK6xC,YAAY,MAAQ7xC,EAAK6xC,YAAY,QAC5C7xC,GAAQ,MAGZ,OAAQvJ,KAAK83C,MAEb,KAAKF,EAAS+B,MAAMC,KAClB55C,KAAK+U,QAAU,SAAWxL,EAAO,KACjC,MAEF,KAAKquC,EAAS+B,MAAME,QAClB75C,KAAK+U,QAAU,2BAA6B4iC,EAAUpuC,GAAvC,OACf,MAEF,KAAKquC,EAAS+B,MAAMG,IAClB95C,KAAK+U,QAAU,kBAAoB4iC,EAAUpuC,GAA9B,MACf,MACF,KAAKquC,EAAS+B,MAAMI,QAElB,MAEF,KAAKnC,EAAS+B,MAAMK,QAClBh6C,KAAKk7C,WAAW3xC,GAGnB,MAGCvJ,KAAKk7C,WAAW3xC,GA5ETvJ,KAgFFiR,KAAKinC,cAAgBiD,IAC5Bn7C,KAAKg4C,aAAemD,EACpBn7C,KAAK+U,QAAU,kBAAoB/U,KAAKg4C,YAAc,KAEzD,GAeHn5B,EAAoBs2B,UAAA7O,EAAM6O,UAW1Bt2B,EAAoBw8B,UAAAx8B,EAAQw6B,WAU5Bx6B,EAAAy8B,QAAkBvF,EAUlBl3B,EAAA5e,KAv3BY,MA03BS,oBAAVs7C,SACTA,OAAOC,IAAM38B,SCj7BR,MAAM48B,YAAenF,IAC1B,IAAIoF,EAAQpF,EAASnqC,MAAMwB,gBAAKguC,KAChC,IAAK,IAAInyC,EAAI,EAAGA,EAAIkyC,EAAMz6C,OAAQuI,IAAK,CACrC,IAAIoyC,EAAMF,EAAM16C,MAAM,EAAGwI,GAAGzH,KAAK4L,gBAAKguC,KAEtC,GAAKC,EAGL,IACE/tC,cAAGguC,WAAWD,EACf,CAAC,MAAOlpC,GACP7E,cAAGiuC,UAAUF,EACd,CACF,SCHUG,aACXzI,WACAD,YACA2I,aAEAt8C,YACE2zC,EACAC,EACA2I,EACAC,GAEAl8C,KAAKszC,WAAaA,EAClBtzC,KAAKqzC,YAAcA,EACnBrzC,KAAKg8C,aAAeC,EAEpBj8C,KAAKm8C,WAAWD,EACjB,CAGDE,aACE,IAAIC,EAAU1uC,gBAAK5L,KACjBgM,QAAQuuC,MAAQ3uC,gBAAKguC,IAAM,MAC3B37C,KAAKszC,WAAWiJ,IAAKX,KAUvB,OARI57C,KAAKszC,WAAWkJ,gBAClBH,EAAU1uC,gBAAK5L,KACbgM,QAAQuuC,MAAQ3uC,gBAAKguC,IAAM,MAC3B37C,KAAKszC,WAAWiJ,IAAKX,IACrB57C,KAAKszC,WAAWkJ,gBAIbH,CACR,CAGDF,WAAWD,GACT,IAAKl8C,KAAKszC,WAAWiJ,MAAQv8C,KAAKszC,WAAWiJ,IAAIE,SAC/C,OAGF,IAAIJ,EAAUr8C,KAAKo8C,aACnBM,YAAiBL,GACjBxuC,cAAG8uC,OAAON,GAAUM,IACbA,GAYH38C,KAAK48C,iBACDV,GACFA,KAbFruC,cAAGgvC,MAAMR,GAAU3pC,IACjB,GAAIA,EACF,OAAOyM,QAAQ9e,MAAMqS,GAErB1S,KAAK48C,iBACDV,GACFA,GAEH,GAOJ,GAEJ,CAEDU,iBACE,IAAK58C,KAAKqzC,YACR,OAGF,IAAIgJ,EAAUr8C,KAAKo8C,aACnBxxC,OAAOqR,KAAKjc,KAAKqzC,aAAa9tC,SAASqG,IACrC,MAAMkxC,EAAUT,EAAU1uC,gBAAKguC,IAAM/vC,EAAM,MAC3CiC,cAAG8uC,OAAOG,GAAUC,IACdA,EACE/8C,KAAKszC,WAAWiJ,IAAKS,SACvBh9C,KAAKi9C,WAAWH,EAASlxC,GAG3B5L,KAAKi9C,WAAWH,EAASlxC,EAC1B,GACD,GAEL,CAGDqxC,WAAWH,EAAiBlxC,GAE1B,MAAMsxC,EAAcl9C,KAAKm9C,cAAcn9C,KAAKqzC,YAAaznC,GAAMA,GAC/DiC,cAAGuvC,UAAUN,EAASI,GAAcxqC,IAE9BA,GACFyM,QAAQC,IAAI,QAAQ1M,IACrB,GAEJ,CAGD2qC,iBAAiBtK,GACf,IAAIr5B,EAA4B,CAC9B1I,KAAM,GACN2yB,MAAO,CAAE,GAEP2Z,EAAa,GACbC,EAAoC,CAAA,EACpCC,EAAoC,GACpCC,GAAS,EAOb,OANI1K,EAAU9mC,IACZuxC,EAAazK,EAAU9mC,IAAI2mC,WAClBG,EAAUoB,OACnBqJ,EAAazK,EAAUoB,KAAKvB,aAGzB4K,GAAcA,EAAWv8C,OAAS,IAIvCu8C,EAAWj4C,SAAS+uC,IAKlB,OAJIgJ,IACFA,GAA0B,YAGpBhJ,EAAKoJ,IACX,IAAK,QACHD,GAAS,EACL7yC,OAAOqR,KAAKshC,GAAWt8C,OAAS,EAClCs8C,EAAU,IAAMjJ,EAAKr0C,MAAQ,QAAUq0C,EAAKr0C,KAE5Cs9C,EAAU,IAAMjJ,EAAKr0C,MAAQ,QAAUq0C,EAAKr0C,KAG5Cq9C,EADEhJ,EAAKxzC,SACMw8C,EAAahJ,EAAKr0C,KAAO,KAAOq0C,EAAKxM,KAAO,IAE5CwV,EAAahJ,EAAKr0C,KAAO,MAAQq0C,EAAKxM,KAAO,IAE5D,MACF,IAAK,OAEH,GADA2V,GAAS,EACLnJ,EAAK9B,QAAU8B,EAAK9B,OAAOF,KAAM,CACnC,MAAMqL,EAAWrJ,EAAK9B,OAAOF,KAAKnmC,MAAM,KAClCyxC,EAAWD,EAASA,EAAS18C,OAAS,GAC5Cq8C,EAAaM,EACbL,EAAY,CAAA,CACb,CACD,MACF,QACEE,GAAS,EACTH,EAAa,GACbC,EAAY,CAAA,EAEf,IAEH7jC,EAAOiqB,MAAQ4Z,EAEb7jC,EAAO1I,KADLysC,EACYH,EAEA,IAAMA,EAAa,KA1C1B5jC,CA8CV,CAGDyjC,cAAcU,EAAoBC,GAChC,IAAIZ,EAAc,GAClB,IAAKW,IAAaA,EAAS1K,QACzB,OAAO+J,EAGT,MAAMa,EAAW/9C,KAAKg+C,gBAAgB,OAChCC,EAAsB,GAE5BrzC,OAAOqR,KAAK4hC,EAAS1K,SAAS5tC,SAASqG,IACrC,MAAMsyC,EAAYH,EACZI,EAAsBN,EAAS1K,QAAQvnC,GAE7C,GAAIuyC,GAAWA,EAAQpL,UAAW,CAEhC,IAAIqL,EAAa,GACbzR,EAAS,GACT7M,EAAMl0B,EACN7E,EAAU,GACVo3C,EAAQpL,UAAU9mC,KAAOkyC,EAAQpL,UAAU9mC,IAAIoyC,aACjD1R,EAAS,MACT5lC,EAAUo3C,EAAQpL,UAAU9mC,IAAIlF,QAChCq3C,EAAaD,EAAQpL,UAAU9mC,IAAIoyC,YAAYlyC,MAAM,SAAS,IACrDgyC,EAAQpL,UAAUoB,OAC3BxH,EAAS,OACT5lC,EAAUo3C,EAAQpL,UAAUoB,KAAKptC,QACjCq3C,EAAaD,EAAQpL,UAAUoB,KAAKkK,YAAYlyC,MAAM,SAAS,IAG7DgyC,EAAQvL,YACVuL,EAAQvL,WAAWrtC,SAAS+4C,IAC1B,MAAMX,EAAWW,EAAUnyC,MAAM,KAC3ByxC,EAAWD,EAASA,EAAS18C,OAAS,GACvCg9C,EAAUn8C,SAAS87C,IACtBK,EAAUx6C,KAAKm6C,EAChB,IAIL,IAAI9K,EAAoB,GAExB,GAAIqL,GAAWA,EAAQrL,UAAW,CAChC,MAAM6K,EAAWQ,EAAQrL,UAAU3mC,MAAM,KACnCoyC,EAAeZ,EAASA,EAAS18C,OAAS,GAChD,IAAI28C,EAAWW,EACXC,EAAaD,EAGjB,GAAIA,EAAaz8C,SAAS,MAAQy8C,EAAaz8C,SAAS,KAAM,CAC5D,MAAM28C,EAAUF,EAAapyC,MAAM,KACnCqyC,EAAaC,EAAQA,EAAQx9C,OAAS,GAEtC28C,EADiBa,EAAQA,EAAQx9C,OAAS,GAAGkL,MAAM,KAC/B,EACrB,CAuBD2mC,EAAY9yC,KAAK0+C,YAAYF,EAAYZ,EAC1C,CACD,MAAMe,EAAY3+C,KAAKq9C,iBAAiBc,EAAQpL,WAC3CkL,EAAUn8C,SAASgxC,IACtBmL,EAAUx6C,KAAKqvC,GAGjB,MAAM8L,EAAUC,IAAU1F,OAAC+E,EAAW,CACpC1K,KAAM,CACJsL,MAAOV,EACPzR,OAAQA,EACRoS,QAASJ,EAAU3tC,KAAO2tC,EAAU3tC,KAAO,KAC3CusC,UAAWoB,EAAUhb,MACrBmP,UAAWA,EACXhT,IAAKA,EACL/4B,QAASA,KAITm2C,IACFA,GAA4B,YAG1B0B,IACF1B,GAA4B0B,EAE/B,KAIH,MAEMI,EAAWh/C,KAAKszC,WAAWiJ,KAAKyC,SAClCh/C,KAAKszC,WAAWiJ,KAAKyC,SACrB,gBAeJ,MAXE,WACAf,EAAUl8C,KAAK,MACf,cACA/B,KAAKi/C,cACL,IACAnB,EALA,+BAQAkB,EACA,cAjBgB,qCAmBa9B,CAChC,CAGD+B,cACE,OAAOj/C,KAAKszC,WAAWkJ,cACnBx8C,KAAKszC,WAAWplB,QAAQ0tB,IAAM,IAAM57C,KAAKszC,WAAWkJ,cACpDx8C,KAAKszC,WAAWplB,QAAQ0tB,GAC7B,CAGD8C,YAAYF,EAAoBZ,GAC9B,IAAIgB,EAAU,GACd,GAAIhB,EAASvxC,eAAiB,SAASA,eAAiBuxC,EAASvxC,eAAiB,SAASA,cACzF,OAAQmyC,EAAWnyC,eACjB,IAAK,iBAAiBA,cACpBuyC,EAAU,SAAWhB,EAAW,OAChC,MACF,IAAK,OAAOvxC,cACZ,IAAK,eAAeA,cAClBuyC,EAAU,SAAWhB,EAAW,OAChC,MACF,IAAK,OAAOvxC,cACZ,IAAK,eAAeA,cAClBuyC,EAAU,SAAWhB,EAAW,YAOhCA,EAAS97C,SAAS,YACpB88C,EAAU,yBAGRhB,EAAS97C,SAAS,YACpB88C,EAAU,yBAId,OAAOA,CACR,CAGDZ,gBAAgBpK,GACd,MAAMsL,EAAWvxC,gBAAK5L,KACpBo9C,UACA,YACAn/C,KAAKszC,WAAW/a,SAAW5qB,gBAAKguC,IAAM/H,EAAW,QAInD,OADyB/lC,cAAGkrC,aAAamG,GACzB7xB,UACjB,QCpVU+xB,gBACX9L,WACAD,YACA2I,aAEAt8C,YACE2zC,EACAC,EACA2I,GAEAj8C,KAAKszC,WAAaA,EAClBtzC,KAAKqzC,YAAcA,EACnBrzC,KAAKg8C,aAAeC,EAEpBj8C,KAAKq/C,eACN,CAGDjD,aACE,IAAIC,EAAU1uC,gBAAK5L,KACjBgM,QAAQuuC,MAAQ3uC,gBAAKguC,IAAM,MAC3B37C,KAAKszC,WAAWiJ,IAAKX,KAUvB,OARI57C,KAAKszC,WAAWkJ,gBAClBH,EAAU1uC,gBAAK5L,KACbgM,QAAQuuC,MAAQ3uC,gBAAKguC,IAAM,MAC3B37C,KAAKszC,WAAWiJ,IAAKX,IACrB57C,KAAKszC,WAAWkJ,gBAIbH,CACR,CAGDgD,gBACE,IACGr/C,KAAKszC,WAAWiJ,MAChBv8C,KAAKszC,WAAWiJ,IAAIE,WACpBz8C,KAAKszC,WAAWiJ,IAAI+C,YAErB,OAGF,IAAIjD,EAAUr8C,KAAKo8C,aACnBM,YAAiBL,GACjBxuC,cAAG8uC,OAAON,GAAUM,IACbA,EASH38C,KAAKu/C,oBARL1xC,cAAGgvC,MAAMR,GAAU3pC,IACjB,GAAIA,EACF,OAAOyM,QAAQ9e,MAAMqS,GAErB1S,KAAKu/C,mBACN,GAIJ,GAEJ,CAGDC,cAAc72C,GACZ,IAAI82C,EAAY92C,EAChB,IAAK82C,GAAaA,EAAUx+C,OAAS,EACnC,OAAOw+C,EAGT,MAAMC,EAAa,IAAID,GAGvB,OAFAC,EAAW,GAAKA,EAAW,GAAGrzC,cAC9BozC,EAAYC,EAAW39C,KAAK,IACrB09C,CACR,CAGDF,oBACE,IAAKv/C,KAAKqzC,YACR,OAGF,IAAIgJ,EAAUr8C,KAAKo8C,aACnBxxC,OAAOqR,KAAKjc,KAAKqzC,aAAa9tC,SAASqG,IACrC,MAAMkxC,EAAUT,EAAU1uC,gBAAKguC,IAAM/vC,EAArBywC,UAChBxuC,cAAG8uC,OAAOG,GAAUC,IACdA,EACE/8C,KAAKszC,WAAWiJ,IAAKS,SACvBh9C,KAAKi9C,WAAWH,EAASlxC,GAG3B5L,KAAKi9C,WAAWH,EAASlxC,EAC1B,GACD,GAEL,CAGDqxC,WAAWH,EAAiBlxC,GAE1B,MAAMsxC,EAAcl9C,KAAK2/C,iBAAiB3/C,KAAKqzC,YAAaznC,GAAMA,GAClEiC,cAAGuvC,UAAUN,EAASI,GAAcxqC,IAE9BA,GACFyM,QAAQC,IAAI,QAAQ1M,IACrB,GAEJ,CAGD2qC,iBAAiBtK,GACf,IAAIr5B,EAA4B,CAC9B1I,KAAM,GACN2yB,MAAO,CAAE,GAEP2Z,EAAa,GACbC,EAAoC,CAAA,EACpCC,EAAoC,GACpCC,GAAS,EAOb,OANI1K,EAAU9mC,IACZuxC,EAAazK,EAAU9mC,IAAI2mC,WAClBG,EAAUoB,OACnBqJ,EAAazK,EAAUoB,KAAKvB,aAGzB4K,GAAcA,EAAWv8C,OAAS,IAIvCu8C,EAAWj4C,SAAS+uC,IAKlB,OAJIgJ,IACFA,GAA0B,YAGpBhJ,EAAKoJ,IACX,IAAK,QACHD,GAAS,EACL7yC,OAAOqR,KAAKshC,GAAWt8C,OAAS,EAClCs8C,EAAU,IAAMjJ,EAAKr0C,MAAQ,QAAUq0C,EAAKr0C,KAE5Cs9C,EAAU,IAAMjJ,EAAKr0C,MAAQ,QAAUq0C,EAAKr0C,KAG5Cq9C,EADEhJ,EAAKxzC,SACMw8C,EAAahJ,EAAKr0C,KAAO,KAAOq0C,EAAKxM,KAAO,IAE5CwV,EAAahJ,EAAKr0C,KAAO,MAAQq0C,EAAKxM,KAAO,IAE5D,MACF,IAAK,OAEH,GADA2V,GAAS,EACLnJ,EAAK9B,QAAU8B,EAAK9B,OAAOF,KAAM,CACnC,MAAMqL,EAAWrJ,EAAK9B,OAAOF,KAAKnmC,MAAM,KAClCyxC,EAAWD,EAASA,EAAS18C,OAAS,GAC5Cq8C,EAAaM,EACbL,EAAY,CAAA,CACb,CACD,MACF,QACEE,GAAS,EACTH,EAAa,GACbC,EAAY,CAAA,EAEf,IAEH7jC,EAAOiqB,MAAQ4Z,EAEb7jC,EAAO1I,KADLysC,EACYH,EAEA,IAAMA,EAAa,KA1C1B5jC,CA8CV,CAGDimC,iBAAiB9B,EAAoBC,GACnC,IAAIZ,EAAc,GAClB,IAAKW,IAAaA,EAAS1K,QACzB,OAAO+J,EAGT,MAAMa,EAAW/9C,KAAKg+C,gBAAgB,UAChC4B,EAA2B,GAC3BC,EAAyB,GAE/Bj1C,OAAOqR,KAAK4hC,EAAS1K,SAAS5tC,SAASqG,IACrC,MAAMsyC,EAAYH,EACZI,EAAsBN,EAAS1K,QAAQvnC,GAE7C,GAAIuyC,GAAWA,EAAQpL,UAAW,CAEhC,IAAIqL,EAAa,GACbzR,EAAS,GACT7M,EAAMl0B,EACN7E,EAAU,GACVo3C,EAAQpL,UAAU9mC,KAAOkyC,EAAQpL,UAAU9mC,IAAIoyC,aACjD1R,EAAS,MACT5lC,EAAUo3C,EAAQpL,UAAU9mC,IAAIlF,QAChCq3C,EAAaD,EAAQpL,UAAU9mC,IAAIoyC,YAAYlyC,MAAM,SAAS,IACrDgyC,EAAQpL,UAAUoB,OAC3BxH,EAAS,OACT5lC,EAAUo3C,EAAQpL,UAAUoB,KAAKptC,QACjCq3C,EAAaD,EAAQpL,UAAUoB,KAAKkK,YAAYlyC,MAAM,SAAS,IAG7DgyC,EAAQvL,YACVuL,EAAQvL,WAAWrtC,SAAS+4C,IAC1B,MAAMX,EAAWW,EAAUnyC,MAAM,KAC3ByxC,EAAWD,EAASA,EAAS18C,OAAS,GACvC2+C,EAAe99C,SAAS87C,IAC3BgC,EAAen8C,KAAKm6C,EACrB,IAIL,IAAI9K,EAAoB,GAExB,GAAIqL,GAAWA,EAAQrL,UAAW,CAChC,MAAM6K,EAAWQ,EAAQrL,UAAU3mC,MAAM,KACnCoyC,EAAeZ,EAASA,EAAS18C,OAAS,GAChD,IAAI28C,EAAWW,EACXC,EAAaD,EAGjB,GAAIA,EAAaz8C,SAAS,MAAQy8C,EAAaz8C,SAAS,KAAM,CAC5D,MAAM28C,EAAUF,EAAapyC,MAAM,KACnCqyC,EAAaC,EAAQA,EAAQx9C,OAAS,GAEtC28C,EADiBa,EAAQA,EAAQx9C,OAAS,GAAGkL,MAAM,KAC/B,EACrB,CAuBD2mC,EAAY9yC,KAAK0+C,YAAYF,EAAYZ,EAC1C,CACD,MAAMe,EAAY3+C,KAAKq9C,iBAAiBc,EAAQpL,WAC3C6M,EAAe99C,SAASgxC,IAC3B8M,EAAen8C,KAAKqvC,GAGjB+M,EAAa/9C,SAASs8C,IACzByB,EAAap8C,KAAK26C,GAGpB,MAAMQ,EAAUC,IAAU1F,OAAC+E,EAAW,CACpC1K,KAAM,CACJsL,MAAO9+C,KAAKw/C,cAAcpB,GAC1B0B,YAAa1B,EACbzR,OAAQA,EACRoS,QAASJ,EAAU3tC,KAAO2tC,EAAU3tC,KAAO,KAC3CusC,UAAWoB,EAAUhb,MACrBmP,UAAWA,EACXhT,IAAKA,EACL/4B,QAASA,KAITm2C,IACFA,GAA4B,YAG1B0B,IACF1B,GAA4B0B,EAE/B,KAIH,MAAMmB,EACJ,YACAH,EAAe79C,KAAK,MACpB,eACA/B,KAAKi/C,cACL,IACAnB,EACA,SAEIkC,EAAchgD,KAAKszC,WAAWiJ,KAAKyD,YACrChgD,KAAKszC,WAAWiJ,KAAKyD,YACrB,yBAeJ,OAAOD,GAXL,YACAF,EAAa99C,KAAK,MAClB,eACA/B,KAAKigD,YACL,IACAnC,EALA,uCAQAkC,EACA,cAEgC9C,CACnC,CAGD+B,cACE,OAAOj/C,KAAKszC,WAAWkJ,cACnBx8C,KAAKszC,WAAWplB,QAAQ0tB,IAAM,IAAM57C,KAAKszC,WAAWkJ,cACpDx8C,KAAKszC,WAAWplB,QAAQ0tB,GAC7B,CAGDqE,YACE,OAAOjgD,KAAKszC,WAAWkJ,cACnBx8C,KAAKszC,WAAWiJ,KAAKX,IAAM,IAAM57C,KAAKszC,WAAWkJ,cACjDx8C,KAAKszC,WAAWiJ,KAAKX,GAC1B,CAGD8C,YAAYF,EAAoBZ,GAC9B,IAAIgB,EAAU,GACd,GAAIhB,EAASvxC,eAAiB,SAASA,eAAiBuxC,EAASvxC,eAAiB,SAASA,cACzF,OAAQmyC,EAAWnyC,eACjB,IAAK,iBAAiBA,cACpBuyC,EAAU,SAAWhB,EAAW,OAChC,MACF,IAAK,OAAOvxC,cACZ,IAAK,eAAeA,cAClBuyC,EAAU,SAAWhB,EAAW,OAChC,MACF,IAAK,OAAOvxC,cACZ,IAAK,eAAeA,cAClBuyC,EAAU,SAAWhB,EAAW,YAMhCA,EAAS97C,SAAS,WAAa87C,EAAS97C,SAAS,aAC/C87C,EAAS97C,SAAS,YACpB88C,EAAU,yBAGRhB,EAAS97C,SAAS,YACpB88C,EAAU,0BAKhB,OAAOA,CACR,CAGDZ,gBAAgBpK,GACd,MAAMsL,EAAWvxC,gBAAK5L,KACpBo9C,UACA,YACAn/C,KAAKszC,WAAW/a,SAAW5qB,gBAAKguC,IAAM/H,EAAW,QAInD,OADyB/lC,cAAGkrC,aAAamG,GACzB7xB,UACjB,QCpXU6yB,eACX5M,WACAD,YACA2I,aAEAmE,aAEAC,UAEA1gD,YACE2zC,EACAC,EACA2I,GAEAj8C,KAAKszC,WAAaA,EAClBtzC,KAAKqzC,YAAcA,EACnBrzC,KAAKg8C,aAAeC,EACpBj8C,KAAKmgD,aAAe,GACpBngD,KAAKogD,UAAY,GAEjBpgD,KAAKqgD,cACN,CAGDC,cAEE,IAAIC,EAAY5yC,gBAAK5L,KACnBgM,QAAQuuC,MAAQ3uC,gBAAKguC,IAAM,MAC3B37C,KAAKszC,WAAWplB,OAAQ0tB,KAU1B,OARI57C,KAAKszC,WAAWkJ,gBAClB+D,EAAY5yC,gBAAK5L,KACfgM,QAAQuuC,MAAQ3uC,gBAAKguC,IAAM,MAC3B37C,KAAKszC,WAAWplB,OAAQ0tB,IACxB57C,KAAKszC,WAAWkJ,gBAIb+D,CACR,CAGDF,eACE,IAAKrgD,KAAKszC,WAAWplB,SAAWluB,KAAKszC,WAAWplB,OAAOuuB,SACrD,OAGF,MAAM8D,EAAYvgD,KAAKsgD,cACvB5D,YAAiB6D,GACjB1yC,cAAG8uC,OAAO4D,GAAY5D,IACfA,EASH38C,KAAKwgD,mBARL3yC,cAAGgvC,MAAM0D,GAAY7tC,IACnB,GAAIA,EACF,OAAOyM,QAAQ9e,MAAMqS,GAErB1S,KAAKwgD,kBACN,GAIJ,GAEJ,CAEDA,mBACE,IAAKxgD,KAAKqzC,YACR,OAGF,IAAIiD,EAAWt2C,KAAKsgD,cAEpB11C,OAAOqR,KAAKjc,KAAKqzC,aAAa9tC,SAASqG,IACrC,MAAMkxC,EAAUxG,EAAW3oC,gBAAKguC,IAAM/vC,EAAM,MAEvC5L,KAAKogD,UAAUx0C,KAClB5L,KAAKogD,UAAUx0C,GAAO,IAInB5L,KAAKmgD,aAAav0C,EAAM,YAC3B5L,KAAKmgD,aAAav0C,EAAM,UAAY,IAGtCiC,cAAG8uC,OAAOG,GAAUC,IACdA,EACE/8C,KAAKszC,WAAWplB,OAAQ8uB,SAC1Bh9C,KAAKi9C,WAAWH,EAASlxC,GAG3B5L,KAAKi9C,WAAWH,EAASlxC,EAC1B,GACD,GAEL,CAGDqxC,WAAWH,EAAiBlxC,GAE1B,MAAMsxC,EAAcl9C,KAAKygD,aAAazgD,KAAKqzC,YAAaznC,GAAMA,GAE9DiC,cAAGuvC,UAAUN,EAASI,GAAcxqC,IAE9BA,GACFyM,QAAQC,IAAI,QAAQ1M,IACrB,GAEJ,CAGDguC,mBACEhqB,EACAwmB,GAEA,IAAIyD,EAAazD,EACjB,OAAKxmB,GAAW9rB,OAAOqR,KAAKya,GAASz1B,OAAS,GAI9C2J,OAAOqR,KAAKya,GAASnxB,SAASq7C,IAC5B,MAAMC,EAA4BnqB,EAAQkqB,GACtCC,GAAeA,EAAYC,cACzBH,IACFA,GAA0B,QAG5BA,GAA0BE,EAAYC,YACvC,IAXMH,CAeV,CAGDF,aAAa5C,EAAoBC,GAC/B,IAAIZ,EAAc,GAClB,IAAKW,IAAaA,EAAS1K,QACzB,OAAO+J,EAET,MAAMa,EAAW/9C,KAAKg+C,gBAAgB,UAmKtC,GAlKApzC,OAAOqR,KAAK4hC,EAAS1K,SAAS5tC,SAASqG,IACrC,MAAMuyC,EAAsBN,EAAS1K,QAAQvnC,GAE7C,IAAI7E,EAAU,GAoDd,GAnDIo3C,EAAQpL,UAAU9mC,KAAOkyC,EAAQpL,UAAU9mC,IAAIoyC,YACjDt3C,EAAUo3C,EAAQpL,UAAU9mC,IAAIlF,QACvBo3C,EAAQpL,UAAUoB,OAC3BptC,EAAUo3C,EAAQpL,UAAUoB,KAAKptC,SAI/Bo3C,GAAWA,EAAQvL,YACrBuL,EAAQvL,WAAWrtC,SAAS+4C,IAC1B,MAAMX,EAAWW,EAAUnyC,MAAM,KAC3ByxC,EAAWD,EAASA,EAAS18C,OAAS,GACtC8/C,EACJ/gD,KAAKghD,mBAAmBpD,GAC1B,GACEmD,IACC/gD,KAAKmgD,aAAarC,EAAW,UAAUh8C,SAASi/C,EAAYjC,OAC7D,CAEA9+C,KAAKmgD,aAAarC,EAAW,UAAUr6C,KAAKs9C,EAAYjC,OACxD,MAAMZ,EAAYH,EAElB,GAAIgD,EAAYE,WAAY,CAC1B,MAAMhlC,EAAOrR,OAAOqR,KAAK8kC,EAAYE,YAC/BvqB,EAAU12B,KAAKkhD,gBACnBH,EAAYE,WACZnD,EACA/2C,GAIFm2C,EAAcl9C,KAAK0gD,mBAAmBhqB,EAASwmB,GAC/C6D,EAAYh6C,QAAUA,EACtB,MAAM63C,EAAUC,IAAU1F,OAAC+E,EAAW,CACpC1K,KAAMuN,EACNI,MAAOzqB,EACPza,KAAMA,IAGJihC,IACFA,GAA4B,QAG1B0B,IACF1B,GAA4B0B,EAE/B,CACF,KAKDT,GAAWA,EAAQrL,UAAW,CAChC,MAAM6K,EAAWQ,EAAQrL,UAAU3mC,MAAM,KACnCoyC,EAAeZ,EAASA,EAAS18C,OAAS,GAChD,IAAI28C,EAAWW,EACXC,EAAaD,EAEjB,GAAIA,EAAaz8C,SAAS,MAAQy8C,EAAaz8C,SAAS,KAAM,CAC5D,MAAM28C,EAAUF,EAAapyC,MAAM,KACnCqyC,EAAaC,EAAQA,EAAQx9C,OAAS,GAEtC28C,EADiBa,EAAQA,EAAQx9C,OAAS,GAAGkL,MAAM,KAC/B,EACrB,CAuBInM,KAAKogD,UAAUtC,GAAUh8C,SAAS08C,IACrCx+C,KAAKogD,UAAUtC,GAAUr6C,KAAK+6C,GAGhC,MAAMuC,EACJ/gD,KAAKghD,mBAAmBpD,GAE1B,GACEmD,IACC/gD,KAAKmgD,aAAarC,EAAW,UAAUh8C,SAASi/C,EAAYjC,OAC7D,CAEA9+C,KAAKmgD,aAAarC,EAAW,UAAUr6C,KAAKs9C,EAAYjC,OACxD,MAAMZ,EAAYH,EAClB,GAAIgD,EAAYE,WAAY,CAC1B,MAAMhlC,EAAOrR,OAAOqR,KAAK8kC,EAAYE,YAC/BvqB,EAAU12B,KAAKkhD,gBACnBH,EAAYE,WACZnD,EACA/2C,GAIFm2C,EAAcl9C,KAAK0gD,mBAAmBhqB,EAASwmB,GAC/C6D,EAAYh6C,QAAUA,EACtB,MAAM63C,EAAUC,IAAU1F,OAAC+E,EAAW,CACpC1K,KAAMuN,EACNI,MAAOzqB,EACPza,KAAMA,IAGJihC,IACFA,GAA4B,QAG1B0B,IACF1B,GAA4B0B,EAE/B,CACF,CAED,IACEJ,GACCZ,EAAS97C,SAAS,WAClB87C,EAAS97C,SAAS,WAOd,GAAI08C,IACRZ,EAAS97C,SAAS,WACjB87C,EAAS97C,SAAS,WAAY,CAEhC,IAAI88C,EAAU,GACVhB,EAAS97C,SAAS,YACpB88C,EAAU5+C,KAAKohD,eAAexD,EAAUE,IAGtCF,EAAS97C,SAAS,YACpB88C,EAAU5+C,KAAKqhD,eAAezD,EAAUE,IAGtCc,IACF1B,GAA4B0B,EAG/B,MAvBC,CACA,MAAMmB,EAAY//C,KAAK0+C,YAAYF,EAAYZ,EAAUE,GAErDiC,IACF7C,GAA4B6C,EAE/B,CAkBF,KAIC//C,KAAKogD,UAAUtC,IAAa99C,KAAKogD,UAAUtC,GAAU78C,OAAS,EAAG,CACnE,IAAI8+C,EAAY,GAwChB,GAvCA//C,KAAKogD,UAAUtC,GAAUv4C,SAAS+7C,IAE9BA,EAASj1C,gBAAkB,iBAAiBA,eAC3C0zC,EAAUj+C,SAAS9B,KAAKszC,WAAWplB,OAAOqzB,gBAO1CD,EAASj1C,gBAAkB,eAAeA,eAAiBi1C,EAASj1C,gBAAkB,OAAOA,eAC7F0zC,EAAUj+C,SAAS9B,KAAKszC,WAAWplB,OAAOszB,cAO1CF,EAASj1C,gBAAkB,eAAeA,eAAiBi1C,EAASj1C,gBAAkB,OAAOA,eAC7F0zC,EAAUj+C,SAAS9B,KAAKszC,WAAWplB,OAAOuzB,gBAEvC1B,IACFA,GAAwB,MAE1BA,GAAwB//C,KAAKszC,WAAWplB,OAAOuzB,eAX3C1B,IACFA,GAAwB,MAE1BA,GAAwB//C,KAAKszC,WAAWplB,OAAOszB,eAX3CzB,IACFA,GAAwB,MAE1BA,GAAwB//C,KAAKszC,WAAWplB,OAAOqzB,eAiBhD,IAcCxB,EAAW,CACb,MAAM2B,EAAa1hD,KAAKszC,WAAWplB,QAAQyzB,UACvC3hD,KAAKszC,WAAWplB,QAAQyzB,UACxB,uBAEJzE,EACE,YACA6C,EACA,YACA2B,EAHA,aAMAxE,CAEH,CAEF,CACD,OAAOA,CACR,CAEDmE,eAAezD,EAAkBE,GAC/B,IAAIc,EAAU,GAed,OAbG5+C,KAAKmgD,aAAarC,EAAW,UAAUh8C,SACtC,2BAGF88C,EAAU,0DAA4DhB,EAA5D,cAIV59C,KAAKmgD,aAAarC,EAAW,UAAUr6C,KACrC,0BAIGm7C,CACR,CAEDwC,eAAexD,EAAkBE,GAC/B,IAAIc,EAAU,GAed,OAbG5+C,KAAKmgD,aAAarC,EAAW,UAAUh8C,SACtC,2BAGF88C,EAAU,0DAA4DhB,EAA5D,cAIV59C,KAAKmgD,aAAarC,EAAW,UAAUr6C,KACrC,0BAIGm7C,CACR,CAGDF,YAAYF,EAAoBZ,EAAkBE,GAChD,IAAIc,EAAU,GACd,OAAQJ,EAAWnyC,eACjB,IAAK,iBAAiBA,cAEjBrM,KAAKmgD,aAAarC,EAAW,UAAUh8C,SACtC,SAAW87C,EAAW,UAGxBgB,EACEA,EACA,qBACAhB,EACA,kBAAoB59C,KAAKszC,WAAWplB,OAAOqzB,eAAiB,IAC5D3D,EAJAgB,cASF5+C,KAAKmgD,aAAarC,EAAW,UAAUr6C,KACrC,SAAWm6C,EAAW,SAG1B,MACF,IAAK,OAAOvxC,cACZ,IAAK,eAAeA,cAEfrM,KAAKmgD,aAAarC,EAAW,UAAUh8C,SACtC,SAAW87C,EAAW,UAGxBgB,EACEA,EACA,qBACAhB,EACA,kBAAoB59C,KAAKszC,WAAWplB,OAAOszB,aAAe,IAC1D5D,EAJAgB,cAQF5+C,KAAKmgD,aAAarC,EAAW,UAAUr6C,KACrC,SAAWm6C,EAAW,SAG1B,MACF,IAAK,OAAOvxC,cACZ,IAAK,eAAeA,cAGfrM,KAAKmgD,aAAarC,EAAW,UAAUh8C,SACtC,SAAW87C,EAAW,UAGxBgB,EACEA,EACA,qBACAhB,EACA,kBAAoB59C,KAAKszC,WAAWplB,OAAOuzB,aAAe,IAC1D7D,EAJAgB,cAQF5+C,KAAKmgD,aAAarC,EAAW,UAAUr6C,KACrC,SAAWm6C,EAAW,SAqD9B,OAAOgB,CACR,CAGDgD,mBAAmB5wC,GACjB,IAAI6wC,EAAU,GAId,OAHI7wC,IACF6wC,EAAU7wC,EAAK7E,MAAM,MAAMpK,KAAK,MAE3B8/C,CACR,CAGDX,gBACED,EACAnD,EACA/2C,GAEA,MAAMkV,EAAOrR,OAAOqR,KAAKglC,GACnBvqB,EAAwC,CAAA,EA4G9C,OA3GAza,EAAK1W,SAASqG,IAEZ,MAAMk2C,EAAe9hD,KAAK+hD,gBAAgBd,EAAWr1C,IAErD,IAAIoF,EAAqB,CACvB82B,KAAMga,EACNthD,YAAaR,KAAK4hD,mBAChBX,EAAWr1C,GAAKpL,YAAcygD,EAAWr1C,GAAKpL,YAAc,QAE9Dk7C,MAAO,CACL5T,KAAMmZ,EAAWr1C,GAAK8vC,OAAO5T,KAAOmZ,EAAWr1C,GAAK8vC,OAAO5T,KAAO,GAClEwK,KAAM2O,EAAWr1C,GAAK8vC,OAAOpJ,KAAO2O,EAAWr1C,GAAK8vC,OAAOpJ,KAAO,IAEpEwO,YAAa,GACbxO,KAAM,IAGR,GAAqB,UAAjBwP,GACF,GAAI9wC,EAAK0qC,OAAS1qC,EAAK0qC,MAAM5T,KACvB92B,EAAK0qC,MAAM5T,KAAK39B,WAAW,QAC7B6G,EAAK82B,KAAO,gBAEZ92B,EAAK82B,KAAO,SAAW92B,EAAK0qC,MAAM5T,KAAO,SAEtC,GAAI92B,EAAK0qC,OAAS1qC,EAAK0qC,MAAMpJ,KAAM,CACxC,MAAMqL,EAAW3sC,EAAK0qC,MAAMpJ,KAAKnmC,MAAM,KACjCyxC,EAAWD,EAASA,EAAS18C,OAAS,GAQ5C,GANI28C,EAASzzC,WAAW,QACtB6G,EAAK82B,KAAO,gBAEZ92B,EAAK82B,KAAO,SAAW8V,EAAW,KAG/B59C,KAAKmgD,aAAarC,EAAW,UAAUh8C,SAAS87C,GAAW,CAC9D,MAAMG,EAAW/9C,KAAKg+C,gBAAgB,UAChC+C,EACJ/gD,KAAKghD,mBAAmBpD,GAG1B59C,KAAKmgD,aAAarC,EAAW,UAAUr6C,KAAKm6C,GAC5C,MAAMM,EAAYH,EAClB,GAAIgD,GAAeA,EAAaE,WAAY,CAC1C,MAAMhlC,EAAOrR,OAAOqR,KAAK8kC,EAAaE,YAChCvqB,EAAU12B,KAAKkhD,gBACnBH,EAAaE,WACbnD,EACA/2C,GAEFg6C,EAAah6C,QAAUA,EACvB,IAAI63C,EAAUC,IAAU1F,OAAC+E,EAAW,CAClC1K,KAAMuN,EACNI,MAAOzqB,EACPza,KAAMA,IAIR2iC,EAAU5+C,KAAK0gD,mBAAmBhqB,EAASkoB,GAC3C5tC,EAAK8vC,YAAclC,CACpB,CACF,CACF,OACI,GAAqB,WAAjBkD,EAA2B,CACpC,MAAME,EAASf,EAAWr1C,IAAM0mC,KAAO2O,EAAWr1C,IAAM0mC,KAAO,GAC/D,GAAI0P,EAAQ,CACV,MAAMrE,EAAWqE,EAAO71C,MAAM,KACxByxC,EAAWD,EAASA,EAAS18C,OAAS,GAC5C+P,EAAK82B,KAAO8V,EACZ5sC,EAAKshC,KAAO0P,EAEZ,MAAMjE,EAAW/9C,KAAKg+C,gBAAgB,UAChC+C,EACJ/gD,KAAKghD,mBAAmBpD,GAE1B,IACG59C,KAAKmgD,aAAarC,EAAW,UAAUh8C,SAAS87C,GACjD,CAGA59C,KAAKmgD,aAAarC,EAAW,UAAUr6C,KAAKm6C,GAC5C,MAAMM,EAAYH,EAElB,GAAIgD,GAAeA,EAAaE,WAAY,CAC1C,MAAMhlC,EAAOrR,OAAOqR,KAAK8kC,EAAaE,YAChCvqB,EAAU12B,KAAKkhD,gBACnBH,EAAaE,WACbnD,EACA/2C,GAEFg6C,EAAah6C,QAAUA,EACvB,IAAI63C,EAAUC,IAAU1F,OAAC+E,EAAW,CAClC1K,KAAMuN,EACNI,MAAOzqB,EACPza,KAAMA,IAIR2iC,EAAU5+C,KAAK0gD,mBAAmBhqB,EAASkoB,GAC3C5tC,EAAK8vC,YAAclC,CACpB,CACF,CACF,CACF,CAEDloB,EAAQ9qB,GAAOoF,CAAI,IAGd0lB,CACR,CAGDqrB,gBAAgB/xB,GACd,IAAI8X,EAAO,GAEX,GAAK9X,EAAe,KAKlB,OAAQA,EAAe,MACrB,IAAK,SAgBL,QACE8X,EAAO,SACP,MAfF,IAAK,UACL,IAAK,SACHA,EAAO,SACP,MACF,IAAK,QACHA,EAAO,QACP,MACF,IAAK,SACHA,EAAO,SACP,MACF,IAAK,UACHA,EAAO,eAnBP9X,EAAe,OACjB8X,EAAO,UA0BX,OAAOA,CACR,CAGDkZ,mBAAmBiB,GACjB,IAAKjiD,KAAKg8C,eAAiBh8C,KAAKg8C,aAAa+E,YAC3C,OAAO,KAIT,OADqC/gD,KAAKg8C,aAAa+E,YAAYkB,EAEpE,CAGDjE,gBAAgBpK,GACd,MAAMsL,EAAWvxC,gBAAK5L,KACpBo9C,UACA,YACAn/C,KAAKszC,WAAW/a,SAAW5qB,gBAAKguC,IAAM/H,EAAW,QAInD,OADyB/lC,cAAGkrC,aAAamG,GACzB7xB,UACjB,CAGD60B,UAAUlyB,GACR,IAAI8X,EAAO,GAEX,GAAK9X,EAAe,KAKlB,OAAQA,EAAe,MACrB,IAAK,SAgBL,QACE8X,EAAO,SACP,MAfF,IAAK,UACL,IAAK,SACHA,EAAO,SACP,MACF,IAAK,QACHA,EAAO,QACP,MACF,IAAK,SACHA,EAAO,SACP,MACF,IAAK,UACHA,EAAO,eAnBP9X,EAAe,OACjB8X,EAAO,UA0BX,OAAOA,CACR,QCvuBUqa,WACX7O,WACAD,YACA2I,aAEAmE,aACAzgD,YACE2zC,EACAC,EACA2I,GAEAj8C,KAAKszC,WAAaA,EAClBtzC,KAAKqzC,YAAcA,EACnBrzC,KAAKg8C,aAAeC,EACpBj8C,KAAKmgD,aAAe,GAGpB,IAAID,eAAelgD,KAAKqzC,YAAarzC,KAAKszC,WAAYtzC,KAAKg8C,cAE3D,IAAID,aACF/7C,KAAKqzC,YACLrzC,KAAKszC,WACLtzC,KAAKg8C,cACL,KAEE,IAAIoD,gBACFp/C,KAAKqzC,YACLrzC,KAAKszC,WACLtzC,KAAKg8C,aACN,GAGN,ECtCH,SAASoG,WACP,MAAuB,iBAAZr0C,SAAoD,mBAArBA,QAAQs0C,SACzCt0C,QAAQs0C,SACkB,mBAAjBC,aACTA,aAEA,SAAe32B,GACpBye,WAAWze,EAAG,EACf,CAEL,CAEA,IAAA2hB,OAAiB8U,WCZb9U,KAAOhtC,OAEXiiD,QAAiB,SAAgBjJ,EAAI//B,GACnC,OAAI+/B,OACF//B,EACGC,MAAK,SAAUE,GACd4zB,MAAK,WAAcgM,EAAG,KAAM5/B,EAAO,GACpC,IAAE,SAAUhH,GACX46B,MAAK,WAAcgM,EAAG5mC,EAAI,GAClC,IAIW6G,CAEX,EChBA,MAAMipC,iBACJ9iD,YAAY45C,EAAKmJ,GACfziD,KAAKs5C,GAAKA,EACVt5C,KAAK0iD,MAAQD,EACbziD,KAAK2iD,OAAS,CAElB,EACI3iD,KAAK4iD,QAAU,EAChB,CACDC,SAASH,GACFA,GAAS,IACZ1iD,KAAK0iD,MAAQA,EAChB,CACDI,MAAMl3C,GACJ5L,KAAK4iD,QAAQh3C,GAAO5L,KAAK4iD,QAAQh3C,IAAO,EACxC5L,KAAK4iD,QAAQh3C,IACd,CACDm3C,QAAQn3C,GACN,IAAIo3C,EAAQhjD,KAAK4iD,QAAQh3C,IAAQ,EAC7Bo3C,EAAM,GACVA,IACAhjD,KAAK4iD,QAAQh3C,GAAOo3C,CACrB,CACDC,eAAer3C,GACb5L,KAAK+iD,QAAQn3C,GACb5L,KAAKkjD,KAAKt3C,EACX,CACDs3C,KAAKt3C,GACH,IAAI+tB,EAAO35B,KACP2iD,EAAS3iD,KAAK2iD,OACdQ,EAAQnjD,KAAK2iD,OAAO/2C,GACpB5L,KAAK4iD,QAAQh3C,GAAO,IAEpBu3C,GACF9Y,aAAa8Y,GAEfR,EAAO/2C,GAAOw+B,YAAW,WACvBzQ,EAAK2f,GAAG1tC,UACD+2C,EAAO/2C,EACpB,GAAQ+tB,EAAK+oB,OACV,EAEH,MAAMU,+BAA6BhoB,UAC/B17B,YAAYO,EAAM+c,EAAUqmC,GACbpjD,EAAK6B,SAAS,KACQwhD,UAEpC,EAEH,SAASC,iBAAepiD,EAAOlB,EAAMujD,EAAQ,UAC3C,QAAcrjD,IAAVgB,IACW,OAAVA,GACiB,iBAAVA,GACPE,MAAMC,QAAQH,IAAS,CAC1B,MAAMuR,EAAM,IAAI0wC,uBAAqBnjD,EAAMujD,EAAOriD,GAElD,MADA1B,MAAMM,kBAAkB2S,EAAK6wC,kBACvB7wC,CACP,CACF,CAGH,IAAE4zB,QAAiB,CACnB8c,qBAAIA,uBACJG,eAAIA,iBACJf,eAAIA,kBCjEJ,MAAOe,eAAAA,kBAAmBjjD,QAE1B,SAASmjD,kBAAkBp/C,GAkBvB,OAjBAk/C,iBAAel/C,EAAS,YACxBA,EAAUuG,OAAOC,OAAO,CAAE,EAAExG,IACpBq/C,eAAgB,EACxBr/C,EAAQs/C,oBAAqB,EAC7BJ,iBAAel/C,EAAQm1C,SAAU,oBACjCn1C,EAAQm1C,SAAW5uC,OAAOC,OAAO,CAAA,EAAIxG,EAAQm1C,UAG7Cn1C,EAAQu/C,qBAAuBv/C,EAAQu/C,sBACrC5jD,KAAK0+B,KAAKmlB,gBACZx/C,EAAQy/C,oBAAsBz/C,EAAQy/C,qBACpC9jD,KAAK0+B,KAAKqlB,eAEZ1/C,EAAQ2/C,mBAAqB3/C,EAAQ2/C,qBACLhkD,KAAKikD,OAAS,CAAE,GAAoB,mBACpE5/C,EAAQ6/C,oBAAsB7/C,EAAQ6/C,sBACNlkD,KAAKikD,OAAS,CAAE,GAAqB,oBAC9D5/C,CACR,CAED,SAAS8/C,uBAAqB9/C,EAAS+/C,GAErC,IAAIC,GADJhgD,EAAUo/C,kBAAkB9a,KAAK3oC,KAAKqE,IACVggD,cAAgB,GAO5C,OANIrkD,KAAKskD,cACPD,EAAc5gD,KAAK,MACK,GAAtBY,EAAQkgD,YAAuBvkD,KAAKskD,cACtCD,EAAc5gD,KAAK,iBACFtD,IAAfikD,QAAmDjkD,IAAvBkE,EAAQ+/C,aACtC//C,EAAQ+/C,WAAaA,GAChB//C,CACR,CAEH,IAAEmgD,eAAiB,CACnBL,qBAAIA,wBCnCJ,MAAQ3d,IAAAA,OAAQlmC,sBACVkN,aAACA,cAAgBE,4BACjB+2C,QAAU72C,sBAAe,QAAC62C,SAC1BjC,eAACA,eAAiBe,eAAAA,oCAAiBH,sBAAwBt1C,SAC3Dq2C,qBAACA,sBAAyBn2C,eAC1B0wB,OAAOzwB,cAAAA,QACP0wB,QAAQzwB,eAAAA,SACPg5B,OAAAA,UAAU/4B,wBACjB,SAASu2C,aAAaC,EAAYje,GAChC,MAAMpN,EAAQoN,EAAI/N,UAClB/tB,OAAOqR,KAAKqd,GAAO/zB,SAAStF,KACI,GAA1B0kD,EAAUppC,QAAQtb,IAEC,GAAnBA,EAAKsb,QAAQ,MAAiC,mBAAf+d,EAAMr5B,IACvC0kD,EAAUlhD,KAAKxD,EAChB,GAEL,CACA,MAAM2kD,qBAAuB,GAG7BF,aAAaE,qBAAsBlmB,OAAKmmB,eACxCH,aAAaE,qBAAsBlmB,OAAKomB,iBACxCJ,aAAaE,qBAAsBp3C,cACnCk3C,aAAaE,qBAAsB1d,UAEnC,MAAM6d,oBAAsB,CAC1B,mBACA,mBACA,eAEIC,kBAAoB,CAAC,OAAS,cAE9BC,OAASjpB,OAAO,SAEtB,SAAS6oB,kBACP7kD,KAAKklD,YAAa,EAClBllD,KAAKilD,QAAU,GACb,IAAK,IAAIz7C,EAAE,EAAEA,EAAEo7C,qBAAqB3jD,OAAOuI,IAAI,CAC7C,IAAIvJ,EAAO2kD,qBAAqBp7C,GAC3Bq7C,gBAAclsB,UAAU14B,KAC3BD,KAAKC,GAAQ,WACX,OAAOD,KAAKmlD,eAAellD,EAAOuD,UAC5C,EAAUwU,KAAKhY,MAEV,CAED,IAAIwkD,EAAiBlL,EAAGxZ,EAAMp6B,EAC9B,MAAM0/C,EAAa5hD,UAAU,aAAc6hD,uBAC3C,IAAIC,EAAiBC,EACrB,GAAIH,EAAW,CACb,MAAMI,EAAiBhiD,UAAU,GAC5BgiD,EAAe7Y,SAClB2Y,EAAmBE,EAAe7Y,QAC/B6Y,EAAevf,WAClBsf,EAAqBC,EAAevf,SACvC,CAqBD,GAde9lC,OALbuF,EADE0/C,EACK5hD,UAAU,GAAGkC,KAGblC,WAEA,IACPs8B,EAAMp6B,EAAK,GACX8+C,EAAiB9+C,EAAK,GACtB4zC,EAAK5zC,EAAK,IAEOvF,MAAXuF,EAAK,GACX8+C,EAAiB9+C,EAAK,IAGtB8+C,EAAiB9+C,EAAK,GACtB4zC,EAAK5zC,EAAK,IAEZ4zC,EAAKA,GAAM,aAEmB,iBAAnBkL,GAET,KADAA,EAAiBiB,eAAa,IAAIjf,MAAIge,KAClBte,SAClB,MAAM,IAAIzmC,MAAM,4CAKhB+kD,EAAiBC,QADf3kB,EACuB2lB,eAAa,IAAIjf,MAAI1G,IAGrB,GAH4B0kB,GAOrDe,GAAoBA,IACtBf,EAAeve,SAAWsf,GAGG,UAA3Bf,EAAeve,UAAyBue,EAAe9gB,MAA8B,GAAtB8gB,EAAe9gB,OAChF8gB,EAAe9gB,KAAO,KAEnB8gB,EAAe9gB,MAA8B,GAAtB8gB,EAAe9gB,OACzC8gB,EAAe9gB,KAAO,IAEpB4hB,EACFd,EAAe7X,OAAS2Y,EAEhBd,EAAe7X,SACvB6X,EAAe7X,OAAS,OAE1B6X,EAAe7X,OAAS6X,EAAe7X,OAAOtgC,eAEvBm4C,EAAekB,gBAAkB1lD,KAAK2lD,iBAAiBnB,IAC/DoB,oBAAoB5lD,KAAOwkD,EAAiBlL,EAC/D,CACAuL,gBAAclsB,UAAY,CACxBgtB,iBAAiBthD,GACXA,EAAQ8qC,MACwB,UAA1B9qC,EAAQ8qC,MAAMlJ,SAAuB4f,eAAaC,cAAgBC,cAAYD,cAE/EE,qBAAmBF,cAE9BX,eAAexY,EAASjnC,GACtB,OAAI1F,KAAKilD,SACPjlD,KAAKilD,QAAQxhD,KAAK,CAACkpC,EAAOjnC,KACnB,GAGA1F,KAAK2sC,MAAWnpC,UAC1B,EACDmQ,GAAGsyC,EAAY3M,GACI,YAAb2M,IACG3M,EAAG4M,YAEN1iD,UAAU,GADVyiD,EAAY,mBAIZjmD,KAAKmmD,IACPnmD,KAAKmmD,OAAO3iD,WAGZxD,KAAKmlD,eAAe,KAAO3hD,UAE9B,EACDotC,KAAKqV,EAAY3M,GACE,YAAb2M,IACG3M,EAAG4M,YACND,EAAY,mBAGZjmD,KAAKomD,MACPpmD,KAAKomD,SAAS5iD,WAGdxD,KAAKmlD,eAAe,OAAS3hD,UAEhC,EACD6iD,UAAUhmD,GACR,IAAIL,KAAKilD,QAQP,OAAOjlD,KAAKwa,KAAK,QAASna,GAP1BL,KAAKilD,QAAQ1/C,SAAQ,EAAEonC,EAAQjnC,MACb,OAAXinC,GAA8B,SAAXA,GAAkC,UAAZjnC,EAAK,IACjDA,EAAK,GAAGrF,EACT,GAKN,EACDimD,KAAKvxB,GAEH,IAAK,IAAIvrB,EAAE,EAAEA,EAAEo7C,qBAAqB3jD,OAAOuI,IAAI,CAC7C,IAAIvJ,EAAO2kD,qBAAqBp7C,GAC5BurB,EAAO90B,KACTD,KAAKC,GAAQ80B,EAAO90B,GAAM+X,KAAK+c,GAKlC,CACD/0B,KAAKmmD,IAAMpxB,EAAOphB,GAAGqE,KAAK+c,GAC1B/0B,KAAKomD,MAAQrxB,EAAO6b,KAAK54B,KAAK+c,GAC9B/0B,KAAKumD,WAAWxxB,GAGhB,IAAK,IAAIvrB,EAAI,EAAGA,EAAExJ,KAAKilD,QAAShkD,OAAOuI,IAAI,CACzC,IAAIg9C,EAAOxmD,KAAKilD,QAASz7C,GACzBurB,EAAOyxB,EAAK,OAAOA,EAAK,GACzB,CACDxmD,KAAKilD,QAAU,IAChB,EACDsB,WAAWE,GACT,SAASC,IACP,OAAOD,EAAYzmD,KACpB,CACD,SAAS2mD,EAAOxlD,GACdslD,EAAYzmD,MAAQmB,CACrB,CACD,MAAMylD,EAAa,CAAC,KAAO,MAAM,QAAU,OAAO,cAAcrlD,OAAOqjD,sBACjE3oC,EAAOrR,OAAOqR,KAAKjc,MACnB6mD,EAAc,GAAGtlD,OAAOwjD,qBAC9B9oC,EAAK1W,SAAQ,SAAwBqG,IACH,GAA5Bg7C,EAAWrrC,QAAQ3P,KAAyC,GAA3Bi7C,EAAYtrC,QAAQ3P,IACvDi7C,EAAYpjD,KAAKmI,EAEzB,IACI,MAAMq1C,EAAar2C,OAAOk8C,0BAA0BL,GACpD,IAAK,IAAIj9C,EAAE,EAAEA,EAAEq9C,EAAY5lD,OAAOuI,IAAI,CACpC,IAAIvJ,EAAO4mD,EAAYr9C,GACvB,MAAMu9C,EAAa9F,EAAWhhD,GAC9B,IAAI+mD,EACCD,IACHC,GAAkB,GAChBD,IAAeA,EAAWje,UAAYie,KACxCC,GAAkB,GAEhBA,IACFP,EAAYxmD,GAAQD,KAAKC,IAE3B2K,OAAOmf,eAAe/pB,KAAOC,EAAO,CAClCgM,IAAMy6C,EAAO1uC,KAAK/X,GAClB0L,IAAMg7C,EAAO3uC,KAAK/X,IAErB,CAEF,GAIH,MAAM+lD,6BAA2Bx4C,aAC/B9N,YAAY2E,GACVvE,QACAE,KAAKinD,WAAatoB,QAAMuoB,YACxBlnD,KAAKmnD,UAAYzoB,OAAKwoB,YACtBlnD,KAAKusC,KAAKloC,EACX,CACD+a,MACC,CACDmtB,KAAKloC,GACHA,EAAUA,GAAW,GACrBrE,KAAKonD,aAAe,GACpBpnD,KAAKqnD,kBAAoB,GACzBrnD,KAAKsnD,aACLtnD,KAAKunD,eAAiB,IAAI/E,eAAe,SAAwB52C,GAC/D5L,KAAKof,IAAI,YAAcxT,GACvB,IAAI47C,EAAkBxnD,KAAKonD,aAAax7C,GACpC47C,GACFxnD,KAAKynD,kBAAkB77C,EAAM47C,EAEhC,EAACxvC,KAAKhY,MAAQ,KAEfA,KAAK0nD,6BAA+BrjD,EAAQqjD,8BAAgC,IAE5E1nD,KAAKunD,eAAe1E,SAASx+C,EAAQsjD,qBACjCtjD,EAAQujD,QACV5nD,KAAK6nD,gBAAkB,QAEjBxjD,EAAQyjD,WACd9nD,KAAK6nD,gBAAkB,SAE1B,CACDP,aACEtnD,KAAW,KAAIiO,sBACfjO,KAAY,MAAIkO,uBAChBlO,KAAU,IAAIoO,4BACdpO,KAAU,IAAIqO,4BACdrO,KAAKskD,cAAe,EACpB,IACEtkD,KAAY,MAAI+oC,QAAQ,SACxB/oC,KAAKskD,cAAe,CACrB,CACD,MAAM5xC,GAEL,CACF,CACDkzC,oBAAoBmC,EAAgBvD,EAAgBlL,GAClD,MAAMoM,EAAiB1lD,KACjBgoD,EAAYtC,EAAeuC,aAAazD,GAE9C,GAAIkB,EAAewC,oBAAoBF,GAAW,CAChD,MAAMnX,EAAS6U,EAAeyC,eAAeH,GACvCI,EAAoB,CACxBC,iBAAgB,IACPxX,GAGX9iC,QAAQs0C,SAAS,WACfqD,EAAe4C,YAAaP,EAAeC,EAAaxD,EAAgBlL,EAAK8O,EACrF,EAAQpwC,KAAK0tC,GACR,MAECA,EAAe6C,+BAA+BP,EAAYxD,EAAiB,SAA0BnkD,EAAQ+nD,GACvG/nD,EACF0nD,EAAc1B,UAAUhmD,GAI1BqlD,EAAe4C,YAAYP,EAAgBC,EAAYxD,EAAgBlL,EAAK8O,EACpF,EAAQpwC,KAAK0tC,GACV,CACDuC,aAAanoB,GACX,MAAO,GAAGA,EAAImG,UAAYjmC,KAAK6nD,kBAAkB/nB,EAAIskB,YAActkB,EAAIuC,MAAQvC,EAAIoG,YAAYpG,EAAI4D,MACpG,CACDykB,eAAeH,GACb,OAAOhoD,KAAKonD,aAAaY,EAC1B,CACDQ,eAAeR,EAAY/P,GACzB,MAAMwQ,EAAczoD,KACd0oD,EAAaD,EAAYrB,aAAaY,GAK5C,SAASW,IACPF,EAAYhB,kBAAkBO,EAAY/P,EAC3C,CANGyQ,GACFD,EAAYhB,kBAAkBO,EAAYU,GAC5CD,EAAYrB,aAAaY,GAAa/P,EAKtCA,EAAOtkC,GAAG,QAAUg1C,GACpB1Q,EAAOtkC,GAAG,SAAWg1C,GACrB1Q,EAAOtkC,GAAG,QAAUg1C,GACpB1Q,EAAOtkC,GAAG,aAAeg1C,GACzB1Q,EAAOtkC,GAAG,UAAYg1C,EAEvB,CACDlB,kBAAkBO,EAAY/P,GAC5B,WACSj4C,KAAKonD,aAAaY,GACpB/P,EAAO2Q,QACV3Q,EAAO7kB,OAEV,CACD,MAAM1gB,GAEL,CACDulC,EAAO4Q,mBAAmB,SAC1B5Q,EAAO4Q,mBAAmB,SAC1B5Q,EAAO4Q,mBAAmB,cAC1B5Q,EAAO4Q,mBAAmB,UAC3B,CACDxZ,QAAQvP,EAAKz7B,EAASi1C,GACpB,IAAI5zC,EAAO,IAAI2/C,uBAAuB7hD,WAItC,OAHIxD,KAAK6nD,kBACPniD,EAAKugC,SAAWjmC,KAAK6nD,iBAEhB,IAAIhD,gBAAcn/C,EAC1B,CACDuG,MACE,IAAIvG,EAAO,IAAI2/C,uBAAuB7hD,WACtCkC,EAAKinC,OAAS,MACd,IAAI0C,EAAUrvC,KAAKqvC,QAAQ3pC,GAE3B,OADA2pC,EAAQvS,MACDuS,CACR,CACD6Y,oBAAoBF,GAElB,QADoBhoD,KAAKmoD,eAAeH,IAIjChoD,KAAKqnD,kBAAkBW,GAAahoD,KAAK0nD,6BAA+B/rB,KAAKmtB,KACrF,CACDR,YAAYS,EAAWf,EAAaxD,EAAgBlL,EAAM8O,GACxD,MAAMY,EAAchpD,KAAKmoD,eAAeH,GACxC,OAAIgB,EACOhpD,KAAKipD,iBAAiBjB,EAAYe,EAAWC,EAAap+C,OAAOC,OAAOu9C,GAAqB,CAAE,EAAE5D,GAAiBlL,IAGxHkL,EAAerV,QACa,UAA3BqV,EAAeve,SACjBue,EAAerV,MAAQnvC,KAAKinD,WAE5BzC,EAAerV,MAAQnvC,KAAKmnD,WAEzBnnD,KAAKkpD,gBAAgBlB,EAAYe,EAAWvE,EAAgBlL,EAAK8O,GACzE,CACDG,+BAA+BP,EAAYxD,EAAkBlL,GAC3D,MAAM6P,EAAQ,YAAYnB,IAE1B,GAAIhoD,KAAKopD,QAAQD,GACfnpD,KAAK4wC,KAAKuY,EAAQ7P,OAChB,CAEFt5C,KAAK4wC,KAAKuY,GAAQ,WAAkC,IACpD,MAAMtY,EAAS7wC,KAAKqpD,mBAAmB7E,EAAiB,SAAoBnkD,EAAQynC,GAClF,GAAIznC,EACF,OAAOi5C,EAAGj5C,GAGZ,IAAIgE,EAAU,CACZgkD,iBAAgB,IACPxX,GAGX,GAAa,MAAR/I,GAAgB9nC,KAAKskD,aAAa,CACrC,IAAI0E,EAAehpD,KAAKikD,MAAMqF,QAAQ9E,EAAgBngD,GACtDrE,KAAKwoD,eAAeR,EAAYgB,EACjC,MAIChpD,KAAKqnD,kBAAkBW,GAAarsB,KAAKmtB,MAG3CxP,EAAG,KAAMj1C,GACTrE,KAAKwa,KAAK2uC,EAAQ9kD,EAC1B,EAAQ2T,KAAKhY,MACR,CAEF,CACDkpD,gBAAgBlB,EAAYe,EAAW1kD,EAAUi1C,EAAK8O,GAChD/jD,aAAmBmiC,QACrBniC,EAAUohD,eAAaphD,IAEzB,MAAMklD,EAAO9E,QAAQ,CAAE,EAAGpgD,GACtB+jD,IACFmB,EAAKlB,iBAAmBD,EAAkBC,kBAE5C,MACM7X,GADiC,UAAjB+Y,EAAKtjB,SAAuBjmC,KAAK2+B,MAAQ3+B,KAAK0+B,MAC1C2Q,QAAQka,EAAMjQ,GAExCyP,EAASzC,KAAK9V,GACduY,EAAS5C,IAAI,YAAa,SAAyB7sC,GAAGtZ,KAAKwa,KAAK,iBAAmBlB,EAAE,GAEtF,CACD2vC,iBAAiBjB,EAAYe,EAAWC,EAAcxE,EAAiBlL,GACnE,IAAIiO,EAAiBvnD,KAAKunD,eAC1BA,EAAezE,MAAMkF,GACrB,IAAIzd,EAAWka,QAAQ,CAAA,EAAKD,EAAeja,SAAW,CAAA,GAClDia,EAAe7X,SACjBpC,EAAQ,WAAaia,EAAe7X,QAClC6X,EAAe72C,OACjB48B,EAAQ,SAAWia,EAAe72C,MAEpC/C,OAAOqR,KAAKsuB,GAAShlC,SAASqG,KACiC,GAAvDo5C,kBAAkBzpC,SAAU3P,EAAI,IAAI6zB,uBAC/B8K,EAAQ3+B,EAChB,IAEL44C,EAAeja,QAAUA,EACzB,IAAIiG,EAAOwY,EAAY3Z,QACrB9E,GAIF,IAAIif,EAFJT,EAASvuC,KAAK,SAAWgqC,EAAe6D,oBAGxC,IAAIoB,EAAiB,EAQrB,SAASC,EAAWnf,GAClBif,EAAmB7qC,SAAS4rB,EAAQ,mBAChCif,EAAmB,GACrBxpD,KAAKunD,eAAetE,eAAe+E,GAErChC,qBAAmB2D,uBAAuBnZ,EAAMgU,EAAiBja,GACjEwe,EAASvuC,KAAK,iBAAmBg2B,GAC7B8I,GACFA,EAAG9I,EACN,CAfDA,EAAI78B,GAAG,QAAS,SAAgB6/B,GAC9BiW,GAAgBjW,EAAKvyC,OACjBwoD,GAAiBD,GACnBjC,EAAetE,eAAe+E,EACxC,IACMe,EAASzC,KAAK9V,GAWdkZ,EAAWxD,WAAY,EACvB1V,EAAII,KAAK,WAAa8Y,EAAW1xC,KAAKhY,MACzC,CACD4pD,8BAA8B9lB,EAAM0gB,EAAiBja,GACnDzG,EAAI+lB,YAAc,MAClB/lB,EAAI0I,WAAajC,EACjBzG,EAAIyG,QAAUA,EACdzG,EAAIqN,WAAa5G,EAAQ,kBAClBA,EAAQ,UAChB,CACD8e,mBAAmB7E,EAAiBlL,GAClC,IAAIzI,EAAS7wC,KAAKspD,QAAS9E,EAAgB,CAAED,YAAY,IAAQ,WAC/D1T,EAAOiZ,eAAe,QAASxQ,GAEJ,MAAvBzI,EAAOkZ,aACTzQ,EAAG,KAAM,OAITzI,EAAO/T,MACPwc,EAAG,KAAM,MAEjB,IAEI,OADAzI,EAAOl9B,GAAG,QAAS2lC,GACZzI,CACR,CACDyY,QAAQU,EAAW3lD,EAASkO,GACH,mBAAZlO,IACTkO,EAAWlO,EACXA,OAAUlE,GAGZojD,eAAel/C,EAAS,WACxBA,EAAUuG,OAAOC,OAAO,CAAE,EAAExG,GAEH,iBAAd2lD,IACTA,EAAY,IAAIxjB,MAAIwjB,IAEtBzG,eAAeyG,EAAW,YAAa,CAAC,SAAU,SAAU,QAE5D,IAKInZ,EALA5K,EAAW+jB,EAAU/jB,UAAY5hC,EAAQ4hC,WAAqC,UAAxBjmC,KAAK6nD,gBAA8B7nD,KAAK6nD,gBAAkB,OAAS,QACzHnkB,EAAO,IAAyB,KAAnBsmB,EAAUtmB,KACzBsmB,EAAUtmB,KAA+B,UAAvBsmB,EAAU/jB,SAAuB,GAAK,KACtD5D,EAAO2nB,EAAU9jB,UAAY8jB,EAAU3nB,MAAQ,YAGnD,GAAwC,mBAA7Bh+B,EAAQgkD,iBACjBxX,EAASxsC,EAAQgkD,iBAAiB2B,EAAW3lD,QAE7C,OAAQ4hC,GACN,IAAK,QACF4K,EAAS7wC,KAAKiqD,IAAIX,QAAQ5lB,EAAMrB,EAAO9vB,GACxC,MACF,IAAK,SACFs+B,EAAS7wC,KAAKkqD,IAAIZ,QAAQ5lB,EAAMrB,EAAM8hB,qBAAqBxb,KAAK3oC,KAAOqE,EAASg+B,GAAQ9vB,GACzF,MACF,QACE,MAAM,IAAI9S,MAAM,eAAiBwmC,GAGvC,OAAO4K,CACR,EAEH,SAAS4U,eAAa3lB,GACpB,IAAIz7B,EAAU,CACZ4hC,SAAUnG,EAAImG,SACdC,SAAUpG,EAAIoG,SACdE,KAAMtG,EAAIsG,KACVvI,OAAQiC,EAAIjC,OACZsI,SAAUrG,EAAIqG,SACdx4B,KAAM,GAAGmyB,EAAIqG,WAAWrG,EAAIjC,SAC5BkI,KAAMjG,EAAIiG,MAQZ,MANiB,KAAbjG,EAAI4D,OACNr/B,EAAQq/B,KAAOpP,OAAOwL,EAAI4D,QAExB5D,EAAIqD,UAAYrD,EAAIsD,YACtB/+B,EAAQ8lD,KAAO,GAAGrqB,EAAIqD,YAAYrD,EAAIsD,YAEjC/+B,CACT,CACA,MAAMghD,uBACJ3lD,YAAYgG,GACV,GAAIA,EAAK,aAAc2/C,uBACrB,OAAO3/C,EAAK,GAEd1F,KAAK0F,KAAOA,EACZ1F,KAAK2sC,OAAS,KACd3sC,KAAKimC,SAAW,IACjB,EAGH,MAAM4f,uBAAqBG,qBACvBtmD,cACII,SAAS0D,WACTxD,KAAKoqD,MAAQzrB,QAAMyrB,MACnBpqD,KAAKknD,YAAcvoB,QAAMuoB,YACzBlnD,KAAK6nD,gBAAkB,QAC1B,EAEL,MAAMwC,qBAAuB,IAAIxE,eACjCA,eAAaC,cAAgBuE,qBAC7BxE,eAAayE,QAAUzE,eAEvB,MAAME,sBAAoBC,qBACtBtmD,cACII,SAAS0D,WACTxD,KAAKoqD,MAAQ1rB,OAAK0rB,MAClBpqD,KAAKknD,YAAcxoB,OAAKwoB,YACxBlnD,KAAK6nD,gBAAkB,OAC1B,EAEL,MAAM0C,oBAAsB,IAAIxE,cAChCA,cAAYD,cAAgByE,oBAC5BxE,cAAYuE,QAAUvE,cAEtB,MAAMyE,qBAAuB,IAAIxE,qBACjCwE,qBAAqB3C,gBAAkB,SACvC7B,qBAAmBF,cAAgB0E,qBAEnC,IAAAnb,UAAiB,CACjB0W,YAAEA,cACFF,aAAEA,eACA4E,qBAAuB5F,gBACzBA,cAAEA,gBACFmB,mBAAEA,sBCvkBF,MAAMD,YACFA,0BAAYlB,iBACZvkD,UAEEwlD,gBAAgBC,YAAYD,cAC5BzW,UAAUyW,gBAAczW,QAAQr3B,KAAK8tC,iBACrC75C,MAAM65C,gBAAc75C,IAAI+L,KAAK8tC,iBAE7BpnB,OAAO9zB,OAAOC,OAAO,CAAE,EAAC6C,cAAe,SAE7C,IAAAg9C,OAAiB9/C,OAAOC,OAAO6zB,OAAO,CACtCmmB,cAAIA,gBACJiB,cAAIA,gBACJzW,QAAIA,UACJpjC,IAAIA,QCdJ,MAAM45C,aACFA,aACJhB,cAAIA,iBACAvkD,UAEEwlD,cAAgBD,aAAaC,cAC7BzW,UAAUyW,cAAczW,QAAQr3B,KAAK8tC,eACrC75C,MAAM65C,cAAc75C,IAAI+L,KAAK8tC,eAE7BnnB,QAAQ/zB,OAAOC,OAAO,CAAE,EAAC6C,eAAgB,SAE/C,IAAAi9C,QAAiB//C,OAAOC,OAAO8zB,QAAQ,CACvCkmB,cAAIA,gBACAiB,4BACJzW,QAAIA,UACJpjC,IAAIA,QChBJ,MAAM+5C,mBACFA,mBAAkByE,qBAAGA,qBAAoB5F,cAACA,eAC1CvkD,UACEo+B,OAAOhxB,OACPixB,QAAQ/wB,QAERg9C,kBAAoB,IAAI5E,mBAC9BA,mBAAmBF,cAAgB8E,kBACnC,MAAMvb,QAAUub,kBAAkBvb,QAAQr3B,KAAK4yC,mBACzC3+C,IAAM2+C,kBAAkB3+C,IAAI+L,KAAK4yC,mBAGvC,IAAAvwB,MAAiB,CACbowB,0CACA5F,4BACAiB,cAAgBE,mBAAmBF,cACnCzW,gBACApjC,QACAyyB,KAAMA,OACNC,MAAOA,2CCVX,MAAMwI,OAASnL,OAAO,UAChBoL,KAAOpL,OAAO,QAEpB,MAAMqL,OACL3nC,cACCM,KAAKonC,MAAQ,GAEb,MAAME,EAAY9jC,UAAU,GACtBa,EAAUb,UAAU,GAEpB+jC,EAAU,GAEhB,GAAID,EAAW,CACd,MAAM3jC,EAAI2jC,EACJrmC,EAASqzB,OAAO3wB,EAAE1C,QACxB,IAAK,IAAIuI,EAAI,EAAGA,EAAIvI,EAAQuI,IAAK,CAChC,MAAMi+B,EAAU9jC,EAAE6F,GAClB,IAAIg2B,EAEHA,EADGiI,aAAmBzpB,OACbypB,EACCC,YAAYC,OAAOF,GACpBzpB,OAAO/Q,KAAKw6B,EAAQjI,OAAQiI,EAAQG,WAAYH,EAAQI,YACvDJ,aAAmBC,YACpB1pB,OAAO/Q,KAAKw6B,GACXA,aAAmBJ,OACpBI,EAAQN,QAERnpB,OAAO/Q,KAAwB,iBAAZw6B,EAAuBA,EAAUpR,OAAOoR,IAErEF,EAAQ9jC,KAAK+7B,EACb,CACD,CAEDx/B,KAAKmnC,QAAUnpB,OAAOzc,OAAOgmC,GAE7B,IAAIO,EAAOzjC,QAA4BlE,IAAjBkE,EAAQyjC,MAAsBzR,OAAOhyB,EAAQyjC,MAAMrI,cACrEqI,IAAS,mBAAmBl+B,KAAKk+B,KACpC9nC,KAAKonC,MAAQU,EAEd,CACGN,WACH,OAAOxnC,KAAKmnC,QAAQlmC,MACpB,CACG6mC,WACH,OAAO9nC,KAAKonC,KACZ,CACDpmC,QACC,MAAMwmC,EAAOxnC,KAAKwnC,KAEZ3K,EAAQr5B,UAAU,GAClBs5B,EAAMt5B,UAAU,GACtB,IAAI4kC,EAAeC,EAElBD,OADajoC,IAAV08B,EACa,EACNA,EAAQ,EACFx2B,KAAKF,IAAIqhC,EAAO3K,EAAO,GAEvBx2B,KAAKyG,IAAI+vB,EAAO2K,GAGhCa,OADWloC,IAAR28B,EACW0K,EACJ1K,EAAM,EACFz2B,KAAKF,IAAIqhC,EAAO1K,EAAK,GAErBz2B,KAAKyG,IAAIgwB,EAAK0K,GAE7B,MAAMc,EAAOjiC,KAAKF,IAAIkiC,EAAcD,EAAe,GAG7CG,EADSvoC,KAAKmnC,QACQnmC,MAAMonC,EAAeA,EAAgBE,GAC3DE,EAAO,IAAInB,OAAK,GAAI,CAAES,KAAMtkC,UAAU,KAE5C,OADAglC,EAAKrB,QAAUoB,EACRC,CACP,EA8BF,SAASC,WAAW5oC,EAASioC,EAAMY,GACjCjpC,MAAMkpC,KAAK3oC,KAAMH,GAEjBG,KAAKH,QAAUA,EACfG,KAAK8nC,KAAOA,EAGRY,IACF1oC,KAAKJ,KAAOI,KAAK4oC,MAAQF,EAAY9oC,MAIvCH,MAAMM,kBAAkBC,KAAMA,KAAKN,YACrC,CAMA,IAAIkpB,QA9CJhe,OAAO2uB,iBAAiB8N,OAAK1O,UAAW,CACvC6O,KAAM,CAAEvX,YAAY,GACpB6X,KAAM,CAAE7X,YAAY,GACpBjvB,MAAO,CAAEivB,YAAY,KAGtBrlB,OAAOmf,eAAesd,OAAK1O,UAAWqD,OAAO6M,YAAa,CACzD1nC,MAAO,OACP2nC,UAAU,EACV7Y,YAAY,EACZC,cAAc,IAgCfuY,WAAW9P,UAAY/tB,OAAOqtB,OAAOx4B,MAAMk5B,WAC3C8P,WAAW9P,UAAUj5B,YAAc+oC,WACnCA,WAAW9P,UAAU14B,KAAO,aAG5B,IACC2oB,QAAUmgB,QAAQ,YAAYngB,OAC/B,CAAE,MAAOoV,GAAK,CAEd,MAAMgL,UAAYhN,OAAO,kBAGnBiN,YAAc/B,gBAAM,QAAC+B,YAW3B,SAASC,KAAKC,GACb,IAAIC,EAAQppC,KAERqpC,EAAO7lC,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,CAAE,EAC7E8lC,EAAYD,EAAK7B,KAErB,IAAIA,OAAqBrnC,IAAdmpC,EAA0B,EAAIA,EACzC,IAAIC,EAAeF,EAAKG,QACxB,IAAIA,OAA2BrpC,IAAjBopC,EAA6B,EAAIA,EAEnC,MAARJ,EAEHA,EAAO,KACGM,oBAAkBN,GAE5BA,EAAOnrB,OAAO/Q,KAAKk8B,EAAK9b,YACd8b,aAAgB9B,OAE1B8B,EAAOA,EAAKhC,QACFnpB,OAAOC,SAASkrB,KAA2D,yBAAzCv+B,OAAO+tB,UAAUtL,SAASsb,KAAKQ,GAE3EA,EAAOnrB,OAAO/Q,KAAKk8B,GACTzB,YAAYC,OAAOwB,GAE7BA,EAAOnrB,OAAO/Q,KAAKk8B,EAAK3J,OAAQ2J,EAAKvB,WAAYuB,EAAKtB,YAC5CsB,aAAgBjC,gBAAM,UAGhCiC,EAAOnrB,OAAO/Q,KAAKopB,OAAO8S,MAE3BnpC,KAAKgpC,WAAa,CACjBG,OACAQ,WAAW,EACXtpC,MAAO,MAERL,KAAKwnC,KAAOA,EACZxnC,KAAKwpC,QAAUA,EAEXL,aAAgBjC,gBAAAA,SACnBiC,EAAKx1B,GAAG,SAAS,SAAUjB,GAC1B,MAAMrS,EAAqB,eAAbqS,EAAIzS,KAAwByS,EAAM,IAAI+1B,WAAW,+CAA+CW,EAAMtJ,QAAQptB,EAAI7S,UAAW,SAAU6S,GACrJ02B,EAAMJ,WAAW3oC,MAAQA,CAC5B,GAEA,CAuHA,SAASupC,cACR,IAAIC,EAAS7pC,KAEb,GAAIA,KAAKgpC,WAAWW,UACnB,OAAOT,KAAKnB,QAAQ+B,OAAO,IAAI1O,UAAU,0BAA0Bp7B,KAAK8/B,QAKzE,GAFA9/B,KAAKgpC,WAAWW,WAAY,EAExB3pC,KAAKgpC,WAAW3oC,MACnB,OAAO6oC,KAAKnB,QAAQ+B,OAAO9pC,KAAKgpC,WAAW3oC,OAI5C,GAAkB,OAAdL,KAAKmpC,KACR,OAAOD,KAAKnB,QAAQzxB,QAAQ0H,OAAO+rB,MAAM,IAI1C,GAAI/rB,OAAOC,SAASje,KAAKmpC,MACxB,OAAOD,KAAKnB,QAAQzxB,QAAQtW,KAAKmpC,MAIlC,KAAMnpC,KAAKmpC,gBAAgBjC,gBAAAA,SAC1B,OAAOgC,KAAKnB,QAAQzxB,QAAQ0H,OAAO+rB,MAAM,IAK1C,IAAIC,EAAQ,GACRC,EAAa,EACbC,GAAQ,EAEZ,OAAO,IAAIhB,KAAKnB,SAAQ,SAAUzxB,EAASwzB,GAC1C,IAAIK,EAGAN,EAAOL,UACVW,EAAaC,YAAW,WACvBF,GAAQ,EACRJ,EAAO,IAAIrB,WAAW,0CAA0CoB,EAAO/J,aAAa+J,EAAOL,aAAc,gBAC7G,GAAMK,EAAOL,UAIXK,EAAOV,KAAKx1B,GAAG,SAAS,SAAUjB,GAChB,eAAbA,EAAIzS,MAEPiqC,GAAQ,EACRJ,EAAOp3B,IAGPo3B,EAAO,IAAIrB,WAAW,+CAA+CoB,EAAO/J,QAAQptB,EAAI7S,UAAW,SAAU6S,GAEjH,IAEEm3B,EAAOV,KAAKx1B,GAAG,QAAQ,SAAUmjB,GAChC,IAAIoT,GAAmB,OAAVpT,EAAb,CAIA,GAAI+S,EAAOrC,MAAQyC,EAAanT,EAAM71B,OAAS4oC,EAAOrC,KAGrD,OAFA0C,GAAQ,OACRJ,EAAO,IAAIrB,WAAW,mBAAmBoB,EAAO/J,mBAAmB+J,EAAOrC,OAAQ,aAInFyC,GAAcnT,EAAM71B,OACpB+oC,EAAMvmC,KAAKqzB,EATV,CAUJ,IAEE+S,EAAOV,KAAKx1B,GAAG,OAAO,WACrB,IAAIu2B,EAAJ,CAIAG,aAAaF,GAEb,IACC7zB,EAAQ0H,OAAOzc,OAAOyoC,GACtB,CAAC,MAAOt3B,GAERo3B,EAAO,IAAIrB,WAAW,kDAAkDoB,EAAO/J,QAAQptB,EAAI7S,UAAW,SAAU6S,GAChH,CATA,CAUJ,GACA,GACA,CAUA,SAAS43B,YAAY9K,EAAQ+K,GAC5B,GAAuB,mBAAZ3hB,QACV,MAAM,IAAInpB,MAAM,gFAGjB,MAAM+qC,EAAKD,EAAQt+B,IAAI,gBACvB,IACI63B,EAAKn7B,EADL8hC,EAAU,QA0Cd,OAtCID,IACH1G,EAAM,mBAAmB9vB,KAAKw2B,IAI/B7hC,EAAM62B,EAAOx+B,MAAM,EAAG,MAAMqsB,YAGvByW,GAAOn7B,IACXm7B,EAAM,iCAAiC9vB,KAAKrL,KAIxCm7B,GAAOn7B,IACXm7B,EAAM,yEAAyE9vB,KAAKrL,GAEhFm7B,IACHA,EAAM,gBAAgB9vB,KAAK8vB,EAAIxV,UAK5BwV,GAAOn7B,IACXm7B,EAAM,mCAAmC9vB,KAAKrL,IAI3Cm7B,IACH2G,EAAU3G,EAAIxV,MAIE,WAAZmc,GAAoC,QAAZA,IAC3BA,EAAU,YAKL7hB,QAAQ4W,EAAQ,QAASiL,GAASpd,UAC1C,CASA,SAASoc,oBAAkB/C,GAE1B,MAAmB,iBAARA,GAA0C,mBAAfA,EAAIgE,QAA+C,mBAAfhE,EAAIiE,QAA4C,mBAAZjE,EAAIz6B,KAA4C,mBAAfy6B,EAAIkE,QAA4C,mBAAZlE,EAAI76B,KAAyC,mBAAZ66B,EAAI/6B,MAKxL,oBAAzB+6B,EAAIhnC,YAAYO,MAAsE,6BAAxC2K,OAAO+tB,UAAUtL,SAASsb,KAAKjC,IAA2D,mBAAbA,EAAIhjC,KACvI,CAQA,SAASmnC,QAAMC,GACd,IAAIC,EAAIC,EACJ7B,EAAO2B,EAAS3B,KAGpB,GAAI2B,EAASG,SACZ,MAAM,IAAIxrC,MAAM,sCAgBjB,OAXI0pC,aAAgBjC,gBAAM,SAAgC,mBAArBiC,EAAK+B,cAEzCH,EAAK,IAAI9B,YACT+B,EAAK,IAAI/B,YACTE,EAAKgC,KAAKJ,GACV5B,EAAKgC,KAAKH,GAEVF,EAAS9B,WAAWG,KAAO4B,EAC3B5B,EAAO6B,GAGD7B,CACR,CAWA,SAASiC,mBAAmBjC,GAG3B,OAAa,OAATA,EAEI,KACmB,iBAATA,EAEV,2BACGM,oBAAkBN,GAErB,kDACGA,aAAgB9B,OAEnB8B,EAAKrB,MAAQ,KACV9pB,OAAOC,SAASkrB,IAGyB,yBAAzCv+B,OAAO+tB,UAAUtL,SAASsb,KAAKQ,IAG/BzB,YAAYC,OAAOwB,GAJtB,KAO+B,mBAArBA,EAAK+B,YAEf,gCAAgC/B,EAAK+B,gBAClC/B,aAAgBjC,wBAGnB,KAGA,0BAET,CAWA,SAASmE,cAAcP,GACtB,MAAM3B,EAAO2B,EAAS3B,KAItB,OAAa,OAATA,EAEI,EACGnrB,OAAOC,SAASkrB,GAEnBA,EAAKloC,OACFkoC,GAAsC,mBAAvBA,EAAKmC,gBAE1BnC,EAAKoC,mBAAsD,GAAjCpC,EAAKoC,kBAAkBtqC,QACrDkoC,EAAKqC,gBAAkBrC,EAAKqC,kBAEpBrC,EAAKmC,gBAMN,IAET,CAQA,SAASG,cAActwB,EAAM2vB,GAC5B,MAAM3B,EAAO2B,EAAS3B,KAGT,OAATA,EAEHhuB,EAAK2hB,MACK9e,OAAOC,SAASkrB,IAE1BhuB,EAAKnL,MAAMm5B,GACXhuB,EAAK2hB,OAGLqM,EAAKgC,KAAKhwB,EAEZ,CA/ZA+tB,KAAKvQ,UAAY,CACZwQ,WACH,OAAOnpC,KAAKgpC,WAAWG,IACvB,EAEG8B,eACH,OAAOjrC,KAAKgpC,WAAWW,SACvB,EAOD3B,cACC,OAAO4B,YAAYjB,KAAK3oC,MAAMwZ,MAAK,SAAUgnB,GAC5C,OAAOA,EAAIhB,OAAOx+B,MAAMw/B,EAAIoH,WAAYpH,EAAIoH,WAAapH,EAAIqH,WAChE,GACE,EAODW,OACC,IAAIgC,EAAKxqC,KAAKuqC,SAAWvqC,KAAKuqC,QAAQt+B,IAAI,iBAAmB,GAC7D,OAAO29B,YAAYjB,KAAK3oC,MAAMwZ,MAAK,SAAUgnB,GAC5C,OAAO51B,OAAOC,OAEd,IAAIw8B,OAAK,GAAI,CACZS,KAAM0C,EAAG/K,gBACN,CACH0H,CAACA,QAAS3G,GAEd,GACE,EAODmL,OACC,IAAIC,EAAS5rC,KAEb,OAAO4pC,YAAYjB,KAAK3oC,MAAMwZ,MAAK,SAAUgmB,GAC5C,IACC,OAAOr4B,KAAKwO,MAAM6pB,EAAOnS,WACzB,CAAC,MAAO3a,GACR,OAAOw2B,KAAKnB,QAAQ+B,OAAO,IAAIrB,WAAW,iCAAiCmD,EAAO9L,eAAeptB,EAAI7S,UAAW,gBAChH,CACJ,GACE,EAODwe,OACC,OAAOurB,YAAYjB,KAAK3oC,MAAMwZ,MAAK,SAAUgmB,GAC5C,OAAOA,EAAOnS,UACjB,GACE,EAODmS,SACC,OAAOoK,YAAYjB,KAAK3oC,KACxB,EAQD6rC,gBACC,IAAIC,EAAS9rC,KAEb,OAAO4pC,YAAYjB,KAAK3oC,MAAMwZ,MAAK,SAAUgmB,GAC5C,OAAO8K,YAAY9K,EAAQsM,EAAOvB,QACrC,GACE,GAIF3/B,OAAO2uB,iBAAiB2P,KAAKvQ,UAAW,CACvCwQ,KAAM,CAAElZ,YAAY,GACpBgb,SAAU,CAAEhb,YAAY,GACxB+X,YAAa,CAAE/X,YAAY,GAC3BuY,KAAM,CAAEvY,YAAY,GACpB0b,KAAM,CAAE1b,YAAY,GACpB5R,KAAM,CAAE4R,YAAY,KAGrBiZ,KAAK6C,MAAQ,SAAUzS,GACtB,IAAK,MAAMr5B,KAAQ2K,OAAOixB,oBAAoBqN,KAAKvQ,WAElD,KAAM14B,KAAQq5B,GAAQ,CACrB,MAAMtoB,EAAOpG,OAAOkxB,yBAAyBoN,KAAKvQ,UAAW14B,GAC7D2K,OAAOmf,eAAeuP,EAAOr5B,EAAM+Q,EACnC,CAEH,EAsTAk4B,KAAKnB,QAAUiE,OAAOjE,QAQtB,MAAMkE,kBAAoB,gCACpBC,uBAAyB,0BAE/B,SAASC,aAAalsC,GAErB,GADAA,EAAO,GAAGA,IACNgsC,kBAAkBriC,KAAK3J,GAC1B,MAAM,IAAIm7B,UAAU,GAAGn7B,oCAEzB,CAEA,SAASmsC,cAAcjrC,GAEtB,GADAA,EAAQ,GAAGA,IACP+qC,uBAAuBtiC,KAAKzI,GAC/B,MAAM,IAAIi6B,UAAU,GAAGj6B,qCAEzB,CAUA,SAASqE,KAAKG,EAAK1F,GAClBA,EAAOA,EAAKw/B,cACZ,IAAK,MAAM7zB,KAAOjG,EACjB,GAAIiG,EAAI6zB,gBAAkBx/B,EACzB,OAAO2L,CAIV,CAEA,MAAMygC,IAAMrQ,OAAO,OACnB,MAAMsQ,QAOL5sC,cACC,IAAI6sC,EAAO/oC,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,QAAKrD,EAI/E,GAFAH,KAAKqsC,KAAOzhC,OAAOqtB,OAAO,MAEtBsU,aAAgBD,QAApB,CACC,MAAME,EAAaD,EAAKld,MAClBod,EAAc7hC,OAAOqR,KAAKuwB,GAEhC,IAAK,MAAME,KAAcD,EACxB,IAAK,MAAMtrC,KAASqrC,EAAWE,GAC9B1sC,KAAK0qC,OAAOgC,EAAYvrC,EAK1B,MAID,GAAY,MAARorC,OAAqB,IAAoB,iBAATA,EA+BnC,MAAM,IAAInR,UAAU,0CA/BkC,CACtD,MAAMuR,EAASJ,EAAKvQ,OAAO4Q,UAC3B,GAAc,MAAVD,EAAgB,CACnB,GAAsB,mBAAXA,EACV,MAAM,IAAIvR,UAAU,iCAKrB,MAAMyR,EAAQ,GACd,IAAK,MAAMC,KAAQP,EAAM,CACxB,GAAoB,iBAATO,GAAsD,mBAA1BA,EAAK9Q,OAAO4Q,UAClD,MAAM,IAAIxR,UAAU,qCAErByR,EAAMppC,KAAKpC,MAAM4L,KAAK6/B,GACtB,CAED,IAAK,MAAMA,KAAQD,EAAO,CACzB,GAAoB,IAAhBC,EAAK7rC,OACR,MAAM,IAAIm6B,UAAU,+CAErBp7B,KAAK0qC,OAAOoC,EAAK,GAAIA,EAAK,GAC1B,CACL,MAEI,IAAK,MAAMlhC,KAAOhB,OAAOqR,KAAKswB,GAAO,CACpC,MAAMprC,EAAQorC,EAAK3gC,GACnB5L,KAAK0qC,OAAO9+B,EAAKzK,EACjB,CAEL,CAEG,CACD,CAQD8K,IAAIhM,GAEHksC,aADAlsC,EAAO,GAAGA,KAEV,MAAM2L,EAAMpG,KAAKxF,KAAKqsC,KAAMpsC,GAC5B,YAAYE,IAARyL,EACI,KAGD5L,KAAKqsC,KAAKzgC,GAAK7J,KAAK,KAC3B,CASDwD,QAAQuU,GACP,IAAIizB,EAAUvpC,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,QAAKrD,EAE9E0sC,EAAQG,WAAWhtC,MACnBwJ,EAAI,EACR,KAAOA,EAAIqjC,EAAM5rC,QAAQ,CACxB,IAAIgsC,EAAWJ,EAAMrjC,GACrB,MAAMvJ,EAAOgtC,EAAS,GAChB9rC,EAAQ8rC,EAAS,GAEvBnzB,EAAS6uB,KAAKoE,EAAS5rC,EAAOlB,EAAMD,MACpC6sC,EAAQG,WAAWhtC,MACnBwJ,GACA,CACD,CASDmC,IAAI1L,EAAMkB,GAETA,EAAQ,GAAGA,IACXgrC,aAFAlsC,EAAO,GAAGA,KAGVmsC,cAAcjrC,GACd,MAAMyK,EAAMpG,KAAKxF,KAAKqsC,KAAMpsC,GAC5BD,KAAKqsC,UAAalsC,IAARyL,EAAoBA,EAAM3L,GAAQ,CAACkB,EAC7C,CASDupC,OAAOzqC,EAAMkB,GAEZA,EAAQ,GAAGA,IACXgrC,aAFAlsC,EAAO,GAAGA,KAGVmsC,cAAcjrC,GACd,MAAMyK,EAAMpG,KAAKxF,KAAKqsC,KAAMpsC,QAChBE,IAARyL,EACH5L,KAAKqsC,KAAKzgC,GAAKnI,KAAKtC,GAEpBnB,KAAKqsC,KAAKpsC,GAAQ,CAACkB,EAEpB,CAQD0K,IAAI5L,GAGH,OADAksC,aADAlsC,EAAO,GAAGA,UAEuBE,IAA1BqF,KAAKxF,KAAKqsC,KAAMpsC,EACvB,CAQD0qC,OAAO1qC,GAENksC,aADAlsC,EAAO,GAAGA,KAEV,MAAM2L,EAAMpG,KAAKxF,KAAKqsC,KAAMpsC,QAChBE,IAARyL,UACI5L,KAAKqsC,KAAKzgC,EAElB,CAODyjB,MACC,OAAOrvB,KAAKqsC,IACZ,CAODpwB,OACC,OAAOixB,sBAAsBltC,KAAM,MACnC,CAOD4B,SACC,OAAOsrC,sBAAsBltC,KAAM,QACnC,CASD,CAACg8B,OAAO4Q,YACP,OAAOM,sBAAsBltC,KAAM,YACnC,EAuBF,SAASgtC,WAAWzC,GACnB,IAAI4C,EAAO3pC,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,YAG/E,OADaoH,OAAOqR,KAAKsuB,EAAQ8B,MAAM3oC,OAC3BiC,IAAa,QAATwnC,EAAiB,SAAUviB,GAC1C,OAAOA,EAAE6U,aACX,EAAc,UAAT0N,EAAmB,SAAUviB,GAChC,OAAO2f,EAAQ8B,KAAKzhB,GAAG7oB,KAAK,KAC5B,EAAG,SAAU6oB,GACb,MAAO,CAACA,EAAE6U,cAAe8K,EAAQ8B,KAAKzhB,GAAG7oB,KAAK,MAChD,EACA,CAhCAuqC,QAAQ3T,UAAUjI,QAAU4b,QAAQ3T,UAAUqD,OAAO4Q,UAErDhiC,OAAOmf,eAAeuiB,QAAQ3T,UAAWqD,OAAO6M,YAAa,CAC5D1nC,MAAO,UACP2nC,UAAU,EACV7Y,YAAY,EACZC,cAAc,IAGftlB,OAAO2uB,iBAAiB+S,QAAQ3T,UAAW,CAC1C1sB,IAAK,CAAEgkB,YAAY,GACnB1qB,QAAS,CAAE0qB,YAAY,GACvBtkB,IAAK,CAAEskB,YAAY,GACnBya,OAAQ,CAAEza,YAAY,GACtBpkB,IAAK,CAAEokB,YAAY,GACnB0a,OAAQ,CAAE1a,YAAY,GACtBhU,KAAM,CAAEgU,YAAY,GACpBruB,OAAQ,CAAEquB,YAAY,GACtBS,QAAS,CAAET,YAAY,KAgBxB,MAAMmd,SAAWpR,OAAO,YAExB,SAASkR,sBAAsB3wB,EAAQ4wB,GACtC,MAAMP,EAAWhiC,OAAOqtB,OAAOoV,0BAM/B,OALAT,EAASQ,UAAY,CACpB7wB,SACA4wB,OACA/zB,MAAO,GAEDwzB,CACR,CAEA,MAAMS,yBAA2BziC,OAAO6tB,eAAe,CACtD6U,OAEC,IAAKttC,MAAQ4K,OAAO2iC,eAAevtC,QAAUqtC,yBAC5C,MAAM,IAAIjS,UAAU,4CAGrB,IAAIoS,EAAYxtC,KAAKotC,UACrB,MAAM7wB,EAASixB,EAAUjxB,OACnB4wB,EAAOK,EAAUL,KACjB/zB,EAAQo0B,EAAUp0B,MAElBxX,EAASorC,WAAWzwB,EAAQ4wB,GAElC,OAAI/zB,GADQxX,EAAOX,OAEX,CACNE,WAAOhB,EACPstC,MAAM,IAIRztC,KAAKotC,UAAUh0B,MAAQA,EAAQ,EAExB,CACNjY,MAAOS,EAAOwX,GACdq0B,MAAM,GAEP,GACC7iC,OAAO2iC,eAAe3iC,OAAO2iC,eAAe,GAAGvR,OAAO4Q,eAezD,SAASc,4BAA4BnD,GACpC,MAAM7D,EAAM97B,OAAOC,OAAO,CAAE8iC,UAAW,MAAQpD,EAAQ8B,MAIjDuB,EAAgBpoC,KAAK+kC,EAAQ8B,KAAM,QAKzC,YAJsBlsC,IAAlBytC,IACHlH,EAAIkH,GAAiBlH,EAAIkH,GAAe,IAGlClH,CACR,CASA,SAASmH,qBAAqBnH,GAC7B,MAAM6D,EAAU,IAAI+B,QACpB,IAAK,MAAMrsC,KAAQ2K,OAAOqR,KAAKyqB,GAC9B,IAAIuF,kBAAkBriC,KAAK3J,GAG3B,GAAIoB,MAAMC,QAAQolC,EAAIzmC,IACrB,IAAK,MAAMqT,KAAOozB,EAAIzmC,GACjBisC,uBAAuBtiC,KAAK0J,UAGLnT,IAAvBoqC,EAAQ8B,KAAKpsC,GAChBsqC,EAAQ8B,KAAKpsC,GAAQ,CAACqT,GAEtBi3B,EAAQ8B,KAAKpsC,GAAMwD,KAAK6P,SAGf44B,uBAAuBtiC,KAAK88B,EAAIzmC,MAC3CsqC,EAAQ8B,KAAKpsC,GAAQ,CAACymC,EAAIzmC,KAG5B,OAAOsqC,CACR,CAvDA3/B,OAAOmf,eAAesjB,yBAA0BrR,OAAO6M,YAAa,CACnE1nC,MAAO,kBACP2nC,UAAU,EACV7Y,YAAY,EACZC,cAAc,IAqDf,MAAM4d,YAAc9R,OAAO,sBAGrB+R,aAAerP,cAAI,QAACqP,aAS1B,MAAMC,SACLtuC,cACC,IAAIypC,EAAO3lC,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,KAC3EyN,EAAOzN,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,CAAA,EAE/E0lC,KAAKP,KAAK3oC,KAAMmpC,EAAMl4B,GAEtB,MAAMusB,EAASvsB,EAAKusB,QAAU,IACxB+M,EAAU,IAAI+B,QAAQr7B,EAAKs5B,SAEjC,GAAY,MAARpB,IAAiBoB,EAAQ1+B,IAAI,gBAAiB,CACjD,MAAMoiC,EAAc7C,mBAAmBjC,GACnC8E,GACH1D,EAAQG,OAAO,eAAgBuD,EAEhC,CAEDjuC,KAAK8tC,aAAe,CACnBhO,IAAK7uB,EAAK6uB,IACVtC,SACA0Q,WAAYj9B,EAAKi9B,YAAcH,aAAavQ,GAC5C+M,UAED,CAEGzK,UACH,OAAO9/B,KAAK8tC,aAAahO,GACzB,CAEGtC,aACH,OAAOx9B,KAAK8tC,aAAatQ,MACzB,CAKG2Q,SACH,OAAOnuC,KAAK8tC,aAAatQ,QAAU,KAAOx9B,KAAK8tC,aAAatQ,OAAS,GACrE,CAEG0Q,iBACH,OAAOluC,KAAK8tC,aAAaI,UACzB,CAEG3D,cACH,OAAOvqC,KAAK8tC,aAAavD,OACzB,CAODM,QACC,OAAO,IAAImD,SAASnD,QAAM7qC,MAAO,CAChC8/B,IAAK9/B,KAAK8/B,IACVtC,OAAQx9B,KAAKw9B,OACb0Q,WAAYluC,KAAKkuC,WACjB3D,QAASvqC,KAAKuqC,QACd4D,GAAInuC,KAAKmuC,IAEV,EAGFjF,KAAK6C,MAAMiC,SAASrV,WAEpB/tB,OAAO2uB,iBAAiByU,SAASrV,UAAW,CAC3CmH,IAAK,CAAE7P,YAAY,GACnBuN,OAAQ,CAAEvN,YAAY,GACtBke,GAAI,CAAEle,YAAY,GAClBie,WAAY,CAAEje,YAAY,GAC1Bsa,QAAS,CAAEta,YAAY,GACvB4a,MAAO,CAAE5a,YAAY,KAGtBrlB,OAAOmf,eAAeikB,SAASrV,UAAWqD,OAAO6M,YAAa,CAC7D1nC,MAAO,WACP2nC,UAAU,EACV7Y,YAAY,EACZC,cAAc,IAGf,MAAMme,YAAcrS,OAAO,qBAGrBwS,UAAYF,aAAG,QAAC34B,MAChB84B,WAAaH,aAAG,QAACI,OAEjBE,2BAA6B,YAAa1H,wBAAOD,SAAStO,UAQhE,SAASkW,UAAU3P,GAClB,MAAwB,iBAAVA,GAAoD,iBAAvBA,EAAMmP,YAClD,CAEA,SAASS,cAAcj3B,GACtB,MAAMyhB,EAAQzhB,GAA4B,iBAAXA,GAAuBjN,OAAO2iC,eAAe11B,GAC5E,SAAUyhB,GAAoC,gBAA3BA,EAAM55B,YAAYO,KACtC,CASA,MAAM8uC,QACLrvC,YAAYw/B,GACX,IAEI2G,EAFA0G,EAAO/oC,UAAUvC,OAAS,QAAsBd,IAAjBqD,UAAU,GAAmBA,UAAU,GAAK,CAAA,EAK1EqrC,UAAU3P,GAYd2G,EAAY2I,UAAUtP,EAAMY,MAP3B+F,EAJG3G,GAASA,EAAM6G,KAINyI,UAAUtP,EAAM6G,MAGhByI,UAAU,GAAGtP,KAE1BA,EAAQ,CAAA,GAKT,IAAIyN,EAASJ,EAAKI,QAAUzN,EAAMyN,QAAU,MAG5C,GAFAA,EAASA,EAAOtgC,eAEE,MAAbkgC,EAAKpD,MAAgB0F,UAAU3P,IAAyB,OAAfA,EAAMiK,QAA8B,QAAXwD,GAA+B,SAAXA,GAC1F,MAAM,IAAIvR,UAAU,iDAGrB,IAAI4T,EAAyB,MAAbzC,EAAKpD,KAAeoD,EAAKpD,KAAO0F,UAAU3P,IAAyB,OAAfA,EAAMiK,KAAgB0B,QAAM3L,GAAS,KAEzGgK,KAAKP,KAAK3oC,KAAMgvC,EAAW,CAC1BxF,QAAS+C,EAAK/C,SAAWtK,EAAMsK,SAAW,EAC1ChC,KAAM+E,EAAK/E,MAAQtI,EAAMsI,MAAQ,IAGlC,MAAM+C,EAAU,IAAI+B,QAAQC,EAAKhC,SAAWrL,EAAMqL,SAAW,CAAA,GAE7D,GAAiB,MAAbyE,IAAsBzE,EAAQ1+B,IAAI,gBAAiB,CACtD,MAAMoiC,EAAc7C,mBAAmB4D,GACnCf,GACH1D,EAAQG,OAAO,eAAgBuD,EAEhC,CAED,IAAIp2B,EAASg3B,UAAU3P,GAASA,EAAMrnB,OAAS,KAG/C,GAFI,WAAY00B,IAAM10B,EAAS00B,EAAK10B,QAEtB,MAAVA,IAAmBi3B,cAAcj3B,GACpC,MAAM,IAAIujB,UAAU,mDAGrBp7B,KAAKquC,aAAe,CACnB1B,SACAsC,SAAU1C,EAAK0C,UAAY/P,EAAM+P,UAAY,SAC7C1E,UACA1E,YACAhuB,UAID7X,KAAKkvC,YAAyB/uC,IAAhBosC,EAAK2C,OAAuB3C,EAAK2C,YAA0B/uC,IAAjB++B,EAAMgQ,OAAuBhQ,EAAMgQ,OAAS,GACpGlvC,KAAKihC,cAA6B9gC,IAAlBosC,EAAKtL,SAAyBsL,EAAKtL,cAA8B9gC,IAAnB++B,EAAM+B,UAAyB/B,EAAM+B,SACnGjhC,KAAKkiC,QAAUqK,EAAKrK,SAAWhD,EAAMgD,SAAW,EAChDliC,KAAKmvC,MAAQ5C,EAAK4C,OAASjQ,EAAMiQ,KACjC,CAEGxC,aACH,OAAO3sC,KAAKquC,aAAa1B,MACzB,CAEG7M,UACH,OAAO2O,WAAWzuC,KAAKquC,aAAaxI,UACpC,CAEG0E,cACH,OAAOvqC,KAAKquC,aAAa9D,OACzB,CAEG0E,eACH,OAAOjvC,KAAKquC,aAAaY,QACzB,CAEGp3B,aACH,OAAO7X,KAAKquC,aAAax2B,MACzB,CAODgzB,QACC,OAAO,IAAIkE,QAAQ/uC,KACnB,EA2BF,SAASovC,sBAAsBC,GAC9B,MAAMxJ,EAAYwJ,EAAQhB,aAAaxI,UACjC0E,EAAU,IAAI+B,QAAQ+C,EAAQhB,aAAa9D,SAQjD,GALKA,EAAQ1+B,IAAI,WAChB0+B,EAAQ5+B,IAAI,SAAU,QAIlBk6B,EAAUI,WAAaJ,EAAUK,SACrC,MAAM,IAAI9K,UAAU,oCAGrB,IAAK,YAAYxxB,KAAKi8B,EAAUI,UAC/B,MAAM,IAAI7K,UAAU,wCAGrB,GAAIiU,EAAQx3B,QAAUw3B,EAAQlG,gBAAgBjC,wBAAOD,WAAa2H,2BACjE,MAAM,IAAInvC,MAAM,mFAIjB,IAAI6vC,EAAqB,KAIzB,GAHoB,MAAhBD,EAAQlG,MAAgB,gBAAgBv/B,KAAKylC,EAAQ1C,UACxD2C,EAAqB,KAEF,MAAhBD,EAAQlG,KAAc,CACzB,MAAMoG,EAAalE,cAAcgE,GACP,iBAAfE,IACVD,EAAqBjZ,OAAOkZ,GAE7B,CAsBD,OArBID,GACH/E,EAAQ5+B,IAAI,iBAAkB2jC,GAI1B/E,EAAQ1+B,IAAI,eAChB0+B,EAAQ5+B,IAAI,aAAc,0DAIvB0jC,EAAQpO,WAAasJ,EAAQ1+B,IAAI,oBACpC0+B,EAAQ5+B,IAAI,kBAAmB,gBAG3B4+B,EAAQ1+B,IAAI,eAAkBwjC,EAAQF,OAC1C5E,EAAQ5+B,IAAI,aAAc,SAMpBf,OAAOC,OAAO,CAAE,EAAEg7B,EAAW,CACnC8G,OAAQ0C,EAAQ1C,OAChBpC,QAASmD,4BAA4BnD,GACrC4E,MAAOE,EAAQF,OAEjB,CAcA,SAASK,WAAW3vC,GAClBJ,MAAMkpC,KAAK3oC,KAAMH,GAEjBG,KAAK8nC,KAAO,UACZ9nC,KAAKH,QAAUA,EAGfJ,MAAMM,kBAAkBC,KAAMA,KAAKN,YACrC,CAzGAwpC,KAAK6C,MAAMgD,QAAQpW,WAEnB/tB,OAAOmf,eAAeglB,QAAQpW,UAAWqD,OAAO6M,YAAa,CAC5D1nC,MAAO,UACP2nC,UAAU,EACV7Y,YAAY,EACZC,cAAc,IAGftlB,OAAO2uB,iBAAiBwV,QAAQpW,UAAW,CAC1CgU,OAAQ,CAAE1c,YAAY,GACtB6P,IAAK,CAAE7P,YAAY,GACnBsa,QAAS,CAAEta,YAAY,GACvBgf,SAAU,CAAEhf,YAAY,GACxB4a,MAAO,CAAE5a,YAAY,GACrBpY,OAAQ,CAAEoY,YAAY,KA4FvBuf,WAAW7W,UAAY/tB,OAAOqtB,OAAOx4B,MAAMk5B,WAC3C6W,WAAW7W,UAAUj5B,YAAc8vC,WACnCA,WAAW7W,UAAU14B,KAAO,aAG5B,MAAMyvC,cAAgBxI,gBAAM,QAAC+B,YACvB4hB,YAAcvc,aAAG,QAACh4B,QASxB,SAAS25B,QAAMnQ,EAAK7uB,GAGnB,IAAKg/B,QAAMlI,QACV,MAAM,IAAItoC,MAAM,0EAMjB,OAHAypC,KAAKnB,QAAUkI,QAAMlI,QAGd,IAAIkI,QAAMlI,SAAQ,SAAUzxB,EAASwzB,GAE3C,MAAMuF,EAAU,IAAIN,QAAQjP,EAAK7uB,GAC3B5M,EAAU+qC,sBAAsBC,GAEhCa,EAAO4a,GAAGzb,QACVx3B,EAASw3B,EAAQx3B,OAEvB,IAAIs4B,EAAW,KAEf,MAAMjG,EAAQ,WACb,IAAI7pC,EAAQ,IAAImvC,WAAW,+BAC3B1F,EAAOzpC,GACHgvC,EAAQlG,MAAQkG,EAAQlG,gBAAgBjC,gBAAAA,QAAOD,UAClDoI,EAAQlG,KAAKiJ,QAAQ/xC,GAEjB8vC,GAAaA,EAAShH,MAC3BgH,EAAShH,KAAK3uB,KAAK,QAASna,EAC/B,EAEE,GAAIwX,GAAUA,EAAOw4B,QAEpB,YADAnG,IAID,MAAMoG,EAAmB,WACxBpG,IACAqG,GACH,EAGQC,EAAMN,EAAK7rC,GACjB,IAAIosC,EAMJ,SAASF,IACRC,EAAItG,QACAryB,GAAQA,EAAO64B,oBAAoB,QAASJ,GAChDjG,aAAaoG,EACb,CARG54B,GACHA,EAAO84B,iBAAiB,QAASL,GAS9BjB,EAAQ7F,SACXgH,EAAII,KAAK,UAAU,SAAUC,GAC5BJ,EAAarG,YAAW,WACvBN,EAAO,IAAIrB,WAAW,uBAAuB4G,EAAQvP,MAAO,oBAC5DyQ,GACL,GAAOlB,EAAQ7F,QACf,IAGEgH,EAAI78B,GAAG,SAAS,SAAUjB,GACzBo3B,EAAO,IAAIrB,WAAW,cAAc4G,EAAQvP,uBAAuBptB,EAAI7S,UAAW,SAAU6S,IAC5F69B,GACH,IAEEC,EAAI78B,GAAG,YAAY,SAAUmwB,GAC5BuG,aAAaoG,GAEb,MAAMlG,EAAUsD,qBAAqB/J,EAAIyG,SAGzC,GAAI0F,QAAMiB,WAAWpN,EAAIqN,YAAa,CAErC,MAAMC,EAAW7G,EAAQt+B,IAAI,YAGvBolC,EAA2B,OAAbD,EAAoB,KAAOyZ,YAAYxb,EAAQvP,IAAKsR,GAGxE,OAAQ/B,EAAQJ,UACf,IAAK,QAGJ,OAFAnF,EAAO,IAAIrB,WAAW,kCAAkC4G,EAAQvP,MAAO,qBACvEyQ,IAED,IAAK,SAEJ,GAAoB,OAAhBc,EAEH,IACC9G,EAAQ5+B,IAAI,WAAY0lC,EACxB,CAAC,MAAO3+B,GAERo3B,EAAOp3B,EACP,CAEF,MACD,IAAK,SAEJ,GAAoB,OAAhB2+B,EACH,MAID,GAAIhC,EAAQnN,SAAWmN,EAAQH,OAG9B,OAFApF,EAAO,IAAIrB,WAAW,gCAAgC4G,EAAQvP,MAAO,sBACrEyQ,IAMD,MAAMe,EAAc,CACnB/G,QAAS,IAAI+B,QAAQ+C,EAAQ9E,SAC7B2E,OAAQG,EAAQH,OAChBhN,QAASmN,EAAQnN,QAAU,EAC3BiN,MAAOE,EAAQF,MACflO,SAAUoO,EAAQpO,SAClB0L,OAAQ0C,EAAQ1C,OAChBxD,KAAMkG,EAAQlG,KACdtxB,OAAQw3B,EAAQx3B,QAIjB,OAAuB,MAAnBisB,EAAIqN,YAAsB9B,EAAQlG,MAAmC,OAA3BkC,cAAcgE,IAC3DvF,EAAO,IAAIrB,WAAW,2DAA4D,8BAClF8H,MAKsB,MAAnBzM,EAAIqN,aAA0C,MAAnBrN,EAAIqN,YAAyC,MAAnBrN,EAAIqN,YAA0C,SAAnB9B,EAAQ1C,UAC3F2E,EAAY3E,OAAS,MACrB2E,EAAYnI,UAAOhpC,EACnBmxC,EAAY/G,QAAQI,OAAO,mBAI5Br0B,EAAQ25B,QAAM,IAAIlB,QAAQsC,EAAaC,UACvCf,KAGF,CAGDzM,EAAI8M,KAAK,OAAO,WACX/4B,GAAQA,EAAO64B,oBAAoB,QAASJ,EACpD,IACG,IAAInH,EAAOrF,EAAIqH,KAAK,IAAIuE,eAExB,MAAM6B,EAAmB,CACxBzR,IAAKuP,EAAQvP,IACbtC,OAAQsG,EAAIqN,WACZjD,WAAYpK,EAAI0N,cAChBjH,QAASA,EACT/C,KAAM6H,EAAQ7H,KACdgC,QAAS6F,EAAQ7F,SAIZiI,EAAUlH,EAAQt+B,IAAI,oBAU5B,IAAKojC,EAAQpO,UAA+B,SAAnBoO,EAAQ1C,QAAiC,OAAZ8E,GAAuC,MAAnB3N,EAAIqN,YAAyC,MAAnBrN,EAAIqN,WAGvG,OAFAhB,EAAW,IAAInC,SAAS7E,EAAMoI,QAC9Bj7B,EAAQ65B,GAST,MAAMuB,EAAc,CACnBC,MAAOC,cAAI,QAACC,aACZC,YAAaF,cAAI,QAACC,cAInB,GAAe,QAAXJ,GAAgC,UAAXA,EAIxB,OAHAtI,EAAOA,EAAKgC,KAAKyG,cAAI,QAACG,aAAaL,IACnCvB,EAAW,IAAInC,SAAS7E,EAAMoI,QAC9Bj7B,EAAQ65B,GAKT,GAAe,WAAXsB,GAAmC,aAAXA,EAkB5BtB,EAAW,IAAInC,SAAS7E,EAAMoI,GAC9Bj7B,EAAQ65B,OAnBR,CAGarM,EAAIqH,KAAK,IAAIuE,eACrBkB,KAAK,QAAQ,SAAU9Z,GAGzBqS,EADyB,IAAV,GAAXrS,EAAM,IACHqS,EAAKgC,KAAKyG,cAAAA,QAAKI,iBAEf7I,EAAKgC,KAAKyG,cAAAA,QAAKK,oBAEvB9B,EAAW,IAAInC,SAAS7E,EAAMoI,GAC9Bj7B,EAAQ65B,EACb,GAEI,CAKJ,IAEE1E,cAAc+E,EAAKnB,EACrB,GACA,CAOAY,QAAMiB,WAAa,SAAUtxC,GAC5B,OAAgB,MAATA,GAAyB,MAATA,GAAyB,MAATA,GAAyB,MAATA,GAAyB,MAATA,CACxE,EAGAqwC,QAAMlI,QAAUiE,OAAOjE,0NChiDvB,MAAMgjB,KAAO,CACXC,OAAQ,IACRjR,QAAS,IACTkR,IAAK,IACLC,eAAgB,IAChBC,aAAc,KAEVC,KAAO,CACXC,MAAO,QACPC,WAAY,aACZC,aAAc,eACdC,cAAe,gBACfzR,QAAS,UACT0R,UAAW,YACXC,SAAU,WACVC,SAAU,WACVC,SAAU,WACVvf,IAAK,MACLwf,QAAS,UACTC,UAAW,YACXC,MAAO,QACPC,aAAc,eACdC,aAAc,eACdC,IAAK,MACLC,SAAU,YAENC,iBAAmB,qBACnBC,YAAc,CAClBhgB,IAAK,wBACL6f,IAAK,wBACLI,IAAK,yBAGP,SAASC,eAAerS,GACtB,MAAMsS,EAAK,CAAC,GACZ,IAAI/8B,EAASyqB,EAAI3+B,QAAQ,MAEzB,MAAmB,IAAZkU,GACLA,GAAU,EACV+8B,EAAG/oD,KAAKgsB,GACRA,EAASyqB,EAAI3+B,QAAQ,KAAMkU,GAG7B,OAAO+8B,CACT,CAEA,SAASC,WAAWC,GAClB,IAAIC,EAAYzS,EAehB,MAbmB,iBAARwS,GACTC,EAAaJ,eAAeG,GAC5BxS,EAAMwS,IAEFrrD,MAAMC,QAAQorD,KAAMA,EAAMA,EAAI,IAE9BA,GAAOA,EAAI5uC,UACR4uC,EAAIC,aAAYD,EAAIC,WAAaJ,eAAeG,EAAI5uC,QAAQo8B,MACjEyS,EAAaD,EAAIC,WACjBzS,EAAMwS,EAAI5uC,QAAQo8B,MAIf,CACLyS,aACAzS,MAEJ,CAuBA,SAAS0S,WAAWn9B,EAAQi9B,GAC1B,GAAsB,iBAAXj9B,GAAuBA,EAAS,EAAG,OAAO,KACrD,MAAMk9B,WACJA,EAAUzS,IACVA,GACEuS,WAAWC,GACf,IAAKC,IAAezS,GAAOzqB,EAASyqB,EAAIj5C,OAAQ,OAAO,KAEvD,IAAK,IAAIuI,EAAI,EAAGA,EAAImjD,EAAW1rD,SAAUuI,EAAG,CAC1C,MAAMqzB,EAAQ8vB,EAAWnjD,GAEzB,GAAIimB,EAASoN,EACX,MAAO,CACLtzB,KAAMC,EACNqjD,IAAKp9B,EAASk9B,EAAWnjD,EAAI,GAAK,GAItC,GAAIimB,IAAWoN,EAAO,MAAO,CAC3BtzB,KAAMC,EAAI,EACVqjD,IAAK,EAER,CAED,MAAMtjD,EAAOojD,EAAW1rD,OACxB,MAAO,CACLsI,OACAsjD,IAAKp9B,EAASk9B,EAAWpjD,EAAO,GAAK,EAEzC,CAeA,SAASujD,QAAQvjD,EAAMmjD,GACrB,MAAMC,WACJA,EAAUzS,IACVA,GACEuS,WAAWC,GACf,IAAKC,KAAgBpjD,GAAQ,IAAMA,EAAOojD,EAAW1rD,OAAQ,OAAO,KACpE,MAAM47B,EAAQ8vB,EAAWpjD,EAAO,GAChC,IAAIuzB,EAAM6vB,EAAWpjD,GAErB,KAAOuzB,GAAOA,EAAMD,GAA0B,OAAjBqd,EAAIpd,EAAM,MAAeA,EAEtD,OAAOod,EAAIl5C,MAAM67B,EAAOC,EAC1B,CAkBA,SAASiwB,kBAAiBlwB,MACxBA,EAAKC,IACLA,GACC4vB,EAAKM,EAAW,IACjB,IAAI9S,EAAM4S,QAAQjwB,EAAMtzB,KAAMmjD,GAC9B,IAAKxS,EAAK,OAAO,KACjB,IAAI2S,IACFA,GACEhwB,EAEJ,GAAIqd,EAAIj5C,OAAS+rD,EACf,GAAIH,GAAOG,EAAW,GACpB9S,EAAMA,EAAI1kB,OAAO,EAAGw3B,EAAW,GAAK,QAC/B,CACL,MAAMC,EAAY5mD,KAAK0mB,MAAMigC,EAAW,GACpC9S,EAAIj5C,OAAS4rD,EAAMI,IAAW/S,EAAMA,EAAI1kB,OAAO,EAAGq3B,EAAMI,EAAY,GAAK,KAC7EJ,GAAO3S,EAAIj5C,OAAS+rD,EACpB9S,EAAM,IAAMA,EAAI1kB,OAAO,EAAIw3B,EAC5B,CAGH,IAAIE,EAAS,EACTC,EAAS,GAETrwB,IACEA,EAAIvzB,OAASszB,EAAMtzB,MAAQsjD,GAAO/vB,EAAI+vB,IAAMhwB,EAAMgwB,MAAQG,EAAW,EACvEE,EAASpwB,EAAI+vB,IAAMhwB,EAAMgwB,KAEzBK,EAAS7mD,KAAKyG,IAAIotC,EAAIj5C,OAAS,EAAG+rD,GAAYH,EAC9CM,EAAS,MAMb,MAAO,GAAGjT,MAFK2S,EAAM,EAAI,IAAIxkD,OAAOwkD,EAAM,GAAK,KACnC,IAAIxkD,OAAO6kD,KACUC,GACnC,CAEA,MAAMC,MACJxD,YAAY9Z,GACV,OAAO,IAAIsd,MAAMtd,EAAKjT,MAAOiT,EAAKhT,IACnC,CAEDp9B,YAAYm9B,EAAOC,GACjB98B,KAAK68B,MAAQA,EACb78B,KAAK88B,IAAMA,GAAOD,CACnB,CAEDwwB,UACE,MAA6B,iBAAfrtD,KAAK68B,QAAuB78B,KAAK88B,KAAO98B,KAAK88B,KAAO98B,KAAK68B,KACxE,CAWDywB,aAAaC,EAAI99B,GACf,MAAMoN,MACJA,EAAKC,IACLA,GACE98B,KAEJ,GAAkB,IAAdutD,EAAGtsD,QAAgB67B,GAAOywB,EAAG,GAG/B,OAFAvtD,KAAKwtD,UAAY3wB,EACjB78B,KAAKytD,QAAU3wB,EACRrN,EAGT,IAAIjmB,EAAIimB,EAER,KAAOjmB,EAAI+jD,EAAGtsD,UACRssD,EAAG/jD,GAAKqzB,MAAoBrzB,EAGlCxJ,KAAKwtD,UAAY3wB,EAAQrzB,EACzB,MAAMkkD,EAAalkD,EAEnB,KAAOA,EAAI+jD,EAAGtsD,UAERssD,EAAG/jD,IAAMszB,MAAkBtzB,EAIjC,OADAxJ,KAAKytD,QAAU3wB,EAAMtzB,EACdkkD,CACR,EAMH,MAAMC,OACJ/D,2BAA2B1P,EAAKzqB,EAAQ9mB,GACtC,GAA4B,OAAxBA,EAAIA,EAAI1H,OAAS,GAAa,OAAO0H,EACzC,MAAM2kC,EAAOqgB,OAAKC,gBAAgB1T,EAAKzqB,GACvC,OAAO6d,GAAQ4M,EAAIj5C,QAAwB,OAAdi5C,EAAI5M,GAAiB3kC,EAAM,KAAOA,CAChE,CAGDihD,0BAA0B1P,EAAKzqB,EAAQksB,GACrC,MAAMkS,EAAM3T,EAAIzqB,GAChB,IAAKo+B,EAAK,OAAO,EACjB,MAAMC,EAAO5T,EAAIzqB,EAAS,GAC1B,GAAIq+B,GAAiB,OAATA,EAAe,OAAO,EAElC,GAAInS,GACF,GAAIkS,IAAQlS,EAAK,OAAO,OAExB,GAAIkS,IAAQ9C,KAAKG,gBAAkB2C,IAAQ9C,KAAKI,aAAc,OAAO,EAGvE,MAAM4C,EAAM7T,EAAIzqB,EAAS,GACnBu+B,EAAM9T,EAAIzqB,EAAS,GACzB,GAAIs+B,IAAQF,GAAOG,IAAQH,EAAK,OAAO,EACvC,MAAMI,EAAM/T,EAAIzqB,EAAS,GACzB,OAAQw+B,GAAe,OAARA,GAAwB,OAARA,GAAwB,MAARA,CAChD,CAEDrE,uBAAuB1P,EAAKzqB,GAC1B,IAAIy+B,EAAKhU,EAAIzqB,GACb,MAAM0+B,EAAoB,MAAPD,EACbE,EAAQD,EAAa,CAAC,KAAM,KAAM,IAAK,KAAO,CAAC,KAAM,KAAM,IAAK,IAAK,IAAK,IAAK,IAAK,KAE1F,KAAOD,IAA6B,IAAvBE,EAAM7yC,QAAQ2yC,IAAYA,EAAKhU,EAAIzqB,GAAU,GAG1D,OADI0+B,GAAqB,MAAPD,IAAYz+B,GAAU,GACjCA,CACR,CAEDm6B,mBAAmB1P,EAAKzqB,GACtB,IAAIy+B,EAAKhU,EAAIzqB,GAEb,KAAc,MAAPy+B,GAAYA,EAAKhU,EAAIzqB,GAAU,GAEtC,OAAOA,CACR,CAEDm6B,iBAAiB1P,EAAKzqB,GACpB,IAAIy+B,EAAKhU,EAAIzqB,GAEb,KAAOy+B,GAAa,OAAPA,GAAaA,EAAKhU,EAAIzqB,GAAU,GAE7C,OAAOA,CACR,CAEDm6B,uBAAuB1P,EAAKzqB,GAC1B,IAAIy+B,EAAKhU,EAAIzqB,GAEb,KAAc,OAAPy+B,GAAsB,MAAPA,GAAYA,EAAKhU,EAAIzqB,GAAU,GAErD,OAAOA,CACR,CAEDm6B,mBAAmB1P,EAAKzqB,GACtB,IAAIy+B,EAAKhU,EAAIzqB,EAAS,GACtB,GAAW,OAAPy+B,EAAa,OAAOz+B,EAExB,KAAOy+B,GAAa,OAAPA,GAAaA,EAAKhU,EAAIzqB,GAAU,GAE7C,OAAOA,EAAS,CACjB,CAYDm6B,wBAAwB1P,EAAKrxC,EAAQwlD,GACnC,MAAMC,EAAQX,OAAKY,YAAYrU,EAAKmU,GAEpC,GAAIC,EAAQD,EAAYxlD,EACtB,OAAOylD,EACF,CACL,MAAME,EAAQb,OAAKC,gBAAgB1T,EAAKoU,GAClCJ,EAAKhU,EAAIsU,GACf,IAAKN,GAAa,OAAPA,EAAa,OAAOM,CAChC,CAED,OAAO,IACR,CAED5E,eAAe1P,EAAKzqB,EAAQg/B,GAC1B,MAAMP,EAAKhU,EAAIzqB,GACf,MAAc,OAAPy+B,GAAsB,OAAPA,GAAsB,MAAPA,GAAcO,IAAeP,CACnE,CAEDtE,0BAA0BsE,EAAIQ,EAAYC,GACxC,SAAKT,GAAMQ,EAAa,KACpBA,EAAa,GACVC,GAA4B,MAAPT,EAC7B,CAGDtE,uBAAuB1P,EAAKzqB,GAC1B,MAAMy+B,EAAKhU,EAAIzqB,GACf,OAAQy+B,EAAqB,OAAPA,GAAmC,OAApBhU,EAAIzqB,EAAS,GAAcA,EAAS,EAAIk+B,OAAKC,gBAAgB1T,EAAKzqB,GAA1FA,CACd,CAIDm6B,mBAAmB1P,EAAKzqB,EAAQ5mB,GAC9B,IAAI+lD,EAAU,EACVvuD,GAAQ,EACRwuD,EAAO,GACPX,EAAKhU,EAAIzqB,EAAS,GAEtB,KAAc,MAAPy+B,GAAqB,OAAPA,GAAsB,OAAPA,GAAa,CAC/C,OAAQA,GACN,IAAK,KACHU,EAAU,EACVn/B,GAAU,EACVo/B,GAAQ,KACR,MAEF,IAAK,KACCD,GAAW/lD,IAAQxI,GAAQ,GAC/BovB,EAASk+B,OAAKC,gBAAgB1T,EAAKzqB,EAAS,GAAK,EACjD,MAEF,IAAK,IACHm/B,GAAW,EACXn/B,GAAU,EAIdy+B,EAAKhU,EAAIzqB,EAAS,EACnB,CAID,OAFKo/B,IAAMA,EAAO,KACdX,GAAMU,GAAW/lD,IAAQxI,GAAQ,GAC9B,CACLwuD,OACAp/B,SACApvB,QAEH,CAEDX,YAAYooC,EAAMgnB,EAAOhxC,GACvBlT,OAAOmf,eAAe/pB,KAAM,UAAW,CACrCmB,MAAO2c,GAAW,KAClBgrB,UAAU,IAEZ9oC,KAAKK,MAAQ,KACbL,KAAK+uD,MAAQ,KACb/uD,KAAKgvD,WAAa,KAClBhvD,KAAK8uD,MAAQA,GAAS,GACtB9uD,KAAK8nC,KAAOA,EACZ9nC,KAAKmB,MAAQ,IACd,CAED8tD,aAAa9vB,EAAKvzB,EAAKsjD,GACrB,IAAKlvD,KAAK8d,QAAS,OAAO,KAC1B,MAAMo8B,IACJA,GACEl6C,KAAK8d,QACHqxC,EAAOnvD,KAAK8uD,MAAM3vB,GACxB,OAAOgwB,GAAQjV,EAAIiV,EAAKtyB,SAAWjxB,EAAMsuC,EAAIl5C,MAAMmuD,EAAKtyB,OAASqyB,EAAU,EAAI,GAAIC,EAAKryB,KAAO,IAChG,CAEGsyB,aACF,IAAK,IAAI5lD,EAAI,EAAGA,EAAIxJ,KAAK8uD,MAAM7tD,SAAUuI,EAAG,CAC1C,MAAM4lD,EAASpvD,KAAKivD,aAAazlD,EAAGuhD,KAAKC,QAAQ,GACjD,GAAc,MAAVoE,EAAgB,OAAOA,CAC5B,CAED,OAAO,IACR,CAEGC,cACF,MAAMC,EAAW,GAEjB,IAAK,IAAI9lD,EAAI,EAAGA,EAAIxJ,KAAK8uD,MAAM7tD,SAAUuI,EAAG,CAC1C,MAAM6lD,EAAUrvD,KAAKivD,aAAazlD,EAAGuhD,KAAKhR,SAAS,GACpC,MAAXsV,GAAiBC,EAAS7rD,KAAK4rD,EACpC,CAED,OAAOC,EAASruD,OAAS,EAAIquD,EAASvtD,KAAK,MAAQ,IACpD,CAEDwtD,6BAA6B1yB,GAC3B,MAAMqd,IACJA,GACEl6C,KAAK8d,QACT,GAAI9d,KAAKwvD,QAAU3yB,IAAU78B,KAAKwvD,OAAO1yB,IAAK,OAAO,EACrD,IAAK98B,KAAKgvD,WAAY,OAAO,EAC7B,MAAMlyB,IACJA,GACE98B,KAAKgvD,WACT,OAAOnyB,IAAUC,GAAO6wB,OAAK8B,QAAQvV,EAAKpd,EAAM,EACjD,CAEG4yB,iBACF,GAAI1vD,KAAK8d,QAAS,CAChB,MAAMo8B,IACJA,GACEl6C,KAAK8d,QAET,IAAK,IAAItU,EAAI,EAAGA,EAAIxJ,KAAK8uD,MAAM7tD,SAAUuI,EACvC,GAAI0wC,EAAIl6C,KAAK8uD,MAAMtlD,GAAGqzB,SAAWkuB,KAAKhR,QAAS,OAAO,CAEzD,CAED,OAAO,CACR,CAEG4V,eACF,GAAI3vD,KAAK8d,QAAS,CAChB,MAAMo8B,IACJA,GACEl6C,KAAK8d,QAET,IAAK,IAAItU,EAAI,EAAGA,EAAIxJ,KAAK8uD,MAAM7tD,SAAUuI,EACvC,GAAI0wC,EAAIl6C,KAAK8uD,MAAMtlD,GAAGqzB,SAAWkuB,KAAKhR,QAAS,OAAO,CAEzD,CAED,OAAO,CACR,CAEG6V,4BACF,OAAO,CACR,CAEGC,eAEF,OAA6C,IADvB,CAACzE,KAAKO,SAAUP,KAAKQ,SAAUR,KAAKY,aAAcZ,KAAKa,cACxD1wC,QAAQvb,KAAK8nC,KACnC,CAEGgoB,qBACF,IAAK9vD,KAAK+uD,QAAU/uD,KAAK8d,QAAS,OAClC,MAAM+e,EAAQ+vB,WAAW5sD,KAAK+uD,MAAMlyB,MAAO78B,KAAK8d,QAAQk5B,MACxD,IAAKna,EAAO,OAEZ,MAAO,CACLA,QACAC,IAHU8vB,WAAW5sD,KAAK+uD,MAAMjyB,IAAK98B,KAAK8d,QAAQk5B,MAKrD,CAEG+Y,eACF,IAAK/vD,KAAKgvD,aAAehvD,KAAK8d,QAAS,OAAO,KAC9C,MAAM+e,MACJA,EAAKC,IACLA,GACE98B,KAAKgvD,WACT,OAAOhvD,KAAK8d,QAAQo8B,IAAIl5C,MAAM67B,EAAOC,EACtC,CAEGkzB,UACF,IAAK,IAAIxmD,EAAI,EAAGA,EAAIxJ,KAAK8uD,MAAM7tD,SAAUuI,EAAG,CAC1C,MAAMwmD,EAAMhwD,KAAKivD,aAAazlD,EAAGuhD,KAAKE,KAAK,GAE3C,GAAW,MAAP+E,EAAa,CACf,GAAe,MAAXA,EAAI,GACN,MAAO,CACLC,SAAUD,EAAIhvD,MAAM,GAAI,IAErB,CAEL,MAAOkvD,EAAGC,EAAQC,GAAUJ,EAAI7sD,MAAM,kBACtC,MAAO,CACLgtD,SACAC,SAEH,CACF,CACF,CAED,OAAO,IACR,CAEGC,gCACF,IAAKrwD,KAAKgvD,aAAehvD,KAAK8d,QAAS,OAAO,EAC9C,MAAM+e,MACJA,EAAKC,IACLA,GACE98B,KAAKgvD,YACH9U,IACJA,GACEl6C,KAAK8d,QAET,IAAK,IAAItU,EAAIqzB,EAAOrzB,EAAIszB,IAAOtzB,EAC7B,GAAe,OAAX0wC,EAAI1wC,GAAa,OAAO,EAG9B,OAAO,CACR,CAED8mD,aAAazzB,GACX,MAAMqd,IACJA,GACEl6C,KAAK8d,QAET,GAAIo8B,EAAIrd,KAAWkuB,KAAKhR,QAAS,CAC/B,MAAMjd,EAAM6wB,OAAK4C,UAAUrW,EAAKrd,EAAQ,GAClC2zB,EAAe,IAAIpD,MAAMvwB,EAAOC,GAEtC,OADA98B,KAAK8uD,MAAMrrD,KAAK+sD,GACT1zB,CACR,CAED,OAAOD,CACR,CAWD4zB,cAAclD,EAAI99B,GAIhB,OAHIzvB,KAAK+uD,QAAOt/B,EAASzvB,KAAK+uD,MAAMzB,aAAaC,EAAI99B,IACjDzvB,KAAKgvD,YAAYhvD,KAAKgvD,WAAW1B,aAAaC,EAAI99B,GACtDzvB,KAAK8uD,MAAMvpD,SAAQ4pD,GAAQA,EAAK7B,aAAaC,EAAI99B,KAC1CA,CACR,CAEDpC,WACE,MACEvP,SAASo8B,IACPA,GACD6U,MACDA,EAAK5tD,MACLA,GACEnB,KACJ,GAAa,MAATmB,EAAe,OAAOA,EAC1B,MAAMwH,EAAMuxC,EAAIl5C,MAAM+tD,EAAMlyB,MAAOkyB,EAAMjyB,KACzC,OAAO6wB,OAAK+C,oBAAoBxW,EAAK6U,EAAMjyB,IAAKn0B,EACjD,EAIH,MAAMgoD,kBAAkBlxD,MACtBC,YAAYO,EAAM8U,EAAQlV,GACxB,KAAKA,GAAakV,aAAkB44C,QAAO,MAAM,IAAIluD,MAAM,6BAA6BQ,KACxFH,QACAE,KAAKC,KAAOA,EACZD,KAAKH,QAAUA,EACfG,KAAK+U,OAASA,CACf,CAED67C,aACE,IAAK5wD,KAAK+U,OAAQ,OAClB/U,KAAK6wD,SAAW7wD,KAAK+U,OAAO+yB,KAC5B,MAAM4kB,EAAM1sD,KAAK+U,OAAO+I,SAAW9d,KAAK+U,OAAO+I,QAAQk5B,KAEvD,GAA2B,iBAAhBh3C,KAAKyvB,OAAqB,CACnCzvB,KAAK+uD,MAAQ,IAAI3B,MAAMptD,KAAKyvB,OAAQzvB,KAAKyvB,OAAS,GAClD,MAAMoN,EAAQ6vB,GAAOE,WAAW5sD,KAAKyvB,OAAQi9B,GAE7C,GAAI7vB,EAAO,CACT,MAAMC,EAAM,CACVvzB,KAAMszB,EAAMtzB,KACZsjD,IAAKhwB,EAAMgwB,IAAM,GAEnB7sD,KAAK8wD,QAAU,CACbj0B,QACAC,MAEH,QAEM98B,KAAKyvB,MAClB,MACMzvB,KAAK+uD,MAAQ/uD,KAAK+U,OAAOg6C,MACzB/uD,KAAK8wD,QAAU9wD,KAAK+U,OAAO+6C,eAG7B,GAAI9vD,KAAK8wD,QAAS,CAChB,MAAMvnD,KACJA,EAAIsjD,IACJA,GACE7sD,KAAK8wD,QAAQj0B,MACjB78B,KAAKH,SAAW,YAAY0J,aAAgBsjD,IAC5C,MAAMkE,EAAMrE,GAAOK,iBAAiB/sD,KAAK8wD,QAASpE,GAC9CqE,IAAK/wD,KAAKH,SAAW,QAAQkxD,MAClC,QAEM/wD,KAAK+U,MACb,EAGH,MAAMi8C,2BAA2BL,UAC/BjxD,YAAYqV,EAAQlV,GAClBC,MAAM,qBAAsBiV,EAAQlV,EACrC,EAGH,MAAMoxD,0BAA0BN,UAC9BjxD,YAAYqV,EAAQlV,GAClBC,MAAM,oBAAqBiV,EAAQlV,EACpC,EAGH,MAAMqxD,wBAAwBP,UAC5BjxD,YAAYqV,EAAQlV,GAClBC,MAAM,kBAAmBiV,EAAQlV,EAClC,EAGH,MAAMsxD,oBAAoBR,UACxBjxD,YAAYqV,EAAQlV,GAClBC,MAAM,cAAeiV,EAAQlV,EAC9B,EAIH,SAASuxD,gBAAgB1qB,EAAK96B,EAAKzK,GAYjC,OAXIyK,KAAO86B,EACT97B,OAAOmf,eAAe2c,EAAK96B,EAAK,CAC9BzK,MAAOA,EACP8uB,YAAY,EACZC,cAAc,EACd4Y,UAAU,IAGZpC,EAAI96B,GAAOzK,EAGNulC,CACT,CAEA,MAAM2qB,qBAAmB1D,OACvB/D,iBAAiB1P,EAAKrd,EAAOy0B,GAC3B,IAAIpD,EAAKhU,EAAIrd,GACTpN,EAASoN,EAEb,KAAOqxB,GAAa,OAAPA,KACPoD,GAAkB,MAAPpD,GAAqB,MAAPA,GAAqB,MAAPA,GAAqB,MAAPA,GAAqB,MAAPA,IAD/C,CAExB,MAAM5gB,EAAO4M,EAAIzqB,EAAS,GAC1B,GAAW,MAAPy+B,KAAgB5gB,GAAiB,OAATA,GAA0B,OAATA,GAA0B,MAATA,GAAgBgkB,GAAmB,MAAThkB,GAAe,MACvG,IAAY,MAAP4gB,GAAqB,OAAPA,IAAyB,MAAT5gB,EAAc,MACjD7d,GAAU,EACVy+B,EAAK5gB,CACN,CAED,OAAO7d,CACR,CAEG8hC,eACF,IAAKvxD,KAAKgvD,aAAehvD,KAAK8d,QAAS,OAAO,KAC9C,IAAI+e,MACFA,EAAKC,IACLA,GACE98B,KAAKgvD,WACT,MAAM9U,IACJA,GACEl6C,KAAK8d,QACT,IAAIowC,EAAKhU,EAAIpd,EAAM,GAEnB,KAAOD,EAAQC,IAAe,OAAPoxB,GAAsB,OAAPA,GAAsB,MAAPA,IAAaA,EAAKhU,IAAMpd,EAAM,GAEnF,IAAIn0B,EAAM,GAEV,IAAK,IAAIa,EAAIqzB,EAAOrzB,EAAIszB,IAAOtzB,EAAG,CAChC,MAAM0kD,EAAKhU,EAAI1wC,GAEf,GAAW,OAAP0kD,EAAa,CACf,MAAMW,KACJA,EAAIp/B,OACJA,GACEk+B,OAAK6D,YAAYtX,EAAK1wC,GAAI,GAC9Bb,GAAOkmD,EACPrlD,EAAIimB,CACL,MAAM,GAAW,MAAPy+B,GAAqB,OAAPA,EAAa,CAEpC,MAAMuD,EAAUjoD,EAChB,IAAI8jC,EAAO4M,EAAI1wC,EAAI,GAEnB,KAAOA,EAAIszB,IAAiB,MAATwQ,GAAyB,OAATA,IACjC9jC,GAAK,EACL8jC,EAAO4M,EAAI1wC,EAAI,GAGJ,OAAT8jC,IAAe3kC,GAAOa,EAAIioD,EAAUvX,EAAIl5C,MAAMywD,EAASjoD,EAAI,GAAK0kD,EAC5E,MACQvlD,GAAOulD,CAEV,CAED,MAAML,EAAM3T,EAAIrd,GAEhB,OAAQgxB,GACN,IAAK,KAID,MAAO,CACL6D,OAFa,CAAC,IAAIT,kBAAkBjxD,KAD1B,kDAIV2I,OAIN,IAAK,IACL,IAAK,IAID,MAAO,CACL+oD,OAFa,CAAC,IAAIT,kBAAkBjxD,KAD1B,oDAAoD6tD,MAI9DllD,OAIN,QACE,OAAOA,EAEZ,CAEDgpD,gBAAgB90B,GACd,MAAMh0B,OACJA,EAAMyoD,OACNA,EAAMpX,IACNA,GACEl6C,KAAK8d,QACT,IAAI2R,EAASoN,EACT+0B,EAAW/0B,EAEf,IAAK,IAAIqxB,EAAKhU,EAAIzqB,GAAgB,OAAPy+B,IACrBP,OAAKkE,mBAAmB3X,EAAKzqB,EAAS,GADJy+B,EAAKhU,EAAIzqB,GAAS,CAExD,MAAMqN,EAAM6wB,OAAKmE,iBAAiB5X,EAAKrxC,EAAQ4mB,EAAS,GACxD,GAAY,OAARqN,GAA6B,MAAbod,EAAIpd,GAAc,MAErB,OAAbod,EAAIpd,GACNrN,EAASqN,GAET80B,EAAWP,aAAWd,UAAUrW,EAAKpd,EAAKw0B,GAC1C7hC,EAASmiC,EAEZ,CAID,OAFI5xD,KAAKgvD,WAAW3B,YAAWrtD,KAAKgvD,WAAWnyB,MAAQA,GACvD78B,KAAKgvD,WAAWlyB,IAAM80B,EACfA,CACR,CA4BDj8C,MAAMmI,EAAS+e,GACb78B,KAAK8d,QAAUA,EACf,MAAMwzC,OACJA,EAAMpX,IACNA,GACEp8B,EACJ,IAAI2R,EAASoN,EACb,MAAMqxB,EAAKhU,EAAIzqB,GAcf,OAZIy+B,GAAa,MAAPA,GAAqB,OAAPA,IACtBz+B,EAAS4hC,aAAWd,UAAUrW,EAAKrd,EAAOy0B,IAG5CtxD,KAAKgvD,WAAa,IAAI5B,MAAMvwB,EAAOpN,GACnCA,EAASk+B,OAAKC,gBAAgB1T,EAAKzqB,GACnCA,EAASzvB,KAAKswD,aAAa7gC,GAEtBzvB,KAAK0vD,aAAc1vD,KAAKgvD,WAAW3B,YACtC59B,EAASzvB,KAAK2xD,gBAAgBliC,IAGzBA,CACR,EAISsiC,mBAAAhH,KAAGA,KACHgH,mBAAApE,KAAGA,OACGoE,mBAAAV,WAAGA,aACRU,mBAAA3E,MAAGA,MACJ2E,mBAAA3G,KAAGA,KACE2G,mBAAApB,UAAGA,UACMoB,mBAAAf,mBAAGA,mBACJe,mBAAAd,kBAAGA,kBACLc,mBAAAb,gBAAGA,gBACPa,mBAAAZ,YAAGA,YACCY,mBAAAX,gBAAGA,gBACFW,mBAAA3F,iBAAGA,iBAC3B2F,mBAAA1F,YAAsBA,YCz2BtB,IAAIgF,aAAa/wD,mBAEjB,MAAM0xD,kBAAkBX,aAAW1D,KACjCjuD,cACEI,MAAMuxD,aAAWjG,KAAKE,WACvB,CAIGsE,4BAGF,OAAO,CACR,CAUDj6C,MAAMmI,EAAS+e,GAGb,OAFA78B,KAAK8d,QAAUA,EACf9d,KAAK+uD,MAAQ,IAAIsC,aAAWjE,MAAMvwB,EAAOA,EAAQ,GAC1CA,EAAQ,CAChB,EAIH,MAAMo1B,uBAAuBZ,aAAW1D,KACtCjuD,YAAYooC,EAAMgnB,GAChBhvD,MAAMgoC,EAAMgnB,GACZ9uD,KAAKyuB,KAAO,IACb,CAEGmhC,4BACF,QAAS5vD,KAAKyuB,MAAQzuB,KAAKyuB,KAAKmhC,qBACjC,CAQDj6C,MAAMmI,EAAS+e,GACb78B,KAAK8d,QAAUA,EACf,MAAMo0C,UACJA,EAAShY,IACTA,GACEp8B,EACJ,IAAIq0C,YACFA,EAAW9D,UACXA,GACEvwC,EACCq0C,GAAenyD,KAAK8nC,OAASupB,aAAWjG,KAAKe,WAAUnsD,KAAKK,MAAQ,IAAIgxD,aAAWJ,kBAAkBjxD,KAAM,oEAChH,MAAM6I,EAASspD,EAAct1B,EAAQwxB,EAAYvwC,EAAQjV,OACzD,IAAI4mB,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKrd,EAAQ,GACtDqxB,EAAKhU,EAAIzqB,GACb,MAAM2iC,EAAuB,MAAPlE,EAChBoB,EAAW,GACjB,IAAI+C,EAAY,KAEhB,KAAc,OAAPnE,GAAsB,MAAPA,GAAY,CAChC,GAAW,MAAPA,EAAY,CACd,MAAMpxB,EAAMu0B,aAAW1D,KAAK4C,UAAUrW,EAAKzqB,EAAS,GACpD6/B,EAAS7rD,KAAK,IAAI4tD,aAAWjE,MAAM39B,EAAQqN,IAC3CrN,EAASqN,CACjB,KAAa,CACLq1B,GAAc,EACd9D,EAAY5+B,EAAS,EAGF,OAAfyqB,EAFUmX,aAAW1D,KAAKC,gBAAgB1T,EAAKmU,KAEJ,IAApBiB,EAASruD,SAClCoxD,EAAY,IAAIL,UAChB3D,EAAYgE,EAAU18C,MAAM,CAC1BukC,OACCmU,IAGL5+B,EAAS4hC,aAAW1D,KAAKY,YAAYrU,EAAKmU,EAC3C,CAEDH,EAAKhU,EAAIzqB,EACV,CAcD,GAZI4hC,aAAW1D,KAAK2E,mBAAmBpE,EAAIz+B,GAAU4+B,EAAYxlD,GAAS7I,KAAK8nC,OAASupB,aAAWjG,KAAKe,UACtGnsD,KAAKyuB,KAAOyjC,EAAU,CACpBC,cACAI,cAAc,EACd1pD,SACAwlD,YACAlpD,OAAQnF,MACPyvB,GACMy+B,GAAMG,EAAYxxB,EAAQ,IACnCpN,EAAS4+B,EAAY,GAGnBruD,KAAKyuB,KAAM,CACb,GAAI4jC,EAAW,CAIb,MAAM3W,EAAQ59B,EAAQ3Y,OAAOu2C,OAAS59B,EAAQ3Y,OAAOqtD,SACjD9W,GAAOA,EAAMj4C,KAAK4uD,EACvB,CAEG/C,EAASruD,QAAQI,MAAMs3B,UAAUl1B,KAAKuP,MAAMhT,KAAK8uD,MAAOQ,GAC5D7/B,EAASzvB,KAAKyuB,KAAKsgC,MAAMjyB,GAC/B,MACM,GAAIs1B,EAAe,CACjB,MAAM1nC,EAAI4kC,EAAS,GACnBtvD,KAAK8uD,MAAMrrD,KAAKinB,GAChB+E,EAAS/E,EAAEoS,GACnB,MACQrN,EAAS4hC,aAAW1D,KAAK4C,UAAUrW,EAAKrd,EAAQ,GAIpD,MAAMC,EAAM98B,KAAKyuB,KAAOzuB,KAAKyuB,KAAKugC,WAAWlyB,IAAMrN,EAEnD,OADAzvB,KAAKgvD,WAAa,IAAIqC,aAAWjE,MAAMvwB,EAAOC,GACvCrN,CACR,CAEDghC,cAAclD,EAAI99B,GAEhB,OADAA,EAAS3vB,MAAM2wD,cAAclD,EAAI99B,GAC1BzvB,KAAKyuB,KAAOzuB,KAAKyuB,KAAKgiC,cAAclD,EAAI99B,GAAUA,CAC1D,CAEDpC,WACE,MACEvP,SAASo8B,IACPA,GACDzrB,KACDA,EAAIsgC,MACJA,EAAK5tD,MACLA,GACEnB,KACJ,GAAa,MAATmB,EAAe,OAAOA,EAC1B,MAAMwH,EAAM8lB,EAAOyrB,EAAIl5C,MAAM+tD,EAAMlyB,MAAOpO,EAAKsgC,MAAMlyB,OAASxG,OAAO5H,GAAQyrB,EAAIl5C,MAAM+tD,EAAMlyB,MAAOkyB,EAAMjyB,KAC1G,OAAOu0B,aAAW1D,KAAK+C,oBAAoBxW,EAAK6U,EAAMjyB,IAAKn0B,EAC5D,EAIH,MAAM8pD,gBAAgBpB,aAAW1D,KAC/BjuD,cACEI,MAAMuxD,aAAWjG,KAAKrR,QACvB,CAUDpkC,MAAMmI,EAAS+e,GACb78B,KAAK8d,QAAUA,EACf,MAAM2R,EAASzvB,KAAKswD,aAAazzB,GAEjC,OADA78B,KAAK+uD,MAAQ,IAAIsC,aAAWjE,MAAMvwB,EAAOpN,GAClCA,CACR,EAIH,SAASijC,0BAA0BjkC,GACjC,IAAIkkC,EAAQlkC,EAEZ,KAAOkkC,aAAiBV,gBAAgBU,EAAQA,EAAMlkC,KAEtD,KAAMkkC,aAAiBC,cAAa,OAAO,KAC3C,MAAMp3C,EAAMm3C,EAAMjX,MAAMz6C,OACxB,IAAI4xD,GAAM,EAEV,IAAK,IAAIrpD,EAAIgS,EAAM,EAAGhS,GAAK,IAAKA,EAAG,CACjC,MAAM4iB,EAAIumC,EAAMjX,MAAMlyC,GAEtB,GAAI4iB,EAAE0b,OAASupB,aAAWjG,KAAKrR,QAAS,CAEtC,MAAMlxC,OACJA,EAAMwlD,UACNA,GACEjiC,EAAEtO,QACN,GAAIjV,EAAS,GAAKujB,EAAE2iC,MAAMlyB,OAASwxB,EAAYxlD,EAAQ,MACvDgqD,EAAKrpD,CACX,KAAW,IAAI4iB,EAAE0b,OAASupB,aAAWjG,KAAKE,WAAwB,MAAZuH,EAAKrpD,CAAa,CACrE,CAED,IAAY,IAARqpD,EAAW,OAAO,KACtB,MAAMC,EAAKH,EAAMjX,MAAMqX,OAAOF,EAAIr3C,EAAMq3C,GAClCG,EAAUF,EAAG,GAAG/D,MAAMlyB,MAE5B,KACE81B,EAAM5D,MAAMjyB,IAAMk2B,EACdL,EAAM3D,YAAc2D,EAAM3D,WAAWlyB,IAAMk2B,IAASL,EAAM3D,WAAWlyB,IAAMk2B,GAC3EL,IAAUlkC,GACdkkC,EAAQA,EAAM70C,QAAQ3Y,OAGxB,OAAO2tD,CACT,CACA,MAAMF,qBAAmBvB,aAAW1D,KAClC/D,4BAA4B1P,EAAKzqB,EAAQ5mB,GACvC,MAAMwlD,EAAYgD,aAAW1D,KAAK4C,UAAUrW,EAAKzqB,GAAU,EAErDy+B,EAAKhU,EADXzqB,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKmU,IAE9C,QAAKH,IACDz+B,GAAU4+B,EAAYxlD,IACf,MAAPqlD,GAAqB,OAAPA,IACX0E,aAAWK,qBAAqB/Y,EAAKzqB,EAAQ5mB,GACrD,CAEDnJ,YAAYwzD,GACVpzD,MAAMozD,EAAUprB,OAASupB,aAAWjG,KAAKe,SAAWkF,aAAWjG,KAAKc,IAAMmF,aAAWjG,KAAK/e,KAE1F,IAAK,IAAI7iC,EAAI0pD,EAAUpE,MAAM7tD,OAAS,EAAGuI,GAAK,IAAKA,EACjD,GAAI0pD,EAAUpE,MAAMtlD,GAAGqzB,MAAQq2B,EAAUp1C,QAAQuwC,UAAW,CAE1DruD,KAAK8uD,MAAQoE,EAAUpE,MAAM9tD,MAAM,EAAGwI,EAAI,GAC1C0pD,EAAUpE,MAAQoE,EAAUpE,MAAM9tD,MAAMwI,EAAI,GAC5C,MAAM2pD,EAAYD,EAAUpE,MAAM,IAAMoE,EAAUlE,WAClDkE,EAAUnE,MAAMlyB,MAAQs2B,EAAUt2B,MAClC,KACD,CAGH78B,KAAK07C,MAAQ,CAACwX,GACd,MAAME,EAAKV,0BAA0BQ,GACjCE,GAAI/xD,MAAMs3B,UAAUl1B,KAAKuP,MAAMhT,KAAK07C,MAAO0X,EAChD,CAEGxD,4BACF,OAAO5vD,KAAK07C,MAAMz6C,OAAS,CAC5B,CAQD0U,MAAMmI,EAAS+e,GACb78B,KAAK8d,QAAUA,EACf,MAAMo0C,UACJA,EAAShY,IACTA,GACEp8B,EAGJ,IAAIuwC,EAAYgD,aAAW1D,KAAK0F,YAAYnZ,EAAKrd,GACjD,MAAMq2B,EAAYlzD,KAAK07C,MAAM,GAG7BwX,EAAUp1C,QAAQ3Y,OAASnF,KAC3BA,KAAKgvD,WAAaqC,aAAWjE,MAAMkG,KAAKJ,EAAUlE,YAClD,MAAMnmD,EAASqqD,EAAUnE,MAAMlyB,MAAQq2B,EAAUp1C,QAAQuwC,UACzD,IAAI5+B,EAASoN,EACbpN,EAAS4hC,aAAW1D,KAAK4F,gBAAgBrZ,EAAKzqB,GAC9C,IAAIy+B,EAAKhU,EAAIzqB,GACT0iC,EAAcd,aAAW1D,KAAKC,gBAAgB1T,EAAKmU,KAAe5+B,EAClE+jC,GAA4B,EAEhC,KAAOtF,GAAI,CACT,KAAc,OAAPA,GAAsB,MAAPA,GAAY,CAChC,GAAIiE,GAAsB,OAAPjE,IAAgBsF,EAA2B,CAC5D,MAAMnB,EAAY,IAAIL,UAMtB,GALAviC,EAAS4iC,EAAU18C,MAAM,CACvBukC,OACCzqB,GACHzvB,KAAKgvD,WAAWlyB,IAAMrN,EAElBA,GAAUyqB,EAAIj5C,OAAQ,CACxBitD,EAAK,KACL,KACD,CAEDluD,KAAK07C,MAAMj4C,KAAK4uD,GAChB5iC,GAAU,CACpB,MAAe,GAAW,MAAPy+B,EAAY,CACrB,GAAIz+B,EAAS4+B,EAAYxlD,IAAW+pD,aAAWK,qBAAqB/Y,EAAKzqB,EAAQ5mB,GAC/E,OAAO4mB,EAGT,MAAM4/B,EAAU,IAAIoD,QASpB,GARAhjC,EAAS4/B,EAAQ15C,MAAM,CACrB9M,SACAwlD,YACAnU,OACCzqB,GACHzvB,KAAK07C,MAAMj4C,KAAK4rD,GAChBrvD,KAAKgvD,WAAWlyB,IAAMrN,EAElBA,GAAUyqB,EAAIj5C,OAAQ,CACxBitD,EAAK,KACL,KACD,CACF,CAKD,GAHAG,EAAY5+B,EAAS,EACrBA,EAAS4hC,aAAW1D,KAAKY,YAAYrU,EAAKmU,GAEtCgD,aAAW1D,KAAK8B,QAAQvV,EAAKzqB,GAAS,CACxC,MAAM++B,EAAQ6C,aAAW1D,KAAKC,gBAAgB1T,EAAKzqB,GAC7C6d,EAAO4M,EAAIsU,GAEZlhB,GAAiB,OAATA,GAA0B,MAATA,IAC5B7d,EAAS++B,EAEZ,CAEDN,EAAKhU,EAAIzqB,GACT0iC,GAAc,CACf,CAED,IAAKjE,EACH,MAGF,GAAIz+B,IAAW4+B,EAAYxlD,IAAWspD,GAAsB,MAAPjE,GAAa,CAChE,GAAIz+B,EAAS4+B,EAAYxlD,EAAQ,CAC3BwlD,EAAYxxB,IAAOpN,EAAS4+B,GAChC,KACV,CAAe,IAAKruD,KAAKK,MAAO,CACtB,MAAMozD,EAAM,qDACZzzD,KAAKK,MAAQ,IAAIgxD,aAAWH,gBAAgBlxD,KAAMyzD,EACnD,CACF,CAED,GAAIP,EAAUprB,OAASupB,aAAWjG,KAAKe,UACrC,GAAW,MAAP+B,EAAY,CACVG,EAAYxxB,IAAOpN,EAAS4+B,GAChC,KACD,OACI,GAAW,MAAPH,IAAeluD,KAAKK,MAAO,CAEpC,MAAMitC,EAAO4M,EAAIzqB,EAAS,GAE1B,IAAK6d,GAAiB,OAATA,GAA0B,OAATA,GAA0B,MAATA,EAAc,CAC3D,MAAMmmB,EAAM,uDACZzzD,KAAKK,MAAQ,IAAIgxD,aAAWH,gBAAgBlxD,KAAMyzD,EACnD,CACF,CAED,MAAMhlC,EAAOyjC,EAAU,CACrBC,cACAI,cAAc,EACd1pD,SACAwlD,YACAlpD,OAAQnF,MACPyvB,GACH,IAAKhB,EAAM,OAAOgB,EAWlB,GATAzvB,KAAK07C,MAAMj4C,KAAKgrB,GAChBzuB,KAAKgvD,WAAWlyB,IAAMrO,EAAKugC,WAAWlyB,IACtCrN,EAAS4hC,aAAW1D,KAAK4F,gBAAgBrZ,EAAKzrB,EAAKsgC,MAAMjyB,KACzDoxB,EAAKhU,EAAIzqB,GACT0iC,GAAc,EACdqB,EAA4B/kC,EAAKmhC,sBAI7B1B,EAAI,CACN,IAAI1B,EAAK/8B,EAAS,EACdq+B,EAAO5T,EAAIsS,GAEf,KAAgB,MAATsB,GAAyB,OAATA,GAAeA,EAAO5T,IAAMsS,GAEtC,OAATsB,IACFO,EAAY7B,EAAK,EACjB2F,GAAc,EAEjB,CAED,MAAMiB,EAAKV,0BAA0BjkC,GACjC2kC,GAAI/xD,MAAMs3B,UAAUl1B,KAAKuP,MAAMhT,KAAK07C,MAAO0X,EAChD,CAED,OAAO3jC,CACR,CAEDghC,cAAclD,EAAI99B,GAKhB,OAJAA,EAAS3vB,MAAM2wD,cAAclD,EAAI99B,GACjCzvB,KAAK07C,MAAMn2C,SAAQkpB,IACjBgB,EAAShB,EAAKgiC,cAAclD,EAAI99B,EAAO,IAElCA,CACR,CAEDpC,WACE,MACEvP,SAASo8B,IACPA,GACDwB,MACDA,EAAKqT,MACLA,EAAK5tD,MACLA,GACEnB,KACJ,GAAa,MAATmB,EAAe,OAAOA,EAC1B,IAAIwH,EAAMuxC,EAAIl5C,MAAM+tD,EAAMlyB,MAAO6e,EAAM,GAAGqT,MAAMlyB,OAASxG,OAAOqlB,EAAM,IAEtE,IAAK,IAAIlyC,EAAI,EAAGA,EAAIkyC,EAAMz6C,SAAUuI,EAAG,CACrC,MAAM8qC,EAAOoH,EAAMlyC,IACb2oD,YACJA,EAAWtpD,OACXA,GACEyrC,EAAKx2B,QACT,GAAIq0C,EAAa,IAAK,IAAI3oD,EAAI,EAAGA,EAAIX,IAAUW,EAAGb,GAAO,IACzDA,GAAO0tB,OAAOie,EACf,CAED,OAAO+c,aAAW1D,KAAK+C,oBAAoBxW,EAAK6U,EAAMjyB,IAAKn0B,EAC5D,EAIH,MAAM+qD,kBAAkBrC,aAAW1D,KACjCjuD,cACEI,MAAMuxD,aAAWjG,KAAKK,WACtBzrD,KAAKC,KAAO,IACb,CAEG2yC,iBACF,MAAMvjB,EAAMrvB,KAAK+vD,SACjB,OAAO1gC,EAAMA,EAAIuH,OAAOzqB,MAAM,UAAY,EAC3C,CAEDwnD,UAAU92B,GACR,MAAMqd,IACJA,GACEl6C,KAAK8d,QACT,IAAI2R,EAASoN,EACTqxB,EAAKhU,EAAIzqB,GAEb,KAAOy+B,GAAa,OAAPA,GAAsB,OAAPA,GAAsB,MAAPA,GAAYA,EAAKhU,EAAIzqB,GAAU,GAG1E,OADAzvB,KAAKC,KAAOi6C,EAAIl5C,MAAM67B,EAAOpN,GACtBA,CACR,CAEDmkC,gBAAgB/2B,GACd,MAAMqd,IACJA,GACEl6C,KAAK8d,QACT,IAAI2R,EAASoN,EACTqxB,EAAKhU,EAAIzqB,GAEb,KAAOy+B,GAAa,OAAPA,GAAsB,MAAPA,GAAYA,EAAKhU,EAAIzqB,GAAU,GAG3D,OADAzvB,KAAKgvD,WAAa,IAAIqC,aAAWjE,MAAMvwB,EAAOpN,GACvCA,CACR,CAED9Z,MAAMmI,EAAS+e,GACb78B,KAAK8d,QAAUA,EACf,IAAI2R,EAASzvB,KAAK2zD,UAAU92B,EAAQ,GAIpC,OAHApN,EAASzvB,KAAK4zD,gBAAgBnkC,GAC9BA,EAASzvB,KAAKswD,aAAa7gC,GAC3BzvB,KAAK+uD,MAAQ,IAAIsC,aAAWjE,MAAMvwB,EAAOpN,GAClCA,CACR,EAIH,MAAMokC,mBAAiBxC,aAAW1D,KAChC/D,kCAAkC1P,EAAKrd,GACrC,MAAMpN,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKrd,GAC9CqxB,EAAKhU,EAAIzqB,GACf,MAAc,MAAPy+B,GAAqB,OAAPA,EAAcz+B,EAASoN,CAC7C,CAEDn9B,cACEI,MAAMuxD,aAAWjG,KAAKM,UACtB1rD,KAAK8zD,WAAa,KAClB9zD,KAAKwyD,SAAW,KAChBxyD,KAAK+zD,oBAAsB,KAC3B/zD,KAAKg0D,kBAAoB,IAC1B,CAEDC,gBAAgBp3B,GACd,MAAMqd,IACJA,GACEl6C,KAAK8d,QACT9d,KAAK8zD,WAAa,GAClB,IAAI3B,GAAc,EACd+B,GAAgB,EAChBzkC,EAASoN,EAEb,MAAQw0B,aAAW1D,KAAKkE,mBAAmB3X,EAAKzqB,EAAQ4hC,aAAWtG,KAAKG,iBAGtE,OAFAz7B,EAASokC,WAASM,2BAA2Bja,EAAKzqB,GAE1CyqB,EAAIzqB,IACV,IAAK,KACH,GAAI0iC,EAAa,CACf,MAAME,EAAY,IAAIL,UACtBviC,EAAS4iC,EAAU18C,MAAM,CACvBukC,OACCzqB,GAECA,EAASyqB,EAAIj5C,QACfjB,KAAK8zD,WAAWrwD,KAAK4uD,EAEnC,MACY5iC,GAAU,EACV0iC,GAAc,EAGhB,MAEF,IAAK,IACH,CACE,MAAM9C,EAAU,IAAIoD,QACpBhjC,EAAS4/B,EAAQ15C,MAAM,CACrBukC,OACCzqB,GACHzvB,KAAK8zD,WAAWrwD,KAAK4rD,GACrB8C,GAAc,CACf,CACD,MAEF,IAAK,IACH,CACE,MAAMiC,EAAY,IAAIV,UACtBjkC,EAAS2kC,EAAUz+C,MAAM,CACvBxQ,OAAQnF,KACRk6C,OACCzqB,GACHzvB,KAAK8zD,WAAWrwD,KAAK2wD,GACrBF,GAAgB,EAChB/B,GAAc,CACf,CACD,MAEF,QAQE,OAPI+B,EACFl0D,KAAKK,MAAQ,IAAIgxD,aAAWJ,kBAAkBjxD,KAAM,yCAC3CA,KAAK8zD,WAAW7yD,OAAS,IAClCjB,KAAKwyD,SAAWxyD,KAAK8zD,WACrB9zD,KAAK8zD,WAAa,IAGbrkC,EAIb,OAAIyqB,EAAIzqB,IACNzvB,KAAK+zD,oBAAsB,IAAI1C,aAAWjE,MAAM39B,EAAQA,EAAS,GAC1DA,EAAS,IAGdykC,EACFl0D,KAAKK,MAAQ,IAAIgxD,aAAWJ,kBAAkBjxD,KAAM,yCAC3CA,KAAK8zD,WAAW7yD,OAAS,IAClCjB,KAAKwyD,SAAWxyD,KAAK8zD,WACrB9zD,KAAK8zD,WAAa,IAGbrkC,EACR,CAED4kC,cAAcx3B,GACZ,MAAMq1B,UACJA,EAAShY,IACTA,GACEl6C,KAAK8d,QACJ9d,KAAKwyD,WAAUxyD,KAAKwyD,SAAW,IACpC,IAAInE,EAAYxxB,EAEhB,KAA8B,MAAvBqd,EAAImU,EAAY,IAAYA,GAAa,EAEhD,IAAI5+B,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKrd,GAC9Cs1B,EAAc9D,IAAcxxB,EAGhC,IAFA78B,KAAKgvD,WAAa,IAAIqC,aAAWjE,MAAM39B,IAE/B4hC,aAAW1D,KAAKkE,mBAAmB3X,EAAKzqB,EAAQ4hC,aAAWtG,KAAKI,eAAe,CACrF,OAAQjR,EAAIzqB,IACV,IAAK,KACH,GAAI0iC,EAAa,CACf,MAAME,EAAY,IAAIL,UACtBviC,EAAS4iC,EAAU18C,MAAM,CACvBukC,OACCzqB,GAECA,EAASyqB,EAAIj5C,QACfjB,KAAKwyD,SAAS/uD,KAAK4uD,EAEjC,MACY5iC,GAAU,EACV0iC,GAAc,EAGhB9D,EAAY5+B,EACZ,MAEF,IAAK,IACH,CACE,MAAM4/B,EAAU,IAAIoD,QACpBhjC,EAAS4/B,EAAQ15C,MAAM,CACrBukC,OACCzqB,GACHzvB,KAAKwyD,SAAS/uD,KAAK4rD,GACnB8C,GAAc,CACf,CACD,MAEF,QACE,CACE,MAAMmC,EAAOjD,aAAW1D,KAAKY,YAAYrU,EAAKzqB,GASxChB,EAAOyjC,EARG,CACdC,cACAtpD,QAAS,EACTyoD,QAAQ,EACRiB,cAAc,EACdlE,YACAlpD,OAAQnF,MAEsBs0D,GAChC,IAAK7lC,EAAM,OAAOzuB,KAAKgvD,WAAWlyB,IAAMw3B,EAExCt0D,KAAKwyD,SAAS/uD,KAAKgrB,GACnBgB,EAAShB,EAAKsgC,MAAMjyB,IACpBq1B,GAAc,EACd,MAAMiB,EAAKV,0BAA0BjkC,GACjC2kC,GAAI/xD,MAAMs3B,UAAUl1B,KAAKuP,MAAMhT,KAAKwyD,SAAUY,EACnD,EAGL3jC,EAASokC,WAASM,2BAA2Bja,EAAKzqB,EACnD,CAID,GAFAzvB,KAAKgvD,WAAWlyB,IAAMrN,EAElByqB,EAAIzqB,KACNzvB,KAAKg0D,kBAAoB,IAAI3C,aAAWjE,MAAM39B,EAAQA,EAAS,GAC/DA,GAAU,EAENyqB,EAAIzqB,IAAS,CAGf,GAFAA,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKzqB,GAE1B,MAAhByqB,EAAIzqB,GAAiB,CACvB,MAAM4/B,EAAU,IAAIoD,QACpBhjC,EAAS4/B,EAAQ15C,MAAM,CACrBukC,OACCzqB,GACHzvB,KAAKwyD,SAAS/uD,KAAK4rD,EACpB,CAED,OAAQnV,EAAIzqB,IACV,IAAK,KACHA,GAAU,EACV,MAEF,UAAKtvB,EACH,MAEF,QACEH,KAAKK,MAAQ,IAAIgxD,aAAWH,gBAAgBlxD,KAAM,6DAEvD,CAGH,OAAOyvB,CACR,CAQD9Z,MAAMmI,EAAS+e,GACb/e,EAAQk5B,KAAOh3C,KACfA,KAAK8d,QAAUA,EACf,MAAMo8B,IACJA,GACEp8B,EACJ,IAAI2R,EAAmC,QAA1ByqB,EAAIxe,WAAWmB,GAAoBA,EAAQ,EAAIA,EAI5D,OAFApN,EAASzvB,KAAKi0D,gBAAgBxkC,GAC9BA,EAASzvB,KAAKq0D,cAAc5kC,GACrBA,CACR,CAEDghC,cAAclD,EAAI99B,GAUhB,OATAA,EAAS3vB,MAAM2wD,cAAclD,EAAI99B,GACjCzvB,KAAK8zD,WAAWvuD,SAAQkpB,IACtBgB,EAAShB,EAAKgiC,cAAclD,EAAI99B,EAAO,IAErCzvB,KAAK+zD,sBAAqBtkC,EAASzvB,KAAK+zD,oBAAoBzG,aAAaC,EAAI99B,IACjFzvB,KAAKwyD,SAASjtD,SAAQkpB,IACpBgB,EAAShB,EAAKgiC,cAAclD,EAAI99B,EAAO,IAErCzvB,KAAKg0D,oBAAmBvkC,EAASzvB,KAAKg0D,kBAAkB1G,aAAaC,EAAI99B,IACtEA,CACR,CAEDpC,WACE,MAAMmlC,SACJA,EAAQsB,WACRA,EAAU3yD,MACVA,GACEnB,KACJ,GAAa,MAATmB,EAAe,OAAOA,EAC1B,IAAIwH,EAAMmrD,EAAW/xD,KAAK,IAQ1B,OANIywD,EAASvxD,OAAS,KAChB6yD,EAAW7yD,OAAS,GAAKuxD,EAAS,GAAG1qB,OAASupB,aAAWjG,KAAKrR,WAASpxC,GAAO,SAClFA,GAAO6pD,EAASzwD,KAAK,KAGK,OAAxB4G,EAAIA,EAAI1H,OAAS,KAAa0H,GAAO,MAClCA,CACR,EAIH,MAAM4rD,gBAAclD,aAAW1D,KAQ7Bh4C,MAAMmI,EAAS+e,GACb78B,KAAK8d,QAAUA,EACf,MAAMo8B,IACJA,GACEp8B,EACJ,IAAI2R,EAAS4hC,aAAW1D,KAAK6G,gBAAgBta,EAAKrd,EAAQ,GAI1D,OAHA78B,KAAKgvD,WAAa,IAAIqC,aAAWjE,MAAMvwB,EAAQ,EAAGpN,GAClDA,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKzqB,GAC9CA,EAASzvB,KAAKswD,aAAa7gC,GACpBA,CACR,EAIH,MAAMglC,MAAQ,CACZC,KAAM,OACNC,KAAM,OACNC,MAAO,SAET,MAAMC,mBAAmBxD,aAAW1D,KAClCjuD,YAAYooC,EAAMgnB,GAChBhvD,MAAMgoC,EAAMgnB,GACZ9uD,KAAK80D,YAAc,KACnB90D,KAAK+0D,SAAWN,MAAMC,KACtB10D,KAAKwvD,OAAS,IACf,CAEGI,4BACF,OAAO5vD,KAAK+0D,WAAaN,MAAME,IAChC,CAEGpD,eACF,IAAKvxD,KAAKgvD,aAAehvD,KAAK8d,QAAS,OAAO,KAC9C,IAAI+e,MACFA,EAAKC,IACLA,GACE98B,KAAKgvD,WACT,MAAMnmD,OACJA,EAAMqxC,IACNA,GACEl6C,KAAK8d,QACT,GAAI9d,KAAKgvD,WAAW3B,UAAW,MAAO,GACtC,IAAI2H,EAAc,KACd9G,EAAKhU,EAAIpd,EAAM,GAEnB,KAAc,OAAPoxB,GAAsB,OAAPA,GAAsB,MAAPA,GAAY,CAG/C,GAFApxB,GAAO,EAEHA,GAAOD,EAAO,CAChB,GAAI78B,KAAK+0D,WAAaN,MAAME,KAAM,MAAW,MAAO,EACrD,CAEU,OAAPzG,IAAa8G,EAAcl4B,GAC/BoxB,EAAKhU,EAAIpd,EAAM,EAChB,CAED,IAAIm4B,EAAYn4B,EAAM,EAElBk4B,IACEh1D,KAAK+0D,WAAaN,MAAME,MAC1BM,EAAYD,EACZl4B,EAAM98B,KAAKgvD,WAAWlyB,KAEtBA,EAAMk4B,GAIV,MAAME,EAAKrsD,EAAS7I,KAAK80D,YACnBK,EAASn1D,KAAK8nC,OAASupB,aAAWjG,KAAKG,aAC7C,IAAI6J,GAAU,EACVzsD,EAAM,GACNgzC,EAAM,GACN0Z,GAAmB,EAEvB,IAAK,IAAI7rD,EAAIqzB,EAAOrzB,EAAIszB,IAAOtzB,EAAG,CAChC,IAAK,IAAIoD,EAAI,EAAGA,EAAIsoD,GACH,MAAXhb,EAAI1wC,KADgBoD,EAExBpD,GAAK,EAGP,MAAM0kD,EAAKhU,EAAI1wC,GAEf,GAAW,OAAP0kD,EACU,OAARvS,EAAchzC,GAAO,KAAUgzC,EAAM,SACpC,CACL,MAAM2Z,EAAUjE,aAAW1D,KAAK4C,UAAUrW,EAAK1wC,GACzCD,EAAO2wC,EAAIl5C,MAAMwI,EAAG8rD,GAC1B9rD,EAAI8rD,EAEAH,IAAkB,MAAPjH,GAAqB,OAAPA,IAAgB1kD,EAAIyrD,GACnC,MAARtZ,EAAaA,EAAM,KAAe0Z,GAAqBD,GAAmB,OAARzZ,IAAcA,EAAM,QAC1FhzC,GAAOgzC,EAAMpyC,EAEboyC,EAAM2Z,EAAUx4B,GAAOod,EAAIob,IAAY,GACvCD,GAAmB,IAEnB1sD,GAAOgzC,EAAMpyC,EACboyC,EAAMwZ,GAAU3rD,EAAIyrD,EAAY,IAAM,KACtCI,GAAmB,GAGjBD,GAAoB,KAAT7rD,IAAa6rD,GAAU,EACvC,CACF,CAED,OAAOp1D,KAAK+0D,WAAaN,MAAMG,MAAQjsD,EAAMA,EAAM,IACpD,CAED4sD,iBAAiB14B,GACf,MAAMqd,IACJA,GACEl6C,KAAK8d,QACT,IAAI2R,EAASoN,EAAQ,EACjBq4B,EAAK,GAET,OAAa,CACX,MAAMhH,EAAKhU,EAAIzqB,GAEf,OAAQy+B,GACN,IAAK,IACHluD,KAAK+0D,SAAWN,MAAMG,MACtB,MAEF,IAAK,IACH50D,KAAK+0D,SAAWN,MAAME,KACtB,MAEF,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACHO,GAAMhH,EACN,MAEF,QAGE,OAFAluD,KAAK80D,YAAcxgC,OAAO4gC,IAAO,KACjCl1D,KAAKwvD,OAAS,IAAI6B,aAAWjE,MAAMvwB,EAAOpN,GACnCA,EAGXA,GAAU,CACX,CACF,CAEDkiC,gBAAgB90B,GACd,MAAMh0B,OACJA,EAAMqxC,IACNA,GACEl6C,KAAK8d,QACH03C,IAAax1D,KAAK80D,YACxB,IAAIrlC,EAASoN,EACT+0B,EAAW/0B,EACX44B,EAAiB,EAErB,IAAK,IAAIvH,EAAKhU,EAAIzqB,GAAgB,OAAPy+B,IACzBz+B,GAAU,GACN4hC,aAAW1D,KAAKkE,mBAAmB3X,EAAKzqB,IAFNy+B,EAAKhU,EAAIzqB,GAAS,CAGxD,MAAMqN,EAAMu0B,aAAW1D,KAAKmE,iBAAiB5X,EAAKrxC,EAAQ4mB,GAE1D,GAAY,OAARqN,EAAc,MAClB,MAAMoxB,EAAKhU,EAAIpd,GACT44B,EAAa54B,GAAOrN,EAAS5mB,GAEnC,GAAK7I,KAAK80D,aAcH,GAAI5G,GAAa,OAAPA,GAAewH,EAAa11D,KAAK80D,YAAa,CAC7D,GAAiB,MAAb5a,EAAIpd,GAAc,MAEtB,IAAK98B,KAAKK,MAAO,CACf,MACMozD,EAAM,sDADA+B,EAAW,iCAAmC,eAE1Dx1D,KAAKK,MAAQ,IAAIgxD,aAAWJ,kBAAkBjxD,KAAMyzD,EACrD,CACF,OApBC,GAAiB,OAAbvZ,EAAIpd,GAAe,CAErB,GAAI44B,EAAaD,EAAgB,CAC/B,MAAMhC,EAAM,kGACZzzD,KAAKK,MAAQ,IAAIgxD,aAAWJ,kBAAkBjxD,KAAMyzD,EACrD,CAEDzzD,KAAK80D,YAAcY,CAC7B,MAAmBA,EAAaD,IAEtBA,EAAiBC,GAanBjmC,EADe,OAAbyqB,EAAIpd,GACGA,EAEA80B,EAAWP,aAAW1D,KAAK4C,UAAUrW,EAAKpd,EAEtD,CAOD,OALI98B,KAAK+0D,WAAaN,MAAME,OAC1BllC,EAASyqB,EAAI0X,GAAYA,EAAW,EAAIA,GAG1C5xD,KAAKgvD,WAAa,IAAIqC,aAAWjE,MAAMvwB,EAAQ,EAAGpN,GAC3CA,CACR,CAuBD9Z,MAAMmI,EAAS+e,GACb78B,KAAK8d,QAAUA,EACf,MAAMo8B,IACJA,GACEp8B,EACJ,IAAI2R,EAASzvB,KAAKu1D,iBAAiB14B,GAInC,OAHApN,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKzqB,GAC9CA,EAASzvB,KAAKswD,aAAa7gC,GAC3BA,EAASzvB,KAAK2xD,gBAAgBliC,GACvBA,CACR,CAEDghC,cAAclD,EAAI99B,GAEhB,OADAA,EAAS3vB,MAAM2wD,cAAclD,EAAI99B,GAC1BzvB,KAAKwvD,OAASxvD,KAAKwvD,OAAOlC,aAAaC,EAAI99B,GAAUA,CAC7D,EAIH,MAAMkmC,uBAAuBtE,aAAW1D,KACtCjuD,YAAYooC,EAAMgnB,GAChBhvD,MAAMgoC,EAAMgnB,GACZ9uD,KAAK07C,MAAQ,IACd,CAEDka,mBAAmBz2B,EAAMn/B,KAAK07C,MAAMz6C,QAClC,MAAMwtB,EAAOzuB,KAAK07C,MAAMvc,EAAM,GAC9B,QAAS1Q,IAASA,EAAKohC,UAAYphC,EAAKqZ,OAASupB,aAAWjG,KAAKrR,SAAW/5C,KAAK41D,mBAAmBz2B,EAAM,GAC3G,CAQDxpB,MAAMmI,EAAS+e,GACb78B,KAAK8d,QAAUA,EACf,MAAMo0C,UACJA,EAAShY,IACTA,GACEp8B,EACJ,IAAIjV,OACFA,EAAMwlD,UACNA,GACEvwC,EACA0P,EAAO0sB,EAAIrd,GAEf78B,KAAK07C,MAAQ,CAAC,CACZluB,OACAiC,OAAQoN,IAEV,IAAIpN,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKrd,EAAQ,GAG1D,IAFArP,EAAO0sB,EAAIzqB,GAEJjC,GAAiB,MAATA,GAAyB,MAATA,GAAc,CAC3C,OAAQA,GACN,IAAK,KAED6gC,EAAY5+B,EAAS,EAGrB,GAAmB,OAAfyqB,EAFUmX,aAAW1D,KAAKC,gBAAgB1T,EAAKmU,IAE1B,CACvB,MAAMgE,EAAY,IAAIL,UACtB3D,EAAYgE,EAAU18C,MAAM,CAC1BukC,OACCmU,GACHruD,KAAK07C,MAAMj4C,KAAK4uD,EACjB,CAID,GAFA5iC,EAAS4hC,aAAW1D,KAAKY,YAAYrU,EAAKmU,GAEtC5+B,GAAU4+B,EAAYxlD,IACxB2kB,EAAO0sB,EAAIzqB,GAEPA,EAAS4+B,EAAYxlD,GAAmB,MAAT2kB,GAAyB,MAATA,GAAc,CAC/D,MAAMimC,EAAM,8CACZzzD,KAAKK,MAAQ,IAAIgxD,aAAWJ,kBAAkBjxD,KAAMyzD,EACrD,CAGL,MAEF,IAAK,IAEDzzD,KAAK07C,MAAMj4C,KAAK,CACd+pB,OACAiC,WAEFA,GAAU,EAEZ,MAEF,IAAK,IACH,CACE,MAAM4/B,EAAU,IAAIoD,QACpBhjC,EAAS4/B,EAAQ15C,MAAM,CACrBukC,OACCzqB,GACHzvB,KAAK07C,MAAMj4C,KAAK4rD,EACjB,CACD,MAEF,IAAK,IACL,IAAK,IACH,CACE,MAAM/hB,EAAO4M,EAAIzqB,EAAS,GAE1B,GAAa,OAAT6d,GAA0B,OAATA,GAA0B,MAATA,GAAyB,MAATA,GAC7C,MAAT9f,GAAgBxtB,KAAK41D,qBAAsB,CACzC51D,KAAK07C,MAAMj4C,KAAK,CACd+pB,OACAiC,WAEFA,GAAU,EACV,KACD,CACF,CAGH,QACE,CACE,MAAMhB,EAAOyjC,EAAU,CACrBC,aAAa,EACbI,cAAc,EACdjB,QAAQ,EACRzoD,QAAS,EACTwlD,YACAlpD,OAAQnF,MACPyvB,GAEH,IAAKhB,EAGH,OADAzuB,KAAKgvD,WAAa,IAAIqC,aAAWjE,MAAMvwB,EAAOpN,GACvCA,EAGTzvB,KAAK07C,MAAMj4C,KAAKgrB,GAChBgB,EAAS4hC,aAAW1D,KAAK4F,gBAAgBrZ,EAAKzrB,EAAKsgC,MAAMjyB,IAC1D,EAGLrN,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKzqB,GAC9CjC,EAAO0sB,EAAIzqB,EACZ,CAaD,OAXAzvB,KAAKgvD,WAAa,IAAIqC,aAAWjE,MAAMvwB,EAAOpN,EAAS,GAEnDjC,IACFxtB,KAAK07C,MAAMj4C,KAAK,CACd+pB,OACAiC,WAEFA,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKzqB,EAAS,GACvDA,EAASzvB,KAAKswD,aAAa7gC,IAGtBA,CACR,CAEDghC,cAAclD,EAAI99B,GAkBhB,OAjBAA,EAAS3vB,MAAM2wD,cAAclD,EAAI99B,GACjCzvB,KAAK07C,MAAMn2C,SAAQkpB,IACjB,GAAIA,aAAgB4iC,aAAW1D,KAC7Bl+B,EAAShB,EAAKgiC,cAAclD,EAAI99B,QAC3B,GAAkB,IAAd89B,EAAGtsD,OACZwtB,EAAKonC,WAAapnC,EAAKgB,WAClB,CACL,IAAIjmB,EAAIimB,EAER,KAAOjmB,EAAI+jD,EAAGtsD,UACRssD,EAAG/jD,GAAKilB,EAAKgB,WAAqBjmB,EAGxCilB,EAAKonC,WAAapnC,EAAKgB,OAASjmB,EAChCimB,EAASjmB,CACV,KAEIimB,CACR,CAEDpC,WACE,MACEvP,SAASo8B,IACPA,GACDwB,MACDA,EAAKqT,MACLA,EAAK5tD,MACLA,GACEnB,KACJ,GAAa,MAATmB,EAAe,OAAOA,EAC1B,MAAM20D,EAAQpa,EAAM74C,QAAOyxC,GAAQA,aAAgB+c,aAAW1D,OAC9D,IAAIhlD,EAAM,GACNqqD,EAAUjE,EAAMlyB,MAcpB,OAbAi5B,EAAMvwD,SAAQkpB,IACZ,MAAM6E,EAAS4mB,EAAIl5C,MAAMgyD,EAASvkC,EAAKsgC,MAAMlyB,OAC7Cm2B,EAAUvkC,EAAKsgC,MAAMjyB,IACrBn0B,GAAO2qB,EAAS+C,OAAO5H,GAEK,OAAxB9lB,EAAIA,EAAI1H,OAAS,IAAoC,OAArBi5C,EAAI8Y,EAAU,IAAgC,OAAjB9Y,EAAI8Y,KAInEA,GAAW,EACZ,IAEHrqD,GAAOuxC,EAAIl5C,MAAMgyD,EAASjE,EAAMjyB,KACzBu0B,aAAW1D,KAAK+C,oBAAoBxW,EAAK6U,EAAMjyB,IAAKn0B,EAC5D,EAIH,MAAMotD,oBAAoB1E,aAAW1D,KACnC/D,kBAAkB1P,EAAKzqB,GACrB,IAAIy+B,EAAKhU,EAAIzqB,GAEb,KAAOy+B,GAAa,MAAPA,GAEXA,EAAKhU,EADLzqB,GAAiB,OAAPy+B,EAAc,EAAI,GAI9B,OAAOz+B,EAAS,CACjB,CAMG8hC,eACF,IAAKvxD,KAAKgvD,aAAehvD,KAAK8d,QAAS,OAAO,KAC9C,MAAM4zC,EAAS,IACT70B,MACJA,EAAKC,IACLA,GACE98B,KAAKgvD,YACHnmD,OACJA,EAAMqxC,IACNA,GACEl6C,KAAK8d,QACY,MAAjBo8B,EAAIpd,EAAM,IAAY40B,EAAOjuD,KAAK,IAAI4tD,aAAWH,gBAAgBlxD,KAAM,2BAG3E,IAAI2I,EAAM,GAEV,IAAK,IAAIa,EAAIqzB,EAAQ,EAAGrzB,EAAIszB,EAAM,IAAKtzB,EAAG,CACxC,MAAM0kD,EAAKhU,EAAI1wC,GAEf,GAAW,OAAP0kD,EAAa,CACXmD,aAAW1D,KAAKkE,mBAAmB3X,EAAK1wC,EAAI,IAAIkoD,EAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBjxD,KAAM,sEACvG,MAAM6uD,KACJA,EAAIp/B,OACJA,EAAMpvB,MACNA,GACEgxD,aAAW1D,KAAK6D,YAAYtX,EAAK1wC,EAAGX,GACxCF,GAAOkmD,EACPrlD,EAAIimB,EACApvB,GAAOqxD,EAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBjxD,KAAM,qEACtE,MAAa,GAAW,OAAPkuD,EAGT,OAFA1kD,GAAK,EAEG0wC,EAAI1wC,IACV,IAAK,IACHb,GAAO,KACP,MAGF,IAAK,IACHA,GAAO,IACP,MAGF,IAAK,IACHA,GAAO,KACP,MAGF,IAAK,IACHA,GAAO,IACP,MAGF,IAAK,IACHA,GAAO,KACP,MAGF,IAAK,IACHA,GAAO,KACP,MAGF,IAAK,IACHA,GAAO,KACP,MAGF,IAAK,IA8CL,IAAK,KACHA,GAAO,KACP,MA3CF,IAAK,IACHA,GAAO,KACP,MAGF,IAAK,IACHA,GAAO,IACP,MAGF,IAAK,IACHA,GAAO,IACP,MAGF,IAAK,IACHA,GAAO,SACP,MAGF,IAAK,IACHA,GAAO,SACP,MAGF,IAAK,IACHA,GAAO,IACP,MAEF,IAAK,IACHA,GAAO,IACP,MAEF,IAAK,IACHA,GAAO,IACP,MAEF,IAAK,KACHA,GAAO,KACP,MAMF,IAAK,IACHA,GAAO3I,KAAKg2D,cAAcxsD,EAAI,EAAG,EAAGkoD,GACpCloD,GAAK,EACL,MAEF,IAAK,IACHb,GAAO3I,KAAKg2D,cAAcxsD,EAAI,EAAG,EAAGkoD,GACpCloD,GAAK,EACL,MAEF,IAAK,IACHb,GAAO3I,KAAKg2D,cAAcxsD,EAAI,EAAG,EAAGkoD,GACpCloD,GAAK,EACL,MAEF,IAAK,KAEH,KAAsB,MAAf0wC,EAAI1wC,EAAI,IAA6B,OAAf0wC,EAAI1wC,EAAI,IAAaA,GAAK,EAEvD,MAEF,QACEkoD,EAAOjuD,KAAK,IAAI4tD,aAAWH,gBAAgBlxD,KAAM,2BAA2Bk6C,EAAI1kB,OAAOhsB,EAAI,EAAG,OAC9Fb,GAAO,KAAOuxC,EAAI1wC,QAEjB,GAAW,MAAP0kD,GAAqB,OAAPA,EAAa,CAEpC,MAAMuD,EAAUjoD,EAChB,IAAI8jC,EAAO4M,EAAI1wC,EAAI,GAEnB,KAAgB,MAAT8jC,GAAyB,OAATA,GACrB9jC,GAAK,EACL8jC,EAAO4M,EAAI1wC,EAAI,GAGJ,OAAT8jC,IAAe3kC,GAAOa,EAAIioD,EAAUvX,EAAIl5C,MAAMywD,EAASjoD,EAAI,GAAK0kD,EAC5E,MACQvlD,GAAOulD,CAEV,CAED,OAAOwD,EAAOzwD,OAAS,EAAI,CACzBywD,SACA/oD,OACEA,CACL,CAEDqtD,cAAcvmC,EAAQxuB,EAAQywD,GAC5B,MAAMxX,IACJA,GACEl6C,KAAK8d,QACHm4C,EAAK/b,EAAI1kB,OAAO/F,EAAQxuB,GAExBrB,EADKq2D,EAAGh1D,SAAWA,GAAU,iBAAiB2I,KAAKqsD,GACvCt3C,SAASs3C,EAAI,IAAMC,IAErC,OAAIl/B,MAAMp3B,IACR8xD,EAAOjuD,KAAK,IAAI4tD,aAAWH,gBAAgBlxD,KAAM,2BAA2Bk6C,EAAI1kB,OAAO/F,EAAS,EAAGxuB,EAAS,OACrGi5C,EAAI1kB,OAAO/F,EAAS,EAAGxuB,EAAS,IAGlCo1B,OAAOE,cAAc32B,EAC7B,CAUD+V,MAAMmI,EAAS+e,GACb78B,KAAK8d,QAAUA,EACf,MAAMo8B,IACJA,GACEp8B,EACJ,IAAI2R,EAASsmC,YAAYI,WAAWjc,EAAKrd,EAAQ,GAIjD,OAHA78B,KAAKgvD,WAAa,IAAIqC,aAAWjE,MAAMvwB,EAAOpN,GAC9CA,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKzqB,GAC9CA,EAASzvB,KAAKswD,aAAa7gC,GACpBA,CACR,EAIH,MAAM2mC,oBAAoB/E,aAAW1D,KACnC/D,kBAAkB1P,EAAKzqB,GACrB,IAAIy+B,EAAKhU,EAAIzqB,GAEb,KAAOy+B,GACL,GAAW,MAAPA,EAAY,CACd,GAAwB,MAApBhU,EAAIzqB,EAAS,GAAY,MAC7By+B,EAAKhU,EAAIzqB,GAAU,EAC3B,MACQy+B,EAAKhU,EAAIzqB,GAAU,GAIvB,OAAOA,EAAS,CACjB,CAMG8hC,eACF,IAAKvxD,KAAKgvD,aAAehvD,KAAK8d,QAAS,OAAO,KAC9C,MAAM4zC,EAAS,IACT70B,MACJA,EAAKC,IACLA,GACE98B,KAAKgvD,YACHnmD,OACJA,EAAMqxC,IACNA,GACEl6C,KAAK8d,QACY,MAAjBo8B,EAAIpd,EAAM,IAAY40B,EAAOjuD,KAAK,IAAI4tD,aAAWH,gBAAgBlxD,KAAM,2BAC3E,IAAI2I,EAAM,GAEV,IAAK,IAAIa,EAAIqzB,EAAQ,EAAGrzB,EAAIszB,EAAM,IAAKtzB,EAAG,CACxC,MAAM0kD,EAAKhU,EAAI1wC,GAEf,GAAW,OAAP0kD,EAAa,CACXmD,aAAW1D,KAAKkE,mBAAmB3X,EAAK1wC,EAAI,IAAIkoD,EAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBjxD,KAAM,sEACvG,MAAM6uD,KACJA,EAAIp/B,OACJA,EAAMpvB,MACNA,GACEgxD,aAAW1D,KAAK6D,YAAYtX,EAAK1wC,EAAGX,GACxCF,GAAOkmD,EACPrlD,EAAIimB,EACApvB,GAAOqxD,EAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBjxD,KAAM,qEACtE,MAAa,GAAW,MAAPkuD,EACTvlD,GAAOulD,EACP1kD,GAAK,EACU,MAAX0wC,EAAI1wC,IAAYkoD,EAAOjuD,KAAK,IAAI4tD,aAAWH,gBAAgBlxD,KAAM,yDAChE,GAAW,MAAPkuD,GAAqB,OAAPA,EAAa,CAEpC,MAAMuD,EAAUjoD,EAChB,IAAI8jC,EAAO4M,EAAI1wC,EAAI,GAEnB,KAAgB,MAAT8jC,GAAyB,OAATA,GACrB9jC,GAAK,EACL8jC,EAAO4M,EAAI1wC,EAAI,GAGJ,OAAT8jC,IAAe3kC,GAAOa,EAAIioD,EAAUvX,EAAIl5C,MAAMywD,EAASjoD,EAAI,GAAK0kD,EAC5E,MACQvlD,GAAOulD,CAEV,CAED,OAAOwD,EAAOzwD,OAAS,EAAI,CACzBywD,SACA/oD,OACEA,CACL,CAUDgN,MAAMmI,EAAS+e,GACb78B,KAAK8d,QAAUA,EACf,MAAMo8B,IACJA,GACEp8B,EACJ,IAAI2R,EAAS2mC,YAAYD,WAAWjc,EAAKrd,EAAQ,GAIjD,OAHA78B,KAAKgvD,WAAa,IAAIqC,aAAWjE,MAAMvwB,EAAOpN,GAC9CA,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKzqB,GAC9CA,EAASzvB,KAAKswD,aAAa7gC,GACpBA,CACR,EAIH,SAAS4mC,cAAcvuB,EAAMgnB,GAC3B,OAAQhnB,GACN,KAAKupB,aAAWjG,KAAKC,MACnB,OAAO,IAAIkJ,QAAMzsB,EAAMgnB,GAEzB,KAAKuC,aAAWjG,KAAKG,aACrB,KAAK8F,aAAWjG,KAAKI,cACnB,OAAO,IAAIqJ,WAAW/sB,EAAMgnB,GAE9B,KAAKuC,aAAWjG,KAAKO,SACrB,KAAK0F,aAAWjG,KAAKQ,SACnB,OAAO,IAAI+J,eAAe7tB,EAAMgnB,GAElC,KAAKuC,aAAWjG,KAAKS,QACrB,KAAKwF,aAAWjG,KAAKU,UACrB,KAAKuF,aAAWjG,KAAKe,SACnB,OAAO,IAAI8F,eAAenqB,EAAMgnB,GAElC,KAAKuC,aAAWjG,KAAKrR,QACrB,KAAKsX,aAAWjG,KAAKW,MACnB,OAAO,IAAIsF,aAAWA,WAAWvpB,EAAMgnB,GAEzC,KAAKuC,aAAWjG,KAAKY,aACnB,OAAO,IAAI+J,YAAYjuB,EAAMgnB,GAE/B,KAAKuC,aAAWjG,KAAKa,aACnB,OAAO,IAAImK,YAAYtuB,EAAMgnB,GAI/B,QACE,OAAO,KAGb,CAYA,MAAMwH,aACJ1M,iBAAiB1P,EAAKzqB,EAAQ6hC,GAC5B,OAAQpX,EAAIzqB,IACV,IAAK,IACH,OAAO4hC,aAAWjG,KAAKC,MAEzB,IAAK,IACH,OAAOgG,aAAWjG,KAAKG,aAEzB,IAAK,IACH,OAAO8F,aAAWjG,KAAKI,cAEzB,IAAK,IACH,OAAO6F,aAAWjG,KAAKO,SAEzB,IAAK,IACH,OAAO0F,aAAWjG,KAAKQ,SAEzB,IAAK,IACH,OAAQ0F,GAAUD,aAAW1D,KAAK8B,QAAQvV,EAAKzqB,EAAS,GAAG,GAAQ4hC,aAAWjG,KAAKS,QAAUwF,aAAWjG,KAAKW,MAE/G,IAAK,IACH,OAAQuF,GAAUD,aAAW1D,KAAK8B,QAAQvV,EAAKzqB,EAAS,GAAG,GAAQ4hC,aAAWjG,KAAKU,UAAYuF,aAAWjG,KAAKW,MAEjH,IAAK,IACH,OAAQuF,GAAUD,aAAW1D,KAAK8B,QAAQvV,EAAKzqB,EAAS,GAAG,GAAQ4hC,aAAWjG,KAAKe,SAAWkF,aAAWjG,KAAKW,MAEhH,IAAK,IACH,OAAOsF,aAAWjG,KAAKY,aAEzB,IAAK,IACH,OAAOqF,aAAWjG,KAAKa,aAEzB,QACE,OAAOoF,aAAWjG,KAAKW,MAE5B,CAEDrsD,YAAYowC,EAAO,IAAIqiB,YACrBA,EAAWI,aACXA,EAAYjB,OACZA,EAAMzoD,OACNA,EAAMwlD,UACNA,EAASlpD,OACTA,GACE,IACFksD,aAAWD,gBAAgBpxD,KAAM,aAAa,CAACu2D,EAAS15B,KACtD,GAAIw0B,aAAW1D,KAAKkE,mBAAmB7xD,KAAKk6C,IAAKrd,GAAQ,OAAO,KAChE,MAAM/e,EAAU,IAAIw4C,aAAat2D,KAAMu2D,IACjCzH,MACJA,EAAKhnB,KACLA,EAAI0uB,WACJA,GACE14C,EAAQ24C,WAAW55B,GACjBpO,EAAO4nC,cAAcvuB,EAAMgnB,GACjC,IAAIr/B,EAAShB,EAAK9Y,MAAMmI,EAAS04C,GAajC,GAZA/nC,EAAKsgC,MAAQ,IAAIsC,aAAWjE,MAAMvwB,EAAOpN,GAGrCA,GAAUoN,IAGZpO,EAAKpuB,MAAQ,IAAIZ,MAAM,qCACvBgvB,EAAKpuB,MAAMq2D,SAAWjnC,EACtBhB,EAAKpuB,MAAM0U,OAAS0Z,EACpBA,EAAKsgC,MAAMjyB,IAAMD,EAAQ,GAGvB/e,EAAQ64C,qBAAqBloC,GAAO,CACjCA,EAAKpuB,OAAUyd,EAAQq0C,aAAer0C,EAAQ3Y,OAAO2iC,OAASupB,aAAWjG,KAAKM,WACjFj9B,EAAKpuB,MAAQ,IAAIgxD,aAAWH,gBAAgBziC,EAAM,0FAGpD,MAAMmoC,EAAa,IAAIhE,aAAWnkC,GAGlC,OAFAgB,EAASmnC,EAAWjhD,MAAM,IAAI2gD,aAAax4C,GAAU2R,GACrDmnC,EAAW7H,MAAQ,IAAIsC,aAAWjE,MAAMvwB,EAAOpN,GACxCmnC,CACR,CAED,OAAOnoC,CAAI,IAGbzuB,KAAKmyD,YAA6B,MAAfA,EAAsBA,EAAcriB,EAAKqiB,cAAe,EAC3EnyD,KAAKuyD,aAA+B,MAAhBA,EAAuBA,EAAeziB,EAAKyiB,eAAgB,EAC/EvyD,KAAKsxD,OAAmB,MAAVA,EAAiBA,EAASxhB,EAAKwhB,SAAU,EACvDtxD,KAAK6I,OAAmB,MAAVA,EAAiBA,EAASinC,EAAKjnC,OAC7C7I,KAAKquD,UAAyB,MAAbA,EAAoBA,EAAYve,EAAKue,UACtDruD,KAAKmF,OAAmB,MAAVA,EAAiBA,EAAS2qC,EAAK3qC,QAAU,GACvDnF,KAAKg3C,KAAOlH,EAAKkH,KACjBh3C,KAAKk6C,IAAMpK,EAAKoK,GACjB,CAEDyc,qBAAqBloC,GACnB,MAAM8jC,aACJA,EAAYjB,OACZA,EAAMpX,IACNA,GACEl6C,KACJ,GAAIuyD,GAAgBjB,EAAQ,OAAO,EACnC,GAAI7iC,aAAgBwjC,eAAgB,OAAO,EAE3C,IAAIxiC,EAAShB,EAAKsgC,MAAMjyB,IACxB,MAAoB,OAAhBod,EAAIzqB,IAAwC,OAApByqB,EAAIzqB,EAAS,KACzCA,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKzqB,GACvB,MAAhByqB,EAAIzqB,GACZ,CAIDgnC,WAAWhnC,GACT,MAAM6hC,OACJA,EAAMnsD,OACNA,EAAM+0C,IACNA,GACEl6C,KACE8uD,EAAQ,GACd,IAAI+H,GAAe,EAEf3I,EAAKhU,EADTzqB,EAASzvB,KAAKmyD,YAAcd,aAAW1D,KAAKY,YAAYrU,EAAKzqB,GAAU4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKzqB,IAG5G,KAAOy+B,IAAOmD,aAAWtG,KAAKC,QAAUkD,IAAOmD,aAAWtG,KAAKhR,SAAWmU,IAAOmD,aAAWtG,KAAKE,KAAc,OAAPiD,GAAa,CACnH,GAAW,OAAPA,EAAa,CACf,IACIG,EADAC,EAAQ7+B,EAGZ,GACE4+B,EAAYC,EAAQ,EACpBA,EAAQ+C,aAAW1D,KAAKY,YAAYrU,EAAKmU,SACnB,OAAfnU,EAAIoU,IAEb,MAAMI,EAAaJ,GAASD,EAAYruD,KAAK6I,QACvCiuD,EAAsB3xD,EAAO2iC,OAASupB,aAAWjG,KAAKe,UAAYhnD,EAAO2Y,QAAQq0C,YACvF,GAAmB,MAAfjY,EAAIoU,KAAmB+C,aAAW1D,KAAK2E,mBAAmBpY,EAAIoU,GAAQI,GAAaoI,GAAsB,MAC7G92D,KAAKmyD,aAAc,EACnBnyD,KAAKquD,UAAYA,EACjBwI,GAAe,EACfpnC,EAAS6+B,CACV,MAAM,GAAIJ,IAAOmD,aAAWtG,KAAKhR,QAAS,CACzC,MAAMjd,EAAMu0B,aAAW1D,KAAK4C,UAAUrW,EAAKzqB,EAAS,GACpDq/B,EAAMrrD,KAAK,IAAI4tD,aAAWjE,MAAM39B,EAAQqN,IACxCrN,EAASqN,CACjB,KAAa,CACL,IAAIA,EAAMu0B,aAAW1D,KAAK6G,gBAAgBta,EAAKzqB,EAAS,GAEpDy+B,IAAOmD,aAAWtG,KAAKE,KAAoB,MAAb/Q,EAAIpd,IAAgB,yDAAyDlzB,KAAKswC,EAAIl5C,MAAMyuB,EAAS,EAAGqN,EAAM,OAK9IA,EAAMu0B,aAAW1D,KAAK6G,gBAAgBta,EAAKpd,EAAM,IAGnDgyB,EAAMrrD,KAAK,IAAI4tD,aAAWjE,MAAM39B,EAAQqN,IACxC+5B,GAAe,EACfpnC,EAAS4hC,aAAW1D,KAAKC,gBAAgB1T,EAAKpd,EAC/C,CAEDoxB,EAAKhU,EAAIzqB,EACV,CAGGonC,GAAuB,MAAP3I,GAAcmD,aAAW1D,KAAK8B,QAAQvV,EAAKzqB,EAAS,GAAG,KAAOA,GAAU,GAE5F,MAAO,CACLq/B,QACAhnB,KAHWwuB,aAAaS,UAAU7c,EAAKzqB,EAAQ6hC,GAI/CkF,WAAY/mC,EAEf,EAYH,SAAS9Z,QAAMukC,GACb,MAAMqT,EAAK,IAEgB,IAAvBrT,EAAI3+B,QAAQ,QACd2+B,EAAMA,EAAIh2C,QAAQ,UAAU,CAACf,EAAOssB,KAC9BtsB,EAAMlC,OAAS,GAAGssD,EAAG9pD,KAAKgsB,GACvB,SAIX,MAAMunC,EAAY,GAClB,IAAIvnC,EAAS,EAEb,EAAG,CACD,MAAMwnC,EAAM,IAAIpD,WACV/1C,EAAU,IAAIw4C,aAAa,CAC/Bpc,QAEFzqB,EAASwnC,EAAIthD,MAAMmI,EAAS2R,GAC5BunC,EAAUvzD,KAAKwzD,EACnB,OAAWxnC,EAASyqB,EAAIj5C,QAmBtB,OAjBA+1D,EAAUvG,cAAgB,KACxB,GAAkB,IAAdlD,EAAGtsD,OAAc,OAAO,EAE5B,IAAK,IAAIuI,EAAI,EAAGA,EAAI+jD,EAAGtsD,SAAUuI,EAAG+jD,EAAG/jD,IAAMA,EAE7C,IAAI0tD,EAAW,EAEf,IAAK,IAAI1tD,EAAI,EAAGA,EAAIwtD,EAAU/1D,SAAUuI,EACtC0tD,EAAWF,EAAUxtD,GAAGinD,cAAclD,EAAI2J,GAI5C,OADA3J,EAAGwF,OAAO,EAAGxF,EAAGtsD,SACT,CAAI,EAGb+1D,EAAU3pC,SAAW,IAAM2pC,EAAUj1D,KAAK,SAEnCi1D,CACT,CAEAG,WAAAxhD,MAAgBA,sDCttDZ07C,aAAa/wD,mBAEjB,SAAS82D,iBAAiBzuD,EAAKE,EAAQwmD,GACrC,IAAKA,EAAS,OAAO1mD,EAErB,MAAO,IADI0mD,EAAQnrD,QAAQ,YAAa,KAAK2E,UAC3BA,IAASF,GAC7B,CACA,SAAS0uD,WAAW1uD,EAAKE,EAAQwmD,GAC/B,OAAQA,GAA2C,IAA3BA,EAAQ9zC,QAAQ,MAAe,GAAG5S,MAAQ0mD,IAAY,GAAG1mD,MAAU0mD,EAAQnrD,QAAQ,MAAO,GAAG2E,GAAU,OAA7GF,CACpB,CAEA,MAAMglD,MAEN,SAAStnB,OAAOllC,EAAOU,EAAKkvD,GAC1B,GAAI1vD,MAAMC,QAAQH,GAAQ,OAAOA,EAAMwE,KAAI,CAAC2T,EAAG9P,IAAM68B,OAAO/sB,EAAG+c,OAAO7sB,GAAIunD,KAE1E,GAAI5vD,GAAiC,mBAAjBA,EAAMklC,OAAuB,CAC/C,MAAM+oB,EAAS2B,GAAOA,EAAIuG,SAAWvG,EAAIuG,QAAQrrD,IAAI9K,GACjDiuD,IAAQ2B,EAAIwG,SAAWzzB,IACzBsrB,EAAOtrB,IAAMA,SACNitB,EAAIwG,QAAQ,GAErB,MAAMzzB,EAAM3iC,EAAMklC,OAAOxkC,EAAKkvD,GAE9B,OADI3B,GAAU2B,EAAIwG,UAAUxG,EAAIwG,SAASzzB,GAClCA,CACR,CAED,OAAMitB,GAAQA,EAAIyG,MAA0B,iBAAVr2D,EAC3BA,EADsDmzB,OAAOnzB,EAEtE,CAEA,MAAMs2D,eAAe9J,KACnBjuD,YAAYyB,GACVrB,QACAE,KAAKmB,MAAQA,CACd,CAEDklC,OAAOxkC,EAAKkvD,GACV,OAAOA,GAAOA,EAAIyG,KAAOx3D,KAAKmB,MAAQklC,OAAOrmC,KAAKmB,MAAOU,EAAKkvD,EAC/D,CAED1jC,WACE,OAAOgJ,OAAOr2B,KAAKmB,MACpB,EAIH,SAASu2D,mBAAmBllB,EAAQ7kC,EAAMxM,GACxC,IAAImY,EAAInY,EAER,IAAK,IAAIqI,EAAImE,EAAK1M,OAAS,EAAGuI,GAAK,IAAKA,EAAG,CACzC,MAAMohB,EAAIjd,EAAKnE,GAEf,GAAI8qB,OAAO6D,UAAUvN,IAAMA,GAAK,EAAG,CACjC,MAAMjnB,EAAI,GACVA,EAAEinB,GAAKtR,EACPA,EAAI3V,CACV,KAAW,CACL,MAAMy1C,EAAI,CAAA,EACVxuC,OAAOmf,eAAeqvB,EAAGxuB,EAAG,CAC1BzpB,MAAOmY,EACPwvB,UAAU,EACV7Y,YAAY,EACZC,cAAc,IAEhB5W,EAAI8/B,CACL,CACF,CAED,OAAO5G,EAAOmlB,WAAWr+C,GAAG,EAC9B,CAGA,MAAMs+C,YAAcjqD,GAAgB,MAARA,GAAgC,iBAATA,GAAqBA,EAAKquB,OAAO4Q,YAAYU,OAAOG,KACvG,MAAMmlB,mBAAmBjF,KACvBjuD,YAAY8yC,GACV1yC,QAEAuxD,aAAWD,gBAAgBpxD,KAAM,QAAS,IAE1CA,KAAKwyC,OAASA,CACf,CAEDqlB,MAAMlqD,EAAMxM,GACV,GAAIy2D,YAAYjqD,GAAO3N,KAAK8L,IAAI3K,OAAY,CAC1C,MAAOyK,KAAQksD,GAAQnqD,EACjB8gB,EAAOzuB,KAAKiM,IAAIL,GAAK,GAC3B,GAAI6iB,aAAgBmkC,WAAYnkC,EAAKopC,MAAMC,EAAM32D,OAAY,SAAahB,IAATsuB,IAAsBzuB,KAAKwyC,OAAyE,MAAM,IAAI/yC,MAAM,+BAA+BmM,sBAAwBksD,KAAxI93D,KAAK2L,IAAIC,EAAK8rD,mBAAmB13D,KAAKwyC,OAAQslB,EAAM32D,GAA2F,CACpP,CACF,CAED42D,UAAUnsD,KAAQksD,IAChB,GAAoB,IAAhBA,EAAK72D,OAAc,OAAOjB,KAAK2qC,OAAO/+B,GAC1C,MAAM6iB,EAAOzuB,KAAKiM,IAAIL,GAAK,GAC3B,GAAI6iB,aAAgBmkC,WAAY,OAAOnkC,EAAKspC,SAASD,GAAW,MAAM,IAAIr4D,MAAM,+BAA+BmM,sBAAwBksD,IACxI,CAEDE,OAAOpsD,KAAQksD,GAAOG,GACpB,MAAMxpC,EAAOzuB,KAAKiM,IAAIL,GAAK,GAC3B,OAAoB,IAAhBksD,EAAK72D,QAAsBg3D,GAAcxpC,aAAgBgpC,OAAShpC,EAAKttB,MAAQstB,EAAiBA,aAAgBmkC,WAAankC,EAAKupC,MAAMF,EAAMG,QAAc93D,CACjK,CAED+3D,mBACE,OAAOl4D,KAAK07C,MAAMyc,OAAM1pC,IACtB,IAAKA,GAAsB,SAAdA,EAAKqZ,KAAiB,OAAO,EAC1C,MAAM1b,EAAIqC,EAAKttB,MACf,OAAY,MAALirB,GAAaA,aAAaqrC,QAAqB,MAAXrrC,EAAEjrB,QAAkBirB,EAAEgsC,gBAAkBhsC,EAAEijC,UAAYjjC,EAAE4jC,GAAG,GAEzG,CAEDqI,OAAOzsD,KAAQksD,IACb,GAAoB,IAAhBA,EAAK72D,OAAc,OAAOjB,KAAK6L,IAAID,GACvC,MAAM6iB,EAAOzuB,KAAKiM,IAAIL,GAAK,GAC3B,OAAO6iB,aAAgBmkC,YAAankC,EAAK4pC,MAAMP,EAChD,CAEDQ,OAAO1sD,KAAQksD,GAAO32D,GACpB,GAAoB,IAAhB22D,EAAK72D,OACPjB,KAAK2L,IAAIC,EAAKzK,OACT,CACL,MAAMstB,EAAOzuB,KAAKiM,IAAIL,GAAK,GAC3B,GAAI6iB,aAAgBmkC,WAAYnkC,EAAK6pC,MAAMR,EAAM32D,OAAY,SAAahB,IAATsuB,IAAsBzuB,KAAKwyC,OAAyE,MAAM,IAAI/yC,MAAM,+BAA+BmM,sBAAwBksD,KAAxI93D,KAAK2L,IAAIC,EAAK8rD,mBAAmB13D,KAAKwyC,OAAQslB,EAAM32D,GAA2F,CACpP,CACF,CAKDklC,SACE,OAAO,IACR,CAEDhZ,SAAS0jC,GAAKwH,UACZA,EAASC,UACTA,EAASC,MACTA,EAAKC,WACLA,GACCC,EAAWC,GACZ,MAAM/vD,OACJA,EAAMgwD,WACNA,EAAUzxD,UACVA,GACE2pD,EACEO,EAAStxD,KAAK8nC,OAASupB,aAAWjG,KAAKO,UAAY3rD,KAAK8nC,OAASupB,aAAWjG,KAAKQ,UAAYmF,EAAIO,OACnGA,IAAQoH,GAAcG,GAC1B,MAAMC,EAAgBL,GAASz4D,KAAKk4D,mBACpCnH,EAAMnmD,OAAOC,OAAO,CAAA,EAAIkmD,EAAK,CAC3B+H,gBACAjwD,OAAQ6vD,EACRpH,SACAxpB,KAAM,OAER,IAAIixB,GAAY,EACZC,GAAqB,EACzB,MAAMlD,EAAQ91D,KAAK07C,MAAMx1C,QAAO,CAAC4vD,EAAOxhB,EAAM9qC,KAC5C,IAAI6lD,EAEA/a,KACGykB,GAAazkB,EAAK2kB,aAAanD,EAAMryD,KAAK,CAC7CqkC,KAAM,UACNn/B,IAAK,KAEH2rC,EAAK8jB,eAAe9jB,EAAK8jB,cAAcj1D,MAAM,UAAUoC,SAAQgE,IACjEusD,EAAMryD,KAAK,CACTqkC,KAAM,UACNn/B,IAAK,IAAIY,KACT,IAEA+qC,EAAK+a,UAASA,EAAU/a,EAAK+a,SAC7BiC,KAAYyH,GAAazkB,EAAK2kB,aAAe3kB,EAAK8jB,eAAiB9jB,EAAK+a,SAAW/a,EAAK1oC,MAAQ0oC,EAAK1oC,IAAIwsD,eAAiB9jB,EAAK1oC,IAAIyjD,UAAY/a,EAAKnzC,QAAUmzC,EAAKnzC,MAAMi3D,eAAiB9jB,EAAKnzC,MAAMkuD,YAAW2J,GAAqB,IAG3OD,GAAY,EACZ,IAAIpwD,EAAMvB,EAAUktC,EAAMyc,GAAK,IAAM1B,EAAU,OAAM,IAAM0J,GAAY,IASvE,OARIzH,IAAW0H,GAAsBrwD,EAAI7G,SAAS,QAAOk3D,GAAqB,GAC1E1H,GAAU9nD,EAAIxJ,KAAK07C,MAAMz6C,OAAS,IAAG0H,GAAO,KAChDA,EAAM0uD,WAAW1uD,EAAK+vD,EAAYrJ,GAC9B0J,IAAc1J,GAAWiC,KAASyH,GAAY,GAClDjD,EAAMryD,KAAK,CACTqkC,KAAM,OACNn/B,QAEKmtD,CAAK,GACX,IACH,IAAIntD,EAEJ,GAAqB,IAAjBmtD,EAAM70D,OACR0H,EAAM6vD,EAAU37B,MAAQ27B,EAAU17B,SAC7B,GAAIw0B,EAAQ,CACjB,MAAMz0B,MACJA,EAAKC,IACLA,GACE07B,EACE1+B,EAAUg8B,EAAMnwD,KAAIymB,GAAKA,EAAEzjB,MAEjC,GAAIqwD,GAAsBl/B,EAAQ5zB,QAAO,CAACgzD,EAAKvwD,IAAQuwD,EAAMvwD,EAAI1H,OAAS,GAAG,GAAK2xD,WAAWuG,8BAA+B,CAC1HxwD,EAAMk0B,EAEN,IAAK,MAAM5f,KAAK6c,EACdnxB,GAAOsU,EAAI,KAAK47C,IAAahwD,IAASoU,IAAM,KAG9CtU,GAAO,KAAKE,IAASi0B,GAC7B,MACQn0B,EAAM,GAAGk0B,KAAS/C,EAAQ/3B,KAAK,QAAQ+6B,GAE/C,KAAW,CACL,MAAMhD,EAAUg8B,EAAMnwD,IAAI4yD,GAC1B5vD,EAAMmxB,EAAQvtB,QAEd,IAAK,MAAM0Q,KAAK6c,EAASnxB,GAAOsU,EAAI,KAAKpU,IAASoU,IAAM,IACzD,CAOD,OALIjd,KAAKqvD,SACP1mD,GAAO,KAAO3I,KAAKqvD,QAAQnrD,QAAQ,MAAO,GAAG2E,MACzC8vD,GAAWA,KACNI,GAAaH,GAAaA,IAE9BjwD,CACR,EAMH,SAASywD,YAAYxtD,GACnB,IAAIuzB,EAAMvzB,aAAe6rD,OAAS7rD,EAAIzK,MAAQyK,EAE9C,OADIuzB,GAAsB,iBAARA,IAAkBA,EAAM7K,OAAO6K,IAC1C7K,OAAO6D,UAAUgH,IAAQA,GAAO,EAAIA,EAAM,IACnD,CANAkyB,aAAWD,gBAAgBwB,WAAY,gCAAiC,IAQxE,MAAMyG,gBAAgBzG,WACpB9mD,IAAI3K,GACFnB,KAAK07C,MAAMj4C,KAAKtC,EACjB,CAEDwpC,OAAO/+B,GACL,MAAMuzB,EAAMi6B,YAAYxtD,GACxB,GAAmB,iBAARuzB,EAAkB,OAAO,EAEpC,OADYn/B,KAAK07C,MAAMqX,OAAO5zB,EAAK,GACxBl+B,OAAS,CACrB,CAEDgL,IAAIL,EAAKqsD,GACP,MAAM94B,EAAMi6B,YAAYxtD,GACxB,GAAmB,iBAARuzB,EAAkB,OAC7B,MAAMm6B,EAAKt5D,KAAK07C,MAAMvc,GACtB,OAAQ84B,GAAcqB,aAAc7B,OAAS6B,EAAGn4D,MAAQm4D,CACzD,CAEDztD,IAAID,GACF,MAAMuzB,EAAMi6B,YAAYxtD,GACxB,MAAsB,iBAARuzB,GAAoBA,EAAMn/B,KAAK07C,MAAMz6C,MACpD,CAED0K,IAAIC,EAAKzK,GACP,MAAMg+B,EAAMi6B,YAAYxtD,GACxB,GAAmB,iBAARuzB,EAAkB,MAAM,IAAI1/B,MAAM,+BAA+BmM,MAC5E5L,KAAK07C,MAAMvc,GAAOh+B,CACnB,CAEDklC,OAAO6pB,EAAGa,GACR,MAAMwI,EAAM,GACRxI,GAAOA,EAAIwG,UAAUxG,EAAIwG,SAASgC,GACtC,IAAI/vD,EAAI,EAER,IAAK,MAAM8qC,KAAQt0C,KAAK07C,MAAO6d,EAAI91D,KAAK4iC,OAAOiO,EAAMje,OAAO7sB,KAAMunD,IAElE,OAAOwI,CACR,CAEDlsC,SAAS0jC,EAAK4H,EAAWC,GACvB,OAAK7H,EACEjxD,MAAMutB,SAAS0jC,EAAK,CACzBwH,UAAWnsC,GAAgB,YAAXA,EAAE0b,KAAqB1b,EAAEzjB,IAAM,KAAKyjB,EAAEzjB,MACtD6vD,UAAW,CACT37B,MAAO,IACPC,IAAK,KAEP27B,OAAO,EACPC,YAAa3H,EAAIloD,QAAU,IAAM,MAChC8vD,EAAWC,GATGzxD,KAAKC,UAAUpH,KAUjC,EAIH,MAAMw5D,aAAe,CAAC5tD,EAAK6tD,EAAO1I,IAClB,OAAV0I,EAAuB,GACN,iBAAVA,EAA2BpjC,OAAOojC,GACzC7tD,aAAe+hD,MAAQoD,GAAOA,EAAIkG,IAAYrrD,EAAIyhB,SAAS,CAC7DiqC,QAAS1sD,OAAOqtB,OAAO,MACvBg/B,IAAKlG,EAAIkG,IACTpuD,OAAQ,GACRgwD,WAAY9H,EAAI8H,WAChBvH,QAAQ,EACRoI,gBAAgB,EAChBtyD,UAAW2pD,EAAI3pD,YAEVD,KAAKC,UAAUqyD,GAGxB,MAAME,aAAahM,KACjBjuD,YAAYkM,EAAKzK,EAAQ,MACvBrB,QACAE,KAAK4L,IAAMA,EACX5L,KAAKmB,MAAQA,EACbnB,KAAK8nC,KAAO6xB,KAAKvO,KAAKwO,IACvB,CAEGxB,oBACF,OAAOp4D,KAAK4L,eAAe+hD,KAAO3tD,KAAK4L,IAAIwsD,mBAAgBj4D,CAC5D,CAEGi4D,kBAAc9e,GAEhB,GADgB,MAAZt5C,KAAK4L,MAAa5L,KAAK4L,IAAM,IAAI6rD,OAAO,SACxCz3D,KAAK4L,eAAe+hD,MAAuC,CAE7D,MAAM,IAAIluD,MADE,gGAEb,CAH6BO,KAAK4L,IAAIwsD,cAAgB9e,CAIxD,CAEDugB,WAAW9I,EAAKprD,GACd,MAAMiG,EAAMy6B,OAAOrmC,KAAK4L,IAAK,GAAImlD,GAEjC,GAAIprD,aAAe4F,IAAK,CACtB,MAAMpK,EAAQklC,OAAOrmC,KAAKmB,MAAOyK,EAAKmlD,GACtCprD,EAAIgG,IAAIC,EAAKzK,EACnB,MAAW,GAAIwE,aAAe+F,IACxB/F,EAAImG,IAAIF,OACH,CACL,MAAMkuD,EAAYN,aAAax5D,KAAK4L,IAAKA,EAAKmlD,GACxC5vD,EAAQklC,OAAOrmC,KAAKmB,MAAO24D,EAAW/I,GACxC+I,KAAan0D,EAAKiF,OAAOmf,eAAepkB,EAAKm0D,EAAW,CAC1D34D,QACA2nC,UAAU,EACV7Y,YAAY,EACZC,cAAc,IACRvqB,EAAIm0D,GAAa34D,CAC1B,CAED,OAAOwE,CACR,CAED0gC,OAAO6pB,EAAGa,GACR,MAAMjkB,EAAOikB,GAAOA,EAAIgJ,SAAW,IAAIxuD,IAAQ,GAC/C,OAAOvL,KAAK65D,WAAW9I,EAAKjkB,EAC7B,CAEDzf,SAAS0jC,EAAK4H,EAAWC,GACvB,IAAK7H,IAAQA,EAAIkG,IAAK,OAAO9vD,KAAKC,UAAUpH,MAC5C,MACE6I,OAAQmxD,EAAUC,UAClBA,EAASC,WACTA,GACEnJ,EAAIkG,IAAI5yD,QACZ,IAAIuH,IACFA,EAAGzK,MACHA,GACEnB,KACAm6D,EAAavuD,aAAe+hD,MAAQ/hD,EAAIyjD,QAE5C,GAAI6K,EAAY,CACd,GAAIC,EACF,MAAM,IAAI16D,MAAM,oDAGlB,GAAImM,aAAegnD,WAAY,CAE7B,MAAM,IAAInzD,MADE,6DAEb,CACF,CAED,IAAI26D,GAAeF,KAAgBtuD,GAAOuuD,IAAevuD,aAAe+hD,KAAO/hD,aAAegnD,YAAchnD,EAAIk8B,OAASupB,aAAWjG,KAAKG,cAAgB3/C,EAAIk8B,OAASupB,aAAWjG,KAAKI,cAA+B,iBAAR5/C,IAC7M,MAAMqrD,IACJA,EAAGpuD,OACHA,EAAMgwD,WACNA,EAAUzxD,UACVA,GACE2pD,EACJA,EAAMnmD,OAAOC,OAAO,CAAA,EAAIkmD,EAAK,CAC3BsJ,aAAcD,EACdvxD,OAAQA,EAASgwD,IAEnB,IAAIE,GAAY,EACZpwD,EAAMvB,EAAUwE,EAAKmlD,GAAK,IAAMoJ,EAAa,OAAM,IAAMpB,GAAY,IAGzE,GAFApwD,EAAM0uD,WAAW1uD,EAAKooD,EAAIloD,OAAQsxD,IAE7BC,GAAezxD,EAAI1H,OAAS,KAAM,CACrC,GAAIi5D,EAAY,MAAM,IAAIz6D,MAAM,gFAChC26D,GAAc,CACf,CAED,GAAIrJ,EAAI+H,gBAAkBoB,EAMxB,OALIl6D,KAAKqvD,SACP1mD,EAAM0uD,WAAW1uD,EAAKooD,EAAIloD,OAAQ7I,KAAKqvD,SACnCsJ,GAAWA,KACNI,IAAcoB,GAAcvB,GAAaA,IAE7C7H,EAAIO,SAAW8I,EAAczxD,EAAM,KAAKA,IAGjDA,EAAMyxD,EAAc,KAAKzxD,MAAQE,KAAY,GAAGF,KAE5C3I,KAAKqvD,UAEP1mD,EAAM0uD,WAAW1uD,EAAKooD,EAAIloD,OAAQ7I,KAAKqvD,SACnCsJ,GAAWA,KAGjB,IAAI2B,EAAM,GACNC,EAAe,KAEnB,GAAIp5D,aAAiBwsD,KAAM,CAGzB,GAFIxsD,EAAM83D,cAAaqB,EAAM,MAEzBn5D,EAAMi3D,cAAe,CAEvBkC,GAAO,KADIn5D,EAAMi3D,cAAcl0D,QAAQ,MAAO,GAAG6sD,EAAIloD,YAEtD,CAED0xD,EAAep5D,EAAMkuD,OACtB,MAAUluD,GAA0B,iBAAVA,IACzBA,EAAQ81D,EAAIzkB,OAAOmlB,WAAWx2D,GAAO,IAGvC4vD,EAAIsJ,aAAc,GACbD,IAAgBp6D,KAAKqvD,SAAWluD,aAAiBs2D,SAAQ1G,EAAIyJ,cAAgB7xD,EAAI1H,OAAS,GAC/F83D,GAAY,GAEPkB,GAAaD,GAAc,IAAMjJ,EAAIO,SAAW8I,GAAej5D,aAAiBk4D,SAAWl4D,EAAM2mC,OAASupB,aAAWjG,KAAKQ,WAAazqD,EAAM6uD,MAAQiH,EAAIK,QAAQmD,QAAQt5D,KAE5K4vD,EAAIloD,OAASkoD,EAAIloD,OAAO2sB,OAAO,IAGjC,MAAMklC,EAAWtzD,EAAUjG,EAAO4vD,GAAK,IAAMwJ,EAAe,OAAM,IAAMxB,GAAY,IACpF,IAAIn6B,EAAK,IAET,GAAI07B,GAAOt6D,KAAKqvD,QACdzwB,EAAK,GAAG07B,MAAQvJ,EAAIloD,cACf,IAAKuxD,GAAej5D,aAAiByxD,WAAY,EACzB,MAAhB8H,EAAS,IAA8B,MAAhBA,EAAS,MAChCA,EAAS54D,SAAS,QAAO88B,EAAK,KAAKmyB,EAAIloD,SAC1D,KAA+B,OAAhB6xD,EAAS,KAAa97B,EAAK,IAGtC,OADIm6B,IAAcwB,GAAgB3B,GAAaA,IACxCvB,WAAW1uD,EAAMi2B,EAAK87B,EAAU3J,EAAIloD,OAAQ0xD,EACpD,EAIHlJ,aAAWD,gBAAgBuI,KAAM,OAAQ,CACvCC,KAAM,OACNe,WAAY,eAGd,MAAMC,cAAgB,CAACnsC,EAAM6oC,KAC3B,GAAI7oC,aAAgB8lC,MAAO,CACzB,MAAMnF,EAASkI,EAAQrrD,IAAIwiB,EAAK1Z,QAChC,OAAOq6C,EAAOpM,MAAQoM,EAAOyL,UACjC,CAAS,GAAIpsC,aAAgBmkC,WAAY,CACrC,IAAI5P,EAAQ,EAEZ,IAAK,MAAM1O,KAAQ7lB,EAAKitB,MAAO,CAC7B,MAAMhxB,EAAIkwC,cAActmB,EAAMgjB,GAC1B5sC,EAAIs4B,IAAOA,EAAQt4B,EACxB,CAED,OAAOs4B,CACX,CAAS,GAAIv0B,aAAgBkrC,KAAM,CAC/B,MAAMmB,EAAKF,cAAcnsC,EAAK7iB,IAAK0rD,GAC7ByD,EAAKH,cAAcnsC,EAAKttB,MAAOm2D,GACrC,OAAOjxD,KAAKF,IAAI20D,EAAIC,EACrB,CAED,OAAO,CAAC,EAGV,MAAMxG,cAAc5G,KAClB/D,kBAAiBmF,MACfA,EAAKh6C,OACLA,IACCuiD,QACDA,EAAOL,IACPA,EAAGoD,YACHA,EAAWX,eACXA,IAEA,IAAItK,EAASxkD,OAAOqR,KAAKq7C,GAAS9xD,MAAK7B,GAAK2zD,EAAQ3zD,KAAOoR,IAE3D,IADKq6C,GAAUsK,IAAgBtK,EAAS6H,EAAIK,QAAQmD,QAAQ1lD,IAAWkiD,EAAIK,QAAQ0D,WAC/E5L,EAAQ,MAAO,IAAIA,IAASiL,EAAc,IAAM,KACpD,MAAM5G,EAAMwD,EAAIK,QAAQmD,QAAQ1lD,GAAU,uCAAyC,uCACnF,MAAM,IAAItV,MAAM,GAAGg0D,MAAQ1E,KAC5B,CAEDrvD,YAAYqV,GACVjV,QACAE,KAAK+U,OAASA,EACd/U,KAAK8nC,KAAOupB,aAAWjG,KAAKC,KAC7B,CAEG2E,QAAIlkC,GACN,MAAM,IAAIrsB,MAAM,+BACjB,CAED4mC,OAAOxkC,EAAKkvD,GACV,IAAKA,EAAK,OAAO1qB,OAAOrmC,KAAK+U,OAAQlT,EAAKkvD,GAC1C,MAAMuG,QACJA,EAAO2D,cACPA,GACElK,EACE3B,EAASkI,EAAQrrD,IAAIjM,KAAK+U,QAGhC,IAAKq6C,QAAyBjvD,IAAfivD,EAAOtrB,IAAmB,CACvC,MAAM2vB,EAAM,yDACZ,MAAIzzD,KAAKk7D,QAAe,IAAI7J,aAAWL,mBAAmBhxD,KAAKk7D,QAASzH,GAAgB,IAAI0H,eAAe1H,EAC5G,CAED,GAAIwH,GAAiB,IACnB7L,EAAOpM,OAAS,EACU,IAAtBoM,EAAOyL,aAAkBzL,EAAOyL,WAAaD,cAAc56D,KAAK+U,OAAQuiD,IAExElI,EAAOpM,MAAQoM,EAAOyL,WAAaI,GAAe,CACpD,MAAMxH,EAAM,+DACZ,MAAIzzD,KAAKk7D,QAAe,IAAI7J,aAAWL,mBAAmBhxD,KAAKk7D,QAASzH,GAAgB,IAAI0H,eAAe1H,EAC5G,CAGH,OAAOrE,EAAOtrB,GACf,CAIDzW,SAAS0jC,GACP,OAAOwD,MAAMntD,UAAUpH,KAAM+wD,EAC9B,EAMH,SAASqK,SAAS1f,EAAO9vC,GACvB,MAAMgf,EAAIhf,aAAe6rD,OAAS7rD,EAAIzK,MAAQyK,EAE9C,IAAK,MAAM0tD,KAAM5d,EACf,GAAI4d,aAAcK,KAAM,CACtB,GAAIL,EAAG1tD,MAAQA,GAAO0tD,EAAG1tD,MAAQgf,EAAG,OAAO0uC,EAC3C,GAAIA,EAAG1tD,KAAO0tD,EAAG1tD,IAAIzK,QAAUypB,EAAG,OAAO0uC,CAC1C,CAIL,CAbAjI,aAAWD,gBAAgBmD,MAAO,WAAW,GAc7C,MAAM8G,gBAAgBzI,WACpB9mD,IAAIghC,EAAMwuB,GACHxuB,EAAuCA,aAAgB6sB,OAAO7sB,EAAO,IAAI6sB,KAAK7sB,EAAKlhC,KAAOkhC,EAAMA,EAAK3rC,QAA/F2rC,EAAO,IAAI6sB,KAAK7sB,GAC3B,MAAMghB,EAAOsN,SAASp7D,KAAK07C,MAAO5O,EAAKlhC,KACjC2vD,EAAcv7D,KAAKwyC,QAAUxyC,KAAKwyC,OAAOgpB,eAE/C,GAAI1N,EAAM,CACR,IAAIwN,EAAwC,MAAM,IAAI77D,MAAM,OAAOqtC,EAAKlhC,mBAAzDkiD,EAAK3sD,MAAQ2rC,EAAK3rC,KAClC,MAAM,GAAIo6D,EAAa,CACtB,MAAM/xD,EAAIxJ,KAAK07C,MAAM+f,WAAUnnB,GAAQinB,EAAYzuB,EAAMwH,GAAQ,KACtD,IAAP9qC,EAAUxJ,KAAK07C,MAAMj4C,KAAKqpC,GAAW9sC,KAAK07C,MAAMqX,OAAOvpD,EAAG,EAAGsjC,EACvE,MACM9sC,KAAK07C,MAAMj4C,KAAKqpC,EAEnB,CAEDnC,OAAO/+B,GACL,MAAM0tD,EAAK8B,SAASp7D,KAAK07C,MAAO9vC,GAChC,IAAK0tD,EAAI,OAAO,EAEhB,OADYt5D,KAAK07C,MAAMqX,OAAO/yD,KAAK07C,MAAMngC,QAAQ+9C,GAAK,GAC3Cr4D,OAAS,CACrB,CAEDgL,IAAIL,EAAKqsD,GACP,MAAMqB,EAAK8B,SAASp7D,KAAK07C,MAAO9vC,GAC1B6iB,EAAO6qC,GAAMA,EAAGn4D,MACtB,OAAQ82D,GAAcxpC,aAAgBgpC,OAAShpC,EAAKttB,MAAQstB,CAC7D,CAED5iB,IAAID,GACF,QAASwvD,SAASp7D,KAAK07C,MAAO9vC,EAC/B,CAEDD,IAAIC,EAAKzK,GACPnB,KAAK8L,IAAI,IAAI6tD,KAAK/tD,EAAKzK,IAAQ,EAChC,CASDklC,OAAO6pB,EAAGa,EAAK3F,GACb,MAAMzlD,EAAMylD,EAAO,IAAIA,EAAS2F,GAAOA,EAAIgJ,SAAW,IAAIxuD,IAAQ,GAC9DwlD,GAAOA,EAAIwG,UAAUxG,EAAIwG,SAAS5xD,GAEtC,IAAK,MAAM2uC,KAAQt0C,KAAK07C,MAAOpH,EAAKulB,WAAW9I,EAAKprD,GAEpD,OAAOA,CACR,CAED0nB,SAAS0jC,EAAK4H,EAAWC,GACvB,IAAK7H,EAAK,OAAO5pD,KAAKC,UAAUpH,MAEhC,IAAK,MAAMs0C,KAAQt0C,KAAK07C,MACtB,KAAMpH,aAAgBqlB,MAAO,MAAM,IAAIl6D,MAAM,sCAAsC0H,KAAKC,UAAUktC,cAGpG,OAAOx0C,MAAMutB,SAAS0jC,EAAK,CACzBwH,UAAWnsC,GAAKA,EAAEzjB,IAClB6vD,UAAW,CACT37B,MAAO,IACPC,IAAK,KAEP27B,OAAO,EACPC,WAAY3H,EAAIloD,QAAU,IACzB8vD,EAAWC,EACf,EAIH,MAAM8C,UAAY,KAClB,MAAMC,cAAchC,KAClBj6D,YAAYotC,GACV,GAAIA,aAAgB6sB,KAAM,CACxB,IAAIJ,EAAMzsB,EAAK3rC,MAETo4D,aAAeF,UACnBE,EAAM,IAAIF,QACVE,EAAI7d,MAAMj4C,KAAKqpC,EAAK3rC,OACpBo4D,EAAIxK,MAAQjiB,EAAK3rC,MAAM4tD,OAGzBjvD,MAAMgtC,EAAKlhC,IAAK2tD,GAChBv5D,KAAK+uD,MAAQjiB,EAAKiiB,KACxB,MACMjvD,MAAM,IAAI23D,OAAOiE,WAAY,IAAIrC,SAGnCr5D,KAAK8nC,KAAO6xB,KAAKvO,KAAKuP,UACvB,CASDd,WAAW9I,EAAKprD,GACd,IAAK,MAAMoP,OACTA,KACG/U,KAAKmB,MAAMu6C,MAAO,CACrB,KAAM3mC,aAAkBsmD,SAAU,MAAM,IAAI57D,MAAM,8BAClD,MAAMm8D,EAAS7mD,EAAOsxB,OAAO,KAAM0qB,EAAKxlD,KAExC,IAAK,MAAOK,EAAKzK,KAAUy6D,EACrBj2D,aAAe4F,IACZ5F,EAAIkG,IAAID,IAAMjG,EAAIgG,IAAIC,EAAKzK,GACvBwE,aAAe+F,IACxB/F,EAAImG,IAAIF,GACEhB,OAAO+tB,UAAUgc,eAAehM,KAAKhjC,EAAKiG,IACpDhB,OAAOmf,eAAepkB,EAAKiG,EAAK,CAC9BzK,QACA2nC,UAAU,EACV7Y,YAAY,EACZC,cAAc,GAIrB,CAED,OAAOvqB,CACR,CAED0nB,SAAS0jC,EAAK4H,GACZ,MAAMY,EAAMv5D,KAAKmB,MACjB,GAAIo4D,EAAI7d,MAAMz6C,OAAS,EAAG,OAAOnB,MAAMutB,SAAS0jC,EAAK4H,GACrD34D,KAAKmB,MAAQo4D,EAAI7d,MAAM,GACvB,MAAM/yC,EAAM7I,MAAMutB,SAAS0jC,EAAK4H,GAEhC,OADA34D,KAAKmB,MAAQo4D,EACN5wD,CACR,EAIH,MAAMkzD,cAAgB,CACpBC,YAAazK,aAAWjG,KAAKI,cAC7BuQ,UAAW,IAEPC,YAAc,CAClBC,QAAS,OACTC,SAAU,SAENC,WAAa,CACjBC,UAAU,GAENC,YAAc,CAClBC,QAAS,QAELC,WAAa,CACjBT,YAAazK,aAAWjG,KAAKW,MAC7ByQ,aAAc,CACZC,cAAc,EACdC,mBAAoB,IAEtB7N,KAAM,CACJkN,UAAW,GACXY,gBAAiB,KAIrB,SAASC,cAAcj0D,EAAKk0D,EAAMC,GAChC,IAAK,MAAMpuB,OACTA,EAAM9kC,KACNA,EAAI0M,QACJA,KACGumD,EACH,GAAIjzD,EAAM,CACR,MAAMzG,EAAQwF,EAAIxF,MAAMyG,GAExB,GAAIzG,EAAO,CACT,IAAI2gC,EAAMxtB,EAAQtD,MAAM,KAAM7P,GAG9B,OAFM2gC,aAAe2zB,SAAS3zB,EAAM,IAAI2zB,OAAO3zB,IAC3C4K,IAAQ5K,EAAI4K,OAASA,GAClB5K,CACR,CACF,CAIH,OADIg5B,IAAgBn0D,EAAMm0D,EAAen0D,IAClC,IAAI8uD,OAAO9uD,EACpB,CAEA,MAAMo0D,UAAY,OACZC,WAAa,QACbC,YAAc,SAGdC,yBAA2B,CAAC7+C,EAAM7U,KACtC,IAAI0kD,EAAK7vC,EAAK7U,EAAI,GAElB,KAAc,MAAP0kD,GAAqB,OAAPA,GAAa,CAChC,GACEA,EAAK7vC,EAAK7U,GAAK,SACR0kD,GAAa,OAAPA,GAEfA,EAAK7vC,EAAK7U,EAAI,EACf,CAED,OAAOA,CAAC,EAwBV,SAAS2zD,cAAc9+C,EAAMxV,EAAQivC,GAAM0iB,cACzCA,EAAauB,UACbA,EAAY,GAAEY,gBACdA,EAAkB,GAAES,OACpBA,EAAMC,WACNA,IAEA,IAAKtB,GAAaA,EAAY,EAAG,OAAO19C,EACxC,MAAMi/C,EAAUj3D,KAAKF,IAAI,EAAIw2D,EAAiB,EAAIZ,EAAYlzD,EAAO5H,QACrE,GAAIod,EAAKpd,QAAUq8D,EAAS,OAAOj/C,EACnC,MAAMk/C,EAAQ,GACRC,EAAe,CAAA,EACrB,IAMIrxD,EACA2hD,EAPAhxB,EAAMi/B,EAAYlzD,EAAO5H,OAEA,iBAAlBu5D,IACLA,EAAgBuB,EAAY11D,KAAKF,IAAI,EAAGw2D,GAAkBY,EAAM95D,KAAK,GAAQq5B,EAAMi/B,EAAYvB,GAKrG,IAAIiD,GAAW,EACXj0D,GAAK,EACLk0D,GAAY,EACZC,GAAU,EAEV7lB,IAASklB,aACXxzD,EAAI0zD,yBAAyB7+C,EAAM7U,IACxB,IAAPA,IAAUszB,EAAMtzB,EAAI8zD,IAG1B,IAAK,IAAIpP,EAAIA,EAAK7vC,EAAK7U,GAAK,IAAK,CAC/B,GAAIsuC,IAASmlB,aAAsB,OAAP/O,EAAa,CAGvC,OAFAwP,EAAWl0D,EAEH6U,EAAK7U,EAAI,IACf,IAAK,IACHA,GAAK,EACL,MAEF,IAAK,IACHA,GAAK,EACL,MAEF,IAAK,IACHA,GAAK,EACL,MAEF,QACEA,GAAK,EAGTm0D,EAASn0D,CACV,CAED,GAAW,OAAP0kD,EACEpW,IAASklB,aAAYxzD,EAAI0zD,yBAAyB7+C,EAAM7U,IAC5DszB,EAAMtzB,EAAI8zD,EACVnxD,OAAQhM,MACH,CACL,GAAW,MAAP+tD,GAAcJ,GAAiB,MAATA,GAAyB,OAATA,GAA0B,OAATA,EAAe,CAExE,MAAMxgB,EAAOjvB,EAAK7U,EAAI,GAClB8jC,GAAiB,MAATA,GAAyB,OAATA,GAA0B,OAATA,IAAenhC,EAAQ3C,EACrE,CAED,GAAIA,GAAKszB,EACP,GAAI3wB,EACFoxD,EAAM95D,KAAK0I,GACX2wB,EAAM3wB,EAAQmxD,EACdnxD,OAAQhM,OACH,GAAI23C,IAASmlB,YAAa,CAE/B,KAAgB,MAATnP,GAAyB,OAATA,GACrBA,EAAOI,EACPA,EAAK7vC,EAAK7U,GAAK,GACfi0D,GAAW,EAIb,MAAM7wD,EAAIpD,EAAIm0D,EAAS,EAAIn0D,EAAI,EAAIk0D,EAAW,EAE9C,GAAIF,EAAa5wD,GAAI,OAAOyR,EAC5Bk/C,EAAM95D,KAAKmJ,GACX4wD,EAAa5wD,IAAK,EAClBkwB,EAAMlwB,EAAI0wD,EACVnxD,OAAQhM,CAClB,MACUs9D,GAAW,CAGhB,CAED3P,EAAOI,CACR,CAGD,GADIuP,GAAYJ,GAAYA,IACP,IAAjBE,EAAMt8D,OAAc,OAAOod,EAC3B++C,GAAQA,IACZ,IAAIt5B,EAAMzlB,EAAKrd,MAAM,EAAGu8D,EAAM,IAE9B,IAAK,IAAI/zD,EAAI,EAAGA,EAAI+zD,EAAMt8D,SAAUuI,EAAG,CACrC,MAAMqlD,EAAO0O,EAAM/zD,GACbszB,EAAMygC,EAAM/zD,EAAI,IAAM6U,EAAKpd,OACpB,IAAT4tD,EAAY/qB,EAAM,KAAKj7B,IAASwV,EAAKrd,MAAM,EAAG87B,MAC5Cgb,IAASmlB,aAAeO,EAAa3O,KAAO/qB,GAAO,GAAGzlB,EAAKwwC,QAC/D/qB,GAAO,KAAKj7B,IAASwV,EAAKrd,MAAM6tD,EAAO,EAAG/xB,KAE7C,CAED,OAAOgH,CACT,CAEA,MAAM85B,eAAiB,EACrBpD,mBACIA,EAAgB5vD,OAAOC,OAAO,CAClC2vD,iBACC+B,WAAW1N,MAAQ0N,WAAW1N,KAI3BgP,uBAAyBl1D,GAAO,mBAAmBiB,KAAKjB,GAE9D,SAASm1D,oBAAoBn1D,EAAKozD,EAAWgC,GAC3C,IAAKhC,GAAaA,EAAY,EAAG,OAAO,EACxC,MAAMiC,EAAQjC,EAAYgC,EACpBE,EAASt1D,EAAI1H,OACnB,GAAIg9D,GAAUD,EAAO,OAAO,EAE5B,IAAK,IAAIx0D,EAAI,EAAGqzB,EAAQ,EAAGrzB,EAAIy0D,IAAUz0D,EACvC,GAAe,OAAXb,EAAIa,GAAa,CACnB,GAAIA,EAAIqzB,EAAQmhC,EAAO,OAAO,EAE9B,GADAnhC,EAAQrzB,EAAI,EACRy0D,EAASphC,GAASmhC,EAAO,OAAO,CACrC,CAGH,OAAO,CACT,CAEA,SAASE,mBAAmB/8D,EAAO4vD,GACjC,MAAMsJ,YACJA,GACEtJ,GACE0L,aACJA,EAAYC,mBACZA,GACEH,WAAWC,aACT7wB,EAAOxkC,KAAKC,UAAUjG,GAC5B,GAAIs7D,EAAc,OAAO9wB,EACzB,MAAM9iC,EAASkoD,EAAIloD,SAAWg1D,uBAAuB18D,GAAS,KAAO,IACrE,IAAIwH,EAAM,GACNk0B,EAAQ,EAEZ,IAAK,IAAIrzB,EAAI,EAAG0kD,EAAKviB,EAAKniC,GAAI0kD,EAAIA,EAAKviB,IAAOniC,GAS5C,GARW,MAAP0kD,GAA8B,OAAhBviB,EAAKniC,EAAI,IAA+B,MAAhBmiC,EAAKniC,EAAI,KAEjDb,GAAOgjC,EAAK3qC,MAAM67B,EAAOrzB,GAAK,MAC9BA,GAAK,EACLqzB,EAAQrzB,EACR0kD,EAAK,MAGI,OAAPA,EAAa,OAAQviB,EAAKniC,EAAI,IAChC,IAAK,IACH,CACEb,GAAOgjC,EAAK3qC,MAAM67B,EAAOrzB,GACzB,MAAM5J,EAAO+rC,EAAKnW,OAAOhsB,EAAI,EAAG,GAEhC,OAAQ5J,GACN,IAAK,OACH+I,GAAO,MACP,MAEF,IAAK,OACHA,GAAO,MACP,MAEF,IAAK,OACHA,GAAO,MACP,MAEF,IAAK,OACHA,GAAO,MACP,MAEF,IAAK,OACHA,GAAO,MACP,MAEF,IAAK,OACHA,GAAO,MACP,MAEF,IAAK,OACHA,GAAO,MACP,MAEF,IAAK,OACHA,GAAO,MACP,MAEF,QAC4B,OAAtB/I,EAAK41B,OAAO,EAAG,GAAa7sB,GAAO,MAAQ/I,EAAK41B,OAAO,GAAQ7sB,GAAOgjC,EAAKnW,OAAOhsB,EAAG,GAG7FA,GAAK,EACLqzB,EAAQrzB,EAAI,CACb,CACD,MAEF,IAAK,IACH,GAAI6wD,GAA+B,MAAhB1uB,EAAKniC,EAAI,IAAcmiC,EAAK1qC,OAASy7D,EACtDlzD,GAAK,MACA,CAIL,IAFAb,GAAOgjC,EAAK3qC,MAAM67B,EAAOrzB,GAAK,OAEP,OAAhBmiC,EAAKniC,EAAI,IAA+B,MAAhBmiC,EAAKniC,EAAI,IAA8B,MAAhBmiC,EAAKniC,EAAI,IAC7Db,GAAO,KACPa,GAAK,EAGPb,GAAOE,EAEa,MAAhB8iC,EAAKniC,EAAI,KAAYb,GAAO,MAChCa,GAAK,EACLqzB,EAAQrzB,EAAI,CACb,CAED,MAEF,QACEA,GAAK,EAKX,OADAb,EAAMk0B,EAAQl0B,EAAMgjC,EAAK3qC,MAAM67B,GAAS8O,EACjC0uB,EAAc1xD,EAAMw0D,cAAcx0D,EAAKE,EAAQo0D,YAAaW,eAAe7M,GACpF,CAEA,SAASoN,mBAAmBh9D,EAAO4vD,GACjC,GAAIA,EAAIsJ,aACN,GAAI,KAAKzwD,KAAKzI,GAAQ,OAAO+8D,mBAAmB/8D,EAAO4vD,QAGvD,GAAI,kBAAkBnnD,KAAKzI,GAAQ,OAAO+8D,mBAAmB/8D,EAAO4vD,GAGtE,MAAMloD,EAASkoD,EAAIloD,SAAWg1D,uBAAuB18D,GAAS,KAAO,IAC/D2iC,EAAM,IAAM3iC,EAAM+C,QAAQ,KAAM,MAAMA,QAAQ,OAAQ,OAAO2E,KAAY,IAC/E,OAAOkoD,EAAIsJ,YAAcv2B,EAAMq5B,cAAcr5B,EAAKj7B,EAAQk0D,UAAWa,eAAe7M,GACtF,CAEA,SAASqN,aAAY/O,QACnBA,EAAOvnB,KACPA,EAAI3mC,MACJA,GACC4vD,EAAK4H,EAAWC,GAGjB,GAAI,YAAYhvD,KAAKzI,IAAU,QAAQyI,KAAKzI,GAC1C,OAAO+8D,mBAAmB/8D,EAAO4vD,GAGnC,MAAMloD,EAASkoD,EAAIloD,SAAWkoD,EAAIsN,kBAAoBR,uBAAuB18D,GAAS,KAAO,IACvF64D,EAAanxD,EAAS,IAAM,IAE5By1D,EAAUx2B,IAASupB,aAAWjG,KAAKG,eAAuBzjB,IAASupB,aAAWjG,KAAKI,gBAAwBsS,oBAAoB38D,EAAOo7D,WAAW1N,KAAKkN,UAAWlzD,EAAO5H,SAC9K,IAAIuuD,EAAS8O,EAAU,IAAM,IAC7B,IAAKn9D,EAAO,OAAOquD,EAAS,KAC5B,IAAIiC,EAAU,GACVjD,EAAQ,GAkCZ,GAjCArtD,EAAQA,EAAM+C,QAAQ,aAAa06B,IACjC,MAAMxS,EAAIwS,EAAGrjB,QAAQ,MAWrB,OATW,IAAP6Q,EACFojC,GAAU,IACDruD,IAAUy9B,GAAMxS,IAAMwS,EAAG39B,OAAS,IAC3CuuD,GAAU,IAENoJ,GAAaA,KAGnBpK,EAAQ5vB,EAAG16B,QAAQ,MAAO,IACnB,EAAE,IACRA,QAAQ,WAAW06B,KACK,IAArBA,EAAGrjB,QAAQ,OAAai0C,GAAUwK,GACtC,MAAMjmD,EAAI6qB,EAAGz7B,MAAM,OAEnB,OAAI4Q,GACF09C,EAAU7yB,EAAG59B,MAAM,GAAI+S,EAAE,GAAG9S,QACrB8S,EAAE,KAET09C,EAAU7yB,EACH,GACR,IAEC4vB,IAAOA,EAAQA,EAAMtqD,QAAQ,eAAgB,KAAK2E,MAClD4oD,IAASA,EAAUA,EAAQvtD,QAAQ,OAAQ,KAAK2E,MAEhDwmD,IACFG,GAAU,KAAOH,EAAQnrD,QAAQ,aAAc,KAC3Cy0D,GAAWA,MAGZx3D,EAAO,MAAO,GAAGquD,IAASwK,MAAenxD,IAAS2lD,IAEvD,GAAI8P,EAEF,OADAn9D,EAAQA,EAAM+C,QAAQ,OAAQ,KAAK2E,KAC5B,GAAG2mD,MAAW3mD,IAAS4oD,IAAUtwD,IAAQqtD,IAGlDrtD,EAAQA,EAAM+C,QAAQ,OAAQ,QAAQA,QAAQ,iDAAkD,QAE/FA,QAAQ,OAAQ,KAAK2E,KACtB,MAAMsgC,EAAOg0B,cAAc,GAAG1L,IAAUtwD,IAAQqtD,IAAS3lD,EAAQm0D,WAAYT,WAAW1N,MACxF,MAAO,GAAGW,MAAW3mD,IAASsgC,GAChC,CAEA,SAASo1B,YAAYjqB,EAAMyc,EAAK4H,EAAWC,GACzC,MAAMvJ,QACJA,EAAOvnB,KACPA,EAAI3mC,MACJA,GACEmzC,GACEkqB,aACJA,EAAYnE,YACZA,EAAWxxD,OACXA,EAAMyoD,OACNA,GACEP,EAEJ,GAAIsJ,GAAe,aAAazwD,KAAKzI,IAAUmwD,GAAU,WAAW1nD,KAAKzI,GACvE,OAAO+8D,mBAAmB/8D,EAAO4vD,GAGnC,IAAK5vD,GAAS,oFAAoFyI,KAAKzI,GAOrG,OAAOk5D,GAAe/I,IAAmC,IAAzBnwD,EAAMoa,QAAQ,OAAuC,IAAxBpa,EAAMoa,QAAQ,OAAuC,IAAxBpa,EAAMoa,QAAQ,KAAc4iD,mBAAmBh9D,EAAO4vD,GAAOmN,mBAAmB/8D,EAAO4vD,GAAOqN,YAAY9pB,EAAMyc,EAAK4H,EAAWC,GAG5N,IAAKyB,IAAgB/I,GAAUxpB,IAASupB,aAAWjG,KAAKW,QAAkC,IAAzB5qD,EAAMoa,QAAQ,MAE7E,OAAO6iD,YAAY9pB,EAAMyc,EAAK4H,EAAWC,GAG3C,GAAe,KAAX/vD,GAAiBg1D,uBAAuB18D,GAE1C,OADA4vD,EAAIsN,kBAAmB,EAChBD,YAAY9pB,EAAMyc,EAAK4H,EAAWC,GAG3C,MAAMjwD,EAAMxH,EAAM+C,QAAQ,OAAQ,OAAO2E,KAIzC,GAAI21D,EAAc,CAChB,MAAM3B,KACJA,GACE9L,EAAIkG,IAAIzkB,OAEZ,GAAwB,iBADPoqB,cAAcj0D,EAAKk0D,EAAMA,EAAKC,gBAAgB37D,MAC7B,OAAO+8D,mBAAmB/8D,EAAO4vD,EACpE,CAED,MAAM5nB,EAAOkxB,EAAc1xD,EAAMw0D,cAAcx0D,EAAKE,EAAQk0D,UAAWa,eAAe7M,IAEtF,OAAI1B,GAAYiC,IAAmC,IAAxBnoB,EAAK5tB,QAAQ,QAA2C,IAA3B8zC,EAAQ9zC,QAAQ,MAKjE4tB,GAJDwvB,GAAWA,IACRvB,iBAAiBjuB,EAAMtgC,EAAQwmD,GAI1C,CAEA,SAASoP,gBAAgBnqB,EAAMyc,EAAK4H,EAAWC,GAC7C,MAAMkD,YACJA,GACES,YACElC,YACJA,EAAW/I,OACXA,GACEP,EACJ,IAAIjpB,KACFA,EAAI3mC,MACJA,GACEmzC,EAEiB,iBAAVnzC,IACTA,EAAQk1B,OAAOl1B,GACfmzC,EAAO1pC,OAAOC,OAAO,CAAA,EAAIypC,EAAM,CAC7BnzC,WAIJ,MAAMu9D,EAAaC,IACjB,OAAQA,GACN,KAAKtN,aAAWjG,KAAKG,aACrB,KAAK8F,aAAWjG,KAAKI,cACnB,OAAO4S,YAAY9pB,EAAMyc,EAAK4H,EAAWC,GAE3C,KAAKvH,aAAWjG,KAAKY,aACnB,OAAOkS,mBAAmB/8D,EAAO4vD,GAEnC,KAAKM,aAAWjG,KAAKa,aACnB,OAAOkS,mBAAmBh9D,EAAO4vD,GAEnC,KAAKM,aAAWjG,KAAKW,MACnB,OAAOwS,YAAYjqB,EAAMyc,EAAK4H,EAAWC,GAE3C,QACE,OAAO,KACV,EAGC9wB,IAASupB,aAAWjG,KAAKY,cAAgB,gCAAgCpiD,KAAKzI,GAEhF2mC,EAAOupB,aAAWjG,KAAKY,cACbqO,IAAe/I,GAAYxpB,IAASupB,aAAWjG,KAAKG,cAAgBzjB,IAASupB,aAAWjG,KAAKI,gBAEvG1jB,EAAOupB,aAAWjG,KAAKY,cAGzB,IAAIloB,EAAM46B,EAAW52B,GAErB,GAAY,OAARhE,IACFA,EAAM46B,EAAW5C,GACL,OAARh4B,GAAc,MAAM,IAAIrkC,MAAM,mCAAmCq8D,KAGvE,OAAOh4B,CACT,CAEA,SAAS86B,iBAAgBlwB,OACvBA,EAAMmwB,kBACNA,EAAiB7O,IACjBA,EAAG7uD,MACHA,IAEA,GAAqB,iBAAVA,EAAoB,OAAOk1B,OAAOl1B,GAC7C,IAAKg6B,SAASh6B,GAAQ,OAAO61B,MAAM71B,GAAS,OAASA,EAAQ,EAAI,QAAU,OAC3E,IAAIirB,EAAIjlB,KAAKC,UAAUjG,GAEvB,IAAKutC,GAAUmwB,KAAuB7O,GAAe,4BAARA,IAAsC,MAAMpmD,KAAKwiB,GAAI,CAChG,IAAI5iB,EAAI4iB,EAAE7Q,QAAQ,KAEd/R,EAAI,IACNA,EAAI4iB,EAAEnrB,OACNmrB,GAAK,KAGP,IAAIzf,EAAIkyD,GAAqBzyC,EAAEnrB,OAASuI,EAAI,GAE5C,KAAOmD,KAAM,GAAGyf,GAAK,GACtB,CAED,OAAOA,CACT,CAEA,SAAS0yC,uBAAuBpN,EAAQhF,GACtC,IAAIl/B,EAAMvtB,EAkBN8+D,EAhBJ,OAAQrS,EAAI5kB,MACV,KAAKupB,aAAWjG,KAAKO,SACnBn+B,EAAO,IACPvtB,EAAO,WACP,MAEF,KAAKoxD,aAAWjG,KAAKQ,SACnBp+B,EAAO,IACPvtB,EAAO,gBACP,MAEF,QAEE,YADAyxD,EAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBvE,EAAK,4BAMtD,IAAK,IAAIljD,EAAIkjD,EAAIhR,MAAMz6C,OAAS,EAAGuI,GAAK,IAAKA,EAAG,CAC9C,MAAM8qC,EAAOoY,EAAIhR,MAAMlyC,GAEvB,IAAK8qC,GAAQA,EAAKxM,OAASupB,aAAWjG,KAAKrR,QAAS,CAClDglB,EAAWzqB,EACX,KACD,CACF,CAED,GAAIyqB,GAAYA,EAASvxC,OAASA,EAAM,CACtC,MAAMimC,EAAM,YAAYxzD,iBAAoButB,IAC5C,IAAI9a,EAE2B,iBAApBqsD,EAAStvC,QAClB/c,EAAM,IAAI2+C,aAAWJ,kBAAkBvE,EAAK+G,GAC5C/gD,EAAI+c,OAASsvC,EAAStvC,OAAS,IAE/B/c,EAAM,IAAI2+C,aAAWJ,kBAAkB8N,EAAUtL,GAC7CsL,EAAShQ,OAASgQ,EAAShQ,MAAMjyB,MAAKpqB,EAAI+c,OAASsvC,EAAShQ,MAAMjyB,IAAMiiC,EAAShQ,MAAMlyB,QAG7F60B,EAAOjuD,KAAKiP,EACb,CACH,CACA,SAASssD,sBAAsBtN,EAAQrC,GACrC,MAAMvB,EAAOuB,EAAQvxC,QAAQo8B,IAAImV,EAAQN,MAAMlyB,MAAQ,GAEvD,GAAa,OAATixB,GAA0B,OAATA,GAA0B,MAATA,EAAc,CAClD,MAAM2F,EAAM,yEACZ/B,EAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkB5B,EAASoE,GACvD,CACH,CACA,SAASwL,gBAAgBlqD,EAAQnJ,GAC/B,MAAMszD,EAAK7oC,OAAOzqB,GACZgf,EAAIs0C,EAAG1pC,OAAO,EAAG,GAAK,MAAQ0pC,EAAG1pC,QAAQ,GAC/C,OAAO,IAAI67B,aAAWJ,kBAAkBl8C,EAAQ,QAAQ6V,qBAC1D,CACA,SAASu0C,gBAAgBvI,EAAYtH,GACnC,IAAK,MAAM8P,SACTA,EAAQC,OACRA,EAAMhQ,QACNA,KACGC,EAAU,CACb,IAAIhb,EAAOsiB,EAAWlb,MAAM2jB,GAEvB/qB,GAKC8qB,GAAY9qB,EAAKnzC,QAAOmzC,EAAOA,EAAKnzC,YAExBhB,IAAZkvD,GACE+P,GAAa9qB,EAAK8jB,gBAAe9jB,EAAK2kB,aAAc,GAEpD3kB,EAAK8jB,cAAe9jB,EAAK8jB,eAAiB,KAAO/I,EAAa/a,EAAK8jB,cAAgB/I,QATzElvD,IAAZkvD,IACEuH,EAAWvH,QAASuH,EAAWvH,SAAW,KAAOA,EAAauH,EAAWvH,QAAUA,EAW5F,CACH,CAGA,SAASiQ,cAAcrI,EAAKxoC,GAC1B,MAAMqV,EAAMrV,EAAK8iC,SACjB,OAAKztB,EACc,iBAARA,EAAyBA,GACpCA,EAAI4tB,OAAOnsD,SAAQlF,IACZA,EAAM0U,SAAQ1U,EAAM0U,OAAS0Z,GAClCwoC,EAAIvF,OAAOjuD,KAAKpD,EAAM,IAEjByjC,EAAIn7B,KANM,EAOnB,CAEA,SAAS42D,iBAAiBtI,EAAKxoC,GAC7B,MAAM0hC,OACJA,EAAMC,OACNA,GACE3hC,EAAKuhC,IACT,IAAI18B,EAAS2jC,EAAIuI,YAAYh6D,MAAKomB,GAAKA,EAAEukC,SAAWA,IAEpD,IAAK78B,EAAQ,CACX,MAAMmsC,EAAMxI,EAAIyI,cAAcF,YAE9B,GADIC,IAAKnsC,EAASmsC,EAAIj6D,MAAKomB,GAAKA,EAAEukC,SAAWA,MACxC78B,EAAQ,MAAM,IAAI+9B,aAAWJ,kBAAkBxiC,EAAM,OAAO0hC,oDAClE,CAED,IAAKC,EAAQ,MAAM,IAAIiB,aAAWJ,kBAAkBxiC,EAAM,OAAO0hC,wBAEjE,GAAe,MAAXA,GAA2D,SAAxC8G,EAAI55C,SAAW45C,EAAI5yD,QAAQgZ,SAAoB,CACpE,GAAkB,MAAd+yC,EAAO,GAET,OADA6G,EAAI0I,SAASl8D,KAAK,IAAI4tD,aAAWF,YAAY1iC,EAAM,8CAC5C2hC,EAGT,GAAI,OAAOxmD,KAAKwmD,GAAS,CAEvB,MAAMwP,EAAQxP,EAAOjtD,MAAM,wBAC3B,OAAOy8D,EAAQ,OAAOA,EAAM,oBAAoBA,EAAM,KAAO,OAAOxP,GACrE,CACF,CAED,OAAO98B,EAAOA,OAASusC,mBAAmBzP,EAC5C,CAEA,SAAS0P,eAAe7I,EAAKxoC,GAC3B,MAAMuhC,IACJA,EAAGloB,KACHA,GACErZ,EACJ,IAAIsxC,GAAc,EAElB,GAAI/P,EAAK,CACP,MAAMG,OACJA,EAAMC,OACNA,EAAMH,SACNA,GACED,EAEJ,GAAIC,EAAU,CACZ,GAAiB,MAAbA,GAAiC,OAAbA,EAAmB,OAAOA,EAClD,MAAMwD,EAAM,qCAAqCxD,gBACjDgH,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBxiC,EAAMglC,GACxD,MAAM,GAAe,MAAXtD,GAAmBC,EAG5B,IACE,OAAOmP,iBAAiBtI,EAAKxoC,EAC9B,CAAC,MAAOpuB,GACP42D,EAAIvF,OAAOjuD,KAAKpD,EACjB,MAND0/D,GAAc,CAQjB,CAED,OAAQj4B,GACN,KAAKupB,aAAWjG,KAAKG,aACrB,KAAK8F,aAAWjG,KAAKI,cACrB,KAAK6F,aAAWjG,KAAKY,aACrB,KAAKqF,aAAWjG,KAAKa,aACnB,OAAOoF,aAAWhF,YAAYC,IAEhC,KAAK+E,aAAWjG,KAAKO,SACrB,KAAK0F,aAAWjG,KAAK/e,IACnB,OAAOglB,aAAWhF,YAAYhgB,IAEhC,KAAKglB,aAAWjG,KAAKQ,SACrB,KAAKyF,aAAWjG,KAAKc,IACnB,OAAOmF,aAAWhF,YAAYH,IAEhC,KAAKmF,aAAWjG,KAAKW,MACnB,OAAOgU,EAAc1O,aAAWhF,YAAYC,IAAM,KAEpD,QACE,OAAO,KAEb,CAEA,SAAS0T,iBAAiB/I,EAAKxoC,EAAMwxC,GACnC,MAAMpD,KACJA,GACE5F,EAAIzkB,OACF0tB,EAAgB,GAEtB,IAAK,MAAMlQ,KAAO6M,EAChB,GAAI7M,EAAIA,MAAQiQ,EAAS,CACvB,IAAIjQ,EAAIpmD,KAAmC,CACzC,MAAMk6B,EAAMksB,EAAI15C,QAAQ2gD,EAAKxoC,GAC7B,OAAOqV,aAAe8uB,WAAa9uB,EAAM,IAAI2zB,OAAO3zB,EACrD,CAHao8B,EAAcz8D,KAAKusD,EAIlC,CAGH,MAAMrnD,EAAM22D,cAAcrI,EAAKxoC,GAC/B,MAAmB,iBAAR9lB,GAAoBu3D,EAAcj/D,OAAS,EAAU27D,cAAcj0D,EAAKu3D,EAAerD,EAAKC,gBAChG,IACT,CAEA,SAASqD,oBAAmBr4B,KAC1BA,IAEA,OAAQA,GACN,KAAKupB,aAAWjG,KAAKO,SACrB,KAAK0F,aAAWjG,KAAK/e,IACnB,OAAOglB,aAAWhF,YAAYhgB,IAEhC,KAAKglB,aAAWjG,KAAKQ,SACrB,KAAKyF,aAAWjG,KAAKc,IACnB,OAAOmF,aAAWhF,YAAYH,IAEhC,QACE,OAAOmF,aAAWhF,YAAYC,IAEpC,CAEA,SAAS8T,WAAWnJ,EAAKxoC,EAAMwxC,GAC7B,IACE,MAAMn8B,EAAMk8B,iBAAiB/I,EAAKxoC,EAAMwxC,GAExC,GAAIn8B,EAEF,OADIm8B,GAAWxxC,EAAKuhC,MAAKlsB,EAAIksB,IAAMiQ,GAC5Bn8B,CAEV,CAAC,MAAOzjC,GAIP,OAFKA,EAAM0U,SAAQ1U,EAAM0U,OAAS0Z,GAClCwoC,EAAIvF,OAAOjuD,KAAKpD,GACT,IACR,CAED,IACE,MAAMggE,EAAWF,mBAAmB1xC,GACpC,IAAK4xC,EAAU,MAAM,IAAI5gE,MAAM,WAAWwgE,oBAC1C,MAAMxM,EAAM,WAAWwM,qCAA2CI,IAClEpJ,EAAI0I,SAASl8D,KAAK,IAAI4tD,aAAWF,YAAY1iC,EAAMglC,IACnD,MAAM3vB,EAAMk8B,iBAAiB/I,EAAKxoC,EAAM4xC,GAExC,OADAv8B,EAAIksB,IAAMiQ,EACHn8B,CACR,CAAC,MAAOzjC,GACP,MAAMigE,EAAW,IAAIjP,aAAWL,mBAAmBviC,EAAMpuB,EAAMR,SAG/D,OAFAygE,EAASC,MAAQlgE,EAAMkgE,MACvBtJ,EAAIvF,OAAOjuD,KAAK68D,GACT,IACR,CACH,CAEA,MAAME,iBAAmB/xC,IACvB,IAAKA,EAAM,OAAO,EAClB,MAAMqZ,KACJA,GACErZ,EACJ,OAAOqZ,IAASupB,aAAWjG,KAAKS,SAAW/jB,IAASupB,aAAWjG,KAAKU,WAAahkB,IAASupB,aAAWjG,KAAKe,QAAQ,EAGpH,SAASsU,iBAAiB/O,EAAQjjC,GAChC,MAAM6gC,EAAW,CACf+P,OAAQ,GACRqB,MAAO,IAET,IAAIC,GAAY,EACZC,GAAS,EACb,MAAM9R,EAAQ0R,iBAAiB/xC,EAAK3Q,QAAQ3Y,QAAUspB,EAAK3Q,QAAQ3Y,OAAO2pD,MAAMvtD,OAAOktB,EAAKqgC,OAASrgC,EAAKqgC,MAE1G,IAAK,MAAMjyB,MACTA,EAAKC,IACLA,KACGgyB,EACH,OAAQrgC,EAAK3Q,QAAQo8B,IAAIrd,IACvB,KAAKw0B,aAAWtG,KAAKhR,QACnB,CACE,IAAKtrB,EAAK8gC,6BAA6B1yB,GAAQ,CAC7C,MAAM42B,EAAM,yEACZ/B,EAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBxiC,EAAMglC,GACpD,CAED,MAAMjE,OACJA,EAAMR,WACNA,GACEvgC,GACOugC,IAAenyB,EAAQmyB,EAAWnyB,OAAS2yB,GAAU3yB,EAAQ2yB,EAAO3yB,OAASyyB,EAASoR,MAAQpR,EAAS+P,QAC/G57D,KAAKgrB,EAAK3Q,QAAQo8B,IAAIl5C,MAAM67B,EAAQ,EAAGC,IAC1C,KACD,CAGH,KAAKu0B,aAAWtG,KAAKC,OACnB,GAAI2V,EAAW,CACb,MAAMlN,EAAM,qCACZ/B,EAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBxiC,EAAMglC,GACpD,CAEDkN,GAAY,EACZ,MAEF,KAAKtP,aAAWtG,KAAKE,IACnB,GAAI2V,EAAQ,CACV,MAAMnN,EAAM,kCACZ/B,EAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBxiC,EAAMglC,GACpD,CAEDmN,GAAS,EAKf,MAAO,CACLtR,WACAqR,YACAC,SAEJ,CAEA,SAASC,iBAAiB5J,EAAKxoC,GAC7B,MAAM6oC,QACJA,EAAO5F,OACPA,EAAMlf,OACNA,GACEykB,EAEJ,GAAIxoC,EAAKqZ,OAASupB,aAAWjG,KAAKC,MAAO,CACvC,MAAMprD,EAAOwuB,EAAKshC,SACZ7V,EAAMod,EAAQwJ,QAAQ7gE,GAE5B,IAAKi6C,EAAK,CACR,MAAMuZ,EAAM,6BAA6BxzD,IAEzC,OADAyxD,EAAOjuD,KAAK,IAAI4tD,aAAWL,mBAAmBviC,EAAMglC,IAC7C,IACR,CAGD,MAAM3vB,EAAM,IAAIywB,MAAMra,GAItB,OAFAod,EAAQyJ,YAAYt9D,KAAKqgC,GAElBA,CACR,CAED,MAAMm8B,EAAUH,eAAe7I,EAAKxoC,GACpC,GAAIwxC,EAAS,OAAOG,WAAWnJ,EAAKxoC,EAAMwxC,GAE1C,GAAIxxC,EAAKqZ,OAASupB,aAAWjG,KAAKW,MAAO,CACvC,MAAM0H,EAAM,qBAAqBhlC,EAAKqZ,iBAEtC,OADA4pB,EAAOjuD,KAAK,IAAI4tD,aAAWH,gBAAgBziC,EAAMglC,IAC1C,IACR,CAED,IAEE,OAAOmJ,cADK0C,cAAcrI,EAAKxoC,GACL+jB,EAAOqqB,KAAMrqB,EAAOqqB,KAAKC,eACpD,CAAC,MAAOz8D,GAGP,OAFKA,EAAM0U,SAAQ1U,EAAM0U,OAAS0Z,GAClCijC,EAAOjuD,KAAKpD,GACL,IACR,CACH,CAGA,SAAS2gE,YAAY/J,EAAKxoC,GACxB,IAAKA,EAAM,OAAO,KACdA,EAAKpuB,OAAO42D,EAAIvF,OAAOjuD,KAAKgrB,EAAKpuB,OACrC,MAAMivD,SACJA,EAAQqR,UACRA,EAASC,OACTA,GACEH,iBAAiBxJ,EAAIvF,OAAQjjC,GAEjC,GAAIkyC,EAAW,CACb,MAAMrJ,QACJA,GACEL,EACEh3D,EAAOwuB,EAAK2gC,OACZtB,EAAOwJ,EAAQwJ,QAAQ7gE,GAGzB6tD,IAAMwJ,EAAQ3xD,IAAI2xD,EAAQ0D,QAAQ/6D,IAAS6tD,GAI/CwJ,EAAQ3xD,IAAI1F,GAAQwuB,CACrB,CAED,GAAIA,EAAKqZ,OAASupB,aAAWjG,KAAKC,QAAUsV,GAAaC,GAAS,CAChE,MAAMnN,EAAM,gDACZwD,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBxiC,EAAMglC,GACxD,CAED,MAAM3vB,EAAM+8B,iBAAiB5J,EAAKxoC,GAElC,GAAIqV,EAAK,CACPA,EAAIirB,MAAQ,CAACtgC,EAAKsgC,MAAMlyB,MAAOpO,EAAKsgC,MAAMjyB,KACtCm6B,EAAI5yD,QAAQ48D,eAAcn9B,EAAIo3B,QAAUzsC,GACxCwoC,EAAI5yD,QAAQ68D,gBAAep9B,EAAIgE,KAAOrZ,EAAKqZ,MAC/C,MAAMwR,EAAKgW,EAAS+P,OAAOt9D,KAAK,MAE5Bu3C,IACFxV,EAAIs0B,cAAgBt0B,EAAIs0B,cAAgB,GAAGt0B,EAAIs0B,kBAAkB9e,IAAOA,GAG1E,MAAMwZ,EAAKxD,EAASoR,MAAM3+D,KAAK,MAC3B+wD,IAAIhvB,EAAIurB,QAAUvrB,EAAIurB,QAAU,GAAGvrB,EAAIurB,YAAYyD,IAAOA,EAC/D,CAED,OAAOrkC,EAAK0yC,SAAWr9B,CACzB,CAEA,SAASs9B,WAAWnK,EAAKvK,GACvB,GAAIA,EAAI5kB,OAASupB,aAAWjG,KAAK/e,KAAOqgB,EAAI5kB,OAASupB,aAAWjG,KAAKO,SAAU,CAC7E,MAAM8H,EAAM,KAAK/G,EAAI5kB,4CAErB,OADAmvB,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWH,gBAAgBxE,EAAK+G,IAC7C,IACR,CAED,MAAMnE,SACJA,EAAQ5T,MACRA,GACEgR,EAAI5kB,OAASupB,aAAWjG,KAAKO,SAAW0V,oBAAoBpK,EAAKvK,GAAO4U,qBAAqBrK,EAAKvK,GAChG/mD,EAAM,IAAI01D,QAChB11D,EAAI+1C,MAAQA,EACZyjB,gBAAgBx5D,EAAK2pD,GACrB,IAAIiS,GAAmB,EAEvB,IAAK,IAAI/3D,EAAI,EAAGA,EAAIkyC,EAAMz6C,SAAUuI,EAAG,CACrC,MACEoC,IAAK41D,GACH9lB,EAAMlyC,GAGV,GAFIg4D,aAAgB5O,aAAY2O,GAAmB,GAE/CtK,EAAIzkB,OAAOivB,OAASD,GAAQA,EAAKrgE,QAAUu6D,UAAW,CACxDhgB,EAAMlyC,GAAK,IAAImyD,MAAMjgB,EAAMlyC,IAC3B,MAAMk4D,EAAUhmB,EAAMlyC,GAAGrI,MAAMu6C,MAC/B,IAAIr7C,EAAQ,KACZqhE,EAAQntC,MAAK9F,IACX,GAAIA,aAAgB8lC,MAAO,CAGzB,MAAMzsB,KACJA,GACErZ,EAAK1Z,OACT,OAAI+yB,IAASupB,aAAWjG,KAAK/e,KAAOvE,IAASupB,aAAWjG,KAAKO,WACtDtrD,EAAQ,6CAChB,CAED,OAAOA,EAAQ,iDAAiD,IAE9DA,GAAO42D,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBvE,EAAKrsD,GACvE,MACM,IAAK,IAAIuM,EAAIpD,EAAI,EAAGoD,EAAI8uC,EAAMz6C,SAAU2L,EAAG,CACzC,MACEhB,IAAK+1D,GACHjmB,EAAM9uC,GAEV,GAAI40D,IAASG,GAAQH,GAAQG,GAAQ/2D,OAAO+tB,UAAUgc,eAAehM,KAAK64B,EAAM,UAAYA,EAAKrgE,QAAUwgE,EAAKxgE,MAAO,CACrH,MAAMsyD,EAAM,6BAA6B+N,iBACzCvK,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBvE,EAAK+G,IACtD,KACD,CACF,CAEJ,CAED,GAAI8N,IAAqBtK,EAAI5yD,QAAQ01D,SAAU,CAC7C,MAAM1kB,EAAO,2HACb4hB,EAAI0I,SAASl8D,KAAK,IAAI4tD,aAAWF,YAAYzE,EAAKrX,GACnD,CAGD,OADAqX,EAAIyU,SAAWx7D,EACRA,CACT,CAEA,MAAMi8D,oBAAsB,EAC1B9jD,SACEuwC,YACA5/B,OACAyrB,OAEF4U,YAEA,GAAqB,IAAjBA,EAAM7tD,OAAc,OAAO,EAC/B,MAAM47B,MACJA,GACEiyB,EAAM,GACV,GAAIrgC,GAAQoO,EAAQpO,EAAKugC,WAAWnyB,MAAO,OAAO,EAClD,GAAIqd,EAAIrd,KAAWw0B,aAAWtG,KAAKhR,QAAS,OAAO,EAEnD,IAAK,IAAIvwC,EAAI6kD,EAAW7kD,EAAIqzB,IAASrzB,EAAG,GAAe,OAAX0wC,EAAI1wC,GAAa,OAAO,EAEpE,OAAO,CAAI,EAGb,SAASq4D,mBAAmBvtB,EAAMxH,GAChC,IAAK80B,oBAAoBttB,GAAO,OAChC,MAAM+a,EAAU/a,EAAK2a,aAAa,EAAGoC,aAAWtG,KAAKhR,SAAS,GAC9D,IAAI+nB,GAAQ,EACZ,MAAMxoB,EAAKxM,EAAK3rC,MAAMi3D,cAEtB,GAAI9e,GAAMA,EAAGnvC,WAAWklD,GACtBviB,EAAK3rC,MAAMi3D,cAAgB9e,EAAG9jB,OAAO65B,EAAQpuD,OAAS,GACtD6gE,GAAQ,MACH,CACL,MAAM7L,EAAKnpB,EAAK3rC,MAAMkuD,SAEjB/a,EAAK7lB,MAAQwnC,GAAMA,EAAG9rD,WAAWklD,KACpCviB,EAAK3rC,MAAMkuD,QAAU4G,EAAGzgC,OAAO65B,EAAQpuD,OAAS,GAChD6gE,GAAQ,EAEX,CAEGA,IAAOh1B,EAAKuiB,QAAUA,EAC5B,CAEA,SAASiS,qBAAqBrK,EAAKvK,GACjC,MAAM4C,EAAW,GACX5T,EAAQ,GACd,IAAI9vC,EACAm2D,EAAW,KAEf,IAAK,IAAIv4D,EAAI,EAAGA,EAAIkjD,EAAIhR,MAAMz6C,SAAUuI,EAAG,CACzC,MAAM8qC,EAAOoY,EAAIhR,MAAMlyC,GAEvB,OAAQ8qC,EAAKxM,MACX,KAAKupB,aAAWjG,KAAKE,WACnBgE,EAAS7rD,KAAK,CACZ27D,WAAYxzD,EACZyzD,OAAQ3jB,EAAMz6C,SAEhB,MAEF,KAAKowD,aAAWjG,KAAKrR,QACnBuV,EAAS7rD,KAAK,CACZ27D,WAAYxzD,EACZyzD,OAAQ3jB,EAAMz6C,OACdouD,QAAS/a,EAAK+a,UAEhB,MAEF,KAAKgC,aAAWjG,KAAKS,aACP1rD,IAARyL,GAAmB8vC,EAAMj4C,KAAK,IAAIk2D,KAAK/tD,IACvC0oC,EAAKj0C,OAAO42D,EAAIvF,OAAOjuD,KAAK6wC,EAAKj0C,OACrCuL,EAAMo1D,YAAY/J,EAAK3iB,EAAK7lB,MAC5BszC,EAAW,KACX,MAEF,KAAK1Q,aAAWjG,KAAKU,UACnB,CAIE,QAHY3rD,IAARyL,IAAmBA,EAAM,MACzB0oC,EAAKj0C,OAAO42D,EAAIvF,OAAOjuD,KAAK6wC,EAAKj0C,QAEhCi0C,EAAKx2B,QAAQq0C,aAAe7d,EAAK7lB,MAAQ6lB,EAAK7lB,KAAKqZ,OAASupB,aAAWjG,KAAK/e,MAAQiI,EAAK7lB,KAAK3Q,QAAQq0C,YAAa,CACtH,MAAMsB,EAAM,sDACZwD,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkB3c,EAAK7lB,KAAMglC,GAC7D,CAED,IAAIuO,EAAY1tB,EAAK7lB,KAErB,IAAKuzC,GAAa1tB,EAAKwa,MAAM7tD,OAAS,EAAG,CAIvC+gE,EAAY,IAAI3Q,aAAWA,WAAWA,aAAWjG,KAAKW,MAAO,IAC7DiW,EAAUlkD,QAAU,CAClB3Y,OAAQmvC,EACR4F,IAAK5F,EAAKx2B,QAAQo8B,KAEpB,MAAM+nB,EAAM3tB,EAAKya,MAAMlyB,MAAQ,EAU/B,GATAmlC,EAAUjT,MAAQ,CAChBlyB,MAAOolC,EACPnlC,IAAKmlC,GAEPD,EAAUhT,WAAa,CACrBnyB,MAAOolC,EACPnlC,IAAKmlC,GAG6B,iBAAzB3tB,EAAKya,MAAMvB,UAAwB,CAC5C,MAAM0U,EAAU5tB,EAAKya,MAAMvB,UAAY,EACvCwU,EAAUjT,MAAMvB,UAAYwU,EAAUjT,MAAMtB,QAAUyU,EACtDF,EAAUhT,WAAWxB,UAAYwU,EAAUhT,WAAWvB,QAAUyU,CACjE,CACF,CAED,MAAMp1B,EAAO,IAAI6sB,KAAK/tD,EAAKo1D,YAAY/J,EAAK+K,IAC5CH,mBAAmBvtB,EAAMxH,GACzB4O,EAAMj4C,KAAKqpC,GAEPlhC,GAA2B,iBAAbm2D,GACZztB,EAAKya,MAAMlyB,MAAQklC,EAAW,MAAM9K,EAAIvF,OAAOjuD,KAAKw7D,gBAAgBvS,EAAK9gD,IAG/EA,OAAMzL,EACN4hE,EAAW,IACZ,CACD,MAEF,aACc5hE,IAARyL,GAAmB8vC,EAAMj4C,KAAK,IAAIk2D,KAAK/tD,IAC3CA,EAAMo1D,YAAY/J,EAAK3iB,GACvBytB,EAAWztB,EAAKya,MAAMlyB,MAClByX,EAAKj0C,OAAO42D,EAAIvF,OAAOjuD,KAAK6wC,EAAKj0C,OAErCitC,EAAM,IAAK,IAAI1gC,EAAIpD,EAAI,KAAMoD,EAAG,CAC9B,MAAMu1D,EAAWzV,EAAIhR,MAAM9uC,GAE3B,OAAQu1D,GAAYA,EAASr6B,MAC3B,KAAKupB,aAAWjG,KAAKE,WACrB,KAAK+F,aAAWjG,KAAKrR,QACnB,SAASzM,EAEX,KAAK+jB,aAAWjG,KAAKU,UACnB,MAAMxe,EAER,QACE,CACE,MAAMmmB,EAAM,sDACZwD,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkB3c,EAAMmf,IACvD,MAAMnmB,CACP,EAEN,CAED,GAAIgH,EAAK+b,0BAA2B,CAClC,MAAMoD,EAAM,gDACZwD,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkB3c,EAAMmf,GACxD,EAGN,CAGD,YADYtzD,IAARyL,GAAmB8vC,EAAMj4C,KAAK,IAAIk2D,KAAK/tD,IACpC,CACL0jD,WACA5T,QAEJ,CAEA,SAAS2lB,oBAAoBpK,EAAKvK,GAChC,MAAM4C,EAAW,GACX5T,EAAQ,GACd,IAAI9vC,EACAwuD,GAAc,EACd9sB,EAAO,IAEX,IAAK,IAAI9jC,EAAI,EAAGA,EAAIkjD,EAAIhR,MAAMz6C,SAAUuI,EAAG,CACzC,MAAM8qC,EAAOoY,EAAIhR,MAAMlyC,GAEvB,GAAyB,iBAAd8qC,EAAK9mB,KAAmB,CACjC,MAAMA,KACJA,EAAIiC,OACJA,GACE6kB,EAEJ,GAAa,MAAT9mB,QAAwBrtB,IAARyL,IAAsBwuD,EAAa,CACrDA,GAAc,EACd9sB,EAAO,IACP,QACD,CAED,GAAa,MAAT9f,GAGF,QAFYrtB,IAARyL,IAAmBA,EAAM,MAEhB,MAAT0hC,EAAc,CAChBA,EAAO,IACP,QACD,OAOD,GALI8sB,SACUj6D,IAARyL,GAA8B,MAAT4hB,IAAc5hB,EAAM,MAC7CwuD,GAAc,QAGJj6D,IAARyL,IACF8vC,EAAMj4C,KAAK,IAAIk2D,KAAK/tD,IACpBA,OAAMzL,EAEO,MAATqtB,GAAc,CAChB8f,EAAO,IACP,QACD,CAIL,GAAa,MAAT9f,GACF,GAAIhkB,IAAMkjD,EAAIhR,MAAMz6C,OAAS,EAAG,cAC3B,GAAIusB,IAAS8f,EAAM,CACxBA,EAAO,IACP,QACD,CAED,MAAMmmB,EAAM,mCAAmCjmC,IACzC9a,EAAM,IAAI2+C,aAAWH,gBAAgBxE,EAAK+G,GAChD/gD,EAAI+c,OAASA,EACbwnC,EAAIvF,OAAOjuD,KAAKiP,EACjB,MAAU4hC,EAAKxM,OAASupB,aAAWjG,KAAKE,WACvCgE,EAAS7rD,KAAK,CACZ27D,WAAYxzD,EACZyzD,OAAQ3jB,EAAMz6C,SAEPqzC,EAAKxM,OAASupB,aAAWjG,KAAKrR,SACvCilB,sBAAsB/H,EAAIvF,OAAQpd,GAClCgb,EAAS7rD,KAAK,CACZ27D,WAAYxzD,EACZyzD,OAAQ3jB,EAAMz6C,OACdouD,QAAS/a,EAAK+a,gBAEClvD,IAARyL,GACI,MAAT0hC,GAAc2pB,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkB3c,EAAM,oCACzE1oC,EAAMo1D,YAAY/J,EAAK3iB,KAEV,MAAThH,GAAc2pB,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkB3c,EAAM,0CACzEoH,EAAMj4C,KAAK,IAAIk2D,KAAK/tD,EAAKo1D,YAAY/J,EAAK3iB,KAC1C1oC,OAAMzL,EACNi6D,GAAc,EAEjB,CAID,OAFA0E,uBAAuB7H,EAAIvF,OAAQhF,QACvBvsD,IAARyL,GAAmB8vC,EAAMj4C,KAAK,IAAIk2D,KAAK/tD,IACpC,CACL0jD,WACA5T,QAEJ,CAEA,SAAS0mB,aAAWnL,EAAKvK,GACvB,GAAIA,EAAI5kB,OAASupB,aAAWjG,KAAKc,KAAOQ,EAAI5kB,OAASupB,aAAWjG,KAAKQ,SAAU,CAC7E,MAAM6H,EAAM,KAAK/G,EAAI5kB,6CAErB,OADAmvB,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWH,gBAAgBxE,EAAK+G,IAC7C,IACR,CAED,MAAMnE,SACJA,EAAQ5T,MACRA,GACEgR,EAAI5kB,OAASupB,aAAWjG,KAAKQ,SAAWyW,oBAAoBpL,EAAKvK,GAAO4V,qBAAqBrL,EAAKvK,GAChG6M,EAAM,IAAIF,QAIhB,GAHAE,EAAI7d,MAAQA,EACZyjB,gBAAgB5F,EAAKjK,IAEhB2H,EAAI5yD,QAAQ01D,UAAYre,EAAMnnB,MAAK+kC,GAAMA,aAAcK,MAAQL,EAAG1tD,eAAegnD,aAAa,CACjG,MAAMvd,EAAO,2HACb4hB,EAAI0I,SAASl8D,KAAK,IAAI4tD,aAAWF,YAAYzE,EAAKrX,GACnD,CAGD,OADAqX,EAAIyU,SAAW5H,EACRA,CACT,CAEA,SAAS+I,qBAAqBrL,EAAKvK,GACjC,MAAM4C,EAAW,GACX5T,EAAQ,GAEd,IAAK,IAAIlyC,EAAI,EAAGA,EAAIkjD,EAAIhR,MAAMz6C,SAAUuI,EAAG,CACzC,MAAM8qC,EAAOoY,EAAIhR,MAAMlyC,GAEvB,OAAQ8qC,EAAKxM,MACX,KAAKupB,aAAWjG,KAAKE,WACnBgE,EAAS7rD,KAAK,CACZ47D,OAAQ3jB,EAAMz6C,SAEhB,MAEF,KAAKowD,aAAWjG,KAAKrR,QACnBuV,EAAS7rD,KAAK,CACZ4rD,QAAS/a,EAAK+a,QACdgQ,OAAQ3jB,EAAMz6C,SAEhB,MAEF,KAAKowD,aAAWjG,KAAKe,SAInB,GAHI7X,EAAKj0C,OAAO42D,EAAIvF,OAAOjuD,KAAK6wC,EAAKj0C,OACrCq7C,EAAMj4C,KAAKu9D,YAAY/J,EAAK3iB,EAAK7lB,OAE7B6lB,EAAKqb,SAAU,CACjB,MAAM8D,EAAM,oEACZwD,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkB3c,EAAMmf,GACxD,CAED,MAEF,QACMnf,EAAKj0C,OAAO42D,EAAIvF,OAAOjuD,KAAK6wC,EAAKj0C,OACrC42D,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWH,gBAAgB5c,EAAM,cAAcA,EAAKxM,0BAE7E,CAED,MAAO,CACLwnB,WACA5T,QAEJ,CAEA,SAAS2mB,oBAAoBpL,EAAKvK,GAChC,MAAM4C,EAAW,GACX5T,EAAQ,GACd,IACI9vC,EADAwuD,GAAc,EAEd2H,EAAW,KACXz0B,EAAO,IACPi1B,EAAW,KAEf,IAAK,IAAI/4D,EAAI,EAAGA,EAAIkjD,EAAIhR,MAAMz6C,SAAUuI,EAAG,CACzC,MAAM8qC,EAAOoY,EAAIhR,MAAMlyC,GAEvB,GAAyB,iBAAd8qC,EAAK9mB,KAAmB,CACjC,MAAMA,KACJA,EAAIiC,OACJA,GACE6kB,EAUJ,GARa,MAAT9mB,IAAiB4sC,QAAuBj6D,IAARyL,IAC9BwuD,QAAuBj6D,IAARyL,IAAmBA,EAAM0hC,EAAOoO,EAAMptB,MAAQ,MACjEotB,EAAMj4C,KAAK,IAAIk2D,KAAK/tD,IACpBwuD,GAAc,EACdxuD,OAAMzL,EACN4hE,EAAW,MAGTv0C,IAAS8f,EACXA,EAAO,UACF,GAAKA,GAAiB,MAAT9f,GAEb,GAAa,MAAT8f,GAAyB,MAAT9f,QAAwBrtB,IAARyL,EAAmB,CAC5D,GAAa,MAAT0hC,EAAc,CAGhB,GAFA1hC,EAAM8vC,EAAMptB,MAER1iB,aAAe+tD,KAAM,CACvB,MAAMlG,EAAM,0CACN/gD,EAAM,IAAI2+C,aAAWJ,kBAAkBvE,EAAK+G,GAClD/gD,EAAI+c,OAASA,EACbwnC,EAAIvF,OAAOjuD,KAAKiP,EACjB,CAED,IAAK0nD,GAAmC,iBAAb2H,EAAuB,CAChD,MAAMS,EAASluB,EAAKya,MAAQza,EAAKya,MAAMlyB,MAAQyX,EAAK7kB,OAChD+yC,EAAST,EAAW,MAAM9K,EAAIvF,OAAOjuD,KAAKw7D,gBAAgBvS,EAAK9gD,IACnE,MAAMsuC,IACJA,GACEqoB,EAASzkD,QAEb,IAAK,IAAItU,EAAIu4D,EAAUv4D,EAAIg5D,IAAUh5D,EAAG,GAAe,OAAX0wC,EAAI1wC,GAAa,CAC3D,MAAMiqD,EAAM,mEACZwD,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBsR,EAAU9O,IAC3D,KACD,CACF,CACX,MACU7nD,EAAM,KAGRm2D,EAAW,KACX3H,GAAc,EACd9sB,EAAO,IACf,MAAa,GAAa,MAATA,GAAyB,MAAT9f,GAAgBhkB,EAAIkjD,EAAIhR,MAAMz6C,OAAS,EAAG,CACnE,MAAMwyD,EAAM,wCAAwCjmC,IAC9C9a,EAAM,IAAI2+C,aAAWH,gBAAgBxE,EAAK+G,GAChD/gD,EAAI+c,OAASA,EACbwnC,EAAIvF,OAAOjuD,KAAKiP,EACjB,OArCC0nD,GAAc,CAsCjB,MAAM,GAAI9lB,EAAKxM,OAASupB,aAAWjG,KAAKE,WACvCgE,EAAS7rD,KAAK,CACZ47D,OAAQ3jB,EAAMz6C,cAEX,GAAIqzC,EAAKxM,OAASupB,aAAWjG,KAAKrR,QACvCilB,sBAAsB/H,EAAIvF,OAAQpd,GAClCgb,EAAS7rD,KAAK,CACZ4rD,QAAS/a,EAAK+a,QACdgQ,OAAQ3jB,EAAMz6C,aAEX,CACL,GAAIqsC,EAAM,CACR,MAAMmmB,EAAM,cAAcnmB,qBAC1B2pB,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkB3c,EAAMmf,GACxD,CAED,MAAMtyD,EAAQ6/D,YAAY/J,EAAK3iB,QAEnBn0C,IAARyL,GACF8vC,EAAMj4C,KAAKtC,GACXohE,EAAWjuB,IAEXoH,EAAMj4C,KAAK,IAAIk2D,KAAK/tD,EAAKzK,IACzByK,OAAMzL,GAGR4hE,EAAWztB,EAAKya,MAAMlyB,MACtByQ,EAAO,GACR,CACF,CAID,OAFAwxB,uBAAuB7H,EAAIvF,OAAQhF,QACvBvsD,IAARyL,GAAmB8vC,EAAMj4C,KAAK,IAAIk2D,KAAK/tD,IACpC,CACL0jD,WACA5T,QAEJ,CAEa+mB,mBAAAlO,MAAGA,MACEkO,mBAAA7P,WAAGA,WACR6P,mBAAA9G,MAAGA,MACJ8G,mBAAA9U,KAAGA,KACH8U,mBAAA9I,KAAGA,KACD8I,mBAAAhL,OAAGA,OACFgL,mBAAApH,QAAGA,QACHoH,mBAAApJ,QAAGA,QACAoJ,mBAAApL,WAAGA,WACAoL,mBAAA5G,cAAGA,cACL4G,mBAAAzG,YAAGA,YACNyG,mBAAArH,SAAGA,SACDqH,mBAAAtG,WAAGA,WACFsG,mBAAA7K,YAAGA,YACH6K,mBAAApG,YAAGA,YACJoG,mBAAArB,WAAGA,WACFqB,mBAAAzB,YAAGA,YACJyB,mBAAAL,WAAGA,aACAK,mBAAAnD,cAAGA,cACNmD,mBAAAlG,WAAGA,WACEkG,mBAAA7D,gBAAGA,gBACH6D,mBAAAhE,gBAAGA,gBAC1BgE,mBAAAp8B,OAAiBA,iDC9mEbgrB,aAAa/wD,mBACb8hE,aAAa10D,mBAGjB,MAAMg1D,OAAS,CACbC,SAAUxhE,GAASA,aAAiByhE,WAEpCphE,SAAS,EACTwuD,IAAK,2BAUL15C,QAAS,CAAC2gD,EAAKxoC,KACb,MAAMyrB,EAAMkoB,aAAW9C,cAAcrI,EAAKxoC,GAE1C,GAAsB,mBAAXzQ,OACT,OAAOA,OAAO/Q,KAAKitC,EAAK,UACnB,GAAoB,mBAAT2oB,KAAqB,CAErC,MAAMl6D,EAAMk6D,KAAK3oB,EAAIh2C,QAAQ,UAAW,KAClCs7B,EAAS,IAAIojC,WAAWj6D,EAAI1H,QAElC,IAAK,IAAIuI,EAAI,EAAGA,EAAIb,EAAI1H,SAAUuI,EAAGg2B,EAAOh2B,GAAKb,EAAI+yB,WAAWlyB,GAEhE,OAAOg2B,CACb,CAAW,CACL,MAAMi0B,EAAM,2FAEZ,OADAwD,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWL,mBAAmBviC,EAAMglC,IACjD,IACR,GAEHpvD,QAAS+9D,aAAWvG,cACpBz0D,UAAW,EACTioD,UACAvnB,OACA3mC,SACC4vD,EAAK4H,EAAWC,KACjB,IAAI1e,EAEJ,GAAsB,mBAAXl8B,OACTk8B,EAAM/4C,aAAiB6c,OAAS7c,EAAMksB,SAAS,UAAYrP,OAAO/Q,KAAK9L,EAAMq+B,QAAQnS,SAAS,cACzF,IAAoB,mBAATy1C,KAOhB,MAAM,IAAIrjE,MAAM,4FAPqB,CACrC,IAAIwd,EAAI,GAER,IAAK,IAAIzT,EAAI,EAAGA,EAAIrI,EAAMF,SAAUuI,EAAGyT,GAAKoZ,OAAOC,aAAan1B,EAAMqI,IAEtE0wC,EAAM4oB,KAAK7lD,EACjB,CAEK,CAID,GAFK6qB,IAAMA,EAAOs6B,aAAWvG,cAAcC,aAEvCh0B,IAASupB,aAAWjG,KAAKY,aAC3B7qD,EAAQ+4C,MACH,CACL,MAAM6hB,UACJA,GACEqG,aAAWvG,cACTzvC,EAAI/lB,KAAK08D,KAAK7oB,EAAIj5C,OAAS86D,GAC3BtkB,EAAQ,IAAIp2C,MAAM+qB,GAExB,IAAK,IAAI5iB,EAAI,EAAG4vC,EAAI,EAAG5vC,EAAI4iB,IAAK5iB,EAAG4vC,GAAK2iB,EACtCtkB,EAAMjuC,GAAK0wC,EAAI1kB,OAAO4jB,EAAG2iB,GAG3B56D,EAAQs2C,EAAM11C,KAAK+lC,IAASupB,aAAWjG,KAAKI,cAAgB,KAAO,IACpE,CAED,OAAO4W,aAAW3D,gBAAgB,CAChCpP,UACAvnB,OACA3mC,SACC4vD,EAAK4H,EAAWC,EAAY,GAInC,SAASoK,WAAW/L,EAAKvK,GACvB,MAAM6M,EAAM6I,aAAWA,WAAWnL,EAAKvK,GAEvC,IAAK,IAAIljD,EAAI,EAAGA,EAAI+vD,EAAI7d,MAAMz6C,SAAUuI,EAAG,CACzC,IAAI8qC,EAAOilB,EAAI7d,MAAMlyC,GACrB,KAAI8qC,aAAgB8tB,aAAWzI,MAA/B,CAAmD,GAAIrlB,aAAgB8tB,aAAW/G,QAAS,CACzF,GAAI/mB,EAAKoH,MAAMz6C,OAAS,EAAG,CACzB,MAAMwyD,EAAM,iDACZ,MAAM,IAAIpC,aAAWJ,kBAAkBvE,EAAK+G,EAC7C,CAED,MAAM3mB,EAAOwH,EAAKoH,MAAM,IAAM,IAAI0mB,aAAWzI,KACzCrlB,EAAK8jB,gBAAetrB,EAAKsrB,cAAgBtrB,EAAKsrB,cAAgB,GAAG9jB,EAAK8jB,kBAAkBtrB,EAAKsrB,gBAAkB9jB,EAAK8jB,eACpH9jB,EAAK+a,UAASviB,EAAKuiB,QAAUviB,EAAKuiB,QAAU,GAAG/a,EAAK+a,YAAYviB,EAAKuiB,UAAY/a,EAAK+a,SAC1F/a,EAAOxH,CACR,CACDysB,EAAI7d,MAAMlyC,GAAK8qC,aAAgB8tB,aAAWzI,KAAOrlB,EAAO,IAAI8tB,aAAWzI,KAAKrlB,EAD3E,CAEF,CAED,OAAOilB,CACT,CACA,SAAS0J,YAAYzwB,EAAQ0wB,EAAUnS,GACrC,MAAMlkB,EAAQ,IAAIu1B,aAAW/I,QAAQ7mB,GACrC3F,EAAMmjB,IAAM,0BAEZ,IAAK,MAAMsJ,KAAM4J,EAAU,CACzB,IAAIt3D,EAAKzK,EAET,GAAIE,MAAMC,QAAQg4D,GAAK,CACrB,GAAkB,IAAdA,EAAGr4D,OAGA,MAAM,IAAIm6B,UAAU,gCAAgCk+B,KAFzD1tD,EAAM0tD,EAAG,GACTn4D,EAAQm4D,EAAG,EAEnB,MAAW,GAAIA,GAAMA,aAAc1uD,OAAQ,CACrC,MAAMqR,EAAOrR,OAAOqR,KAAKq9C,GAEzB,GAAoB,IAAhBr9C,EAAKhb,OAGF,MAAM,IAAIm6B,UAAU,kCAAkCk+B,KAF3D1tD,EAAMqQ,EAAK,GACX9a,EAAQm4D,EAAG1tD,EAEnB,MACMA,EAAM0tD,EAGR,MAAMxsB,EAAO0F,EAAO2wB,WAAWv3D,EAAKzK,EAAO4vD,GAC3ClkB,EAAM6O,MAAMj4C,KAAKqpC,EAClB,CAED,OAAOD,CACT,CACA,MAAMA,MAAQ,CACZrrC,SAAS,EACTwuD,IAAK,0BACL15C,QAAS0sD,WACTrL,WAAYsL,aAGd,MAAMG,iBAAiBhB,aAAW/I,QAChC35D,cACEI,QAEAuxD,aAAWD,gBAAgBpxD,KAAM,MAAOoiE,aAAW/G,QAAQ1iC,UAAU7sB,IAAIkM,KAAKhY,OAE9EqxD,aAAWD,gBAAgBpxD,KAAM,SAAUoiE,aAAW/G,QAAQ1iC,UAAUgS,OAAO3yB,KAAKhY,OAEpFqxD,aAAWD,gBAAgBpxD,KAAM,MAAOoiE,aAAW/G,QAAQ1iC,UAAU1sB,IAAI+L,KAAKhY,OAE9EqxD,aAAWD,gBAAgBpxD,KAAM,MAAOoiE,aAAW/G,QAAQ1iC,UAAU9sB,IAAImM,KAAKhY,OAE9EqxD,aAAWD,gBAAgBpxD,KAAM,MAAOoiE,aAAW/G,QAAQ1iC,UAAUhtB,IAAIqM,KAAKhY,OAE9EA,KAAKgwD,IAAMoT,SAASpT,GACrB,CAED3pB,OAAO6pB,EAAGa,GACR,MAAMprD,EAAM,IAAI4F,IACZwlD,GAAOA,EAAIwG,UAAUxG,EAAIwG,SAAS5xD,GAEtC,IAAK,MAAMmnC,KAAQ9sC,KAAK07C,MAAO,CAC7B,IAAI9vC,EAAKzK,EAST,GAPI2rC,aAAgBs1B,aAAWzI,MAC7B/tD,EAAMw2D,aAAW/7B,OAAOyG,EAAKlhC,IAAK,GAAImlD,GACtC5vD,EAAQihE,aAAW/7B,OAAOyG,EAAK3rC,MAAOyK,EAAKmlD,IAE3CnlD,EAAMw2D,aAAW/7B,OAAOyG,EAAM,GAAIikB,GAGhCprD,EAAIkG,IAAID,GAAM,MAAM,IAAInM,MAAM,gDAClCkG,EAAIgG,IAAIC,EAAKzK,EACd,CAED,OAAOwE,CACR,EAMH,SAAS09D,UAAUpM,EAAKvK,GACtB,MAAM7f,EAAQm2B,WAAW/L,EAAKvK,GACxB4W,EAAW,GAEjB,IAAK,MAAM13D,IACTA,KACGihC,EAAM6O,MACT,GAAI9vC,aAAew2D,aAAW3K,OAAQ,CACpC,GAAI6L,EAASxhE,SAAS8J,EAAIzK,OAAQ,CAChC,MAAMsyD,EAAM,+CACZ,MAAM,IAAIpC,aAAWJ,kBAAkBvE,EAAK+G,EACpD,CACQ6P,EAAS7/D,KAAKmI,EAAIzK,MAErB,CAGH,OAAOyJ,OAAOC,OAAO,IAAIu4D,SAAYv2B,EACvC,CAEA,SAAS02B,WAAW/wB,EAAQ0wB,EAAUnS,GACpC,MAAMlkB,EAAQo2B,YAAYzwB,EAAQ0wB,EAAUnS,GACtCyS,EAAO,IAAIJ,SAEjB,OADAI,EAAK9nB,MAAQ7O,EAAM6O,MACZ8nB,CACT,CA3BAnS,aAAWD,gBAAgBgS,SAAU,MAAO,0BA6B5C,MAAMI,KAAO,CACXb,SAAUxhE,GAASA,aAAiBoK,IACpCk4D,UAAWL,SACX5hE,SAAS,EACTwuD,IAAK,yBACL15C,QAAS+sD,UACT1L,WAAY4L,YAGd,MAAMG,gBAAgBtB,aAAW/G,QAC/B37D,cACEI,QACAE,KAAKgwD,IAAM0T,QAAQ1T,GACpB,CAEDlkD,IAAIF,GACF,MAAMkhC,EAAOlhC,aAAew2D,aAAWzI,KAAO/tD,EAAM,IAAIw2D,aAAWzI,KAAK/tD,GAC3Dw2D,aAAWhH,SAASp7D,KAAK07C,MAAO5O,EAAKlhC,MACvC5L,KAAK07C,MAAMj4C,KAAKqpC,EAC5B,CAED7gC,IAAIL,EAAK+3D,GACP,MAAM72B,EAAOs1B,aAAWhH,SAASp7D,KAAK07C,MAAO9vC,GAC7C,OAAQ+3D,GAAY72B,aAAgBs1B,aAAWzI,KAAO7sB,EAAKlhC,eAAew2D,aAAW3K,OAAS3qB,EAAKlhC,IAAIzK,MAAQ2rC,EAAKlhC,IAAMkhC,CAC3H,CAEDnhC,IAAIC,EAAKzK,GACP,GAAqB,kBAAVA,EAAqB,MAAM,IAAI1B,MAAM,wEAAwE0B,GACxH,MAAM2sD,EAAOsU,aAAWhH,SAASp7D,KAAK07C,MAAO9vC,GAEzCkiD,IAAS3sD,EACXnB,KAAK07C,MAAMqX,OAAO/yD,KAAK07C,MAAMngC,QAAQuyC,GAAO,IAClCA,GAAQ3sD,GAClBnB,KAAK07C,MAAMj4C,KAAK,IAAI2+D,aAAWzI,KAAK/tD,GAEvC,CAEDy6B,OAAO6pB,EAAGa,GACR,OAAOjxD,MAAMumC,OAAO6pB,EAAGa,EAAKrlD,IAC7B,CAED2hB,SAAS0jC,EAAK4H,EAAWC,GACvB,IAAK7H,EAAK,OAAO5pD,KAAKC,UAAUpH,MAChC,GAAIA,KAAKk4D,mBAAoB,OAAOp4D,MAAMutB,SAAS0jC,EAAK4H,EAAWC,GAAkB,MAAM,IAAIn5D,MAAM,sCACtG,EAMH,SAASmkE,SAAS3M,EAAKvK,GACrB,MAAM/mD,EAAMy8D,aAAWhB,WAAWnK,EAAKvK,GACvC,IAAK/mD,EAAIuyD,mBAAoB,MAAM,IAAI7G,aAAWJ,kBAAkBvE,EAAK,uCACzE,OAAO9hD,OAAOC,OAAO,IAAI64D,QAAW/9D,EACtC,CAEA,SAASk+D,UAAUrxB,EAAQ0wB,EAAUnS,GACnC,MAAMplD,EAAM,IAAI+3D,QAEhB,IAAK,MAAMviE,KAAS+hE,EAAUv3D,EAAI+vC,MAAMj4C,KAAK+uC,EAAO2wB,WAAWhiE,EAAO,KAAM4vD,IAE5E,OAAOplD,CACT,CAdA0lD,aAAWD,gBAAgBsS,QAAS,MAAO,yBAgB3C,MAAM/3D,IAAM,CACVg3D,SAAUxhE,GAASA,aAAiBuK,IACpC+3D,UAAWC,QACXliE,SAAS,EACTwuD,IAAK,wBACL15C,QAASstD,SACTjM,WAAYkM,WAGRC,iBAAmB,CAACtvC,EAAMwF,KAC9B,MAAM5N,EAAI4N,EAAM7tB,MAAM,KAAKjG,QAAO,CAACkmB,EAAGR,IAAU,GAAJQ,EAASkI,OAAO1I,IAAI,GAChE,MAAgB,MAAT4I,GAAgBpI,EAAIA,CAAC,EAIxB23C,qBAAuB,EAC3B5iE,YAEA,GAAI61B,MAAM71B,KAAWg6B,SAASh6B,GAAQ,OAAOihE,aAAWxD,gBAAgBz9D,GACxE,IAAIqzB,EAAO,GAEPrzB,EAAQ,IACVqzB,EAAO,IACPrzB,EAAQkF,KAAKqG,IAAIvL,IAGnB,MAAM64B,EAAQ,CAAC74B,EAAQ,IAcvB,OAZIA,EAAQ,GACV64B,EAAM1iB,QAAQ,IAEdnW,EAAQkF,KAAK0mB,OAAO5rB,EAAQ64B,EAAM,IAAM,IACxCA,EAAM1iB,QAAQnW,EAAQ,IAElBA,GAAS,KACXA,EAAQkF,KAAK0mB,OAAO5rB,EAAQ64B,EAAM,IAAM,IACxCA,EAAM1iB,QAAQnW,KAIXqzB,EAAOwF,EAAMr0B,KAAIymB,GAAKA,EAAI,GAAK,IAAMiK,OAAOjK,GAAKiK,OAAOjK,KAAIrqB,KAAK,KAAKmC,QAAQ,aAAc,GAClG,EAGG8/D,QAAU,CACdrB,SAAUxhE,GAA0B,iBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,wBACLthB,OAAQ,OACR9kC,KAAM,2CACN0M,QAAS,CAAC3N,EAAK6rB,EAAMwF,IAAU8pC,iBAAiBtvC,EAAMwF,EAAM91B,QAAQ,KAAM,KAC1EkD,UAAW28D,sBAEPE,UAAY,CAChBtB,SAAUxhE,GAA0B,iBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,0BACLthB,OAAQ,OACR9kC,KAAM,oDACN0M,QAAS,CAAC3N,EAAK6rB,EAAMwF,IAAU8pC,iBAAiBtvC,EAAMwF,EAAM91B,QAAQ,KAAM,KAC1EkD,UAAW28D,sBAEPG,UAAY,CAChBvB,SAAUxhE,GAASA,aAAiBw6B,KACpCn6B,SAAS,EACTwuD,IAAK,8BAILpmD,KAAMZ,OAAO,iKAKbsN,QAAS,CAAC3N,EAAKw7D,EAAMC,EAAOC,EAAKC,EAAMC,EAAQC,EAAQC,EAAUC,KAC3DD,IAAUA,GAAYA,EAAW,MAAMjvC,OAAO,EAAG,IACrD,IAAImvC,EAAOhpC,KAAKipC,IAAIT,EAAMC,EAAQ,EAAGC,EAAKC,GAAQ,EAAGC,GAAU,EAAGC,GAAU,EAAGC,GAAY,GAE3F,GAAIC,GAAa,MAAPA,EAAY,CACpB,IAAI/3D,EAAIm3D,iBAAiBY,EAAG,GAAIA,EAAG1jE,MAAM,IACrCqF,KAAKqG,IAAIC,GAAK,KAAIA,GAAK,IAC3Bg4D,GAAQ,IAAQh4D,CACjB,CAED,OAAO,IAAIgvB,KAAKgpC,EAAK,EAEvBv9D,UAAW,EACTjG,WACIA,EAAM0jE,cAAc3gE,QAAQ,yBAA0B,KAI9D,SAAS4gE,WAAWC,GAClB,MAAMj6D,EAAyB,oBAAZiD,SAA2BA,QAAQjD,KAAO,GAE7D,OAAIi6D,EAC+C,oBAAtCC,mCAA2DA,mCAC9Dl6D,EAAIk6D,kCAGuB,oBAA1BC,uBAA+CA,uBAClDn6D,EAAIm6D,qBACd,CAEA,SAAS5vB,KAAK6vB,EAASp9B,GACrB,GAAIg9B,YAAW,GAAQ,CACrB,MAAMtqD,EAA0B,oBAAZzM,SAA2BA,QAAQo3D,YAGnD3qD,EAAMA,EAAK0qD,EAASp9B,GAEtB3oB,QAAQk2B,KAAKvN,EAAO,GAAGA,MAASo9B,IAAYA,EAE/C,CACH,CACA,SAASE,oBAAoB1nD,GAC3B,GAAIonD,YAAW,GAAO,CAEpBzvB,KAAK,sBADQ33B,EAASxZ,QAAQ,eAAgB,IAAIA,QAAQ,QAAS,IAAIA,QAAQ,MAAO,6CACb,qBAC1E,CACH,CACA,MAAMmhE,OAAS,CAAA,EACf,SAASC,sBAAsBrlE,EAAMslE,GACnC,IAAKF,OAAOplE,IAAS6kE,YAAW,GAAO,CACrCO,OAAOplE,IAAQ,EACf,IAAIwzD,EAAM,eAAexzD,yCACzBwzD,GAAO8R,EAAc,UAAUA,cAA0B,IACzDlwB,KAAKoe,EAAK,qBACX,CACH,CAEc+R,iBAAA9C,OAAGA,OACA8C,iBAAAvB,UAAGA,UACLuB,iBAAAxB,QAAGA,QACNwB,iBAAAhC,KAAGA,KACFgC,iBAAA34B,MAAGA,MACL24B,iBAAA75D,IAAGA,IACG65D,iBAAAtB,UAAGA,UACRsB,iBAAAnwB,KAAGA,KACYmwB,iBAAAJ,oBAAGA,oBAC9BI,iBAAAF,sBAAgCA,sBC7ZhC,IAAIjU,aAAa/wD,mBACb8hE,aAAa10D,mBACbiyD,WAAW/xD,iBAEf,SAAS63D,UAAUjzB,EAAQ9L,EAAKqqB,GAC9B,MAAMprD,EAAM,IAAIy8D,aAAW/G,QAAQ7oB,GAEnC,GAAI9L,aAAen7B,IACjB,IAAK,MAAOK,EAAKzK,KAAUulC,EAAK/gC,EAAI+1C,MAAMj4C,KAAK+uC,EAAO2wB,WAAWv3D,EAAKzK,EAAO4vD,SACxE,GAAIrqB,GAAsB,iBAARA,EACvB,IAAK,MAAM96B,KAAOhB,OAAOqR,KAAKyqB,GAAM/gC,EAAI+1C,MAAMj4C,KAAK+uC,EAAO2wB,WAAWv3D,EAAK86B,EAAI96B,GAAMmlD,IAOtF,MAJqC,mBAA1Bve,EAAOgpB,gBAChB71D,EAAI+1C,MAAMh4C,KAAK8uC,EAAOgpB,gBAGjB71D,CACT,CAEA,MAAMA,IAAM,CACVgyD,WAAY8N,UACZjkE,SAAS,EACTiiE,UAAWrB,aAAW/G,QACtBrL,IAAK,wBACL15C,QAAS8rD,aAAWhB,YAGtB,SAASsE,UAAUlzB,EAAQ9L,EAAKqqB,GAC9B,MAAMwI,EAAM,IAAI6I,aAAW/I,QAAQ7mB,GAEnC,GAAI9L,GAAOA,EAAI1K,OAAO4Q,UACpB,IAAK,MAAM0sB,KAAM5yB,EAAK,CACpB,MAAMptB,EAAIk5B,EAAOmlB,WAAW2B,EAAIvI,EAAI4U,YAAa,KAAM5U,GACvDwI,EAAI7d,MAAMj4C,KAAK6V,EAChB,CAGH,OAAOigD,CACT,CAEA,MAAMA,IAAM,CACV5B,WAAY+N,UACZlkE,SAAS,EACTiiE,UAAWrB,aAAW/I,QACtBrJ,IAAK,wBACL15C,QAAS8rD,aAAWA,YAGhBh1C,OAAS,CACbu1C,SAAUxhE,GAA0B,iBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,wBACL15C,QAAS8rD,aAAW9C,cAEpBl4D,UAAS,CAACktC,EAAMyc,EAAK4H,EAAWC,KAC9B7H,EAAMnmD,OAAOC,OAAO,CAClB2zD,cAAc,GACbzN,GACIqR,aAAW3D,gBAAgBnqB,EAAMyc,EAAK4H,EAAWC,IAG1Dv0D,QAAS+9D,aAAW7F,YAGhBqJ,SAAW,CAACjgE,IAAK4zD,IAAKnsC,QAItBy4C,cAAgB1kE,GAA0B,iBAAVA,GAAsBmzB,OAAO6D,UAAUh3B,GAEvE2kE,aAAe,CAAC5rB,EAAKlY,EAAM+jC,IAAU3D,aAAWjG,WAAWC,SAAW4J,OAAO9rB,GAAOv7B,SAASqjB,EAAM+jC,GAEzG,SAASE,eAAex3C,EAAMs3C,EAAOzyC,GACnC,MAAMnyB,MACJA,GACEstB,EACJ,OAAIo3C,cAAc1kE,IAAUA,GAAS,EAAUmyB,EAASnyB,EAAMksB,SAAS04C,GAChE3D,aAAWxD,gBAAgBnwC,EACpC,CAEA,MAAMy3C,QAAU,CACdvD,SAAUxhE,GAAkB,MAATA,EACnBw2D,WAAY,CAACnlB,EAAQrxC,EAAO4vD,IAAQA,EAAI4U,YAAc,IAAIvD,aAAW3K,OAAO,MAAQ,KACpFj2D,SAAS,EACTwuD,IAAK,yBACLpmD,KAAM,wBACN0M,QAAS,IAAM,KACfjS,QAAS+9D,aAAW/F,YACpBj1D,UAAW,IAAMg7D,aAAW/F,YAAYC,SAEpC6J,QAAU,CACdxD,SAAUxhE,GAA0B,kBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,yBACLpmD,KAAM,oCACN0M,QAAS3N,GAAkB,MAAXA,EAAI,IAAyB,MAAXA,EAAI,GACtCtE,QAAS+9D,aAAWpG,YACpB50D,UAAW,EACTjG,WACIA,EAAQihE,aAAWpG,YAAYC,QAAUmG,aAAWpG,YAAYE,UAElEkK,OAAS,CACbzD,SAAUxhE,GAAS0kE,cAAc1kE,IAAUA,GAAS,EACpDK,SAAS,EACTwuD,IAAK,wBACLthB,OAAQ,MACR9kC,KAAM,eACN0M,QAAS,CAAC3N,EAAK09D,IAAQP,aAAan9D,EAAK09D,EAAK,GAC9ChiE,QAAS+9D,aAAWjG,WACpB/0D,UAAWqnB,GAAQw3C,eAAex3C,EAAM,EAAG,OAEvC63C,OAAS,CACb3D,SAAUkD,cACVrkE,SAAS,EACTwuD,IAAK,wBACLpmD,KAAM,gBACN0M,QAAS3N,GAAOm9D,aAAan9D,EAAKA,EAAK,IACvCtE,QAAS+9D,aAAWjG,WACpB/0D,UAAWg7D,aAAWxD,iBAElB2H,OAAS,CACb5D,SAAUxhE,GAAS0kE,cAAc1kE,IAAUA,GAAS,EACpDK,SAAS,EACTwuD,IAAK,wBACLthB,OAAQ,MACR9kC,KAAM,qBACN0M,QAAS,CAAC3N,EAAK4gB,IAAQu8C,aAAan9D,EAAK4gB,EAAK,IAC9CllB,QAAS+9D,aAAWjG,WACpB/0D,UAAWqnB,GAAQw3C,eAAex3C,EAAM,GAAI,OAExC+3C,OAAS,CACb7D,SAAUxhE,GAA0B,iBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,0BACLpmD,KAAM,4BACN0M,QAAS,CAAC3N,EAAK89D,IAAQA,EAAMvQ,IAAiB,MAAXvtD,EAAI,GAAa2rB,OAAOoyC,kBAAoBpyC,OAAOqyC,kBACtFv/D,UAAWg7D,aAAWxD,iBAElBgI,OAAS,CACbjE,SAAUxhE,GAA0B,iBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,0BACLthB,OAAQ,MACR9kC,KAAM,yDACN0M,QAAS3N,GAAOk+D,WAAWl+D,GAC3BvB,UAAW,EACTjG,WACImzB,OAAOnzB,GAAO2lE,iBAEhBC,SAAW,CACfpE,SAAUxhE,GAA0B,iBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,0BACLpmD,KAAM,yCAEN0M,QAAQ3N,EAAKq+D,EAAOC,GAClB,MAAMC,EAAOF,GAASC,EAChBx4C,EAAO,IAAI2zC,aAAW3K,OAAOoP,WAAWl+D,IAE9C,OADIu+D,GAAkC,MAA1BA,EAAKA,EAAKjmE,OAAS,KAAYwtB,EAAKowC,kBAAoBqI,EAAKjmE,QAClEwtB,CACR,EAEDrnB,UAAWg7D,aAAWxD,iBAElBuI,KAAOvB,SAASrkE,OAAO,CAAC2kE,QAASC,QAASC,OAAQE,OAAQC,OAAQC,OAAQI,OAAQG,WAIlFK,cAAgBjmE,GAA0B,iBAAVA,GAAsBmzB,OAAO6D,UAAUh3B,GAEvEkmE,cAAgB,EACpBlmE,WACIgG,KAAKC,UAAUjG,GAEfwqC,KAAO,CAAChmC,IAAK4zD,IAAK,CACtBoJ,SAAUxhE,GAA0B,iBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,wBACL15C,QAAS8rD,aAAW9C,cACpBl4D,UAAWigE,eACV,CACD1E,SAAUxhE,GAAkB,MAATA,EACnBw2D,WAAY,CAACnlB,EAAQrxC,EAAO4vD,IAAQA,EAAI4U,YAAc,IAAIvD,aAAW3K,OAAO,MAAQ,KACpFj2D,SAAS,EACTwuD,IAAK,yBACLpmD,KAAM,SACN0M,QAAS,IAAM,KACflP,UAAWigE,eACV,CACD1E,SAAUxhE,GAA0B,kBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,yBACLpmD,KAAM,eACN0M,QAAS3N,GAAe,SAARA,EAChBvB,UAAWigE,eACV,CACD1E,SAAUyE,cACV5lE,SAAS,EACTwuD,IAAK,wBACLpmD,KAAM,wBACN0M,QAAS3N,GAAOy5D,aAAWjG,WAAWC,SAAW4J,OAAOr9D,GAAOgW,SAAShW,EAAK,IAC7EvB,UAAW,EACTjG,WACIimE,cAAcjmE,GAASA,EAAMksB,WAAalmB,KAAKC,UAAUjG,IAC9D,CACDwhE,SAAUxhE,GAA0B,iBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,0BACLpmD,KAAM,yDACN0M,QAAS3N,GAAOk+D,WAAWl+D,GAC3BvB,UAAWigE,gBAGb17B,KAAKmxB,eAAiBn0D,IACpB,MAAM,IAAI+xC,YAAY,2BAA2BvzC,KAAKC,UAAUuB,KAAO,EAKzE,MAAM2+D,cAAgB,EACpBnmE,WACIA,EAAQihE,aAAWpG,YAAYC,QAAUmG,aAAWpG,YAAYE,SAEhEqL,YAAcpmE,GAA0B,iBAAVA,GAAsBmzB,OAAO6D,UAAUh3B,GAE3E,SAASqmE,WAAWhzC,EAAM0lB,EAAK6rB,GAC7B,IAAIp9D,EAAMuxC,EAAIh2C,QAAQ,KAAM,IAE5B,GAAIk+D,aAAWjG,WAAWC,SAAU,CAClC,OAAQ2J,GACN,KAAK,EACHp9D,EAAM,KAAKA,IACX,MAEF,KAAK,EACHA,EAAM,KAAKA,IACX,MAEF,KAAK,GACHA,EAAM,KAAKA,IAIf,MAAMyjB,EAAI45C,OAAOr9D,GACjB,MAAgB,MAAT6rB,EAAewxC,QAAQ,GAAK55C,EAAIA,CACxC,CAED,MAAMA,EAAIzN,SAAShW,EAAKo9D,GACxB,MAAgB,MAATvxC,GAAgB,EAAIpI,EAAIA,CACjC,CAEA,SAASq7C,aAAah5C,EAAMs3C,EAAOzyC,GACjC,MAAMnyB,MACJA,GACEstB,EAEJ,GAAI84C,YAAYpmE,GAAQ,CACtB,MAAMwH,EAAMxH,EAAMksB,SAAS04C,GAC3B,OAAO5kE,EAAQ,EAAI,IAAMmyB,EAAS3qB,EAAI6sB,OAAO,GAAKlC,EAAS3qB,CAC5D,CAED,OAAOy5D,aAAWxD,gBAAgBnwC,EACpC,CAEA,MAAMi5C,OAAS9B,SAASrkE,OAAO,CAAC,CAC9BohE,SAAUxhE,GAAkB,MAATA,EACnBw2D,WAAY,CAACnlB,EAAQrxC,EAAO4vD,IAAQA,EAAI4U,YAAc,IAAIvD,aAAW3K,OAAO,MAAQ,KACpFj2D,SAAS,EACTwuD,IAAK,yBACLpmD,KAAM,wBACN0M,QAAS,IAAM,KACfjS,QAAS+9D,aAAW/F,YACpBj1D,UAAW,IAAMg7D,aAAW/F,YAAYC,SACvC,CACDqG,SAAUxhE,GAA0B,kBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,yBACLpmD,KAAM,6CACN0M,QAAS,KAAM,EACfjS,QAAS+9D,aAAWpG,YACpB50D,UAAWkgE,eACV,CACD3E,SAAUxhE,GAA0B,kBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,yBACLpmD,KAAM,gDACN0M,QAAS,KAAM,EACfjS,QAAS+9D,aAAWpG,YACpB50D,UAAWkgE,eACV,CACD3E,SAAU4E,YACV/lE,SAAS,EACTwuD,IAAK,wBACLthB,OAAQ,MACR9kC,KAAM,uBACN0M,QAAS,CAAC3N,EAAK6rB,EAAMmzC,IAAQH,WAAWhzC,EAAMmzC,EAAK,GACnDvgE,UAAWqnB,GAAQg5C,aAAah5C,EAAM,EAAG,OACxC,CACDk0C,SAAU4E,YACV/lE,SAAS,EACTwuD,IAAK,wBACLthB,OAAQ,MACR9kC,KAAM,sBACN0M,QAAS,CAAC3N,EAAK6rB,EAAM6xC,IAAQmB,WAAWhzC,EAAM6xC,EAAK,GACnDj/D,UAAWqnB,GAAQg5C,aAAah5C,EAAM,EAAG,MACxC,CACDk0C,SAAU4E,YACV/lE,SAAS,EACTwuD,IAAK,wBACLpmD,KAAM,0BACN0M,QAAS,CAAC3N,EAAK6rB,EAAM9nB,IAAQ86D,WAAWhzC,EAAM9nB,EAAK,IACnDtF,UAAWg7D,aAAWxD,iBACrB,CACD+D,SAAU4E,YACV/lE,SAAS,EACTwuD,IAAK,wBACLthB,OAAQ,MACR9kC,KAAM,6BACN0M,QAAS,CAAC3N,EAAK6rB,EAAMjL,IAAQi+C,WAAWhzC,EAAMjL,EAAK,IACnDniB,UAAWqnB,GAAQg5C,aAAah5C,EAAM,GAAI,OACzC,CACDk0C,SAAUxhE,GAA0B,iBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,0BACLpmD,KAAM,4BACN0M,QAAS,CAAC3N,EAAK89D,IAAQA,EAAMvQ,IAAiB,MAAXvtD,EAAI,GAAa2rB,OAAOoyC,kBAAoBpyC,OAAOqyC,kBACtFv/D,UAAWg7D,aAAWxD,iBACrB,CACD+D,SAAUxhE,GAA0B,iBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,0BACLthB,OAAQ,MACR9kC,KAAM,oDACN0M,QAAS3N,GAAOk+D,WAAWl+D,EAAIzE,QAAQ,KAAM,KAC7CkD,UAAW,EACTjG,WACImzB,OAAOnzB,GAAO2lE,iBACnB,CACDnE,SAAUxhE,GAA0B,iBAAVA,EAC1BK,SAAS,EACTwuD,IAAK,0BACLpmD,KAAM,sCAEN0M,QAAQ3N,EAAKu+D,GACX,MAAMz4C,EAAO,IAAI2zC,aAAW3K,OAAOoP,WAAWl+D,EAAIzE,QAAQ,KAAM,MAEhE,GAAIgjE,EAAM,CACR,MAAMv7C,EAAIu7C,EAAKhjE,QAAQ,KAAM,IACL,MAApBynB,EAAEA,EAAE1qB,OAAS,KAAYwtB,EAAKowC,kBAAoBlzC,EAAE1qB,OACzD,CAED,OAAOwtB,CACR,EAEDrnB,UAAWg7D,aAAWxD,kBACpBe,WAAS+C,OAAQ/C,WAAS6D,KAAM7D,WAAS9yB,MAAO8yB,WAASh0D,IAAKg0D,WAASqE,QAASrE,WAASsE,UAAWtE,WAASuE,WAE3G0D,QAAU,CACdT,UACAvB,kBACAj6B,UACA+7B,eAEI7K,KAAO,CACX6F,OAAQ/C,WAAS+C,OACjBmF,KAAM1B,QACN2B,MAAOf,SACPgB,SAAUnB,OACVoB,SAAUxB,OACVvC,UAAWtE,WAASsE,UACpBgE,IAAK3B,OACL4B,OAAQ3B,OACR4B,OAAQ/B,OACRpC,QAASrE,WAASqE,QAClBr+D,QACAyiE,KAAMlC,QACN1C,KAAM7D,WAAS6D,KACf32B,MAAO8yB,WAAS9yB,MAChB0sB,QACA5tD,IAAKg0D,WAASh0D,IACdu4D,UAAWvE,WAASuE,WAGtB,SAASmE,cAAclnE,EAAO8+D,EAASpD,GACrC,GAAIoD,EAAS,CACX,MAAM98D,EAAQ05D,EAAKh6D,QAAOipB,GAAKA,EAAEkkC,MAAQiQ,IACnCqI,EAASnlE,EAAMqC,MAAKsmB,IAAMA,EAAE4iB,UAAWvrC,EAAM,GACnD,IAAKmlE,EAAQ,MAAM,IAAI7oE,MAAM,OAAOwgE,eACpC,OAAOqI,CACR,CAGD,OAAOzL,EAAKr3D,MAAKsmB,IAAMA,EAAE62C,UAAY72C,EAAE62C,SAASxhE,IAAU2qB,EAAEy8C,OAASpnE,aAAiB2qB,EAAEy8C,SAAWz8C,EAAE4iB,QACvG,CAEA,SAASipB,aAAWx2D,EAAO8+D,EAASlP,GAClC,GAAI5vD,aAAiBihE,aAAWzU,KAAM,OAAOxsD,EAC7C,MAAMqnE,cACJA,EAAaC,SACbA,EAAQC,YACRA,EAAWl2B,OACXA,EAAMmzB,YACNA,GACE5U,EACAkP,GAAWA,EAAQ91D,WAAW,QAAO81D,EAAUuI,EAAgBvI,EAAQj/D,MAAM,IACjF,IAAIsnE,EAASD,cAAclnE,EAAO8+D,EAASztB,EAAOqqB,MAElD,IAAKyL,EAAQ,CAEX,GAD4B,mBAAjBnnE,EAAMklC,SAAuBllC,EAAQA,EAAMklC,WACjDllC,GAA0B,iBAAVA,EAAoB,OAAOwkE,EAAc,IAAIvD,aAAW3K,OAAOt2D,GAASA,EAC7FmnE,EAASnnE,aAAiBoK,IAAM5F,IAAMxE,EAAM66B,OAAO4Q,UAAY2sB,IAAM5zD,GACtE,CAEG8iE,IACFA,EAASH,UACFvX,EAAI0X,UAKb,MAAM/hC,EAAM,CACVvlC,WAAOhB,EACPsuB,UAAMtuB,GAGR,GAAIgB,GAA0B,iBAAVA,GAAsBunE,EAAa,CACrD,MAAM5a,EAAO4a,EAAYz8D,IAAI9K,GAE7B,GAAI2sD,EAAM,CACR,MAAM1wC,EAAQ,IAAIglD,aAAW7N,MAAMzG,GAInC,OAFAiD,EAAI4X,WAAWllE,KAAK2Z,GAEbA,CACR,CAEDspB,EAAIvlC,MAAQA,EACZunE,EAAY/8D,IAAIxK,EAAOulC,EACxB,CAID,OAFAA,EAAIjY,KAAO65C,EAAO3Q,WAAa2Q,EAAO3Q,WAAW5G,EAAIve,OAAQrxC,EAAO4vD,GAAO4U,EAAc,IAAIvD,aAAW3K,OAAOt2D,GAASA,EACpH8+D,GAAWv5B,EAAIjY,gBAAgB2zC,aAAWzU,OAAMjnB,EAAIjY,KAAKuhC,IAAMiQ,GAC5Dv5B,EAAIjY,IACb,CAEA,SAASm6C,cAAchB,EAASiB,EAAWC,EAAYC,GACrD,IAAIlM,EAAO+K,EAAQmB,EAAS7kE,QAAQ,MAAO,KAE3C,IAAK24D,EAAM,CACT,MAAM5gD,EAAOrR,OAAOqR,KAAK2rD,GAASjiE,KAAIiG,GAAOzE,KAAKC,UAAUwE,KAAM7J,KAAK,MACvE,MAAM,IAAItC,MAAM,mBAAmBspE,kBAAyB9sD,IAC7D,CAED,GAAI5a,MAAMC,QAAQwnE,GAChB,IAAK,MAAM9Y,KAAO8Y,EAAYjM,EAAOA,EAAKt7D,OAAOyuD,OAClB,mBAAf8Y,IAChBjM,EAAOiM,EAAWjM,EAAK77D,UAGzB,IAAK,IAAIwI,EAAI,EAAGA,EAAIqzD,EAAK57D,SAAUuI,EAAG,CACpC,MAAMwmD,EAAM6M,EAAKrzD,GAEjB,GAAmB,iBAARwmD,EAAkB,CAC3B,MAAMsY,EAASO,EAAU7Y,GAEzB,IAAKsY,EAAQ,CACX,MAAMrsD,EAAOrR,OAAOqR,KAAK4sD,GAAWljE,KAAIiG,GAAOzE,KAAKC,UAAUwE,KAAM7J,KAAK,MACzE,MAAM,IAAItC,MAAM,uBAAuBuwD,kBAAoB/zC,IAC5D,CAED4gD,EAAKrzD,GAAK8+D,CACX,CACF,CAED,OAAOzL,CACT,CAEA,MAAMmM,oBAAsB,CAACrlE,EAAGC,IAAMD,EAAEiI,IAAMhI,EAAEgI,KAAO,EAAIjI,EAAEiI,IAAMhI,EAAEgI,IAAM,EAAI,EAE/E,MAAMq9D,SAGJvpE,aAAYopE,WACVA,EAAUrH,MACVA,EAAKjvB,OACLA,EAAMgpB,eACNA,EACAqB,KAAMqM,IAENlpE,KAAKyhE,QAAUA,EACfzhE,KAAKC,KAAOuyC,EACZxyC,KAAKw7D,gBAAoC,IAAnBA,EAA0BwN,oBAAsBxN,GAAkB,MACnFsN,GAAcI,GAAsBvJ,WAAS2F,sBAAsB,OAAQ,cAChFtlE,KAAK68D,KAAO+L,cAAchB,QAAS/K,KAAMiM,GAAcI,EAAsB12B,EAC9E,CAEDmlB,WAAWx2D,EAAOwkE,EAAa1F,EAASlP,GACtC,MAAMoY,EAAU,CACdX,cAAeS,SAAOT,cACtBh2B,OAAQxyC,KACR2lE,eAGF,OAAOhO,aAAWx2D,EAAO8+D,EADPlP,EAAMnmD,OAAOC,OAAOkmD,EAAKoY,GAAWA,EAEvD,CAEDhG,WAAWv3D,EAAKzK,EAAO4vD,GAChBA,IAAKA,EAAM,CACd4U,aAAa,IAEf,MAAM/6C,EAAI5qB,KAAK23D,WAAW/rD,EAAKmlD,EAAI4U,YAAa,KAAM5U,GAChDz3C,EAAItZ,KAAK23D,WAAWx2D,EAAO4vD,EAAI4U,YAAa,KAAM5U,GACxD,OAAO,IAAIqR,aAAWzI,KAAK/uC,EAAGtR,EAC/B,EAIH+3C,aAAWD,gBAAgB6X,SAAQ,gBAAiB5X,aAAWjF,kBAE/DiF,aAAWD,gBAAgB6X,SAAQ,cAAe5X,aAAWhF,aAE7D+c,eAAAH,OAAiBA,SC1gBjB,IAAI5X,aAAa/wD,mBACb8hE,WAAa10D,mBACbu7D,SAASr7D,eAEb,MAAMy7D,iBAAiB,CACrBC,aAAc,IACdR,WAAY,KACZjgE,OAAQ,EACRoxD,WAAW,EACXgH,cAAc,EACdC,eAAe,EACfqI,iBAAiB,EACjBxP,UAAU,EACVkB,cAAe,IACfuO,cAAc,EAEdtP,YAAY,EACZ78C,QAAS,OAELosD,cAAgB,CAChB/G,aACF,OAAON,WAAWvG,aACnB,EAEG6G,WAAOgH,GACT9+D,OAAOC,OAAOu3D,WAAWvG,cAAe6N,EACzC,EAEG7B,WACF,OAAOzF,WAAWpG,WACnB,EAEG6L,SAAK6B,GACP9+D,OAAOC,OAAOu3D,WAAWpG,YAAa0N,EACvC,EAEGzB,UACF,OAAO7F,WAAWjG,UACnB,EAEG8L,QAAIyB,GACN9+D,OAAOC,OAAOu3D,WAAWjG,WAAYuN,EACtC,EAEGtB,WACF,OAAOhG,WAAW/F,WACnB,EAEG+L,SAAKsB,GACP9+D,OAAOC,OAAOu3D,WAAW/F,YAAaqN,EACvC,EAEG/gE,UACF,OAAOy5D,WAAW7F,UACnB,EAEG5zD,QAAI+gE,GACN9+D,OAAOC,OAAOu3D,WAAW7F,WAAYmN,EACtC,GAGGC,gBAAkB,CACtB,MAAO,CACLn3B,OAAQ,WACRivB,OAAO,EACPjC,YAAa,CAAC,CACZrP,OAAQ,IACR78B,OAAQ+9B,aAAWjF,kBAClB,CACD+D,OAAQ,KACR78B,OAAQ,gCAGZ,IAAK,CACHkf,OAAQ,WACRivB,OAAO,EACPjC,YAAa,CAAC,CACZrP,OAAQ,IACR78B,OAAQ,KACP,CACD68B,OAAQ,KACR78B,OAAQ+9B,aAAWjF,oBAGvB,IAAK,CACH5Z,OAAQ,OACRivB,OAAO,EACPjC,YAAa,CAAC,CACZrP,OAAQ,IACR78B,OAAQ,KACP,CACD68B,OAAQ,KACR78B,OAAQ+9B,aAAWjF,qBAKzB,SAASwd,aAAa3S,EAAKjH,GACzB,GAA6C,SAAxCiH,EAAI55C,SAAW45C,EAAI5yD,QAAQgZ,SAAoB,CAClD,MAAMwsD,EAAO7Z,EAAI7sD,MAAM,0CACvB,GAAI0mE,EAAM,MAAO,IAAMA,EAAK,GAC5B,MAAMjK,EAAQ5P,EAAI7sD,MAAM,6CACxB,OAAOy8D,EAAQ,IAAIA,EAAM,MAAMA,EAAM,KAAO,IAAI5P,EAAI9rD,QAAQ,QAAS,KACtE,CAED,IAAI0nB,EAAIqrC,EAAIuI,YAAYh6D,MAAKomB,GAA+B,IAA1BokC,EAAIz0C,QAAQqQ,EAAE0H,UAEhD,IAAK1H,EAAG,CACN,MAAM6zC,EAAMxI,EAAIyI,cAAcF,YAC9B5zC,EAAI6zC,GAAOA,EAAIj6D,MAAKomB,GAA+B,IAA1BokC,EAAIz0C,QAAQqQ,EAAE0H,SACxC,CAED,IAAK1H,EAAG,MAAkB,MAAXokC,EAAI,GAAaA,EAAM,KAAKA,KAC3C,MAAMI,EAASJ,EAAIx6B,OAAO5J,EAAE0H,OAAOryB,QAAQiD,QAAQ,cAAcgqD,IAAM,CACrE,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,OACJA,MACH,OAAOtiC,EAAEukC,OAASC,CACpB,CAEA,SAAS0Z,aAAajN,EAAMvoB,GAC1B,GAAIA,aAAgB8tB,WAAW7N,MAAO,OAAO6N,WAAW7N,MAExD,GAAIjgB,EAAK0b,IAAK,CACZ,MAAM7sD,EAAQ05D,EAAKh6D,QAAOipB,GAAKA,EAAEkkC,MAAQ1b,EAAK0b,MAC9C,GAAI7sD,EAAMlC,OAAS,EAAG,OAAOkC,EAAMqC,MAAKsmB,GAAKA,EAAE4iB,SAAW4F,EAAK5F,UAAWvrC,EAAM,EACjF,CAED,IAAImlE,EAAQ5hC,EAEZ,GAAI4N,aAAgB8tB,WAAW3K,OAAQ,CACrC/wB,EAAM4N,EAAKnzC,MAEX,MAAMgC,EAAQ05D,EAAKh6D,QAAOipB,GAAKA,EAAE62C,UAAY72C,EAAE62C,SAASj8B,IAAQ5a,EAAEy8C,OAAS7hC,aAAe5a,EAAEy8C,QAC5FD,EAASnlE,EAAMqC,MAAKsmB,GAAKA,EAAE4iB,SAAW4F,EAAK5F,UAAWvrC,EAAMqC,MAAKsmB,IAAMA,EAAE4iB,QAC7E,MACIhI,EAAM4N,EACNg0B,EAASzL,EAAKr3D,MAAKsmB,GAAKA,EAAE23C,WAAa/8B,aAAe5a,EAAE23C,YAG1D,IAAK6E,EAAQ,CACX,MAAMroE,EAAOymC,GAAOA,EAAIhnC,YAAcgnC,EAAIhnC,YAAYO,YAAcymC,EACpE,MAAM,IAAIjnC,MAAM,wBAAwBQ,UACzC,CAED,OAAOqoE,CACT,CAGA,SAASyB,eAAet7C,EAAM65C,GAAQhR,QACpCA,EAAOL,IACPA,IAEA,MAAMnI,EAAQ,GACRM,EAAS6H,EAAIK,QAAQmD,QAAQhsC,GAanC,OAXI2gC,IACFkI,EAAQlI,GAAU3gC,EAClBqgC,EAAMrrD,KAAK,IAAI2rD,MAGb3gC,EAAKuhC,IACPlB,EAAMrrD,KAAKmmE,aAAa3S,EAAKxoC,EAAKuhC,MACxBsY,EAAO9mE,SACjBstD,EAAMrrD,KAAKmmE,aAAa3S,EAAKqR,EAAOtY,MAG/BlB,EAAM/sD,KAAK,IACpB,CAEA,SAASqF,YAAUktC,EAAMyc,EAAK4H,EAAWC,GACvC,MAAMtB,QACJA,EAAO9kB,OACPA,GACEue,EAAIkG,IACR,IAAIqR,EAEJ,KAAMh0B,aAAgB8tB,WAAWzU,MAAO,CACtC,MAAMqc,EAAY,CAChBrB,WAAY,GACZF,SAAUrvB,GAAKkvB,EAASlvB,EACxBsvB,YAAa,IAAIn9D,KAEnB+oC,EAAO9B,EAAOmlB,WAAWrjB,GAAM,EAAM,KAAM01B,GAE3C,IAAK,MAAM5sD,KAAS4sD,EAAUrB,WAAY,CACxCvrD,EAAMrI,OAASqI,EAAMrI,OAAO0Z,KAC5B,IAAIxuB,EAAOq3D,EAAQmD,QAAQr9C,EAAMrI,QAE5B9U,IACHA,EAAOq3D,EAAQ0D,UACf1D,EAAQ3xD,IAAI1F,GAAQmd,EAAMrI,OAE7B,CACF,CAED,GAAIu/B,aAAgB8tB,WAAWzI,KAAM,OAAOrlB,EAAKjnB,SAAS0jC,EAAK4H,EAAWC,GACrE0P,IAAQA,EAASwB,aAAat3B,EAAOqqB,KAAMvoB,IAChD,MAAMwa,EAAQib,eAAez1B,EAAMg0B,EAAQvX,GACvCjC,EAAM7tD,OAAS,IAAG8vD,EAAIyJ,eAAiBzJ,EAAIyJ,eAAiB,GAAK1L,EAAM7tD,OAAS,GACpF,MAAM0H,EAAkC,mBAArB2/D,EAAOlhE,UAA2BkhE,EAAOlhE,UAAUktC,EAAMyc,EAAK4H,EAAWC,GAAetkB,aAAgB8tB,WAAW3K,OAAS2K,WAAW3D,gBAAgBnqB,EAAMyc,EAAK4H,EAAWC,GAAetkB,EAAKjnB,SAAS0jC,EAAK4H,EAAWC,GAC7O,OAAK9J,EACExa,aAAgB8tB,WAAW3K,QAAqB,MAAX9uD,EAAI,IAAyB,MAAXA,EAAI,GAAa,GAAGmmD,KAASnmD,IAAQ,GAAGmmD,MAAUiC,EAAIloD,SAASF,IAD1GA,CAErB,CAEA,MAAMshE,QACJrgB,uBAAuBn7B,GACrB,OAAOA,aAAgB2zC,WAAW3K,QAAUhpC,aAAgB2zC,WAAW/I,SAAW5qC,aAAgB2zC,WAAW/G,OAC9G,CAED37D,YAAY4zB,GACV+9B,aAAWD,gBAAgBpxD,KAAM,MAAO4K,OAAOqtB,OAAO,OAEtDj4B,KAAKszB,OAASA,CACf,CAED42C,YAAYz7C,EAAMxuB,GAEhB,OADAD,KAAKmqE,UAAU17C,EAAMxuB,GACd,IAAImiE,WAAW7N,MAAM9lC,EAC7B,CAED27C,mBAAmB1I,GACjB,MAAMD,EAAQ,IAAIW,WAAWzG,MAU7B,OATA8F,EAAMtgE,MAAMu6C,MAAQgmB,EAAQ/7D,KAAIsX,IAC9B,GAAIA,aAAamlD,WAAW7N,OAC1B,GAAIt3C,EAAElI,kBAAkBqtD,WAAW/G,QAAS,OAAOp+C,OAC9C,GAAIA,aAAamlD,WAAW/G,QACjC,OAAOr7D,KAAKkqE,YAAYjtD,GAG1B,MAAM,IAAIxd,MAAM,mDAAmD,IAE9DgiE,CACR,CAEDhH,QAAQhsC,GACN,MAAM9oB,IACJA,GACE3F,KACJ,OAAO4K,OAAOqR,KAAKtW,GAAKH,MAAK7B,GAAKgC,EAAIhC,KAAO8qB,GAC9C,CAED47C,WACE,OAAOz/D,OAAOqR,KAAKjc,KAAK2F,IACzB,CAEDm7D,QAAQ7gE,GACN,OAAOD,KAAK2F,IAAI1F,EACjB,CAED+6D,QAAQ1nC,GACDA,IAAQA,EAAStzB,KAAKszB,QAC3B,MAAM9oB,EAAQI,OAAOqR,KAAKjc,KAAK2F,KAE/B,IAAK,IAAI6D,EAAI,KAAWA,EAAG,CACzB,MAAMvJ,EAAO,GAAGqzB,IAAS9pB,IACzB,IAAKgB,EAAM1I,SAAS7B,GAAO,OAAOA,CACnC,CACF,CAGDqqE,eACE,MAAM3kE,IACJA,EAAGo7D,YACHA,GACE/gE,KACJ4K,OAAOqR,KAAKtW,GAAKJ,SAAQ5B,IACvBgC,EAAIhC,GAAKgC,EAAIhC,GAAGw9D,QAAQ,IAG1BJ,EAAYx7D,SAAQ5B,IAClBA,EAAEoR,OAASpR,EAAEoR,OAAOosD,QAAQ,WAGvBnhE,KAAK+gE,WACb,CAEDoJ,UAAU17C,EAAMxuB,GACd,GAAY,MAARwuB,IAAiBw7C,QAAQM,gBAAgB97C,GAC3C,MAAM,IAAIhvB,MAAM,yDAGlB,GAAIQ,GAAQ,sBAAsB2J,KAAK3J,GACrC,MAAM,IAAIR,MAAM,kEAGlB,MAAMkG,IACJA,GACE3F,KACE8tD,EAAOr/B,GAAQ7jB,OAAOqR,KAAKtW,GAAKH,MAAK7B,GAAKgC,EAAIhC,KAAO8qB,IAE3D,GAAIq/B,EAAM,CACR,IAAK7tD,EACH,OAAO6tD,EACEA,IAAS7tD,WACX0F,EAAImoD,GACXnoD,EAAI1F,GAAQwuB,EAEpB,KAAW,CACL,IAAKxuB,EAAM,CACT,IAAKwuB,EAAM,OAAO,KAClBxuB,EAAOD,KAAKg7D,SACb,CAEDr1D,EAAI1F,GAAQwuB,CACb,CAED,OAAOxuB,CACR,EAIH,MAAMuqE,MAAQ,CAAC/7C,EAAMouC,KACnB,GAAIpuC,GAAwB,iBAATA,EAAmB,CACpC,MAAMuhC,IACJA,GACEvhC,EAEAA,aAAgB2zC,WAAWxP,YACzB5C,IAAK6M,EAAK7M,IAAO,GACrBvhC,EAAKitB,MAAMn2C,SAAQ6mB,GAAKo+C,MAAMp+C,EAAGywC,MACxBpuC,aAAgB2zC,WAAWzI,MACpC6Q,MAAM/7C,EAAK7iB,IAAKixD,GAChB2N,MAAM/7C,EAAKttB,MAAO07D,IACTpuC,aAAgB2zC,WAAW3K,QAChCzH,IAAK6M,EAAK7M,IAAO,EAExB,CAED,OAAO6M,CAAI,EAGP4N,aAAeh8C,GAAQ7jB,OAAOqR,KAAKuuD,MAAM/7C,EAAM,CAAE,IAEvD,SAAS4lC,cAAc4C,EAAKzE,GAC1B,MAAMlD,EAAW,CACf+P,OAAQ,GACRqB,MAAO,IAET,IAAIv3B,EACA8vB,GAAc,EAElB,IAAK,MAAMxqC,KAAQ+jC,EACjB,GAAI/jC,EAAKugC,WAAY,CACnB,QAAa7uD,IAATgpC,EAAoB,CACtB,MAAMsqB,EAAM,wEACZwD,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWH,gBAAgBziC,EAAMglC,IACrD,KACD,CAED,MAAM3vB,EAAMs+B,WAAWpB,YAAY/J,EAAKxoC,GAEpCwqC,IACFn1B,EAAIm1B,aAAc,EAClBA,GAAc,GAGhB9vB,EAAOrF,CACb,MAAW,GAAqB,OAAjBrV,EAAK4gC,QAAkB,OACZlvD,IAATgpC,EAAqBmmB,EAAS+P,OAAS/P,EAASoR,OACxDj9D,KAAKgrB,EAAK4gC,QACd,MAAU5gC,EAAKqZ,OAASupB,aAAWjG,KAAKE,aACvC2N,GAAc,OAED94D,IAATgpC,GAAsBmmB,EAAS+P,OAAOp+D,OAAS,IAAMg2D,EAAImB,gBAE3DnB,EAAImB,cAAgB9I,EAAS+P,OAAOt9D,KAAK,MACzCutD,EAAS+P,OAAS,KAOxB,GAFApI,EAAIzE,SAAWrpB,GAAQ,KAElBA,EAEE,CACL,MAAMmQ,EAAKgW,EAAS+P,OAAOt9D,KAAK,MAEhC,GAAIu3C,EAAI,CACN,MAAMoxB,EAASvhC,aAAgBi5B,WAAWxP,YAAczpB,EAAKuS,MAAM,GAAKvS,EAAKuS,MAAM,GAAKvS,EACxFuhC,EAAOtS,cAAgBsS,EAAOtS,cAAgB,GAAG9e,MAAOoxB,EAAOtS,gBAAkB9e,CAClF,CAED2d,EAAI5H,QAAUC,EAASoR,MAAM3+D,KAAK,OAAS,IAC5C,MAVCk1D,EAAI5H,QAAUC,EAAS+P,OAAO99D,OAAO+tD,EAASoR,OAAO3+D,KAAK,OAAS,IAWvE,CAEA,SAAS4oE,qBAAoBnL,YAC3BA,GACCpL,GACD,MAAOjE,EAAQ78B,GAAU8gC,EAAUxhB,WAEnC,IAAKud,IAAW78B,EAAQ,CACtB,MAAMmgC,EAAM,mDACZ,MAAM,IAAIpC,aAAWJ,kBAAkBmD,EAAWX,EACnD,CAED,GAAI+L,EAAYjrC,MAAK3I,GAAKA,EAAEukC,SAAWA,IAAS,CAC9C,MAAMsD,EAAM,sFACZ,MAAM,IAAIpC,aAAWJ,kBAAkBmD,EAAWX,EACnD,CAED,MAAO,CACLtD,SACA78B,SAEJ,CAEA,SAASs3C,qBAAqB3T,EAAK7C,GACjC,IAAK/2C,GAAW+2C,EAAUxhB,WAG1B,GAFuB,aAAnBwhB,EAAUn0D,OAAqBod,EAAU,QAExCA,EAAS,CACZ,MAAMo2C,EAAM,oDACZ,MAAM,IAAIpC,aAAWJ,kBAAkBmD,EAAWX,EACnD,CAED,IAAKkW,gBAAgBtsD,GAAU,CAC7B,MACMo2C,EAAM,mCADDwD,EAAI55C,SAAW45C,EAAI5yD,QAAQgZ,4BACgCA,IACtE45C,EAAI0I,SAASl8D,KAAK,IAAI4tD,aAAWF,YAAYiD,EAAWX,GACzD,CAED,OAAOp2C,CACT,CAEA,SAAS42C,gBAAgBgD,EAAKnD,EAAY+W,GACxC,MAAMC,EAAoB,GAC1B,IAAI5W,GAAgB,EAEpB,IAAK,MAAME,KAAaN,EAAY,CAClC,MAAMzE,QACJA,EAAOpvD,KACPA,GACEm0D,EAEJ,OAAQn0D,GACN,IAAK,MACH,IACEg3D,EAAIuI,YAAY/7D,KAAKknE,oBAAoB1T,EAAK7C,GAC/C,CAAC,MAAO/zD,GACP42D,EAAIvF,OAAOjuD,KAAKpD,EACjB,CAED6zD,GAAgB,EAChB,MAEF,IAAK,OACL,IAAK,WACH,GAAI+C,EAAI55C,QAAS,CACf,MAAMo2C,EAAM,oEACZwD,EAAIvF,OAAOjuD,KAAK,IAAI4tD,aAAWJ,kBAAkBmD,EAAWX,GAC7D,CAED,IACEwD,EAAI55C,QAAUutD,qBAAqB3T,EAAK7C,EACzC,CAAC,MAAO/zD,GACP42D,EAAIvF,OAAOjuD,KAAKpD,EACjB,CAED6zD,GAAgB,EAChB,MAEF,QACE,GAAIj0D,EAAM,CACR,MAAMwzD,EAAM,0DAA0DxzD,IACtEg3D,EAAI0I,SAASl8D,KAAK,IAAI4tD,aAAWF,YAAYiD,EAAWX,GACzD,EAIDpE,GAASyb,EAAkBrnE,KAAK4rD,EACrC,CAED,GAAIwb,IAAY3W,GAAiB,SAAW+C,EAAI55C,SAAWwtD,EAAQxtD,SAAW45C,EAAI5yD,QAAQgZ,SAAU,CAClG,MAAM0tD,EAAgB,EACpB5a,SACA78B,aACK,CACL68B,SACA78B,WAGF2jC,EAAIuI,YAAcqL,EAAQrL,YAAY75D,IAAIolE,GAC1C9T,EAAI55C,QAAUwtD,EAAQxtD,OACvB,CAED45C,EAAImB,cAAgB0S,EAAkB/oE,KAAK,OAAS,IACtD,CAEA,SAASipE,iBAAiBxY,GACxB,GAAIA,aAAoB4P,WAAWxP,WAAY,OAAO,EACtD,MAAM,IAAInzD,MAAM,kDAClB,CAEA,MAAMo0D,WACJn0D,YAAY2E,GACVrE,KAAKs3D,QAAU,IAAI2S,QAAQ5lE,EAAQilE,cACnCtpE,KAAKo4D,cAAgB,KACrBp4D,KAAKqvD,QAAU,KACfrvD,KAAKwyD,SAAW,KAChBxyD,KAAK+zD,oBAAsB,KAC3B/zD,KAAK0xD,OAAS,GACd1xD,KAAKqE,QAAUA,EACfrE,KAAKwyC,OAAS,KACdxyC,KAAKw/D,YAAc,GACnBx/D,KAAKqd,QAAU,KACfrd,KAAK2/D,SAAW,EACjB,CAED7zD,IAAI3K,GAEF,OADA6pE,iBAAiBhrE,KAAKwyD,UACfxyD,KAAKwyD,SAAS1mD,IAAI3K,EAC1B,CAED02D,MAAMlqD,EAAMxM,GACV6pE,iBAAiBhrE,KAAKwyD,UACtBxyD,KAAKwyD,SAASqF,MAAMlqD,EAAMxM,EAC3B,CAEDwpC,OAAO/+B,GAEL,OADAo/D,iBAAiBhrE,KAAKwyD,UACfxyD,KAAKwyD,SAAS7nB,OAAO/+B,EAC7B,CAEDmsD,SAASpqD,GACP,OAAIy0D,WAAWxK,YAAYjqD,GACJ,MAAjB3N,KAAKwyD,WACTxyD,KAAKwyD,SAAW,MACT,IAGTwY,iBAAiBhrE,KAAKwyD,UACfxyD,KAAKwyD,SAASuF,SAASpqD,GAC/B,CAED+xD,cACE,OAAO7L,WAASoX,SAASjrE,KAAKqd,UAAYw2C,WAASoX,SAASjrE,KAAKqE,QAAQgZ,UAAY,CAAA,CACtF,CAEDpR,IAAIL,EAAKqsD,GACP,OAAOj4D,KAAKwyD,oBAAoB4P,WAAWxP,WAAa5yD,KAAKwyD,SAASvmD,IAAIL,EAAKqsD,QAAc93D,CAC9F,CAED63D,MAAMrqD,EAAMsqD,GACV,OAAImK,WAAWxK,YAAYjqD,IAAesqD,GAAcj4D,KAAKwyD,oBAAoB4P,WAAW3K,OAASz3D,KAAKwyD,SAASrxD,MAAQnB,KAAKwyD,SACzHxyD,KAAKwyD,oBAAoB4P,WAAWxP,WAAa5yD,KAAKwyD,SAASwF,MAAMrqD,EAAMsqD,QAAc93D,CACjG,CAED0L,IAAID,GACF,OAAO5L,KAAKwyD,oBAAoB4P,WAAWxP,YAAa5yD,KAAKwyD,SAAS3mD,IAAID,EAC3E,CAEDysD,MAAM1qD,GACJ,OAAIy0D,WAAWxK,YAAYjqD,QAAgCxN,IAAlBH,KAAKwyD,SACvCxyD,KAAKwyD,oBAAoB4P,WAAWxP,YAAa5yD,KAAKwyD,SAAS6F,MAAM1qD,EAC7E,CAEDhC,IAAIC,EAAKzK,GACP6pE,iBAAiBhrE,KAAKwyD,UACtBxyD,KAAKwyD,SAAS7mD,IAAIC,EAAKzK,EACxB,CAEDm3D,MAAM3qD,EAAMxM,GACNihE,WAAWxK,YAAYjqD,GAAO3N,KAAKwyD,SAAWrxD,GAChD6pE,iBAAiBhrE,KAAKwyD,UACtBxyD,KAAKwyD,SAAS8F,MAAM3qD,EAAMxM,GAE7B,CAED+pE,UAAUC,EAAIrC,GACZ,IAAKqC,IAAOrC,GAAc9oE,KAAKwyC,OAAQ,OACrB,iBAAP24B,IAAiBA,EAAKA,EAAGC,QAAQ,IAEjC,QAAPD,GAAuB,QAAPA,GAAuB,QAAPA,GAC9BnrE,KAAKqd,QAASrd,KAAKqd,QAAU8tD,EAAQnrE,KAAKqE,QAAQgZ,QAAU8tD,SACzDnrE,KAAKqE,QAAQmuC,QACX24B,GAAoB,iBAAPA,IACtBnrE,KAAKqE,QAAQmuC,OAAS24B,GAGpB9pE,MAAMC,QAAQwnE,KAAa9oE,KAAKqE,QAAQykE,WAAaA,GACzD,MAAMY,EAAM9+D,OAAOC,OAAO,CAAE,EAAE7K,KAAK0/D,cAAe1/D,KAAKqE,SACvDrE,KAAKwyC,OAAS,IAAIy2B,SAAOA,OAAOS,EACjC,CAED/zD,MAAM8Y,EAAMo8C,GACN7qE,KAAKqE,QAAQ48D,eAAcjhE,KAAKk7D,QAAUzsC,GAC1CzuB,KAAKqE,QAAQ68D,gBAAelhE,KAAK8nC,KAAO,YAC5C,MAAMgsB,WACJA,EAAa,GAAEtB,SACfA,EAAW,GAAEuB,oBACbA,EAAmB1zD,MACnBA,EAAK2uD,WACLA,GACEvgC,EAeJ,GAbIpuB,IACGA,EAAM0U,SAAQ1U,EAAM0U,OAAS/U,MAClCA,KAAK0xD,OAAOjuD,KAAKpD,IAGnB4zD,gBAAgBj0D,KAAM8zD,EAAY+W,GAC9B9W,IAAqB/zD,KAAK+zD,qBAAsB,GACpD/zD,KAAK+uD,MAAQC,EAAa,CAACA,EAAWnyB,MAAOmyB,EAAWlyB,KAAO,KAC/D98B,KAAKkrE,YACLlrE,KAAKs3D,QAAQyJ,YAAc,GAC3B1M,cAAcr0D,KAAMwyD,GACpBxyD,KAAKs3D,QAAQgT,eAETtqE,KAAKqE,QAAQmlE,aAAc,CAC7B,IAAK,MAAMnpE,KAASL,KAAK0xD,OAAYrxD,aAAiBgxD,aAAWV,WAAWtwD,EAAMuwD,aAElF,IAAK,MAAMvb,KAAQr1C,KAAK2/D,SAActqB,aAAgBgc,aAAWV,WAAWtb,EAAKub,YAClF,CAED,OAAO5wD,IACR,CAEDqrE,qBACE,OAAOZ,aAAazqE,KAAKwyD,UAAU3vD,QAAOipB,GAAgD,IAA3CA,EAAEvQ,QAAQ0tD,SAAOA,OAAOT,gBACxE,CAED8C,aAAanb,EAAQ78B,GACnB,GAAkB,MAAd68B,EAAO,IAA4C,MAA9BA,EAAOA,EAAOlvD,OAAS,GAAY,MAAM,IAAIxB,MAAM,oCAE5E,GAAI6zB,EAAQ,CACV,MAAMw6B,EAAO9tD,KAAKw/D,YAAYh6D,MAAKomB,GAAKA,EAAEukC,SAAWA,IACjDrC,EAAMA,EAAKx6B,OAASA,EAAYtzB,KAAKw/D,YAAY/7D,KAAK,CACxD0sD,SACA78B,UAER,MACMtzB,KAAKw/D,YAAcx/D,KAAKw/D,YAAY38D,QAAO+oB,GAAKA,EAAEukC,SAAWA,GAEhE,CAED9pB,OAAOxkC,EAAK0pE,GACV,MAAMhC,gBACJA,EAAexP,SACfA,EAAQkB,cACRA,GACEj7D,KAAKqE,QACHmzD,EAAO+R,IAAmC,iBAAR1nE,KAAsB7B,KAAKwyD,oBAAoB4P,WAAW3K,SAC5F1G,EAAM,CACVkG,IAAKj3D,KACL64D,WAAY,KACZrB,OACAuC,SAAUvC,KAAUuC,EACpBkB,gBACN7zD,UAAMA,aAGIokE,EAAc5gE,OAAOqR,KAAKjc,KAAKs3D,QAAQ3xD,KACzC6lE,EAAYvqE,OAAS,IAAG8vD,EAAIuG,QAAU,IAAI/rD,IAAIigE,EAAY7lE,KAAI1F,GAAQ,CAACD,KAAKs3D,QAAQ3xD,IAAI1F,GAAO,CACjGmd,MAAO,GACPy9C,WAAY,EACZ7X,MAAO,QAET,MAAMlf,EAAMs+B,WAAW/7B,OAAOrmC,KAAKwyD,SAAU3wD,EAAKkvD,GAClD,GAAwB,mBAAbwa,GAA2Bxa,EAAIuG,QAAS,IAAK,MAAMtU,MAC5DA,EAAKlf,IACLA,KACGitB,EAAIuG,QAAQ11D,SAAU2pE,EAASznC,EAAKkf,GACzC,OAAOlf,CACR,CAEDzW,WACE,GAAIrtB,KAAK0xD,OAAOzwD,OAAS,EAAG,MAAM,IAAIxB,MAAM,8CAC5C,MAAMu6D,EAAah6D,KAAKqE,QAAQwE,OAEhC,IAAKyrB,OAAO6D,UAAU6hC,IAAeA,GAAc,EAAG,CACpD,MAAM/8C,EAAI9V,KAAKC,UAAU4yD,GACzB,MAAM,IAAIv6D,MAAM,mDAAmDwd,IACpE,CAEDjd,KAAKkrE,YACL,MAAMzzB,EAAQ,GACd,IAAIyc,GAAgB,EAEpB,GAAIl0D,KAAKqd,QAAS,CAChB,IAAIouD,EAAK,YAEgB,aAArBzrE,KAAKwyC,OAAOvyC,OACO,QAAjBD,KAAKqd,QAAmBouD,EAAK,YAAsC,QAAjBzrE,KAAKqd,UAAmBouD,EAAK,cAGrFh0B,EAAMh0C,KAAKgoE,GACXvX,GAAgB,CACjB,CAED,MAAMwX,EAAW1rE,KAAKqrE,qBACtBrrE,KAAKw/D,YAAYj6D,SAAQ,EACvB4qD,SACA78B,aAEIo4C,EAASn3C,MAAKzI,GAA2B,IAAtBA,EAAEvQ,QAAQ+X,OAC/BmkB,EAAMh0C,KAAK,QAAQ0sD,KAAU78B,KAC7B4gC,GAAgB,EACjB,KAECA,GAAiBl0D,KAAK+zD,sBAAqBtc,EAAMh0C,KAAK,OAEtDzD,KAAKo4D,iBACHlE,GAAkBl0D,KAAK+zD,qBAAqBtc,EAAMngC,QAAQ,IAC9DmgC,EAAMngC,QAAQtX,KAAKo4D,cAAcl0D,QAAQ,MAAO,OAGlD,MAAM6sD,EAAM,CACVuG,QAAS1sD,OAAOqtB,OAAO,MACvBg/B,IAAKj3D,KACL6I,OAAQ,GACRgwD,WAAY,IAAIxwD,OAAO2xD,GAC7B5yD,UAAMA,aAGF,IAAI2xD,GAAY,EACZ4S,EAAiB,KAErB,GAAI3rE,KAAKwyD,SAAU,CACbxyD,KAAKwyD,oBAAoB4P,WAAWzU,OAClC3tD,KAAKwyD,SAASyG,cAAgB/E,GAAiBl0D,KAAK+zD,sBAAsBtc,EAAMh0C,KAAK,IACrFzD,KAAKwyD,SAAS4F,eAAe3gB,EAAMh0C,KAAKzD,KAAKwyD,SAAS4F,cAAcl0D,QAAQ,MAAO,MAEvF6sD,EAAIsN,mBAAqBr+D,KAAKqvD,QAC9Bsc,EAAiB3rE,KAAKwyD,SAASnD,SAGjC,MAAMuJ,EAAc+S,EAAiB,KAAO,IAAM5S,GAAY,EACxD5vB,EAAO/hC,YAAUpH,KAAKwyD,SAAUzB,GAAK,IAAM4a,EAAiB,MAAM/S,GACxEnhB,EAAMh0C,KAAK2+D,WAAW/K,WAAWluB,EAAM,GAAIwiC,GACjD,WAAiCxrE,IAAlBH,KAAKwyD,UACd/a,EAAMh0C,KAAK2D,YAAUpH,KAAKwyD,SAAUzB,IAQtC,OALI/wD,KAAKqvD,UACD0J,IAAa4S,GAA+C,KAA5Bl0B,EAAMA,EAAMx2C,OAAS,IAAWw2C,EAAMh0C,KAAK,IACjFg0C,EAAMh0C,KAAKzD,KAAKqvD,QAAQnrD,QAAQ,MAAO,OAGlCuzC,EAAM11C,KAAK,MAAQ,IAC3B,EAIHsvD,aAAWD,gBAAgByC,WAAU,WAAY8V,iBAEjCiC,iBAAA/X,SAAGA,WACG+X,iBAAAvC,eAAGA,iBACzBuC,iBAAAnC,cAAwBA,cClvBxB,IAAItS,SAAW72D,WACXurE,WAAan+D,iBACbu7D,OAASr7D,eACTyjD,WAAavjD,mBACb6xD,SAAW3xD,iBAGf,SAAS2pD,WAAWx2D,EAAOwkE,GAAc,EAAM3V,QACjC7vD,IAAR6vD,GAA4C,iBAAhB2V,IAC9B3V,EAAM2V,EACNA,GAAc,GAGhB,MAAMthE,EAAUuG,OAAOC,OAAO,CAAE,EAAEghE,WAAWhY,SAASoX,SAASY,WAAWxC,eAAehsD,SAAUwuD,WAAWxC,gBAE9G,OADe,IAAIJ,OAAOA,OAAO5kE,GACnBszD,WAAWx2D,EAAOwkE,EAAa3V,EAC/C,CAEA,MAAM6D,iBAAiBgY,WAAWhY,SAChCn0D,YAAY2E,GACVvE,MAAM8K,OAAOC,OAAO,CAAA,EAAIghE,WAAWxC,eAAgBhlE,GACpD,EAIH,SAASynE,kBAAkB5xB,EAAK71C,GAC9B,MAAM0wB,EAAS,GACf,IAAI+4B,EAEJ,IAAK,MAAMie,KAAU5U,SAASxhD,MAAMukC,GAAM,CACxC,MAAM+c,EAAM,IAAIpD,SAASxvD,GACzB4yD,EAAIthD,MAAMo2D,EAAQje,GAClB/4B,EAAOtxB,KAAKwzD,GACZnJ,EAAOmJ,CACR,CAED,OAAOliC,CACT,CAEA,SAASi3C,cAAc9xB,EAAK71C,GAC1B,MAAMqoD,EAAMyK,SAASxhD,MAAMukC,GACrB+c,EAAM,IAAIpD,SAASxvD,GAASsR,MAAM+2C,EAAI,IAE5C,GAAIA,EAAIzrD,OAAS,EAAG,CAClB,MAAMgrE,EAAS,0EACfhV,EAAIvF,OAAOp6C,QAAQ,IAAI+5C,WAAWJ,kBAAkBvE,EAAI,GAAIuf,GAC7D,CAED,OAAOhV,CACT,CAEA,SAASthD,MAAMukC,EAAK71C,GAClB,MAAM4yD,EAAM+U,cAAc9xB,EAAK71C,GAE/B,GADA4yD,EAAI0I,SAASp6D,SAAQ2/D,GAAWvF,SAAStqB,KAAK6vB,KAC1CjO,EAAIvF,OAAOzwD,OAAS,EAAG,MAAMg2D,EAAIvF,OAAO,GAC5C,OAAOuF,EAAI5wB,QACb,CAEA,SAASj/B,YAAUjG,EAAOkD,GACxB,MAAM4yD,EAAM,IAAIpD,SAASxvD,GAEzB,OADA4yD,EAAIzE,SAAWrxD,EACRk1B,OAAO4gC,EAChB,CAEA,MAAMiV,KAAO,CACXvU,sBACA0R,eAAgBwC,WAAWxC,eAC3BxV,kBACAl+C,YACAm2D,oCACAK,SAAUhV,SAASxhD,MACnBq2D,4BACAvC,cAAeoC,WAAWpC,cAC5BriE,UAAEA,aAGFglE,KAAAF,KAAeA,SC9EfG,OAAiB/rE,KAAkB4rE,KCOnC,SAASI,WAASrvD,GACd,OAAOA,EAAE/Y,QAAQ,MAAO,MAAMA,QAAQ,MAAO,KACjD,CAOA,SAASqoE,WAAWtvD,GAChB,OAAOA,EAAE/Y,QAAQ,OAAQ,KAAKA,QAAQ,MAAO,IACjD,CAYA,SAASsoE,OAAK9lC,EAAKyoB,EAAMsd,GACrB,QAAmB,IAAR/lC,EAAqB,OAAO,EACvC,IAAKyoB,GAAwB,iBAATA,GAA+B,MAATA,EAAe,YAA4B,IAAbsd,EAA2BA,EAAW/lC,EAE9G,GAAIyoB,EAAK5zC,QAAQ,MAAM,EAAG,CACtB,IAAIye,EAAQm1B,EAAKhjD,MAAM,KAEvB,GADU6tB,EAAM,GACP,OAAO,EAChBm1B,EAAOn1B,EAAM,GACbm1B,EAAO0Q,mBAAmB1Q,EAAKnuD,MAAM,GAAGmL,MAAM,KAAKpK,KAAK,KAC3D,CACGotD,EAAKhlD,WAAW,OAAMglD,EAAOA,EAAKnuD,MAAM,IAE5C,IAAI0rE,EAAavd,EAAKhjD,MAAM,KAC5B,IAAK,IAAI3C,EAAE,EAAEA,EAAEkjE,EAAWzrE,OAAOuI,IAAK,CAClCkjE,EAAWljE,GAAK+iE,WAAWG,EAAWljE,IAEtC,IAAImjE,OAAkC,IAAbF,GAA8BjjE,GAAKkjE,EAAWzrE,OAAO,EAE1EmY,EAAQuF,SAAS+tD,EAAWljE,GAAG,IAQnC,IAPKnI,MAAMC,QAAQolC,IAAQ1P,MAAM5d,IAAWA,EAAMiU,aAAeq/C,EAAWljE,GACxE4P,EAAS/X,MAAMC,QAAQolC,IAA0B,MAAlBgmC,EAAWljE,IAAe,GAAK,EAG9DkjE,EAAWljE,GAAMA,EAAI,EAAKkjE,EAAWljE,EAAE,GAAK,IAGjC,GAAV4P,GAAiBstB,GAAOA,EAAIiO,eAAe+3B,EAAWljE,IACvD,GAAI4P,GAAS,EACLuzD,IACAjmC,EAAIttB,GAASqzD,GAEjB/lC,EAAMA,EAAIttB,OAET,KAAe,IAAXA,EACL,OAAIuzD,GACItrE,MAAMC,QAAQolC,IACdA,EAAIjjC,KAAKgpE,GAENA,QAEN,EAGDE,IACAjmC,EAAIgmC,EAAWljE,IAAMijE,GAEzB/lC,EAAMA,EAAIgmC,EAAWljE,GACxB,KAEA,CACD,QAAyB,IAAbijE,GAA6C,iBAAR/lC,GAC3CrlC,MAAMC,QAAQolC,GAIf,OAAO,EAHRA,EAAIgmC,EAAWljE,IAAOmjE,EAAaF,EAAiC,MAApBC,EAAWljE,EAAE,IAAkC,MAApBkjE,EAAWljE,EAAE,GAAc,GAAK,CAAE,EAC7Gk9B,EAAMA,EAAIgmC,EAAWljE,GAG5B,CACJ,CACD,OAAOk9B,CACX,CAEA,IAAAkmC,OAAiB,CACbJ,KAAOA,OACPF,SAAWA,WACXC,WAAaA,YC7FjB,SAASM,QAAMnmC,EAAI96B,GACf,MAAiB,SAARA,KAAsB86B,GAA2B,iBAAbA,EAAI96B,EACrD,CAEA,IAAAkhE,MAAiB,CACbD,MAAOA,SCMX,SAASE,IAAIrmC,GACT,OAAOA,CACX,CAOA,SAASmE,QAAMnE,GACX,OAAOv/B,KAAKwO,MAAMxO,KAAKC,UAAUs/B,GACrC,CAOA,SAASsmC,aAAatmC,GAClB,IAAIhtB,EAAS,CAAA,EACb,IAAK,IAAIkS,KAAK8a,EACNA,EAAIiO,eAAe/oB,KACnBlS,EAAOkS,GAAK8a,EAAI9a,IAGxB,OAAOlS,CACX,CAOA,SAASuzD,UAAUvmC,GACf,IAAIhtB,EAASrY,MAAMC,QAAQolC,GAAO,GAAK,GACvC,IAAK,IAAI9a,KAAK8a,GACNA,EAAIiO,eAAe/oB,IAAMvqB,MAAMC,QAAQolC,MACvChtB,EAAOkS,GAAwB,iBAAX8a,EAAI9a,GAAmBqhD,UAAUvmC,EAAI9a,IAAM8a,EAAI9a,IAG3E,OAAOlS,CACX,CAOA,SAASwzD,UAAUxmC,GACf,OAAO97B,OAAOC,OAAO,CAAE,EAAC67B,EAC5B,CAMA,SAASymC,cAAczmC,EAAKN,GAGxB,GAFKA,IAAMA,EAAO,IAAIgnC,SAElBxiE,OAAO87B,KAASA,GAAOA,aAAewO,SAAU,OAAOxO,EAC3D,GAAIN,EAAKv6B,IAAI66B,GAAM,OAAON,EAAKn6B,IAAIy6B,GACnC,IACI,IAAIhtB,EAAS,IAAIgtB,EAAIhnC,WACxB,CAAC,MAAMs+B,GACJtkB,EAAS9O,OAAOqtB,OAAOrtB,OAAO2iC,eAAe7G,GAChD,CAWD,OAFAN,EAAKz6B,IAAI+6B,EAAKhtB,GAEP9O,OAAOC,OAAO6O,KAAW9O,OAAOqR,KAAKyqB,GAAK/gC,KAC7CiG,IAAQ,CAAEA,CAACA,GAAMuhE,cAAczmC,EAAI96B,GAAMw6B,OACjD,CAEA,IAAAinC,QAAiB,CACbN,IAAMA,IACNliC,MAAQA,QACRmiC,aAAeA,aACfC,UAAYA,UACZC,UAAYA,UACZC,cAAgBA,eCjGpB,MAAMb,SAAWhsE,OAAqBgsE,SAEtC,SAASgB,eACL,MAAO,CACH3/D,KAAM,IACN4/D,MAAO,EACPC,KAAM,GACNroE,OAAQ,CAAE,EACVsoE,QAAS,CAAE,EACXC,KAAM,IAAIN,QACV/8C,UAAU,EACVs9C,mBAAmB,EAE3B,CASA,SAASC,UAAQ79C,EAAQkU,EAAOnqB,GAK5B,GAJKmqB,IAAOA,EAAQ,CAACspC,MAAM,IACtBtpC,EAAMspC,QACPtpC,EAAQr5B,OAAOC,OAAO,CAAE,EAACyiE,eAAerpC,IAEtB,iBAAXlU,EAAqB,OAChC,IAAI89C,EAAQ5pC,EAAMt2B,KAClB,IAAK,IAAI/B,KAAOmkB,EAAQ,CAQpB,GAPAkU,EAAMr4B,IAAMA,EACZq4B,EAAMt2B,KAAOs2B,EAAMt2B,KAAO,IAAMmgE,mBAAmBxB,SAAS1gE,IAC5Dq4B,EAAM8pC,aAAe9pC,EAAMypC,KAAKzhE,IAAI8jB,EAAOnkB,IAC3Cq4B,EAAM5T,cAA0C,IAAvB4T,EAAM8pC,aAC3Bh+C,EAAO4kB,eAAe/oC,IACtBkO,EAASiW,EAAQnkB,EAAKq4B,GAEE,iBAAhBlU,EAAOnkB,KAAwBq4B,EAAM5T,SAAW,CACpD4T,EAAM0pC,oBAAsBtsE,MAAMC,QAAQyuB,EAAOnkB,KAAyB,OAAhBmkB,EAAOnkB,IACjEq4B,EAAMypC,KAAK/hE,IAAIokB,EAAOnkB,GAAKq4B,EAAMt2B,MAErC,IAAIqgE,EAAW,CAAA,EACfA,EAAS7oE,OAAS4qB,EAClBi+C,EAASrgE,KAAOs2B,EAAMt2B,KACtBqgE,EAAST,MAAQtpC,EAAMspC,MAAQtpC,EAAMspC,MAAM,EAAI,EAC/CS,EAASR,KAAO5hE,EAChBoiE,EAASP,QAAUxpC,EAAMwpC,QACzBO,EAASN,KAAOzpC,EAAMypC,KACtBM,EAAS39C,UAAW,EACpB29C,EAASL,kBAAoB1pC,EAAM0pC,kBACnCC,UAAQ79C,EAAOnkB,GAAMoiE,EAAUl0D,EAClC,CACDmqB,EAAMt2B,KAAOkgE,CAChB,CACL,CAEA,IAAAI,UAAiB,CACbL,QAAUA,WCzDd,MAAMA,UAAUttE,UAAwBstE,QAClC/iC,QAAQn9B,QAAsBs/D,aAC9BR,OAAO5+D,OAAqB4+D,KAC5BK,QAAQ/+D,MAAsB++D,MAEpC,IAAIqB,UAAY,SAAU7pE,GACtB,OAAIA,GAAWA,EAAQ8pE,QACZ,CACH94B,KAAM,WACF,IAAI3vC,EAAOrE,MAAMs3B,UAAU33B,MAAM2nC,KAAKnlC,WACtC2b,QAAQk2B,KAAKriC,MAAMmM,QAASzZ,EAC/B,GAIE,CACH2vC,KAAM,WAEL,EAGb,EASA,SAAS+4B,YAAYh1B,EAAE2H,EAAY18C,GAC1BA,IAASA,EAAU,IACnBA,EAAQoxC,QAAOpxC,EAAQoxC,MAAQ,CAAA,GAC/BpxC,EAAQ4/B,QAAO5/B,EAAQ4/B,MAAQ,CAAA,GACpC5/B,EAAQ4/B,MAAM0pC,mBAAoB,EAElCtpE,EAAQkpE,MAASlpE,EAAQkpE,MAAQlpE,EAAQkpE,MAAM,EAAI,EACnD,IAAI7mC,EAAOriC,EAAQkpE,MAAQ,EAAIn0B,EAAIvO,QAAMuO,GACrCuL,EAAY,CAAEnR,KAAM9M,GACpB2nC,EAAQhqE,EAAQkpE,MAAQ,EAAIxsB,EAAclW,QAAMkW,GAE/C18C,EAAQiqE,SAAQjqE,EAAQiqE,OAAS5nC,GAEtC,IAAI6nC,EAASL,UAAU7pE,GAEnBmqE,EAAU,EACd,KAAOA,EAAU,GACbA,EAAU,EACdZ,UAAQjpB,EAAUtgD,EAAQ4/B,OAAM,SAASyC,EAAI96B,EAAIq4B,GAC7C,GAAI4oC,QAAMnmC,EAAI96B,GAAM,CAChB,IAAI0mC,EAAO5L,EAAI96B,GAEf,GADA4iE,IACKnqE,EAAQoxC,MAAMnD,GAmBd,CACD,IAAIm8B,EAAQpqE,EAAQoxC,MAAMnD,GAC1B,GAAIm8B,EAAMtN,SAENoN,EAAOl5B,KAAK,qBAAqB/C,EAAKm8B,EAAM9gE,MAC5Cs2B,EAAM9+B,OAAO8+B,EAAMupC,MAAQiB,EAAMj7B,KAC7BnvC,EAAQiuC,MAA6C,iBAA7BrO,EAAM9+B,OAAO8+B,EAAMupC,OAAqD,OAA7BvpC,EAAM9+B,OAAO8+B,EAAMupC,QAAiBvpC,EAAM9+B,OAAO8+B,EAAMupC,MAAMnpE,EAAQiuC,MAAQA,OAEnJ,IAAIA,IAASm8B,EAAM9gE,KAEpB,MAAM,IAAIlO,MAAM,mBAAmBgvE,EAAM9gE,QAIzC4gE,EAAOl5B,KAAK,kBACZpR,EAAM9+B,OAAO8+B,EAAMupC,MAAQhB,OAAKiC,EAAM15D,OAAO05D,EAAM9gE,OAClB,IAA7Bs2B,EAAM9+B,OAAO8+B,EAAMupC,QACnBvpC,EAAM9+B,OAAO8+B,EAAMupC,MAAQhB,OAAKiC,EAAM15D,OAAO05D,EAAM7iE,MAEnDvH,EAAQiuC,MAA6C,iBAA7BrO,EAAM9+B,OAAO8+B,EAAMupC,OAAqD,OAA7BvpC,EAAM9+B,OAAO8+B,EAAMupC,QAAiBvpC,EAAM9+B,OAAOd,EAAQiuC,MAAQA,EAC3I,CACJ,KAxCyB,CACtB,IAAIm8B,EAAQ,CAAA,EACZA,EAAM9gE,KAAOs2B,EAAMt2B,KAAKxB,MAAM,SAAS,GACvCsiE,EAAM7iE,IAAM0mC,EACZi8B,EAAOl5B,KAAK,qBAAqB/C,EAAKm8B,EAAM9gE,MAC5C8gE,EAAM15D,OAASs5D,EACfI,EAAMj7B,KAAOg5B,OAAKiC,EAAM15D,OAAO05D,EAAM7iE,MAClB,IAAf6iE,EAAMj7B,OACNi7B,EAAMj7B,KAAOg5B,OAAKnoE,EAAQiqE,OAAOG,EAAM7iE,KACvC6iE,EAAM15D,OAAS1Q,EAAQiqE,SAER,IAAfG,EAAMj7B,MACN+6B,EAAOl5B,KAAK,sBAAsBo5B,EAAM7iE,KAE5CvH,EAAQoxC,MAAMnD,GAAQm8B,EACtBA,EAAMj7B,KAAOvP,EAAM9+B,OAAO8+B,EAAMupC,MAAQY,YAAY5B,OAAKiC,EAAM15D,OAAO05D,EAAM7iE,KAAK6iE,EAAM15D,OAAO1Q,GAC1FA,EAAQiuC,MAA6C,iBAA7BrO,EAAM9+B,OAAO8+B,EAAMupC,OAAqD,OAA7BvpC,EAAM9+B,OAAO8+B,EAAMupC,QAAiBvpC,EAAM9+B,OAAO8+B,EAAMupC,MAAMnpE,EAAQiuC,MAAQA,GACpJm8B,EAAMtN,UAAW,CACpB,CAuBJ,CACT,IAEI,OAAOxc,EAAUnR,IACrB,CAEA,IAAAk7B,cAAiB,CACbN,YAAcA,aCtGlBO,kBAAiBvnE,UACjBA,UAAU5F,QAAU4F,UACpBA,UAAUwnE,OAASC,uBACnBznE,UAAU0nE,gBAAkBD,uBAE5B,IAAIE,mBAAqB,QACrBC,sBAAwB,aAExBxsC,IAAM,GACNysC,cAAgB,GAEpB,SAAS5F,iBACP,MAAO,CACL6F,WAAY56C,OAAO66C,iBACnBC,WAAY96C,OAAO66C,iBAEvB,CAGA,SAAS/nE,UAAWs/B,EAAKtR,EAAUi6C,EAAQhrE,GAMzC,IAAIy/B,OALmB,IAAZz/B,IACTA,EAAUglE,kBAGZiG,OAAO5oC,EAAK,GAAI,EAAG,QAAIvmC,EAAW,EAAGkE,GAErC,IAEIy/B,EAD2B,IAAzBmrC,cAAchuE,OACVkG,KAAKC,UAAUs/B,EAAKtR,EAAUi6C,GAE9BloE,KAAKC,UAAUs/B,EAAK6oC,oBAAoBn6C,GAAWi6C,EAE5D,CAAC,MAAOnf,GACP,OAAO/oD,KAAKC,UAAU,sEAC1B,CAAY,QACR,KAAsB,IAAfo7B,IAAIvhC,QAAc,CACvB,IAAI+gC,EAAOQ,IAAIlU,MACK,IAAhB0T,EAAK/gC,OACP2J,OAAOmf,eAAeiY,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAE7CA,EAAK,GAAGA,EAAK,IAAMA,EAAK,EAE3B,CACF,CACD,OAAO8B,CACT,CAEA,SAAS0rC,WAAYtrE,EAASoP,EAAKsX,EAAGzlB,GACpC,IAAIsqE,EAAqB7kE,OAAOkxB,yBAAyB32B,EAAQylB,QAClCzqB,IAA3BsvE,EAAmBxjE,IACjBwjE,EAAmBv/C,cACrBtlB,OAAOmf,eAAe5kB,EAAQylB,EAAG,CAAEzpB,MAAO+C,IAC1Cs+B,IAAI/+B,KAAK,CAAC0B,EAAQylB,EAAGtX,EAAKm8D,KAE1BR,cAAcxrE,KAAK,CAAC6P,EAAKsX,EAAG1mB,KAG9BiB,EAAOylB,GAAK1mB,EACZs+B,IAAI/+B,KAAK,CAAC0B,EAAQylB,EAAGtX,IAEzB,CAEA,SAASg8D,OAAQh8D,EAAKsX,EAAG8kD,EAAWnP,EAAOp7D,EAAQooE,EAAOlpE,GAExD,IAAImF,EACJ,GAFA+jE,GAAS,EAEU,iBAARj6D,GAA4B,OAARA,EAAc,CAC3C,IAAK9J,EAAI,EAAGA,EAAI+2D,EAAMt/D,OAAQuI,IAC5B,GAAI+2D,EAAM/2D,KAAO8J,EAEf,YADAk8D,WAAWR,sBAAuB17D,EAAKsX,EAAGzlB,GAK9C,QACgC,IAAvBd,EAAQ6qE,YACf3B,EAAQlpE,EAAQ6qE,WAGhB,YADAM,WAAWT,mBAAoBz7D,EAAKsX,EAAGzlB,GAIzC,QACgC,IAAvBd,EAAQ+qE,YACfM,EAAY,EAAIrrE,EAAQ+qE,WAGxB,YADAI,WAAWT,mBAAoBz7D,EAAKsX,EAAGzlB,GAMzC,GAFAo7D,EAAM98D,KAAK6P,GAEPjS,MAAMC,QAAQgS,GAChB,IAAK9J,EAAI,EAAGA,EAAI8J,EAAIrS,OAAQuI,IAC1B8lE,OAAOh8D,EAAI9J,GAAIA,EAAGA,EAAG+2D,EAAOjtD,EAAKi6D,EAAOlpE,OAErC,CACL,IAAI4X,EAAOrR,OAAOqR,KAAK3I,GACvB,IAAK9J,EAAI,EAAGA,EAAIyS,EAAKhb,OAAQuI,IAAK,CAChC,IAAIoC,EAAMqQ,EAAKzS,GACf8lE,OAAOh8D,EAAI1H,GAAMA,EAAKpC,EAAG+2D,EAAOjtD,EAAKi6D,EAAOlpE,EAC7C,CACF,CACDk8D,EAAMjyC,KACP,CACH,CAGA,SAASqhD,gBAAiBhsE,EAAGC,GAC3B,OAAID,EAAIC,GACE,EAEND,EAAIC,EACC,EAEF,CACT,CAEA,SAASirE,uBAAwBnoC,EAAKtR,EAAUi6C,EAAQhrE,QAC/B,IAAZA,IACTA,EAAUglE,kBAGZ,IACIvlC,EADA8rC,EAAMC,oBAAoBnpC,EAAK,GAAI,EAAG,QAAIvmC,EAAW,EAAGkE,IAAYqiC,EAExE,IAEI5C,EAD2B,IAAzBmrC,cAAchuE,OACVkG,KAAKC,UAAUwoE,EAAKx6C,EAAUi6C,GAE9BloE,KAAKC,UAAUwoE,EAAKL,oBAAoBn6C,GAAWi6C,EAE5D,CAAC,MAAOnf,GACP,OAAO/oD,KAAKC,UAAU,sEAC1B,CAAY,QAER,KAAsB,IAAfo7B,IAAIvhC,QAAc,CACvB,IAAI+gC,EAAOQ,IAAIlU,MACK,IAAhB0T,EAAK/gC,OACP2J,OAAOmf,eAAeiY,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAE7CA,EAAK,GAAGA,EAAK,IAAMA,EAAK,EAE3B,CACF,CACD,OAAO8B,CACT,CAEA,SAAS+rC,oBAAqBv8D,EAAKsX,EAAG8kD,EAAWnP,EAAOp7D,EAAQooE,EAAOlpE,GAErE,IAAImF,EACJ,GAFA+jE,GAAS,EAEU,iBAARj6D,GAA4B,OAARA,EAAc,CAC3C,IAAK9J,EAAI,EAAGA,EAAI+2D,EAAMt/D,OAAQuI,IAC5B,GAAI+2D,EAAM/2D,KAAO8J,EAEf,YADAk8D,WAAWR,sBAAuB17D,EAAKsX,EAAGzlB,GAI9C,IACE,GAA0B,mBAAfmO,EAAI+yB,OACb,MAEH,CAAC,MAAO6pB,GACP,MACD,CAED,QACgC,IAAvB7rD,EAAQ6qE,YACf3B,EAAQlpE,EAAQ6qE,WAGhB,YADAM,WAAWT,mBAAoBz7D,EAAKsX,EAAGzlB,GAIzC,QACgC,IAAvBd,EAAQ+qE,YACfM,EAAY,EAAIrrE,EAAQ+qE,WAGxB,YADAI,WAAWT,mBAAoBz7D,EAAKsX,EAAGzlB,GAMzC,GAFAo7D,EAAM98D,KAAK6P,GAEPjS,MAAMC,QAAQgS,GAChB,IAAK9J,EAAI,EAAGA,EAAI8J,EAAIrS,OAAQuI,IAC1BqmE,oBAAoBv8D,EAAI9J,GAAIA,EAAGA,EAAG+2D,EAAOjtD,EAAKi6D,EAAOlpE,OAElD,CAEL,IAAIurE,EAAM,CAAE,EACR3zD,EAAOrR,OAAOqR,KAAK3I,GAAK5P,KAAKisE,iBACjC,IAAKnmE,EAAI,EAAGA,EAAIyS,EAAKhb,OAAQuI,IAAK,CAChC,IAAIoC,EAAMqQ,EAAKzS,GACfqmE,oBAAoBv8D,EAAI1H,GAAMA,EAAKpC,EAAG+2D,EAAOjtD,EAAKi6D,EAAOlpE,GACzDurE,EAAIhkE,GAAO0H,EAAI1H,EAChB,CACD,QAAsB,IAAXzG,EAIT,OAAOyqE,EAHPptC,IAAI/+B,KAAK,CAAC0B,EAAQylB,EAAGtX,IACrBnO,EAAOylB,GAAKglD,CAIf,CACDrP,EAAMjyC,KACP,CACH,CAIA,SAASihD,oBAAqBn6C,GAO5B,OANAA,OACsB,IAAbA,EACHA,EACA,SAAUxK,EAAGtR,GACb,OAAOA,CACR,EACE,SAAU1N,EAAK0H,GACpB,GAAI27D,cAAchuE,OAAS,EACzB,IAAK,IAAIuI,EAAI,EAAGA,EAAIylE,cAAchuE,OAAQuI,IAAK,CAC7C,IAAIw4B,EAAOitC,cAAczlE,GACzB,GAAIw4B,EAAK,KAAOp2B,GAAOo2B,EAAK,KAAO1uB,EAAK,CACtCA,EAAM0uB,EAAK,GACXitC,cAAclc,OAAOvpD,EAAG,GACxB,KACD,CACF,CAEH,OAAO4rB,EAASuT,KAAK3oC,KAAM4L,EAAK0H,EACjC,CACH,CClOA,MAAMw8D,IAAMxvE,kBAENyvE,OAAShiE,QAAQjD,IAAIklE,oBACvB,CAAElpD,IAAK,GAAI0B,OAAQ,GAAI5F,MAAO,GAAIqtD,OAAQ,IAC1C,CAAEnpD,IAAK,QAAY0B,OAAQ,UAAc5F,MAAO,QAAYqtD,OAAQ,QAExE,SAASC,WAAW/uE,EAAOiY,EAAOugB,GAC9B,OAAOA,EAAKpe,QAAQpa,KAAWiY,CACnC,CAEA,SAAS+2D,cAAcC,GACnB,OAAO,IAAK1kE,IAAI0kE,GAAQ5oC,OAAS4oC,EAAMnvE,MAC3C,CAEA,SAASovE,QAAQD,GACb,OAAO,IAAK1kE,IAAI0kE,GAAQ5oC,MAAQ,CACpC,CAEA,SAAS8oC,WAAWC,EAAMC,GACtB,SAASC,EAAQF,EAAMC,GACnB,OAAOV,IAAI1oE,UAAUmpE,KAAUT,IAAI1oE,UAAUwD,OAAOC,OAAO,CAAE,EAAE0lE,EAAMC,GACxE,CACD,OAAOC,EAAQF,EAAMC,IAASC,EAAQD,EAAMD,EAChD,CAEA,SAASG,cAAcluC,GACnB,IAAI9oB,EAAS,GACb,IAAK,IAAIvM,KAAaq1B,EAAK,CACZ9oB,EAAOlU,MAAK,SAASw4B,EAAEx0B,EAAE7F,GAChC,OAAO2sE,WAAWtyC,EAAE7wB,EAChC,KACmBuM,EAAOjW,KAAK0J,EAC1B,CACD,OAAOuM,CACX,CAEA,SAASi3D,cAAcnuC,GACnB,OAAQA,EAAIvhC,SAAWyvE,cAAcluC,GAAKvhC,MAC9C,CAEA,SAAS2vE,UAAUpuC,GACf,OAAOA,EAAIh9B,MAAK,SAASw4B,EAAEx0B,EAAE7F,GACzB,OAAO6+B,EAAIjnB,QAAQyiB,GAAGx0B,CAC9B,GACA,CAOA,SAAS48B,KAAKnpB,GACV,IACI4zD,EADAzqC,EAAO,EAEX,GAAiB,IAAbnpB,EAAEhc,OAAc,OAAOmlC,EAC3B,IAAK,IAAI58B,EAAI,EAAGA,EAAIyT,EAAEhc,OAAQuI,IAC5BqnE,EAAQ5zD,EAAEye,WAAWlyB,GACrB48B,GAAUA,GAAQ,GAAKA,EAAQyqC,EAC/BzqC,GAAQ,EAEV,OAAOA,CACX,CAEA/P,OAAOsC,UAAUm4C,YAAc,WAC3B,OAAO9wE,KAAKy/B,cAAcv7B,QAAQ,iBAAiB,SAAUf,EAAO4tE,GAChE,OAAOA,EAAO1kE,aACtB,GACA,EAEA,MAAM2kE,wBAA0B,CAC5B,SACA,UACA,UACA,mBACA,mBACA,YACA,YACA,aACA,WACA,WACA,cACA,gBACA,gBACA,uBACA,UACA,OACA,WAGEC,gBAAkB,CACpB,QACA,WACA,WACA,eAGEC,YAAc,CAChB,MACA,OACA,MACA,SACA,QACA,OACA,UACA,SAGJ,SAASC,SAASl0D,GAEd,IAAIyvD,GADJzvD,EAAIA,EAAE/Y,QAAQ,KAAK,UACAiI,MAAM,KAEzB,OADAugE,EAAW,GAAKA,EAAW,GAAGxoE,QAAQ,2BAA4B,KAC3DwoE,EAAW3qE,KAAK,IAC3B,CAEA,SAASqvE,YAAYn0D,GACjB,OAAOk0D,SAASl0D,EAAE9Q,MAAM,KAAKpK,KAAK,KACtC,CAEA,IAAAsvE,aAAiB,CAEbtB,OAAQA,OACRG,WAAYA,WACZC,cAAeA,cACfE,QAASA,QACTM,cAAeA,cACfC,UAAWA,UACXxqC,KAAMA,KACN4qC,wBAAyBA,wBACzBC,gBAAiBA,gBACjBC,YAAaA,YACbC,SAAUA,SACVC,YAAaA,aCnIjB,MAAMvjE,KAAKvN,YAAAA,QACLqN,OAAOD,cAAAA,QACPoyB,MAAMlyB,aAAAA,QAENqiC,QAAQniC,WACRu+D,OAAOr+D,OAEPw+D,OAAOv+D,OAAgCu+D,KACvCoB,UAAU1/D,UAAmC0/D,QAC7C/iC,QAAQ18B,QAAiC08B,MACzCymC,MAAQljE,cAAuCggE,YAC/CvB,QAAQx+D,MAAiCw+D,MACzC0E,SAASC,aAEf,SAASC,OAAOjvC,GACZ,MAAO,IAAK,IAAI92B,IAAI82B,GACxB,CAEA,SAASkvC,cAAch0D,EAAUi0D,EAAUttE,EAAS68B,EAASptB,GACzD,OAAO,IAAIi0B,SAAQ,SAAUzxB,EAASwzB,GAClCj8B,KAAG+jE,SAASl0D,EAAUi0D,GAAU,SAAUj/D,EAAK8gC,GACvC9gC,EACIrO,EAAQwtE,gBAAkB/9D,GACtBzP,EAAQ8pE,SAAShvD,QAAQk2B,KAAK,SAASnU,GAC3C78B,EAAQytE,aAAa5wC,GAAS6wC,QAAS,EACvCz7D,EAAQxC,IAGRg2B,EAAOp3B,GAIX4D,EAAQk9B,EAExB,GACA,GACA,CAEA,SAASw+B,mBAAmBtrC,EAAK5oB,EAASo8B,EAAK+3B,EAAY3uC,EAAMj/B,GAE7D,IAAI6tE,EAAc7tE,EAAQytE,aAAa53B,EAAI+3B,GAAYv+B,MAAM,GAEzDy+B,EAAUryC,MAAInqB,MAAM2tB,GACpBoqC,EAAO,CAAA,EACPc,EAAU,EACd,KAAOA,GACHA,EAAU,EACVZ,UAAQlnC,EAAK,CAACinC,mBAAkB,IAAO,SAAUjnC,EAAK96B,EAAKq4B,GACvD,GAAI4oC,QAAMnmC,EAAK96B,GACX,GAAI86B,EAAI96B,GAAKzB,WAAW,KACpB,GAAKujE,EAAKhnC,EAAI96B,KAAU86B,EAAI0rC,QAwBxB,IAAK1rC,EAAI0rC,OAAQ,CACb,IAAIC,GAAUH,EAAY,IAAIxE,EAAKhnC,EAAI96B,KAAOO,MAAM,OAAOpK,KAAK,KAChEkiC,EAAM9+B,OAAO8+B,EAAMupC,MAAQ,CAAEl7B,KAAM+/B,EAAQ,SAAU3rC,EAAI96B,GAAMwmE,QAAQ,GACnE/tE,EAAQ8pE,QAAQ,GAAGhvD,QAAQk2B,KAAK,iBAAiBg9B,GACrD7D,GACH,MA7B+B,CAChC,IAAIjyD,EAASsuB,QAAM2hC,OAAK1uD,EAAS4oB,EAAI96B,KAQrC,GAPIvH,EAAQ8pE,QAAQ,GAAGhvD,QAAQk2B,OAAiB,IAAX94B,EAAmBg1D,SAAOxB,OAAOjpD,IAAMyqD,SAAOxB,OAAOntD,OAAO,sBAAuB8jB,EAAI96B,GAAM2lE,SAAOxB,OAAOE,SAOjI,IAAX1zD,GAEA,GADA0nB,EAAM9+B,OAAO8+B,EAAMupC,MAAQ,CAAA,EACvBnpE,EAAQiuE,MAAO,CACf,IAAIC,EAAK,IAAI9yE,MAAM,mCAAmCinC,EAAI96B,IAC1D,IAAIvH,EAAQkV,QACP,MAAMg5D,EADUluE,EAAQkV,QAAQuwB,OAAOyoC,EAE/C,OAGD/D,IACAvqC,EAAM9+B,OAAO8+B,EAAMupC,MAAQjxD,EAC3BmxD,EAAKhnC,EAAI96B,IAAQq4B,EAAMt2B,KAAKzJ,QAAQ,UAAU,GAErD,MAeA,GAAIiuE,EAAQlsC,SAAU,CACvB,IAAIosC,EAASvyC,MAAIxpB,QAAQgtB,EAAKoD,EAAI96B,IAAMyhB,WACpChpB,EAAQ8pE,QAAQ,GAAGhvD,QAAQk2B,KAAKk8B,SAAOxB,OAAOvnD,OAAO,6BAA6Bke,EAAI96B,GAAK,KAAKymE,EAAOd,SAAOxB,OAAOE,QACzHvpC,EAAI,UAAYA,EAAI96B,GAChBvH,EAAQytE,aAAaprC,EAAI96B,MACpBvH,EAAQytE,aAAaO,KACtBhuE,EAAQytE,aAAaO,GAAUhuE,EAAQytE,aAAaprC,EAAI96B,KAE5DvH,EAAQytE,aAAaO,GAAQN,OAAS1tE,EAAQytE,aAAaprC,EAAI96B,IAAMmmE,QAEzErrC,EAAI96B,GAAOymE,CACd,MACI,IAAK3rC,EAAI,UAAW,CACrB,IAAI2rC,EAASvyC,MAAIxpB,QAAQgtB,EAAKoD,EAAI96B,IAAMyhB,WACpC0kD,GAAS,EACT1tE,EAAQytE,aAAaprC,EAAI96B,MACzBmmE,EAAS1tE,EAAQytE,aAAaprC,EAAI96B,IAAMmmE,QAEvCA,IACG1tE,EAAQ8pE,QAAQ,GAAGhvD,QAAQk2B,KAAKk8B,SAAOxB,OAAOvnD,OAAO,yBAAyBke,EAAI96B,GAAK,KAAKymE,EAAOd,SAAOxB,OAAOE,QACrHvpC,EAAI,UAAYA,EAAI96B,GACpB86B,EAAI96B,GAAOymE,EAElB,CAEjB,IAUI,OAPAzE,UAAQlnC,EAAI,CAAE,GAAC,SAASA,EAAI96B,EAAIq4B,GACxB4oC,QAAMnmC,EAAK96B,SACe,IAAf86B,EAAI0rC,eAA+B1rC,EAAI0rC,MAE9D,IAEQ/tE,EAAQ8pE,QAAQ,GAAGhvD,QAAQk2B,KAAK,gCAC7B3O,CACX,CAEA,SAAS8rC,WAAWh/B,EAAMnvC,GACtB,IAAKA,EAAQouE,UAAYpuE,EAAQouE,QAAQxxE,OAAQ,OAAOuyC,EACxD,IAAK,IAAI3wC,KAAUwB,EAAQouE,QACvBj/B,EAAO3wC,EAAO2wC,EAAMnvC,GAExB,OAAOmvC,CACX,CAEA,SAASk/B,aAAaxzC,EAAOyzC,GACzB,OAAIzzC,GAASA,EAAMj+B,OAAS,EAAUi+B,EAClCyzC,GAAUA,EAAO1xE,OAAS,EAAU0xE,EACjC,OACX,CAEA,SAASC,gBAAgB57B,EAAM9V,EAAS78B,EAASyV,GAC7C,IAAIqc,EAAI2J,MAAInqB,MAAMtR,EAAQ0Q,QACtBuuB,EAAOj/B,EAAQ0Q,OAAO5I,MAAM,MAAMpK,KAAK,KAAKoK,MAAM,KAC5Cm3B,EAAKhV,OACLgV,EAAKhV,MACf,IAAIsV,EAAW,GACXivC,EAAe3xC,EAAQ/0B,MAAM,KAC7B0mE,EAAa5xE,OAAS,IACtB2iC,EAAW,IAAMivC,EAAa,GAC9B3xC,EAAU2xC,EAAa,IAE3BvvC,EAAOA,EAAKvhC,KAAK,KAEjB,IAGIwa,EAFAu2D,EAAoBJ,aADf5yC,MAAInqB,MAAMurB,GACqB+E,SAAU9P,EAAE8P,UAUpD,GANI1pB,EADsB,UAAtBu2D,EACSnlE,OAAK2I,QAAQgtB,EAAOA,EAAO,IAAM,GAAIpC,GAGrCpB,MAAIxpB,QAAQgtB,EAAOA,EAAO,IAAM,GAAIpC,GAG7C78B,EAAQoxC,MAAMl5B,GAAS,CACnBlY,EAAQ8pE,SAAShvD,QAAQk2B,KAAK,SAAU94B,EAAQqnB,GAKpD,IAAI9lB,EAAU+sB,QAAMxmC,EAAQoxC,MAAMl5B,IAC9Bi3B,EAAOnvC,EAAQ0uE,YAAcj1D,EACjC,GAAI8lB,IACA4P,EAAOg5B,OAAKh5B,EAAM5P,IACL,IAAT4P,IACAA,EAAO,CAAA,EACHnvC,EAAQiuE,QAAO,CACf,IAAIC,EAAK,IAAI9yE,MAAM,iCAAiC8c,EAAOqnB,GAC3D,IAAIv/B,EAAQkV,QACP,MAAMg5D,EADUluE,EAAQkV,QAAQuwB,OAAOyoC,EAE/C,CAMT,OAHA/+B,EAAOw+B,mBAAmBx+B,EAAM11B,EAASojB,EAAS0C,EAAUrnB,EAAQlY,GACpEmvC,EAAOg/B,WAAWh/B,EAAMnvC,GACxByV,EAAS+wB,QAAM2I,GAAOj3B,EAAQlY,GACvB0jC,QAAQzxB,QAAQk9B,EAC1B,CAID,GAFInvC,EAAQ8pE,SAAShvD,QAAQk2B,KAAK,MAAO94B,EAAQqnB,GAE7Cv/B,EAAQ2uE,UAAY3uE,EAAQ2uE,SAASF,GACrC,OAAOzuE,EAAQ2uE,SAASF,GAAmBxvC,EAAMpC,EAAS0C,EAAUv/B,GAC/DmV,MAAK,SAAUg6B,GAKZ,OAJAnvC,EAAQ0uE,YAAcv/B,EACtBA,EAAOg/B,WAAWh/B,EAAMnvC,GACxBA,EAAQoxC,MAAMl5B,GAAUi3B,EACxB15B,EAAS05B,EAAMj3B,EAAQlY,GAChBmvC,CACvB,IACay/B,OAAM,SAASV,GAEZ,MADIluE,EAAQ8pE,SAAShvD,QAAQk2B,KAAKk9B,GAC5BA,CACtB,IAES,GAAIO,GAAqBA,EAAkB3oE,WAAW,QAAS,CAChE,MAAM+oE,EAAetoE,OAAOC,OAAO,GAAIxG,EAAQ6uE,aAAc,CAAE/jC,MAAO9qC,EAAQ8qC,QAC9E,OAAO9qC,EAAQ4rC,MAAM1zB,EAAQ22D,GACxB15D,MAAK,SAAUsqB,GACZ,GAAmB,MAAfA,EAAItG,OAAgB,CACtB,GAAIn5B,EAAQwtE,eAGV,OAFIxtE,EAAQ8pE,SAAShvD,QAAQk2B,KAAK,SAASnU,GAC3C78B,EAAQytE,aAAa5wC,GAAS6wC,QAAS,EAChC,YAAY7wC,EAAQ,KAG3B,MAAM,IAAIzhC,MAAM,wBAAwBqkC,EAAItG,WAAWjhB,IAE1D,CACD,OAAOunB,EAAIzlB,MAC3B,IACa7E,MAAK,SAAUg6B,GACZ,IACI,IAAI11B,EAAUuuD,OAAK12D,MAAM69B,EAAM,CAAEhB,OAAO,OAAQg3B,cAAc,IAI9D,GAHAh2B,EAAOnvC,EAAQ0uE,YAAcj1D,EAC7BzZ,EAAQoxC,MAAMl5B,GAAUsuB,QAAM2I,GAE1B5P,IAEa,KADb4P,EAAOg5B,OAAKh5B,EAAM5P,MAEd4P,EAAO,CAAA,EACHnvC,EAAQiuE,OAAO,CACf,IAAIC,EAAK,IAAI9yE,MAAM,iCAAiC8c,EAAOqnB,GAC3D,IAAIv/B,EAAQkV,QACP,MAAMg5D,EADUluE,EAAQkV,QAAQuwB,OAAOyoC,EAE/C,CAIT/+B,EAAOg/B,WADPh/B,EAAOw+B,mBAAmBx+B,EAAM11B,EAASojB,EAAS0C,EAAUrnB,EAAQlY,GAC5CA,EAC3B,CACD,MAAOkuE,GAEH,GADIluE,EAAQ8pE,SAAShvD,QAAQk2B,KAAKk9B,IAC9BluE,EAAQkV,UAAWlV,EAAQiuE,MAC1B,MAAMC,EAD2BluE,EAAQkV,QAAQuwB,OAAOyoC,EAEhE,CAED,OADAz4D,EAAS05B,EAAMj3B,EAAQlY,GAChBmvC,CACvB,IACay/B,OAAM,SAAUvgE,GAGb,GAFIrO,EAAQ8pE,SAAShvD,QAAQk2B,KAAK3iC,GAClCrO,EAAQoxC,MAAMl5B,GAAU,IACpBlY,EAAQkV,UAAWlV,EAAQiuE,MAC1B,MAAM5/D,EAD2BrO,EAAQkV,QAAQuwB,OAAOp3B,EAE7E,GACK,CACI,CACD,MAAMoB,EAAM,YAAYotB,EAAQ,KAChC,OAAOwwC,cAAcn1D,EAAQlY,EAAQstE,UAAY,OAAQttE,EAAS68B,EAASptB,GACtE0F,MAAK,SAAUg6B,GACZ,IACI,IAAI11B,EAAUuuD,OAAK12D,MAAM69B,EAAM,CAAEhB,OAAO,OAAQg3B,cAAc,IAM9D,GALAh2B,EAAOnvC,EAAQ0uE,YAAcj1D,EAI7BzZ,EAAQoxC,MAAMl5B,GAAUsuB,QAAM2I,GAC1B5P,IAEa,KADb4P,EAAOg5B,OAAKh5B,EAAM5P,MAEd4P,EAAO,CAAA,EACHnvC,EAAQiuE,OAAO,CACf,IAAIC,EAAK,IAAI9yE,MAAM,+BAA+B8c,EAAOqnB,GACzD,IAAIv/B,EAAQkV,QACP,MAAMg5D,EADUluE,EAAQkV,QAAQuwB,OAAOyoC,EAE/C,CAIT/+B,EAAOg/B,WADPh/B,EAAOw+B,mBAAmBx+B,EAAM11B,EAASojB,EAAS0C,EAAUrnB,EAAQlY,GAC5CA,EAC3B,CACD,MAAOkuE,GAEH,GADIluE,EAAQ8pE,SAAShvD,QAAQk2B,KAAKk9B,IAC9BluE,EAAQkV,UAAWlV,EAAQiuE,MAC1B,MAAMC,EAD2BluE,EAAQkV,QAAQuwB,OAAOyoC,EAEhE,CAED,OADAz4D,EAAS05B,EAAMj3B,EAAQlY,GAChBmvC,CACvB,IACay/B,OAAM,SAASvgE,GAEZ,GADIrO,EAAQ8pE,SAAShvD,QAAQk2B,KAAK3iC,IAC9BrO,EAAQkV,UAAWlV,EAAQiuE,MAC1B,MAAM5/D,EAD2BrO,EAAQkV,QAAQuwB,OAAOp3B,EAE7E,GACK,CACL,CAEA,SAASygE,iBAAiB9uE,GACtB,OAAO,IAAI0jC,SAAQ,SAAUjE,EAAKsvC,GAE9B,SAASC,EAAM3sC,EAAI96B,EAAIq4B,GACnB,GAAIyC,EAAI96B,IAAQihE,QAAMnmC,EAAI96B,GAAK,QAAS,CACpC,IAAI0mC,EAAO5L,EAAI96B,GAAK0mC,KACpB,IAAKA,EAAKnoC,WAAW,KAAM,CAEvB,IAAImpE,EAAS,GAEb,IAAKC,EAAKjhC,GAAO,CACb,IAAIkhC,EAAY5oE,OAAOqR,KAAKs3D,GAAM/tE,MAAK,SAASw4B,EAAEx0B,EAAE7F,GAChD,OAAO2uC,EAAKnoC,WAAW6zB,EAAE,IACrD,IAC4Bw1C,IACInvE,EAAQ8pE,SAAShvD,QAAQk2B,KAAK,+BAA+Bm+B,GACjEF,EAAS,KAAKhhC,EAAKnmC,MAAM,KAAK,IAAI,IAAIjI,QAAQsvE,EAAUrnE,MAAM,KAAK,IAAI,IACvEmnE,EAASA,EAAOnnE,MAAM,cAAcpK,KAAK,IACzCuwC,EAAOkhC,EAEd,CAKD,GAHKD,EAAKjhC,KACNihC,EAAKjhC,GAAQ,CAAE6uB,UAAU,EAAOztB,MAAO,GAAI+/B,OAAO,CAAA,EAAIjzE,YAAakmC,EAAI96B,GAAKpL,cAE5E+yE,EAAKjhC,GAAM6uB,SAEX,GAAIoS,EAAKjhC,GAAMy/B,aAGV,GAAI1tE,EAAQqvE,YAAa,CAC1B,IAAIrB,EAASkB,EAAKjhC,GAAMqhC,WACpBtvE,EAAQ8pE,QAAQ,GAAGhvD,QAAQk2B,KAAK,gBAAiB/C,EAAM+/B,GAC3D3rC,EAAI96B,GAAK,UAAY0mC,EACrB5L,EAAI96B,GAAK0mC,KAAO+/B,EAAOiB,CAC1B,MAEG5sC,EAAI96B,GAAOi/B,QAAM0oC,EAAKjhC,GAAMkB,WAIhC+/B,EAAKjhC,GAAMoB,MAAMjwC,KAAKwgC,EAAMt2B,MAC5B4lE,EAAKjhC,GAAMmhC,OAAOxvC,EAAMt2B,MAAQ2lE,CAEvC,CACJ,CACJ,CAED,IAAIC,EAAOlvE,EAAQytE,aAEnB,GAAKztE,EAAQuvE,SAASrG,MAAM,GAAOlpE,EAAQ0Q,SAAW1Q,EAAQuvE,SAAStwC,KAEnE,OAAOQ,EAAIyvC,GAGf3F,UAAQvpE,EAAQwvE,QAAQ9yB,YAAa,CAAC4sB,mBAAmB,EAAMhgE,KAAM,iBAAkB0lE,GACvFzF,UAAQvpE,EAAQwvE,QAAQnH,WAAY,CAACiB,mBAAmB,EAAMhgE,KAAM,gBAAiB0lE,GACrFzF,UAAQvpE,EAAQwvE,QAAS,CAAClG,mBAAmB,GAAO0F,GAEpDvvC,EAAIyvC,EACZ,GACA,CAEA,SAASO,iBAAiBzvE,GACtB,OAAO,IAAI0jC,SAAQ,SAAUjE,EAAKsvC,GAE9BD,iBAAiB9uE,GAChBmV,MAAK,SAAU+5D,GACZ,IAAK,IAAIQ,KAAOR,EAEZ,IAAKA,EAAKQ,GAAK5S,SAAU,CACrB,IAAIoM,EAAQlpE,EAAQuvE,SAASrG,MACzBA,EAAM,GAAGA,IACblpE,EAAQuvE,SAASI,QAAQzG,GAAO9pE,MAAK,WACjC,OAAOmvE,gBAAgBvuE,EAAQwvE,QAASE,EAAK1vE,GAAS,SAAUmvC,EAAMz+B,EAAQ1Q,GAC1E,IAAKkvE,EAAKQ,GAAK5S,SAAU,CACrB,IAAI8S,EAAW,CAAA,EACfA,EAASn2D,QAAUy1D,EAAKQ,GACxBE,EAAS3hC,KAAOyhC,EAChBE,EAASpkC,SAAWhF,QAAM2I,GAC1BygC,EAASC,QAAU1gC,EACnBygC,EAASl/D,OAASA,EAClB1Q,EAAQ8vE,UAAU1wE,KAAKwwE,GACvBV,EAAKQ,GAAK5S,UAAW,CACxB,CAED,IAAIiT,EAAexpE,OAAOC,OAAO,CAAE,EAAExG,EAAS,CAAE0Q,OAAQ,GACpD6+D,SAAU,CAACI,QAAS3vE,EAAQuvE,SAASI,QACrCzG,MAAOlpE,EAAQuvE,SAASI,QAAQ/yE,OAAO,EAAGqiC,KAAMj/B,EAAQuvE,SAAStwC,QACjEj/B,EAAQgwE,OAASd,EAAKQ,GAAKvzE,cAAgBgzC,EAAKhzC,aAC/B,iBAATgzC,IACRA,EAAKhzC,YAAc+yE,EAAKQ,GAAKvzE,aAEjC+yE,EAAKQ,GAAKvgC,KAAOA,EAGjB,IAAI8gC,EAAW7C,OAAO8B,EAAKQ,GAAKrgC,OAChC4gC,EAAWA,EAAS5wE,MAAK,SAASC,EAAEC,GAChC,MAAM2wE,EAAS5wE,EAAEwG,WAAW,kBAAoBxG,EAAEwG,WAAW,kBACvDqqE,EAAS5wE,EAAEuG,WAAW,kBAAoBvG,EAAEuG,WAAW,kBAC7D,OAAIoqE,IAAUC,GAAe,EACzBA,IAAUD,EAAc,EACrB,CACvC,IAE4B,IAAK,IAAIE,KAAOH,EAEZ,GAAIf,EAAKQ,GAAKJ,YAAec,IAAQlB,EAAKQ,GAAKJ,YAAgBc,EAAIl5D,QAAQ,kBAAkB,EACrFlX,EAAQ8pE,QAAQ,GAAGhvD,QAAQk2B,KAAK,8BAA+Bo/B,GACnEjI,OAAKnoE,EAAQwvE,QAASY,EAAK,CAAEniC,KAAMihC,EAAKQ,GAAKJ,WAAWJ,EAAKQ,GAAKN,OAAOgB,GAAM,SAAUV,EAAIR,EAAKQ,GAAKN,OAAOgB,SAE7G,CACGlB,EAAKQ,GAAKJ,WACNtvE,EAAQ8pE,QAAQ,GAAGhvD,QAAQk2B,KAAK,gCAGpCk+B,EAAKQ,GAAKJ,WAAac,EACnBpwE,EAAQ8pE,QAAQ,GAAGhvD,QAAQk2B,KAAK,oCAAqCo/B,IAE7E,IAAIC,EAAQ7pC,QAAM2I,GAClBg5B,OAAKnoE,EAAQwvE,QAASY,EAAKC,EAC9B,CAEgE,IAAjErwE,EAAQuvE,SAASI,QAAQI,EAAaR,SAASrG,OAAOtsE,QAEtDoD,EAAQuvE,SAASI,QAAQI,EAAaR,SAASrG,OAAO9pE,MAAK,WAAc,OAAOqwE,iBAAiBM,EAAe,GAEhJ,GACA,GACiB,CAEjB,IACSnB,OAAM,SAASV,GACRluE,EAAQ8pE,SAAShvD,QAAQk2B,KAAKk9B,GAClCa,EAAIb,EAChB,IAEQ,IAAI74D,EAAS,CAACrV,QAAQA,GACtBqV,EAAOs6D,QAAU3vE,EAAQuvE,SAASI,QAAQ3vE,EAAQuvE,SAASrG,OAC3DzpC,EAAIpqB,EACZ,GACA,CAEA,MAAMi7D,SAASC,GACXA,EAAM1uE,QAAO,CAACqT,EAASk9B,IACnBl9B,EAAQC,MAAKE,GAAU+8B,IAAOj9B,KAAKnY,MAAMs3B,UAAUp3B,OAAOyW,KAAK0B,OAAWquB,QAAQzxB,QAAQ,KAElG,SAASu+D,eAAexwE,EAASy/B,EAAKsvC,GAClC/uE,EAAQuvE,SAASI,QAAQvwE,KAAK,IAC9BqwE,iBAAiBzvE,GACZmV,MAAK,SAAUg6B,GACZmhC,SAAOnhC,EAAKwgC,SACPx6D,MAAK,WACF,GAAInV,EAAQuvE,SAASrG,OAAOlpE,EAAQuvE,SAASI,QAAQ/yE,OAEjD,OADAke,QAAQk2B,KAAK,uCACNvR,GAAI,GAEXz/B,EAAQuvE,SAASrG,QACblpE,EAAQuvE,SAASI,QAAQ3vE,EAAQuvE,SAASrG,OAAOtsE,OACjDmpC,YAAW,WACPyqC,eAAerhC,EAAKnvC,QAASy/B,EAAKsvC,EACrC,GAAE,IAGC/uE,EAAQ8pE,QAAQ,GAAGhvD,QAAQk2B,KAAKk8B,SAAOxB,OAAOvnD,OAAO,gCAAgC+oD,SAAOxB,OAAOE,QACnG5rE,EAAQywE,kBACJzwE,EAAQ8pE,QAAQ,GAAGhvD,QAAQk2B,KAAKk8B,SAAOxB,OAAOvnD,OAAO,gCAAgC+oD,SAAOxB,OAAOE,QACvG5rE,EAAQwvE,QAAUvC,MAAMjtE,EAAQwvE,QAAQxvE,EAAQwrC,SAAS,CAACs+B,QAAQ9pE,EAAQ8pE,QAAQ,IAC9E9pE,EAAQ8pE,QAAQ,GAAGhvD,QAAQk2B,KAAKk8B,SAAOxB,OAAOvnD,OAAO,gCAAgC+oD,SAAOxB,OAAOE,SAE3GrC,UAAQvpE,EAAQwvE,QAAQ,CAAA,GAAG,SAASntC,EAAI96B,EAAIq4B,GACpC4oC,QAAMnmC,EAAK96B,KACNvH,EAAQ0wE,qBAAqBruC,EAAI,UAE1E,IAC4B5C,EAAIz/B,GAGhC,IACiB4uE,OAAM,SAAUV,GACTluE,EAAQ8pE,SAAShvD,QAAQk2B,KAAKk9B,GAClCa,EAAIb,EACxB,GACA,IACSU,OAAM,SAASV,GACRluE,EAAQ8pE,SAAShvD,QAAQk2B,KAAKk9B,GAClCa,EAAIb,EAChB,GACA,CAEA,SAASyC,aAAa3wE,GAIlB,GAHKA,EAAQoxC,QAAOpxC,EAAQoxC,MAAQ,CAAA,GAC/BpxC,EAAQ4rC,QAAO5rC,EAAQ4rC,MAAQA,SAEhC5rC,EAAQ0Q,OAAQ,CAChB,IAAIkgE,EAASn1C,MAAInqB,MAAMtR,EAAQ0Q,UAC1BkgE,EAAOhvC,UAAYgvC,EAAOhvC,SAAShlC,QAAU,KAC9CoD,EAAQ0Q,OAASpH,OAAK2I,QAAQjS,EAAQ0Q,QAE7C,CAED1Q,EAAQ8vE,UAAY,GACpB9vE,EAAQytE,aAAe,GACvBztE,EAAQqvE,aAAc,EACtBrvE,EAAQuvE,SAAW,GACnBvvE,EAAQuvE,SAASrG,MAAQ,EACzBlpE,EAAQuvE,SAAStwC,KAAOj/B,EAAQ0Q,OAChC1Q,EAAQuvE,SAASI,QAAU,CAAC,GAChC,CAGA,SAASkB,gBAAgB7wE,GAErB,OADA2wE,aAAa3wE,GACN,IAAI0jC,SAAQ,SAAUjE,EAAKsvC,GAC1B/uE,EAAQiS,QACRu+D,eAAexwE,EAASy/B,EAAKsvC,GAE7BtvC,EAAIz/B,EAChB,GACA,CAEA,SAASiS,QAAQu9D,EAAQ9+D,EAAO1Q,GAM5B,OALKA,IAASA,EAAU,IACxBA,EAAQwvE,QAAUA,EAClBxvE,EAAQ0Q,OAASA,EACjB1Q,EAAQiS,SAAU,EAClB0+D,aAAa3wE,GACN,IAAI0jC,SAAQ,SAAUjE,EAAKsvC,GAC9ByB,eAAexwE,EAASy/B,EAAKsvC,EACrC,GACA,CAEA,IAAA+B,YAAiB,CACbD,gBAAiBA,gBACjB5+D,QAASA,SCxgBb,SAAS8+D,kBACL,MAAO,CAAE7H,MAAO,EAAGG,KAAM,IAAIN,QAAWiI,KAAK,EAAMlhE,SAAS,EAAOmhE,kBAAkB,EACzF,CAUA,SAASC,WAAW/iC,EAAQrtC,EAAQ8+B,EAAOnqB,GAGvC,QAD2B,IAAhBmqB,EAAMspC,QAAuBtpC,EAAQmxC,mBAC5C,MAAC5iC,EAAqD,OAAOA,EACjE,QAA2B,IAAhBA,EAAOF,KAAsB,CACpC,IAAIhR,EAAO,CAACgR,KAAKE,EAAOF,MAKxB,OAJIrO,EAAMqxC,kBAAoB9iC,EAAOhyC,cACjC8gC,EAAK9gC,YAAcgyC,EAAOhyC,aAE9BsZ,EAASwnB,EAAKn8B,EAAO8+B,GACd3C,CACV,CAkBD,GAhBI2C,EAAM9vB,UACFq+B,EAAOgjC,OAASn0E,MAAMC,QAAQkxC,EAAOgjC,QAAkC,IAAxBhjC,EAAOgjC,MAAMv0E,eAC5DuxC,EAAS5nC,OAAOC,OAAO,CAAE,EAAC2nC,EAAOgjC,MAAM,GAAGhjC,IAC5BgjC,MAEdhjC,EAAOijC,OAASp0E,MAAMC,QAAQkxC,EAAOijC,QAAkC,IAAxBjjC,EAAOijC,MAAMx0E,eAC5DuxC,EAAS5nC,OAAOC,OAAO,CAAE,EAAC2nC,EAAOijC,MAAM,GAAGjjC,IAC5BijC,MAEdjjC,EAAOkjC,OAASr0E,MAAMC,QAAQkxC,EAAOkjC,QAAkC,IAAxBljC,EAAOkjC,MAAMz0E,eAC5DuxC,EAAS5nC,OAAOC,OAAO,CAAE,EAAC2nC,EAAOkjC,MAAM,GAAGljC,IAC5BkjC,OAItB57D,EAAS04B,EAAOrtC,EAAO8+B,GACnBA,EAAMypC,KAAK7hE,IAAI2mC,GACf,OAAOA,EAuBX,GApBuB,iBAAXA,GAAoC,OAAXA,GAAkBvO,EAAMypC,KAAK/hE,IAAI6mC,GAAO,GAC7EvO,EAAMoxC,KAAM,EACZpxC,EAAMspC,aAEsB,IAAjB/6B,EAAOkJ,QACdzX,EAAMjU,SAAW,QACjBulD,WAAW/iC,EAAOkJ,MAAMlJ,EAAOvO,EAAMnqB,IAErC04B,EAAOmjC,iBAC+B,iBAA3BnjC,EAAOmjC,kBACd1xC,EAAMjU,SAAW,kBACjBulD,WAAW/iC,EAAOmjC,gBAAgBnjC,EAAOvO,EAAMnqB,IAGnD04B,EAAOojC,sBACoC,iBAAhCpjC,EAAOojC,uBACd3xC,EAAMjU,SAAW,uBACjBulD,WAAW/iC,EAAOojC,qBAAqBpjC,EAAOvO,EAAMnqB,IAGxD04B,EAAOyO,WACP,IAAK,IAAIkO,KAAQ3c,EAAOyO,WAAY,CAChC,IAAI40B,EAAYrjC,EAAOyO,WAAWkO,GAClClrB,EAAMjU,SAAW,cAAcm/B,EAC/BomB,WAAWM,EAAUrjC,EAAOvO,EAAMnqB,EACrC,CAEL,GAAI04B,EAAOsjC,kBACP,IAAK,IAAI3mB,KAAQ3c,EAAOsjC,kBAAmB,CACvC,IAAID,EAAYrjC,EAAOsjC,kBAAkB3mB,GACzClrB,EAAMjU,SAAW,qBAAqBm/B,EACtComB,WAAWM,EAAUrjC,EAAOvO,EAAMnqB,EACrC,CAEL,GAAI04B,EAAOgjC,MACP,IAAK,IAAIp8D,KAASo5B,EAAOgjC,MAAO,CAC5B,IAAIK,EAAYrjC,EAAOgjC,MAAMp8D,GAC7B6qB,EAAMjU,SAAW,SAAS5W,EAC1Bm8D,WAAWM,EAAUrjC,EAAOvO,EAAMnqB,EACrC,CAEL,GAAI04B,EAAOijC,MACP,IAAK,IAAIr8D,KAASo5B,EAAOijC,MAAO,CAC5B,IAAII,EAAYrjC,EAAOijC,MAAMr8D,GAC7B6qB,EAAMjU,SAAW,SAAS5W,EAC1Bm8D,WAAWM,EAAUrjC,EAAOvO,EAAMnqB,EACrC,CAEL,GAAI04B,EAAOkjC,MACP,IAAK,IAAIt8D,KAASo5B,EAAOkjC,MAAO,CAC5B,IAAIG,EAAYrjC,EAAOkjC,MAAMt8D,GAC7B6qB,EAAMjU,SAAW,SAAS5W,EAC1Bm8D,WAAWM,EAAUrjC,EAAOvO,EAAMnqB,EACrC,CAOL,OALI04B,EAAOujC,MACP9xC,EAAMjU,SAAW,MACjBulD,WAAW/iC,EAAOujC,IAAIvjC,EAAOvO,EAAMnqB,IAEvCmqB,EAAMspC,QACC/6B,CACX,CAEA,IAAAwjC,gBAAiB,CACbZ,gBAAiBA,gBACjBG,WAAYA,YCxHhB,MAAM72C,OAAOp+B,cAAAA,QAEP21E,KAAO,CACTz0E,QAAW,mBACX,MAAO,gBACP,IAAO,cACP,MAAO,aACP,MAAO,cACP,MAAO,eACP,MAAO,eACP,MAAO,mBAGX,IAAA00E,cAAiB,CACbA,YAAatrE,OAAOC,OAAO,CAAE,EAACorE,KAAKv3C,OAAKqP,qwCCb5C,MAAMlgC,KAAKvN,YAAAA,QACLw/B,MAAMpyB,aAAAA,QAGN60C,MAAQz0C,QACRmiC,MAAQjiC,WACRq+D,KAAOp+D,OAEPu+D,KAAOt+D,OACP4mE,gBAAkBtI,KAAKA,KACvBK,MAAQ1+D,MAAiC0+D,MACzChiC,MAAQz8B,QAAiCy8B,MACzCsrC,OAAS/nE,QAAiC++D,cAC1CS,QAAUv/D,UAAmCu/D,QAC7CgG,SAAWpC,YACX4E,GAAKC,gBACL9E,SAAS+E,aAETJ,YAAcK,cAAgCL,YAE9CM,WAAaC,YAA0Bp5D,QAIvCq5D,cAAgB,QACtB,IAAIC,eAEJ,MAAMC,iBAAiBn3E,MACrBC,YAAYG,GACVC,MAAMD,GACNG,KAAKC,KAAO,UACb,EAGH,SAAS42E,WAAWh3E,EAASwE,GACzB,IAAIqO,EAAM,IAAIkkE,SAAS/2E,GAEvB,GADA6S,EAAIrO,QAAUA,GACVA,EAAQkV,QAIR,MAAM7G,EAHNrO,EAAQkV,QAAQuwB,OAAOp3B,EAK/B,CAEA,SAASokE,YAAYj3E,EAAS8kD,EAAWtgD,GACjCA,EAAQ0yE,SACRpyB,EAAUtgD,EAAQ2yE,cAAc,iBAAmBn3E,EAGnDg3E,WAAWh3E,EAASwE,EAE5B,CAEA,SAAS4yE,eAAezkC,EAAOrtC,EAAOd,GAelC,GAdImuC,EAAO0kC,UAAU7yE,EAAQ8yE,UACzB3kC,EAAO4kC,eAAiD,iBAAzB5kC,EAAO4kC,gBACtC5kC,EAAO4kC,cAAgB,CAAEC,aAAc7kC,EAAO4kC,gBAE9C5kC,EAAOkJ,OAASr6C,MAAMC,QAAQkxC,EAAOkJ,SACT,IAAxBlJ,EAAOkJ,MAAMz6C,OACbuxC,EAAOkJ,MAAQ,GAEc,IAAxBlJ,EAAOkJ,MAAMz6C,OAClBuxC,EAAOkJ,MAAQlJ,EAAOkJ,MAAM,GAE3BlJ,EAAOkJ,MAAQ,CAAE+5B,MAAOjjC,EAAOkJ,QAGpClJ,EAAO1K,MAAQzmC,MAAMC,QAAQkxC,EAAO1K,MACpC,GAAIzjC,EAAQgwE,MAAO,CAEf,GADAhwE,EAAQ8yE,UACmB,IAAvB3kC,EAAO1K,KAAK7mC,cACLuxC,EAAO1K,SAEb,CACI0K,EAAOkjC,QAAOljC,EAAOkjC,MAAQ,IAClC,IAAK,IAAI5tC,KAAQ0K,EAAO1K,KAAM,CAC1B,IAAIwvC,EAAY,CAAA,EAChB,GAAa,SAATxvC,EACA0K,EAAO0kC,UAAW,MAEjB,CACDI,EAAUxvC,KAAOA,EACjB,IAAK,IAAIqnB,KAAQoiB,SAAON,qBACO,IAAhBz+B,EAAO2c,OACdmoB,EAAUnoB,GAAQ3c,EAAO2c,UAClB3c,EAAO2c,GAGzB,CACGmoB,EAAUxvC,MACV0K,EAAOkjC,MAAMjyE,KAAK6zE,EAEzB,QACM9kC,EAAO1K,KACc,IAAxB0K,EAAOkjC,MAAMz0E,cACNuxC,EAAOkjC,MAETljC,EAAOkjC,MAAMz0E,OAAS,IAC3BuxC,EAAO1K,KAAO0K,EAAOkjC,MAAM,GAAG5tC,KAC1Bl9B,OAAOqR,KAAKu2B,EAAOkjC,MAAM,IAAIz0E,OAAS,GACtC61E,YAAY,6BAA6BtkC,EAAOnuC,UAE7CmuC,EAAOkjC,MAErB,CAEGljC,EAAO1K,MAAQzmC,MAAMC,QAAQkxC,EAAO1K,OAAgC,IAAvB0K,EAAO1K,KAAK7mC,SACzDuxC,EAAO1K,KAAO0K,EAAO1K,KAAK,GAEjC,MAEG+uC,WAAW,+CAAgDxyE,GAI/DmuC,EAAO1K,MAAwB,SAAhB0K,EAAO1K,cACf0K,EAAO1K,KACd0K,EAAO0kC,UAAW,GAED,UAAhB1kC,EAAO1K,MAAuB0K,EAAOkJ,QACtClJ,EAAOkJ,MAAQ,IAEC,SAAhBlJ,EAAO1K,OACP0K,EAAO1K,KAAO,SACd0K,EAAO9D,OAAS,UAEW,kBAApB8D,EAAO1xC,WACV0xC,EAAO1xC,UAAY0xC,EAAOvyC,YACK,IAApBkF,EAAOrE,WACdqE,EAAOrE,SAAW,IAElBO,MAAMC,QAAQ6D,EAAOrE,WAAWqE,EAAOrE,SAAS2C,KAAK+uC,EAAOvyC,cAE7DuyC,EAAO1xC,UAOd0xC,EAAO+kC,KAAuC,iBAAzB/kC,EAAO+kC,IAAIC,YAC3BhlC,EAAO+kC,IAAIC,kBAAkBhlC,EAAO+kC,IAAIC,gBAEX,IAA3BhlC,EAAOilC,kBAChBpzE,EAAQ8yE,iBACD3kC,EAAOilC,gBAEpB,CAEA,SAASC,yBAAyBllC,EAAOrtC,GAsBrC,GArBIqtC,EAAO,eAAiBnxC,MAAMC,QAAQkxC,EAAO,iBACxCA,EAAO1xC,WAAU0xC,EAAO1xC,SAAW,IACxC0xC,EAAO1xC,SAAW0xC,EAAO1xC,SAASS,OAAOixC,EAAO,sBACzCA,EAAO,eAEdA,EAAO,aACPA,EAAOijC,MAAQjjC,EAAO,kBACfA,EAAO,YAEdA,EAAO,aACPA,EAAOkjC,MAAQljC,EAAO,kBACfA,EAAO,YAEdA,EAAO,WACPA,EAAOujC,IAAMvjC,EAAO,gBACbA,EAAO,UAEkB,kBAAzBA,EAAO,gBACdA,EAAO0kC,SAAW1kC,EAAO,qBAClBA,EAAO,eAEwB,iBAA9BA,EAAO,oBAAuF,iBAA3CA,EAAO,mBAAmB6kC,aAA4B,CACjH7kC,EAAO4kC,cAAgB5kC,EAAO,0BACvBA,EAAO,mBACd,IAAK,IAAIi8B,KAASj8B,EAAO4kC,cAAcO,QAAS,CAC5C,IAAIC,EAAcplC,EAAO4kC,cAAcO,QAAQlJ,GAC3CmJ,EAAYztE,WAAW,oBACvBqoC,EAAO4kC,cAAcO,QAAQlJ,GAASmJ,EAAY1zE,QAAQ,iBAAiB,yBAElF,CACJ,CACL,CAEA,SAAS2zE,YAAYrlC,EAAOnuC,GACxB+xE,GAAGb,WAAW/iC,EAAO,CAAE,EAAC,CAAE,GAAC,SAASA,EAAOrtC,EAAO8+B,GAC9CyzC,yBAAyBllC,GACzBykC,eAAezkC,EAAOrtC,EAAOd,EACrC,GACA,CAEA,SAASyzE,qBAAqB/D,GAO1B,OALIA,EADAA,EAAIx4D,QAAQ,MAAM,EACZw4D,EAAI5nE,MAAM,KAAK,GAAGA,MAAM,KAAKmiB,MAG7BylD,EAAI5nE,MAAM,KAAKmiB,MAAMniB,MAAM,KAAK,GAEnC2hE,mBAAmByD,SAAOJ,SAAS4C,GAC9C,CAEA,SAASgE,UAAUrxC,EAAK96B,EAAKq4B,GACzB,IAAI5/B,EAAU4/B,EAAMwpC,QAAQppE,QAC5B,GAAIwoE,MAAMnmC,EAAI96B,GAAM,CAChB,GAAI86B,EAAI96B,GAAKzB,WAAW,uBAGnB,GAAiB,eAAbu8B,EAAI96B,UAEF86B,EAAI96B,GACXq4B,EAAM9+B,OAAO8+B,EAAMupC,MAAQ3iC,MAAMxmC,EAAQwvE,QAAQmE,eAEhD,GAAiB,eAAbtxC,EAAI96B,UAEF86B,EAAI96B,GACXq4B,EAAM9+B,OAAO8+B,EAAMupC,MAAQ3iC,MAAMxmC,EAAQwvE,QAAQoE,eAEhD,GAAIvxC,EAAI96B,GAAKzB,WAAW,kBAAmB,CAE5C,IAAI8R,EAAOyqB,EAAI96B,GAAK1H,QAAQ,iBAAkB,IAAIiI,MAAM,KACxD,MAAM4nE,EAAMvH,KAAKD,WAAWtwD,EAAK,IAEjC,IAAIi8D,EAASvB,eAAe/O,QAAQ/H,mBAAmBkU,IACnDmE,EACAj8D,EAAK,GAAKi8D,EAGVpB,YAAY,+BAA+BpwC,EAAI96B,GAAK86B,EAAIriC,GAE5DqiC,EAAI96B,GAAO,wBAA0BqQ,EAAKla,KAAK,IAClD,MACI,GAAI2kC,EAAI96B,GAAKzB,WAAW,iBAEzBu8B,EAAI96B,GAAO,2BAA6B2lE,SAAOJ,SAASzqC,EAAI96B,GAAK1H,QAAQ,gBAAiB,UAEzF,GAAIwiC,EAAI96B,GAAKzB,WAAW,gBAEzBu8B,EAAI96B,GAAO,0BAA4B2lE,SAAOJ,SAASzqC,EAAI96B,GAAK1H,QAAQ,eAAgB,UAEvF,GAAIwiC,EAAI96B,GAAKzB,WAAW,KAAM,CAE/B,IAAIoS,EAASsuB,MAAM2hC,KAAKA,KAAKnoE,EAAQwvE,QAAQntC,EAAI96B,KACjD,IAAe,IAAX2Q,EAAkBu6D,YAAY,yBAAyBpwC,EAAI96B,GAAK86B,EAAIriC,QACnE,GAAIA,EAAQ8zE,OAAOzxC,EAAI96B,IACxB86B,EAAI96B,GAAOvH,EAAQ8zE,OAAOzxC,EAAI96B,QAE7B,CAED,IAAIwsE,EAAS1xC,EAAI96B,GACjBwsE,EAASA,EAAOl0E,QAAQ,uBAAuB,IAC/Ck0E,EAASA,EAAOl0E,QAAQ,yBAAyB,IACjDk0E,EAASA,EAAOl0E,QAAQ,0BAA0B,IAClDk0E,EAASA,EAAOl0E,QAAQ,uBAAuB,IAC/C,IAAI4jC,EAAO,UACPuwC,EAAcD,EAAOh9B,YAAY,WAcrC,GAbAtT,EAAQswC,EAAO78D,QAAQ,aAAa88D,EAAe,UAC7CD,EAAO78D,QAAQ,eAAe88D,EAAe,YAC7CD,EAAO78D,QAAQ,YAAY88D,EAAe,WAC1CD,EAAO78D,QAAQ,OAAO88D,EAAe,aACrCD,EAAO78D,QAAQ,gBAAgB88D,EAAe,aAAe,UAKtD,YAATvwC,GACA+vC,YAAYt7D,EAAOlY,GAGT,cAATyjC,GAAmC,eAATA,EAAwB,CACnD,IAAIxU,EAASwU,EAAKtS,OAAO,EAAEsS,EAAK7mC,OAAO,GACvB,cAAXqyB,GAA2B/W,EAAOtc,MAASsc,EAAOtc,OAASsxE,SAAOJ,SAAS50D,EAAOtc,QACnFqzB,EAASw6C,mBAAmBvxD,EAAOtc,OAGvC,IAAImwD,EAAS,EAMb,IALI1pB,EAAI,YACJpT,EAASwkD,qBAAqBpxC,EAAI,WAClC0pB,EAAS,IAGNoc,KAAKA,KAAKnoE,EAAQwvE,QAAQ,gBAAgB/rC,EAAK,IAAIxU,EAAO88B,IAC7DA,EAAqB,KAAXA,EAAgB,IAAMA,EAGpC,IAAIiiB,EAAS,gBAAgBvqC,EAAK,IAAIxU,EAAO88B,EACzCkoB,EAAY,GAEH,aAATxwC,IACAvrB,EAAS,CAAEpb,MAAOob,GAClB+7D,EAAY,UAGhB9L,KAAKA,KAAKnoE,EAAQwvE,QAAQxB,EAAO91D,GACjClY,EAAQ8zE,OAAOzxC,EAAI96B,IAAQymE,EAAOiG,EAClC5xC,EAAI96B,GAAOymE,EAAOiG,CACrB,CACJ,CACJ,CAID,UAFO5xC,EAAI,UAEP97B,OAAOqR,KAAKyqB,GAAKzlC,OAAS,EAAG,CAC7B,MAAMs3E,EAAS7xC,EAAI96B,GACb4sE,EAAWv0C,EAAMt2B,KAAK4N,QAAQ,YAAc,EACtB,aAAxBlX,EAAQo0E,cAGHD,GAAqC,UAAxBn0E,EAAQo0E,oBACnB/xC,EAAI4L,KACXrO,EAAM9+B,OAAO8+B,EAAMupC,MAAQ,CAAEgI,MAAO,CAAE,CAAEljC,KAAMimC,GAAU7xC,KAGxDzC,EAAM9+B,OAAO8+B,EAAMupC,MAAQ,CAAEl7B,KAAMimC,GAE1C,CAEJ,CACD,GAAa,eAAR3sE,GAA8C,iBAAb86B,EAAI96B,IAAuB86B,EAAI96B,GAAKzB,WAAW,MAAQ,CACzF,IAAI8R,EAAOyqB,EAAI96B,GAAK1H,QAAQ,iBAAkB,IAAIA,QAAQ,wBAAwB,IAAIiI,MAAM,KACxF+rE,EAASvB,eAAe/O,QAAQ/H,mBAAmB5jD,EAAK,KACxDi8D,EACAj8D,EAAK,GAAKi8D,EAGVpB,YAAY,+BAA+BpwC,EAAI96B,GAAK86B,EAAIriC,GAE5DqiC,EAAI96B,GAAO,wBAA0BqQ,EAAKla,KAAK,IAClD,CACL,CAMA,SAAS22E,WAAW7E,EAASxvE,GACzB,IAAK,IAAI0vE,KAAO1vE,EAAQ8zE,OACpB3L,KAAKA,KAAKqH,EAAQE,EAAI,CAAEzhC,KAAMjuC,EAAQ8zE,OAAOpE,IAErD,CAEA,SAAS4E,gBAAgBC,GACrB,IAAK,IAAI37D,KAAK27D,EACV,IAAK,IAAIhuD,KAAKguD,EAAe37D,GAAI,CAC7B,IAAI47D,EAAQtH,SAAOJ,SAASvmD,GACxBA,IAAMiuD,IACND,EAAe37D,GAAG47D,GAASD,EAAe37D,GAAG2N,UACtCguD,EAAe37D,GAAG2N,GAEhC,CAET,CAEA,SAASkuD,sBAAsBl5C,EAAQv7B,GAKnC,GAJoB,UAAhBu7B,EAAOkI,OACPlI,EAAOkI,KAAO,OACdlI,EAAOA,OAAS,SAEA,WAAhBA,EAAOkI,KAAmB,CAC1B,IAAIixC,EAAO,CAAA,EACPC,EAAWp5C,EAAOm5C,KACF,gBAAhBn5C,EAAOm5C,OAAwBC,EAAW,qBAC1B,eAAhBp5C,EAAOm5C,OAAuBC,EAAW,0BACN,IAA5Bp5C,EAAOq5C,mBAAkCF,EAAKE,iBAAmBr5C,EAAOq5C,iBAAiB9sE,MAAM,KAAK,GAAGyqB,QAAU,KAC7F,iBAApBgJ,EAAOs5C,WAAuBH,EAAKG,SAAWt5C,EAAOs5C,SAAS/sE,MAAM,KAAK,GAAGyqB,QAAU,KACjGmiD,EAAKI,OAASv5C,EAAOu5C,QAAU,CAAA,EAC/Bv5C,EAAOw5C,MAAQ,GACfx5C,EAAOw5C,MAAMJ,GAAYD,SAClBn5C,EAAOm5C,YACPn5C,EAAOq5C,wBACPr5C,EAAOs5C,gBACPt5C,EAAOu5C,YACa,IAAhBv5C,EAAO3/B,OACVoE,EAAQgwE,OACRhwE,EAAQ8yE,iBACDv3C,EAAO3/B,MAGd42E,WAAW,mEAAoExyE,GAG1F,CACL,CAEA,SAASg1E,eAAel4E,GACpB,OAAQA,IAAUA,EAAM,eAC5B,CAEA,SAASm4E,cAAc9pB,EAAQnrD,GAC3B,GAAImrD,EAAOld,KACPkd,EAAOld,KAAOkd,EAAOld,KAAKpuC,QAAQ,eAAgB,+BAEjD,CACGsrD,EAAO1nB,OAAS0nB,EAAOhd,SACvBgd,EAAOhd,OAAS,IAEhBgd,EAAO1nB,OAAM0nB,EAAOhd,OAAO1K,KAAO0nB,EAAO1nB,MACzC0nB,EAAO9T,OAA+B,UAAtB8T,EAAO9T,MAAM5T,OACzB0nB,EAAO9T,MAAM69B,mBAAqB/pB,EAAO+pB,kBACzCzC,YAAY,6CAA8CtnB,EAAQnrD,UAE/DmrD,EAAO9T,MAAM69B,kBAEJ,UAAhB/pB,EAAO1nB,MACyB,QAA5B0nB,EAAO+pB,iBACPzC,YAAY,0DAA2DtnB,EAAQnrD,GAE9C,UAA5BmrD,EAAO+pB,iBACZzC,YAAY,4DAA6DtnB,EAAQnrD,GAEhD,UAA5BmrD,EAAO+pB,iBACZ/pB,EAAOgqB,SAAU,EAEgB,QAA5BhqB,EAAO+pB,kBACZzC,YAAY,8CAA+CtnB,EAAQnrD,GACnEmrD,EAAO,sBAAwB,OAG/BA,EAAOt8B,MAAQ,gBAEZs8B,EAAO+pB,kBAET/pB,EAAO+pB,mBACRl1E,EAAQgwE,OACRhwE,EAAQ8yE,iBACD3nB,EAAO+pB,kBAGd1C,WAAW,uEAAwExyE,WAGpFmrD,EAAO1nB,KACd,IAAK,IAAIqnB,KAAQoiB,SAAOP,6BACQ,IAAjBxhB,EAAOL,KACdK,EAAOhd,OAAO2c,GAAQK,EAAOL,UACtBK,EAAOL,IAGtB,IAAK,IAAIA,KAAQoiB,SAAON,qBACQ,IAAjBzhB,EAAOL,KACdK,EAAOhd,OAAO2c,GAAQK,EAAOL,UACtBK,EAAOL,GAGzB,CACL,CAEA,SAASsqB,YAAYC,EAAOr1E,GACxB,GAAIq1E,EAAMpnC,KAAK/2B,QAAQ,kBAAoB,EAAG,CAC1C,IAAIo+D,EAAgBD,EAAMpnC,KAAKnmC,MAAM,iBACrCutE,EAAMpnC,KAAOqnC,EAAc,GAAK,2BAA6BpI,SAAOJ,SAASwI,EAAc,GAC9F,CACGD,EAAMpnC,KAAK/2B,QAAQ,mBAAqB,GACxCu7D,YAAY,+BAAgC4C,EAAOr1E,EAE3D,CAEA,SAASu1E,kBAAkBC,EAAGx1E,GAC1B,IAAIy1E,EAAQ,CAAA,EACZ,IAAK,IAAIluE,KAAOhB,OAAOqR,KAAK49D,GACxBC,EAAMluE,GAAOiuE,EAAGjuE,GACJ,eAARA,IACAkuE,EAAMC,YAAc,GAChB11E,EAAQ21E,SAAQF,EAAMz1E,EAAQ21E,QAAU,KAIpD,OADAF,EAAMC,YAAc,GACbD,CACX,CAKA,SAASG,iBAAiBP,EAAOG,EAAIlsE,EAAMg/B,EAAQvzB,EAAOy6D,EAASxvE,GAC/D,IAEI61E,EAFAxgE,EAAS,CAAA,EACTygE,GAAsB,EAG1B,GAAIN,GAAMA,EAAG7B,UAAoC,iBAAhB6B,EAAG7B,SAAwB,CACxD,IAAI3zE,EAAQgwE,MAKR,OAAOwC,WAAW,kDAAmDxyE,GAJrEA,EAAQ8yE,UACR0C,EAAG7B,SAAW,CAAC6B,EAAG7B,SAKzB,CACI32E,MAAMC,QAAQuyE,EAAQmE,kBAAkBnE,EAAQmE,SACrD,IAAIA,IAAa6B,EAAKA,EAAG7B,SAAW,OAAUnE,EAAQmE,UAAY,IAAKn1E,OAAO0uE,SAAOrB,YAErF,GAAIwJ,GAASA,EAAMpnC,MAA+B,iBAAfonC,EAAMpnC,KAAoB,CAEzDmnC,YAAYC,EAAOr1E,GACnB,IAAIowE,EAAM5U,mBAAmB6Z,EAAMpnC,KAAKpuC,QAAQ,2BAA4B,KACxEk2E,GAAQ,EACR79D,EAASs3D,EAAQnH,WAAW95B,WAAW6hC,GAW3C,GATOl4D,IAAYA,EAAO,kBAAqBm9D,EAAMpnC,KAAKnoC,WAAW,QAEjEuvE,EAAM,iBAAkB,EACxBU,GAAQ,GAMRA,EAAO,CACP,IAAIrG,EAAM2F,EAAMpnC,KACZ+nC,EAAWvF,gBAAgBjB,EAAS6F,EAAMpnC,OACzC+nC,GAAYtG,EAAI5pE,WAAW,MAC5B2sE,YAAY,+BAAiC/C,EAAK2F,EAAOr1E,GAGrDg2E,IAAUX,EAAQW,EAE7B,CACJ,CAED,GAAIX,IAAUA,EAAMz5E,MAAQy5E,EAAMh8B,IAAK,CAEE,kBAA1Bg8B,EAAM,kBACbA,EAAMY,WAAaZ,EAAM,uBAClBA,EAAM,sBAGiB,IAAvBA,EAAM,eACbA,EAAMa,QAAUb,EAAM,oBACfA,EAAM,cAGC,SAAbA,EAAMh8B,IAAoBg8B,EAAM5xC,OAC7BzjC,EAAQgwE,OACRhwE,EAAQ8yE,UACRuC,EAAM5xC,KAAO,UAGb+uC,WAAW,kEAAmExyE,IAGlFq1E,EAAM5xC,MAA8B,iBAAf4xC,EAAM5xC,MAAqB4xC,EAAM5xC,KAAKwK,OAE3DonC,EAAM5xC,KAAOgtC,gBAAgBjB,EAAS6F,EAAM5xC,KAAKwK,OAElC,SAAfonC,EAAM5xC,OACN4xC,EAAM,sBAAwBA,EAAM5xC,KACpCoyC,EAAeR,EAAM5xC,MAErB4xC,EAAMl5E,aAA4C,iBAAtBk5E,EAAMl5E,aAA4Bk5E,EAAMl5E,YAAY8xC,OAEhFonC,EAAMl5E,YAAcs0E,gBAAgBjB,EAAS6F,EAAMl5E,YAAY8xC,OAEzC,OAAtBonC,EAAMl5E,oBAA6Bk5E,EAAMl5E,YAE7C,IAAIg6E,EAAsBd,EAAMH,iBA+ChC,GA9CoB,UAAfG,EAAM5xC,MAAsB0yC,IAC7BA,EAAsB,OAEtBA,IACmB,UAAfd,EAAM5xC,OACFzjC,EAAQgwE,OACRhwE,EAAQ8yE,iBACDuC,EAAMH,kBAGb1C,WAAW,sEAAuExyE,IAG7D,QAAxBm2E,GAAiD,UAAbd,EAAMh8B,IAAiC,WAAbg8B,EAAMh8B,KACrEg8B,EAAMxmD,MAAQ,OACdwmD,EAAMF,SAAU,GAES,QAAxBgB,GAAiD,SAAbd,EAAMh8B,IAAgC,WAAbg8B,EAAMh8B,KACpEg8B,EAAMxmD,MAAQ,UAEU,QAAxBsnD,IACiB,UAAbd,EAAMh8B,GACNg8B,EAAMxmD,MAAQ,iBAGd4jD,YAAY,6EAA8E4C,EAAOr1E,IAG7E,UAAxBm2E,IACiB,UAAbd,EAAMh8B,GACNg8B,EAAMxmD,MAAQ,gBAGd4jD,YAAY,+EAAgF4C,EAAOr1E,IAG/E,UAAxBm2E,IACAd,EAAMF,SAAU,GAEQ,QAAxBgB,IACA1D,YAAY,8CAA+C4C,EAAOr1E,GAClEq1E,EAAM,sBAAwB,cAE3BA,EAAMH,kBAGbG,EAAM5xC,MAAwB,SAAf4xC,EAAM5xC,MAAkC,aAAb4xC,EAAMh8B,GAChD,GAAIg8B,EAAMh+B,OAASg+B,EAAMlnC,OACrBskC,YAAY,uCAAwC4C,EAAOr1E,OAE1D,CACGq1E,EAAMlnC,QAAQnuC,EAAQ8yE,UACpBuC,EAAMlnC,QAAoC,iBAAjBknC,EAAMlnC,SAAsBknC,EAAMlnC,OAAS,IAC1EknC,EAAMlnC,OAAO1K,KAAO4xC,EAAM5xC,KACtB4xC,EAAMh+B,QACNg+B,EAAMlnC,OAAOkJ,MAAQg+B,EAAMh+B,aACpBg+B,EAAMh+B,MACbkyB,QAAQ8L,EAAMlnC,OAAOkJ,MAAO,MAAM,SAAUhV,EAAK96B,EAAKq4B,GACrC,qBAARr4B,GAAoD,iBAAb86B,EAAI96B,KACxC4uE,GAAuB9zC,EAAI96B,KAAS4uE,GACpC1D,YAAY,6CAA8C4C,EAAOr1E,UAE9DqiC,EAAI96B,GAIvC,KAEgB,IAAK,IAAIujD,KAAQoiB,SAAOP,6BACO,IAAhB0I,EAAMvqB,KAAuBuqB,EAAMlnC,OAAO2c,GAAQuqB,EAAMvqB,WAC5DuqB,EAAMvqB,EAEpB,CAGDuqB,EAAMlnC,QACNqlC,YAAY6B,EAAMlnC,OAAOnuC,GAGzBq1E,EAAM,2BACW,UAAbA,EAAMh8B,KACNg8B,EAAMe,eAAgB,SACff,EAAM,0BAGxB,CAED,GAAIA,GAAsB,aAAbA,EAAMh8B,GAAmB,CAElCy8B,GAAsB,EACtBzgE,EAAOghE,QAAU,GACjB,IAAIzsC,EAAc,oCAMlB,GALK+pC,EAAe,QAAMA,EAASz8D,QAAQ,wBAA0B,IACjE0yB,EAAc,uBAGlBv0B,EAAOghE,QAAQzsC,GAAe,GAC1ByrC,EAAMlnC,OACN94B,EAAOghE,QAAQzsC,GAAauE,OAASknC,EAAMlnC,OACvCknC,EAAMlnC,OAAOF,OACb54B,EAAO,cAAgBmmD,mBAAmB6Z,EAAMlnC,OAAOF,KAAKpuC,QAAQ,wBAAyB,UAGhG,CACDwV,EAAOghE,QAAQzsC,GAAauE,OAAS,CAAA,EACrC94B,EAAOghE,QAAQzsC,GAAauE,OAAO1K,KAAO,SAC1CpuB,EAAOghE,QAAQzsC,GAAauE,OAAOyO,WAAa,CAAA,EAChDvnC,EAAOghE,QAAQzsC,GAAauE,OAAOyO,WAAWy4B,EAAMz5E,MAAQ,GAC5D,IAAIuyC,EAAS94B,EAAOghE,QAAQzsC,GAAauE,OACrCj2B,EAAS7C,EAAOghE,QAAQzsC,GAAauE,OAAOyO,WAAWy4B,EAAMz5E,MAC7Dy5E,EAAMl5E,cAAa+b,EAAO/b,YAAck5E,EAAMl5E,aAC9Ck5E,EAAMa,UAASh+D,EAAOg+D,QAAUb,EAAMa,SACtCb,EAAM5xC,OAAMvrB,EAAOurB,KAAO4xC,EAAM5xC,MAEpC,IAAK,IAAIqnB,KAAQoiB,SAAOP,6BACO,IAAhB0I,EAAMvqB,KAAuB5yC,EAAO4yC,GAAQuqB,EAAMvqB,KAE1C,IAAnBuqB,EAAM54E,WACD0xC,EAAO1xC,WAAU0xC,EAAO1xC,SAAW,IACxC0xC,EAAO1xC,SAAS2C,KAAKi2E,EAAMz5E,MAC3ByZ,EAAO5Y,UAAW,QAEO,IAAlB44E,EAAMl4E,UAAyB+a,EAAO/a,QAAUk4E,EAAMl4E,SAC7D+a,EAAO0kC,aAAY1kC,EAAO0kC,WAAay4B,EAAMz4B,YAC7Cy4B,EAAMlE,QAAOj5D,EAAOi5D,MAAQkE,EAAMlE,OAClB,UAAfkE,EAAM5xC,MAAsB4xC,EAAW,QACxCn9D,EAAOm/B,MAAQg+B,EAAMh+B,MACjBn/B,EAAOm/B,MAAM69B,yBAAyBh9D,EAAOm/B,MAAM69B,kBAErC,SAAjBW,GAA6D,SAAhCR,EAAM,wBACpCn9D,EAAOurB,KAAO,SACdvrB,EAAOmyB,OAAS,UAIpBisC,eAAejB,EAAOn9D,EACzB,CACJ,MACQm9D,GAAyB,SAAfA,EAAM5xC,OAEjB4xC,EAAM54E,WAAU4Y,EAAO5Y,SAAW44E,EAAM54E,UAC5C4Y,EAAOghE,QAAU,GACjBhhE,EAAOghE,QAAQ,4BAA8B,GAC7ChhE,EAAOghE,QAAQ,4BAA4BloC,OAAS,CAAA,EACpD94B,EAAOghE,QAAQ,4BAA4BloC,OAAO1K,KAAO,SACzDpuB,EAAOghE,QAAQ,4BAA4BloC,OAAO9D,OAAS,SAC3DisC,eAAejB,EAAOhgE,IAE1B,GAAIggE,GAAsB,SAAbA,EAAMh8B,GAAe,CAC9BhkC,EAAOghE,QAAU,GACbhB,EAAMz5E,OAAMyZ,EAAO,eAAiBmgE,GAAMA,EAAGx7B,YAAckzB,SAAOH,YAAYyI,EAAGx7B,aAAe,KAAO,IAAMq7B,EAAMz5E,MAAM6wE,eACzH4I,EAAMl5E,cAAakZ,EAAOlZ,YAAck5E,EAAMl5E,aAC9Ck5E,EAAM54E,WAAU4Y,EAAO5Y,SAAW44E,EAAM54E,UAGxC+4E,GAAMx1E,EAAQ21E,QAAUN,EAAMz5E,OAC9B45E,EAAGx1E,EAAQ21E,QAAUN,EAAMz5E,MAE3By5E,EAAMlnC,QAAUknC,EAAMlnC,OAAOF,KAC7B54B,EAAO,cAAgBmmD,mBAAmB6Z,EAAMlnC,OAAOF,KAAKpuC,QAAQ,wBAAyB,KAExFw1E,EAAMlnC,QAAiC,UAAtBknC,EAAMlnC,OAAO1K,MAAqB4xC,EAAMlnC,OAAOkJ,OAASg+B,EAAMlnC,OAAOkJ,MAAMpJ,OACjG54B,EAAO,cAAgBmmD,mBAAmB6Z,EAAMlnC,OAAOkJ,MAAMpJ,KAAKpuC,QAAQ,wBAAyB,KAAO,SAGzG8zE,EAAS/2E,QACV+2E,EAASv0E,KAAK,oBAGlB,IAAK,IAAIm3E,KAAY5C,EACjBt+D,EAAOghE,QAAQE,GAAY,GAC3BlhE,EAAOghE,QAAQE,GAAUpoC,OAAS3H,MAAM6uC,EAAMlnC,QAAU,CAAA,GACxDqlC,YAAYn+D,EAAOghE,QAAQE,GAAUpoC,OAAOnuC,GAIhDs2E,eAAejB,EAAOhgE,EACzB,CAED,GAAI9O,OAAOqR,KAAKvC,GAAQzY,OAAS,IAC7By4E,EAAM,iBAAkB,EAEpBG,GACA,GAAIA,EAAGE,aAAeI,EAAqB,CACvCN,EAAGE,YAAY,qBAAsB,EAGrCjD,YAAY,cAFD+C,EAAGx7B,aAAejlC,GAEK,8BAA+BygE,EAAIx1E,EACxE,MAEQw1E,EAAGE,cACLF,EAAKlsE,EAAKg/B,GAAUitC,kBAAkBC,EAAGx1E,IAEvCw1E,EAAGE,YAAYW,SAAWb,EAAGE,YAAYW,QAAQ,wBAC9Cb,EAAGE,YAAYW,QAAQ,uBAA6B,QAAMb,EAAGE,YAAYW,QAAQ,uBAAuBloC,OAAiB,YAAM94B,EAAOghE,QAAQ,wBAA4BhhE,EAAOghE,QAAQ,uBAA6B,QAAMhhE,EAAOghE,QAAQ,uBAAuBloC,OAAiB,YACvRqnC,EAAGE,YAAYW,QAAQ,uBAAuBloC,OAAOyO,WACjDr2C,OAAOC,OAAOgvE,EAAGE,YAAYW,QAAQ,uBAAuBloC,OAAOyO,WAAYvnC,EAAOghE,QAAQ,uBAAuBloC,OAAOyO,YAChI44B,EAAGE,YAAYW,QAAQ,uBAAuBloC,OAAO1xC,UAAY+4E,EAAGE,YAAYW,QAAQ,uBAAuBloC,OAAO1xC,UAAY,IAAIS,OAAOmY,EAAOghE,QAAQ,uBAAuBloC,OAAO1xC,UAAU,IAC/L+4E,EAAGE,YAAYW,QAAQ,uBAAuBloC,OAAO1xC,SAASG,eACxD44E,EAAGE,YAAYW,QAAQ,uBAAuBloC,OAAO1xC,UAG1D+4E,EAAGE,YAAYW,SAAWb,EAAGE,YAAYW,QAAQ,sCAAwCb,EAAGE,YAAYW,QAAQ,qCAAqCloC,QAAUqnC,EAAGE,YAAYW,QAAQ,qCAAqCloC,OAAOyO,YACrOvnC,EAAOghE,QAAQ,sCAAwChhE,EAAOghE,QAAQ,qCAAqCloC,QAAU94B,EAAOghE,QAAQ,qCAAqCloC,OAAOyO,YACnL44B,EAAGE,YAAYW,QAAQ,qCAAqCloC,OAAOyO,WAC/Dr2C,OAAOC,OAAOgvE,EAAGE,YAAYW,QAAQ,qCAAqCloC,OAAOyO,WAAYvnC,EAAOghE,QAAQ,qCAAqCloC,OAAOyO,YAC5J44B,EAAGE,YAAYW,QAAQ,qCAAqCloC,OAAO1xC,UAAY+4E,EAAGE,YAAYW,QAAQ,qCAAqCloC,OAAO1xC,UAAY,IAAIS,OAAOmY,EAAOghE,QAAQ,qCAAqCloC,OAAO1xC,UAAU,IACzO+4E,EAAGE,YAAYW,QAAQ,qCAAqCloC,OAAO1xC,SAASG,eACtE44E,EAAGE,YAAYW,QAAQ,qCAAqCloC,OAAO1xC,WAI9E+4E,EAAGE,YAAcnvE,OAAOC,OAAOgvE,EAAGE,YAAargE,GAC1CmgE,EAAGE,YAAY,gBACZF,EAAGE,YAAYvnC,QAAUqnC,EAAGE,YAAYvnC,OAAOF,KAC/CunC,EAAGE,YAAY,cAAgBla,mBAAmBga,EAAGE,YAAYvnC,OAAOF,KAAKpuC,QAAQ,wBAAyB,KAAKiI,MAAM,KAAKpK,KAAK,IAE9H83E,EAAGx7B,cACRw7B,EAAGE,YAAY,cAAgBxI,SAAOH,YAAYyI,EAAGx7B,gBAS7E,GAAIq7B,IAAUA,EAAM,gBAAiB,QAC1BA,EAAM5xC,KACb,IAAK,IAAIqnB,KAAQoiB,SAAOP,+BACb0I,EAAMvqB,GAGC,SAAbuqB,EAAMh8B,SAA8C,IAAnBg8B,EAAM54E,WAAiD,IAAnB44E,EAAM54E,WACxEuD,EAAQgwE,OACRhwE,EAAQ8yE,UACRuC,EAAM54E,UAAW,GAGjB+1E,WAAW,sDAAsD6C,EAAMz5E,KAAK,OAAOmZ,EAAM,IAAK/U,GAGzG,CAED,OAAOw1E,CACX,CAEA,SAASc,eAAezgC,EAAK2gC,GACzB,IAAK,IAAI1rB,KAAQjV,EACTiV,EAAKhlD,WAAW,QAAUglD,EAAKhlD,WAAW,WAC1C0wE,EAAI1rB,GAAQjV,EAAIiV,GAG5B,CAEA,SAAS2rB,gBAAgB3qC,EAAUlwC,EAAM45E,EAAIhG,EAASxvE,GAClD,IAAK8rC,EAAU,OAAO,EACtB,GAAIA,EAASmC,MAAkC,iBAAlBnC,EAASmC,KAC9BnC,EAASmC,KAAK/2B,QAAQ,mBAAqB,EAE3Cu7D,YAAY,gCAAkC3mC,EAASmC,KAAMnC,EAAU9rC,GAGnE8rC,EAASmC,KAAKnoC,WAAW,kBACzBgmC,EAASmC,KAAO,0BAA4Bi/B,SAAOJ,SAAStR,mBAAmB1vB,EAASmC,KAAKpuC,QAAQ,eAAgB,WAI5H,CAaD,SAZqC,IAAzBisC,EAAS3vC,aAA0D,OAAzB2vC,EAAS3vC,aAC7B,KAAzB2vC,EAAS3vC,aAAuB6D,EAAQgwE,SACzChwE,EAAQgwE,MACiB,iBAAblkC,GAA4B9uC,MAAMC,QAAQ6uC,KAClD9rC,EAAQ8yE,UACRhnC,EAAS3vC,YAAe01E,YAAY/lC,IAAa,IAIrD0mC,WAAW,gDAAiDxyE,SAGrC,IAApB8rC,EAASqC,OAAwB,CAQxC,GANAqlC,YAAY1nC,EAASqC,OAAOnuC,GAExB8rC,EAASqC,OAAOF,MAAyC,iBAAzBnC,EAASqC,OAAOF,MAAsBnC,EAASqC,OAAOF,KAAKnoC,WAAW,kBACtGgmC,EAASqC,OAAOF,KAAO,0BAA4Bi/B,SAAOJ,SAAStR,mBAAmB1vB,EAASqC,OAAOF,KAAKpuC,QAAQ,eAAgB,OAGnI21E,GAAMA,EAAG5B,UAAoC,iBAAhB4B,EAAG5B,SAAwB,CACxD,IAAI5zE,EAAQgwE,MAKR,OAAOwC,WAAW,kDAAmDxyE,GAJrEA,EAAQ8yE,UACR0C,EAAG5B,SAAW,CAAC4B,EAAG5B,SAKzB,CACGpE,EAAQoE,WAAa52E,MAAMC,QAAQuyE,EAAQoE,kBAAkBpE,EAAQoE,SAEzE,IAAIA,IAAa4B,EAAKA,EAAG5B,SAAW,OAAUpE,EAAQoE,UAAY,IAAKp1E,OAAO0uE,SAAOrB,YAChF+H,EAASh3E,QAAQg3E,EAASx0E,KAAK,OAEpC0sC,EAASuqC,QAAU,GACnB,IAAK,IAAIE,KAAY3C,EAAU,CAG3B,GAFA9nC,EAASuqC,QAAQE,GAAY,GAC7BzqC,EAASuqC,QAAQE,GAAUpoC,OAAS3H,MAAMsF,EAASqC,QAC/CrC,EAAS4qC,UAAY5qC,EAAS4qC,SAASH,GAAW,CAClD,IAAIL,EAAU,CAAA,EACdA,EAAQp5E,MAAQgvC,EAAS4qC,SAASH,GAClCzqC,EAASuqC,QAAQE,GAAUG,SAAW,CAAA,EACtC5qC,EAASuqC,QAAQE,GAAUG,SAAS5qC,SAAWoqC,SACxCpqC,EAAS4qC,SAASH,EAC5B,CAC8C,SAA3CzqC,EAASuqC,QAAQE,GAAUpoC,OAAO1K,OAClCqI,EAASuqC,QAAQE,GAAUpoC,OAAS,CAAE1K,KAAM,SAAU4G,OAAQ,UAErE,QACMyB,EAASqC,MACnB,CAED,IAAK,IAAIooC,KAAYzqC,EAAS4qC,SACrB5qC,EAASuqC,UAASvqC,EAASuqC,QAAU,CAAA,GACrCvqC,EAASuqC,QAAQE,KAAWzqC,EAASuqC,QAAQE,GAAY,IAC9DzqC,EAASuqC,QAAQE,GAAUG,SAAW,CAAA,EACtC5qC,EAASuqC,QAAQE,GAAUG,SAAS5qC,SAAW,CAAA,EAC/CA,EAASuqC,QAAQE,GAAUG,SAAS5qC,SAAShvC,MAAQgvC,EAAS4qC,SAASH,GAI3E,UAFOzqC,EAAS4qC,SAEZ5qC,EAAS5F,QACT,IAAK,IAAIpgB,KAAKgmB,EAAS5F,QACK,gBAApBpgB,EAAEsV,cACEp7B,EAAQgwE,OACRhwE,EAAQ8yE,iBACDhnC,EAAS5F,QAAQpgB,IAGxB0sD,WAAW,kDAAmDxyE,GAIlEi1E,cAAcnpC,EAAS5F,QAAQpgB,GAAI9lB,EAIlD,CACL,CAEA,SAAS22E,aAAar2B,EAAWs2B,EAAe52E,EAAS62E,EAAkBrH,GACvE,IAAK,IAAIjoD,KAAK+4B,EAAW,CACrB,IAAIh3C,EAAOg3C,EAAU/4B,GAEjBje,GAASA,EAAK,YAA2C,iBAApBA,EAAK,aAC1CA,EAAKwtE,MAAQxtE,EAAK,kBACXA,EAAK,YAEZA,GAASA,EAAK,cAA+C,iBAAtBA,EAAK,eAC5CA,EAAK5G,QAAU4G,EAAK,oBACbA,EAAK,cAEZA,GAASA,EAAK,kBAAuD,iBAA1BA,EAAK,mBAChDA,EAAKnN,YAAcmN,EAAK,wBACjBA,EAAK,kBAEZA,GAASA,EAAK,cAAkBtM,MAAMC,QAAQqM,EAAK,gBACnDA,EAAKytE,QAAUztE,EAAK,oBACbA,EAAK,cAEhB,IAAK,IAAIg/B,KAAUh/B,EACf,GAAK4jE,SAAOL,YAAY31D,QAAQoxB,IAAW,GAAkB,mCAAXA,EAA8C,CAC5F,IAAIktC,EAAKlsE,EAAKg/B,GAEd,GAAIktC,GAAMA,EAAGjnC,YAAcvxC,MAAMC,QAAQu4E,EAAGjnC,YAAa,CACrD,GAAIjlC,EAAKilC,WACL,IAAK,IAAI8mC,KAAS/rE,EAAKilC,WAAY,CACL,iBAAf8mC,EAAMpnC,OACbmnC,YAAYC,EAAOr1E,GACnBq1E,EAAQ5E,gBAAgBjB,EAAS6F,EAAMpnC,OAE/BunC,EAAGjnC,WAAWptC,MAAK,SAAUw4B,EAAGx0B,EAAG7F,GAC3C,OAASq6B,EAAE/9B,OAASy5E,EAAMz5E,MAAU+9B,EAAE0f,KAAOg8B,EAAMh8B,EACnF,KAEyD,aAAbg8B,EAAMh8B,IAAoC,SAAbg8B,EAAMh8B,IAAkC,SAAfg8B,EAAM5xC,OACxE+xC,EAAKI,iBAAiBP,EAAOG,EAAIlsE,EAAMg/B,EAAQ/gB,EAAGioD,EAASxvE,GACvDA,EAAQ21E,QAAiC,KAAvBH,EAAGx1E,EAAQ21E,gBACtBH,EAAGx1E,EAAQ21E,QAG7B,CAEL,IAAK,IAAIN,KAASG,EAAGjnC,WACjBinC,EAAKI,iBAAiBP,EAAOG,EAAIlsE,EAAMg/B,EAAQA,EAAS,IAAM/gB,EAAGioD,EAASxvE,GAE1EA,EAAQ21E,QAAiC,KAAvBH,EAAGx1E,EAAQ21E,gBACtBH,EAAGx1E,EAAQ21E,QAEjB31E,EAAQ8zC,OACL0hC,EAAGjnC,aAAYinC,EAAGjnC,WAAainC,EAAGjnC,WAAW/vC,OAAOw2E,gBAE/D,CAOD,GALIQ,GAAMA,EAAGwB,UAAU1C,gBAAgBkB,EAAGwB,UAKxB,iBAAPxB,EAAiB,CACxB,IAAKA,EAAG/mC,UAAW,CACf,IAAIwoC,EAAc,CAClBA,YAA0B,oBAC1BzB,EAAG/mC,UAAY,CAAEtxC,QAAS85E,EAC7B,CACD,IAAK,IAAItxD,KAAK6vD,EAAG/mC,UAAW,CAExBgoC,gBADejB,EAAG/mC,UAAU9oB,GACFA,EAAG6vD,EAAIhG,EAASxvE,EAC7C,CACJ,CAED,GAAIw1E,GAAOA,EAAG,cAAkBx4E,MAAMC,QAAQu4E,EAAG,cAC7CA,EAAGuB,QAAUvB,EAAG,oBACTA,EAAG,kBACP,GAAIA,GAAMA,EAAG0B,SAAW1B,EAAG0B,QAAQt6E,OACtC,IAAK,IAAI2+B,KAAUi6C,EAAG0B,QAClB,KAAM1H,EAAQ0H,SAAa1H,EAAQ0H,QAAQhgE,QAAQqkB,GAAU,KACpDi6C,EAAGuB,UACJvB,EAAGuB,QAAU,IAEb/5E,MAAMC,QAAQuyE,EAAQuH,UACtB,IAAK,IAAII,KAAU3H,EAAQuH,QAAS,CAChC,IAAIK,EAAY5wC,MAAM2wC,GAClBE,EAAY57C,MAAInqB,MAAM8lE,EAAU37C,KACpC47C,EAAUz1C,SAAWrG,EACrB67C,EAAU37C,IAAM47C,EAAUhtC,SAC1BmrC,EAAGuB,QAAQ33E,KAAKg4E,EACnB,CAUjB,GAJIp3E,EAAQ8zC,QACR0hC,EAAG,kBAAoBA,EAAG7B,UAAY,GACtC6B,EAAG,kBAAoBA,EAAG5B,UAAY,IAEtC4B,EAAI,CAKJ,UAJOA,EAAG7B,gBACH6B,EAAG5B,gBACH4B,EAAG0B,QAEN1B,EAAG,iBAAkB,CACrB,IAAK,IAAI77C,KAAK67C,EAAG,iBAAkB,CAC/B,IAAIU,EAAUV,EAAG,iBAAiB77C,GAC9B29C,EAAKpK,SAAOH,YAAYpzC,GAC5B,GAAIu8C,EAAQ3nC,WACR,IAAK,IAAIhnB,KAAK2uD,EAAQ3nC,WAAY,CAC9B,IAAIzxC,EAAQo5E,EAAQ3nC,WAAWhnB,GAC/B,IAAK,IAAI8tD,KAAUG,EAAGjnC,YAAY,IAAIrxC,OAAOoM,EAAKilC,YAAY,IACtD8mC,EAAMpnC,OACNonC,EAAQlN,KAAKA,KAAKqH,EAAQ6F,EAAMpnC,OAE/BonC,EAAMz5E,OAAS2rB,GAAQ8tD,EAAMa,UACzBb,EAAMqB,WACPrB,EAAMqB,SAAW,IAErBrB,EAAMqB,SAAS/8C,GAAK,CAAC78B,MAAOA,GAGvC,CAEL,GAAIo5E,EAAQznC,UACR,IAAK,IAAI9oB,KAAKuwD,EAAQznC,UAAW,CAC7B,GAAIynC,EAAQznC,UAAU9oB,GAAGugB,QACrB,IAAK,IAAIpgB,KAAKowD,EAAQznC,UAAU9oB,GAAGugB,QAAS,CACxC,IAAIppC,EAAQo5E,EAAQznC,UAAU9oB,GAAGugB,QAAQpgB,GACzC,IAAK,IAAIyxD,KAAM/B,EAAG/mC,UAAU9oB,GAAGugB,QAC3B,GAAIqxC,IAAOzxD,EAAG,CACG0vD,EAAG/mC,UAAU9oB,GAAGugB,QAAQqxC,GAC9BrB,QAAUp5E,CACpB,CAER,CAEL,GAAIo5E,EAAQznC,UAAU9oB,GAAGmf,OACrB0qC,EAAQnH,WAAWqO,SAASY,GAAM,CAAEx6E,MAAO0pC,MAAM0vC,EAAQznC,UAAU9oB,GAAGmf,OAClE0wC,EAAG/mC,UAAU9oB,IAAM6vD,EAAG/mC,UAAU9oB,GAAG0wD,SACnC,IAAK,IAAIlwC,KAAMqvC,EAAG/mC,UAAU9oB,GAAG0wD,QAAS,CACpC,IAAIzsC,EAAc4rC,EAAG/mC,UAAU9oB,GAAG0wD,QAAQlwC,GACrCyD,EAAY8sC,WACb9sC,EAAY8sC,SAAW,IAE3B9sC,EAAY8sC,SAAS/8C,GAAK,CAAEsU,KAAM,yBAAyBqpC,EAC9D,CAIZ,CAER,QACM9B,EAAG,gBACb,CAGD,GADIA,EAAGjnC,YAAuC,IAAzBinC,EAAGjnC,WAAW3xC,eAAqB44E,EAAGjnC,WACvDinC,EAAGE,YAAa,CAChB,IAAI8B,EAAuBhC,EAAGx7B,YAAckzB,SAAOH,YAAYyI,EAAGx7B,aAAekzB,SAAOH,YAAYzkC,EAAS/gB,GAAGklD,cAC5GgL,EAASvK,SAAOJ,SAAS0I,EAAGE,YAAY,eAAiB8B,GAAwB,WAC9EhC,EAAGE,YAAY,cACtB,IAAIgC,EAAQ50E,KAAKC,UAAUyyE,EAAGE,aAC1BiC,EAASzK,SAAOnrC,KAAK21C,GACzB,IAAKb,EAAiBc,GAAS,CAC3B,IAAIvN,EAAQ,CAAA,EACZA,EAAMxuE,KAAO67E,EACbrN,EAAMtlC,KAAO0wC,EAAGE,YAChBtL,EAAM8E,KAAO,GACb2H,EAAiBc,GAAUvN,CAC9B,CACD,IAAIgG,EAAM,KAAKwG,EAAc,IAAInN,mBAAmBtB,KAAKF,SAAS1gD,IAAI,IAAI+gB,EAAO,eACjFuuC,EAAiBc,GAAQzI,KAAK9vE,KAAKgxE,EACtC,CACJ,CAEJ,CAEL,GAAI9mE,GAAQA,EAAKilC,WAAY,CACzB,IAAK,IAAI5H,KAAMr9B,EAAKilC,WAAY,CAE5BqnC,iBADYtsE,EAAKilC,WAAW5H,GACJ,KAAMr9B,EAAM,KAAMie,EAAGioD,EAASxvE,EACzD,EACIA,EAAQ8zC,OAAS92C,MAAMC,QAAQqM,EAAKilC,cACrCjlC,EAAKilC,WAAajlC,EAAKilC,WAAW/vC,OAAOw2E,gBAEhD,CACJ,CACL,CAEA,SAAS4C,KAAKpI,EAASxvE,GAEnB,IAAI62E,EAAmB,CAAA,EACvBvE,eAAiB,CAAE/O,QAAS,CAAA,GAExBiM,EAAQwH,UAAU1C,gBAAgB9E,EAAQwH,UAE9C,IAAK,IAAIp+D,KAAK42D,EAAQnH,WAAWwP,gBAAiB,CAC9C,IAAIrD,EAAQtH,SAAOJ,SAASl0D,GACxBA,IAAM47D,IACFhF,EAAQnH,WAAWwP,gBAAgBrD,IACnChC,WAAW,2CAA6CgC,EAAOx0E,GAEnEwvE,EAAQnH,WAAWwP,gBAAgBrD,GAAShF,EAAQnH,WAAWwP,gBAAgBj/D,UACxE42D,EAAQnH,WAAWwP,gBAAgBj/D,IAE9C67D,sBAAsBjF,EAAQnH,WAAWwP,gBAAgBrD,GAAQx0E,EACpE,CAED,IAAK,IAAI4Y,KAAK42D,EAAQnH,WAAW9E,QAAS,CACtC,IAAIiR,EAAQtH,SAAOH,YAAYn0D,GAC3BmzC,EAAS,GACb,GAAInzC,IAAM47D,EAAO,CACb,KAAOhF,EAAQnH,WAAW9E,QAAQiR,EAAQzoB,IAEtCA,EAAUA,IAAWA,EAAS,EAElCyjB,EAAQnH,WAAW9E,QAAQiR,EAAQzoB,GAAUyjB,EAAQnH,WAAW9E,QAAQ3qD,UACjE42D,EAAQnH,WAAW9E,QAAQ3qD,EACrC,CACD05D,eAAe/O,QAAQ3qD,GAAK47D,EAAQzoB,EACpCynB,YAAYhE,EAAQnH,WAAW9E,QAAQiR,EAAMzoB,GAAQ/rD,EACxD,CAGDA,EAAQ8zE,OAAS,GACjBvK,QAAQiG,EAAS,CAAEpG,QAAS,CAAEppE,QAASA,IAAa0zE,WACpDW,WAAW7E,EAAQxvE,GAEnB,IAAK,IAAIunB,KAAKioD,EAAQnH,WAAW95B,WAAY,CACzC,IAAIimC,EAAQtH,SAAOJ,SAASvlD,GACxBA,IAAMitD,IACFhF,EAAQnH,WAAW95B,WAAWimC,IAC9BhC,WAAW,sCAAwCgC,EAAOx0E,GAE9DwvE,EAAQnH,WAAW95B,WAAWimC,GAAShF,EAAQnH,WAAW95B,WAAWhnB,UAC9DioD,EAAQnH,WAAW95B,WAAWhnB,IAGzCquD,iBADYpG,EAAQnH,WAAW95B,WAAWimC,GAClB,KAAM,KAAM,KAAMA,EAAOhF,EAASxvE,EAC7D,CAED,IAAK,IAAI2lB,KAAK6pD,EAAQnH,WAAW55B,UAAW,CACxC,IAAI+lC,EAAQtH,SAAOJ,SAASnnD,GACxBA,IAAM6uD,IACFhF,EAAQnH,WAAW55B,UAAU+lC,IAC7BhC,WAAW,qCAAuCgC,EAAOx0E,GAE7DwvE,EAAQnH,WAAW55B,UAAU+lC,GAAShF,EAAQnH,WAAW55B,UAAU9oB,UAC5D6pD,EAAQnH,WAAW55B,UAAU9oB,IAExC,IAAImmB,EAAW0jC,EAAQnH,WAAW55B,UAAU+lC,GAE5C,GADAiC,gBAAgB3qC,EAAU0oC,EAAO,KAAMhF,EAASxvE,GAC5C8rC,EAAS5F,QACT,IAAK,IAAIpgB,KAAKgmB,EAAS5F,QACK,gBAApBpgB,EAAEsV,cACEp7B,EAAQgwE,OACRhwE,EAAQ8yE,iBACDhnC,EAAS5F,QAAQpgB,IAGxB0sD,WAAW,kDAAmDxyE,GAIlEi1E,cAAcnpC,EAAS5F,QAAQpgB,GAAI9lB,EAIlD,CAED,IAAK,IAAI2lB,KAAK6pD,EAAQnH,WAAWyP,cAAe,CAC5C,IAAIC,EAAKvI,EAAQnH,WAAWyP,cAAcnyD,GACtC+xD,EAAQ50E,KAAKC,UAAUg1E,GACvBJ,EAASzK,SAAOnrC,KAAK21C,GACrBtN,EAAQ,CAAA,EACZA,EAAMxuE,KAAO+pB,EACbykD,EAAMtlC,KAAOizC,EACb3N,EAAM8E,KAAO,GACb2H,EAAiBc,GAAUvN,CAC9B,CAOD,GALAuM,aAAanH,EAAQngC,MAAO,QAASrvC,EAAS62E,EAAkBrH,GAC5DA,EAAQ,eACRmH,aAAanH,EAAQ,cAAe,aAAcxvE,EAAS62E,EAAkBrH,IAG5ExvE,EAAQ8zC,MACT,IAAK,IAAIvsB,KAAKioD,EAAQnH,WAAW95B,WAAY,CAC7BihC,EAAQnH,WAAW95B,WAAWhnB,GAChC,wBACCioD,EAAQnH,WAAW95B,WAAWhnB,EAE5C,CAGDvnB,EAAQ8zC,QACR07B,EAAQ,kBAAoBA,EAAQmE,UAAY,GAChDnE,EAAQ,kBAAoBA,EAAQoE,UAAY,WAE7CpE,EAAQmE,gBACRnE,EAAQoE,gBACRpE,EAAQ0H,QAEf,IAAIc,EAAmB,GAIvB,GAFAxI,EAAQnH,WAAWyP,cAAgB,IAE9B93E,EAAQywE,gBAAiB,CAC1B,IAAI5yC,EAAU,EACd,IAAK,IAAIlE,KAAKk9C,EAAkB,CAC5B,IAAIzM,EAAQyM,EAAiBl9C,GAC7B,GAAIywC,EAAM8E,KAAKtyE,OAAS,EAAG,CAEvB,IAAImvD,EAAS,GAMb,IALKqe,EAAMxuE,OACPwuE,EAAMxuE,KAAO,cAEbmwD,EAASluB,KAENm6C,EAAiB9gE,QAAQkzD,EAAMxuE,KAAOmwD,IAAW,GAEpDA,EAAUA,IAAWA,EAAS,EAElCqe,EAAMxuE,KAAOwuE,EAAMxuE,KAAOmwD,EAC1BisB,EAAiB54E,KAAKgrE,EAAMxuE,MAC5B4zE,EAAQnH,WAAWyP,cAAc1N,EAAMxuE,MAAQ4qC,MAAM4jC,EAAMtlC,MAC3D,IAAK,IAAInf,KAAKykD,EAAM8E,KAAM,CACtB,IAAIQ,EAAM,CAAA,EACVA,EAAIzhC,KAAO,8BAAgCm8B,EAAMxuE,KACjDusE,KAAKA,KAAKqH,EAAQpF,EAAM8E,KAAKvpD,GAAG+pD,EACnC,CACJ,CACJ,CACJ,CA2BD,OAzBIF,EAAQnH,WAAW55B,WAAkE,IAArDloC,OAAOqR,KAAK43D,EAAQnH,WAAW55B,WAAW7xC,eACnE4yE,EAAQnH,WAAW55B,UAE1B+gC,EAAQnH,WAAW95B,YAAoE,IAAtDhoC,OAAOqR,KAAK43D,EAAQnH,WAAW95B,YAAY3xC,eACrE4yE,EAAQnH,WAAW95B,WAE1BihC,EAAQnH,WAAWqO,UAAgE,IAApDnwE,OAAOqR,KAAK43D,EAAQnH,WAAWqO,UAAU95E,eACjE4yE,EAAQnH,WAAWqO,SAE1BlH,EAAQnH,WAAWyP,eAA0E,IAAzDvxE,OAAOqR,KAAK43D,EAAQnH,WAAWyP,eAAel7E,eAC3E4yE,EAAQnH,WAAWyP,cAE1BtI,EAAQnH,WAAWwP,iBAA8E,IAA3DtxE,OAAOqR,KAAK43D,EAAQnH,WAAWwP,iBAAiBj7E,eAC/E4yE,EAAQnH,WAAWwP,gBAE1BrI,EAAQnH,WAAWniC,SAA8D,IAAnD3/B,OAAOqR,KAAK43D,EAAQnH,WAAWniC,SAAStpC,eAC/D4yE,EAAQnH,WAAWniC,QAE1BspC,EAAQnH,WAAW9E,SAA8D,IAAnDh9D,OAAOqR,KAAK43D,EAAQnH,WAAW9E,SAAS3mE,eAC/D4yE,EAAQnH,WAAW9E,QAE1BiM,EAAQnH,YAAyD,IAA3C9hE,OAAOqR,KAAK43D,EAAQnH,YAAYzrE,eAC/C4yE,EAAQnH,WAGZmH,CACX,CAEA,SAASyI,wBAAwBd,GAC7B,OAAKA,GAAWA,EAAO17C,KAA8B,iBAAf07C,EAAO17C,KAC7C07C,EAAO17C,IAAM07C,EAAO17C,IAAI3zB,MAAM,MAAMpK,KAAK,KACzCy5E,EAAO17C,IAAM07C,EAAO17C,IAAI3zB,MAAM,MAAMpK,KAAK,KACzCy5E,EAAO17C,IAAI57B,QAAQ,cAAc,SAAUf,EAAO4tE,GACzCyK,EAAOe,YACRf,EAAOe,UAAY,IAEvBf,EAAOe,UAAUxL,GAAU,CAAEvvE,QAAS,UAC9C,IACWg6E,GATgEA,CAU3E,CAEA,SAASgB,QAAQ3I,EAASxvE,EAASylC,GAC/B,QAA6B,IAAjB+pC,EAAQ35C,MAA2C,OAAjB25C,EAAQ35C,KAAgB,CAClE,IAAI71B,EAAQgwE,MAKR,OAAOvqC,EAAO,IAAI8sC,SAAS,yCAJ3BvyE,EAAQ8yE,UACRtD,EAAQ35C,KAAO,CAAE7c,QAAS,GAAIyhC,MAAO,GAK5C,CACD,GAA6B,iBAAjB+0B,EAAQ35C,MAAuB74B,MAAMC,QAAQuyE,EAAQ35C,MAC7D,OAAO4P,EAAO,IAAI8sC,SAAS,2BAE/B,QAAmC,IAAvB/C,EAAQ35C,KAAK4kB,OAAkD,OAAvB+0B,EAAQ35C,KAAK4kB,MAAiB,CAC9E,IAAIz6C,EAAQgwE,MAKR,OAAOvqC,EAAO,IAAI8sC,SAAS,0CAJ3BvyE,EAAQ8yE,UACRtD,EAAQ35C,KAAK4kB,MAAQ,EAK5B,CACD,QAAqC,IAAzB+0B,EAAQ35C,KAAK7c,SAAsD,OAAzBw2D,EAAQ35C,KAAK7c,QAAmB,CAClF,IAAIhZ,EAAQgwE,MAKR,OAAOvqC,EAAO,IAAI8sC,SAAS,4CAJ3BvyE,EAAQ8yE,UACRtD,EAAQ35C,KAAK7c,QAAU,EAK9B,CACD,GAAoC,iBAAzBw2D,EAAQ35C,KAAK7c,QAAsB,CAC1C,IAAIhZ,EAAQgwE,MAKR,OAAOvqC,EAAO,IAAI8sC,SAAS,8CAJ3BvyE,EAAQ8yE,UACRtD,EAAQ35C,KAAK7c,QAAUw2D,EAAQ35C,KAAK7c,QAAQgQ,UAKnD,CACD,QAAiC,IAAtBwmD,EAAQ35C,KAAKuiD,KAAsB,CAC1C,IAAIp4E,EAAQgwE,MAKP,OAAOvqC,EAAO,IAAI8sC,SAAS,mDAJ5BvyE,EAAQ8yE,UACRtD,EAAQ35C,KAAK,UAAY25C,EAAQ35C,KAAKuiD,YAC/B5I,EAAQ35C,KAAKuiD,IAG3B,CACD,QAA2C,IAAhC5I,EAAQ35C,KAAKwiD,eAAgC,CACpD,GAAoC,OAAhC7I,EAAQ35C,KAAKwiD,eAAyB,CACtC,IAAIr4E,EAAQgwE,MAKR,OAAOvqC,EAAO,IAAI8sC,SAAS,mDAJ3BvyE,EAAQ8yE,UACRtD,EAAQ35C,KAAKwiD,eAAiB,EAKrC,CACD,IACY,IAAIl2C,IAAIqtC,EAAQ35C,KAAKwiD,eAChC,CACD,MAAOnK,GACH,IAAIluE,EAAQgwE,MAIP,OAAOvqC,EAAO,IAAI8sC,SAAS,kDAH5BvyE,EAAQ8yE,iBACDtD,EAAQ35C,KAAKwiD,cAG3B,CACJ,CACL,CAEA,SAASC,SAAS9I,EAASxvE,EAASylC,GAChC,QAA6B,IAAlB+pC,EAAQngC,MAAuB,CACtC,IAAIrvC,EAAQgwE,MAKR,OAAOvqC,EAAO,IAAI8sC,SAAS,0CAJ3BvyE,EAAQ8yE,UACRtD,EAAQngC,MAAQ,EAKvB,CACL,CAEA,SAASkpC,uBAAuBl2C,EAAKriC,GACjC,MAAMqpE,EAAO,IAAImP,QACjBjP,QAAQlnC,EAAK,CAACinC,mBAAkB,IAAO,SAAUjnC,EAAK96B,EAAKq4B,GAC9B,iBAAbyC,EAAI96B,IAAoC,OAAb86B,EAAI96B,KACnC8hE,EAAK7hE,IAAI66B,EAAI96B,IACTvH,EAAQizD,QACR5wB,EAAI96B,GAAOi/B,MAAMnE,EAAI96B,IAGrBirE,WAAW,+BAA+B5yC,EAAMt2B,KAAMtJ,GAI1DqpE,EAAK5hE,IAAI46B,EAAI96B,IAG7B,GACA,CAEA,SAASkxE,WAAW7gC,EAAS53C,EAASyV,GAClC,OAAOyoC,MAAMzoC,EAAU,IAAIiuB,SAAQ,SAAUzxB,EAASwzB,GAiBlD,GAhBKmS,IAASA,EAAU,IACxB53C,EAAQwrC,SAAWoM,EACd53C,EAAQga,OAAMha,EAAQga,KAAOguD,KAAKjlE,UAAU60C,IACjD53C,EAAQ8vE,UAAY,GACpB9vE,EAAQytE,aAAe,GACvBztE,EAAQqvE,aAAc,EACtBrvE,EAAQ0wE,cAAe,EACvB1wE,EAAQkV,QAAU,GAClBlV,EAAQkV,QAAQjD,QAAUA,EAC1BjS,EAAQkV,QAAQuwB,OAASA,EACzBzlC,EAAQ8yE,QAAU,EACb9yE,EAAQoxC,QAAOpxC,EAAQoxC,MAAQ,CAAA,GAChCpxC,EAAQ0Q,SAAQ1Q,EAAQoxC,MAAMpxC,EAAQ0Q,QAAU1Q,EAAQwrC,UAE5D+sC,uBAAuB3gC,EAAS53C,GAE5B43C,EAAQ43B,SAAuC,iBAApB53B,EAAQ43B,SAAyB53B,EAAQ43B,QAAQ1pE,WAAW,MAkBvF,OAjBA9F,EAAQwvE,QAAUsC,OAAOl6B,GACzBugC,QAAQn4E,EAAQwvE,QAASxvE,EAASylC,GAClC6yC,SAASt4E,EAAQwvE,QAASxvE,EAASylC,QAEnC8pC,SAASsB,gBAAgB7wE,GACxBmV,MAAK,WACF,OAAInV,EAAQ04E,OACDzmE,EAAQjS,EAAQwvE,SAGhBv9D,EAAQjS,EAEnC,IACa4uE,OAAM,SAASV,GACZpzD,QAAQk2B,KAAKk9B,GACbzoC,EAAOyoC,EACvB,IAIQ,IAAMt2B,EAAQA,SAAgC,OAAnBA,EAAQA,QAC/B,OAAOnS,EAAO,IAAI8sC,SAAS,yCAA2C36B,EAAQ43B,QAAU53B,EAAQ43B,QAAU53B,EAAQA,WAGtH,IAAI43B,EAAUxvE,EAAQwvE,QAAU,GAGhC,GAFAA,EAAQA,QAA4C,iBAA1BxvE,EAAQqyE,eAA8BryE,EAAQqyE,cAAcvsE,WAAW,MAAS9F,EAAQqyE,cAAgBA,cAE9HryE,EAAQ2hC,OAAQ,CACX6tC,EAAQ,cACTA,EAAQ,YAAc,IAE1B,IAAI7tC,EAAS,CAAA,EACbA,EAAOlG,IAAMz7B,EAAQ0Q,QAAQ1Q,EAAQ2hC,OACrCA,EAAO0I,OAAS,UAChB1I,EAAO3oB,QAAU4+B,EAAQA,QACzBjW,EAAOg3C,UAAY,GACnBh3C,EAAOg3C,UAAUl9C,IAAM,qCACvBkG,EAAOg3C,UAAU3/D,QAAUm5D,WAC3B3C,EAAQ,YAAYpwE,KAAKuiC,EAC5B,CASD,GANA6tC,EAAUjpE,OAAOC,OAAOgpE,EAASsC,OAAOl6B,WACjC43B,EAAQ53B,QACf2xB,QAAQiG,EAAS,CAAE,GAAE,SAASntC,EAAK96B,EAAKq4B,GAClB,OAAbyC,EAAI96B,KAAoBA,EAAIzB,WAAW,OAAkB,YAARyB,GAAsBq4B,EAAMt2B,KAAK4N,QAAQ,YAAc,UAAWmrB,EAAI96B,EACxI,IAEYqwC,EAAQ5Z,KACR,IAAK,IAAIplB,KAAM5b,MAAMC,QAAQ26C,EAAQs/B,SAAWt/B,EAAQs/B,QAAU,CAAC,IAAM,CACrE,IAAIC,EAAS,CAAA,EACTyB,GAAYhhC,EAAQghC,UAAY,IAAI/4E,QAAQ,MAAO,IACvDs3E,EAAO17C,KAAO7iB,EAAIA,EAAE,IAAM,IAAM,KAAOg/B,EAAQ5Z,KAAO46C,EACtDX,wBAAwBd,GACnB3H,EAAQuH,UAASvH,EAAQuH,QAAU,IACxCvH,EAAQuH,QAAQ33E,KAAK+3E,EACxB,MAEA,GAAIv/B,EAAQghC,SAAU,CACvB,IAAIzB,EAAS,CAAA,EACbA,EAAO17C,IAAMmc,EAAQghC,SACrBX,wBAAwBd,GACnB3H,EAAQuH,UAASvH,EAAQuH,QAAU,IACxCvH,EAAQuH,QAAQ33E,KAAK+3E,EACxB,CAWD,UAVO3H,EAAQxxC,YACRwxC,EAAQoJ,SAEXpJ,EAAQ,cAAgBxyE,MAAMC,QAAQuyE,EAAQ,gBAC9CA,EAAQuH,QAAUvH,EAAQ,oBACnBA,EAAQ,cAKf53B,EAAQ,2BAA4B,CACpC,IAAIihC,EAAWjhC,EAAQ,2BACnBu/B,EAAS,CAAA,EACbA,EAAO17C,IAAMo9C,EAASC,cAAgBlhC,EAAQghC,SAAWhhC,EAAQghC,SAAW,IAC5EzB,EAAOe,UAAY,GACnB,MAAMa,EAAa5B,EAAO17C,IAAI38B,MAAM,YACpC,IAAK,IAAIk6E,KAAOH,EAAStqC,WAAY,CACjC,IAAI8mC,EAAQwD,EAAStqC,WAAWyqC,GAC5B3D,EAAMpnC,OACNonC,EAAQ7uC,MAAMiqC,gBAAgBjB,EAAS6F,EAAMpnC,QAE5C+qC,EAAIlzE,WAAW,eACTuvE,EAAM54E,gBACN44E,EAAM5xC,YACN4xC,EAAMh8B,QACgB,IAAlBg8B,EAAMl4E,UACTk4E,EAAM4D,KACN5D,EAAMl4E,QAAUk4E,EAAM4D,KAAK,GAG3B5D,EAAMl4E,QAAU,QAGnBk4E,EAAMz5E,OACTy5E,EAAMz5E,KAAOm9E,EAAWC,GAAKn5E,QAAQ,IAAI,IAAIA,QAAQ,IAAI,KAE3Ds3E,EAAOe,UAAU7C,EAAMz5E,MAAQy5E,SACxBA,EAAMz5E,KAEpB,CACI4zE,EAAQuH,UAASvH,EAAQuH,QAAU,KACP,IAA7B8B,EAASK,gBAET1J,EAAQuH,QAAQ33E,KAAK+3E,GAGrBv/B,EAAQs/B,QAAQh2E,SAASq6B,IACrBi0C,EAAQuH,QAAQ33E,KACZmH,OAAOC,OAAO,CAAE,EAAE2wE,EAAQ,CAAE17C,IAAKF,EAAS,MAAQ47C,EAAO17C,MAC5D,WAGF+zC,EAAQ,0BAClB,CAED2I,QAAQ3I,EAASxvE,EAASylC,GAC1B6yC,SAAS9I,EAASxvE,EAASylC,GAEK,iBAArB+pC,EAAQmE,WACfnE,EAAQmE,SAAW,CAACnE,EAAQmE,WAEA,iBAArBnE,EAAQoE,WACfpE,EAAQoE,SAAW,CAACpE,EAAQoE,WAGhCpE,EAAQnH,WAAa,GACjBmH,EAAQ,iBACRA,EAAQnH,WAAW8Q,UAAY3J,EAAQ,sBAChCA,EAAQ,gBAEnBA,EAAQnH,WAAWqO,SAAW,GAC9BlH,EAAQnH,WAAWniC,QAAU,GACzBspC,EAAQ,aACRA,EAAQnH,WAAW+Q,MAAQ5J,EAAQ,kBAC5BA,EAAQ,YAEnBA,EAAQnH,WAAW95B,WAAaihC,EAAQjhC,YAAc,CAAA,EACtDihC,EAAQnH,WAAW55B,UAAY+gC,EAAQ/gC,WAAa,CAAA,EACpD+gC,EAAQnH,WAAWyP,cAAgB,GACnCtI,EAAQnH,WAAWwP,gBAAkBrI,EAAQ6J,qBAAuB,CAAA,EACpE7J,EAAQnH,WAAW9E,QAAUiM,EAAQ9yB,aAAe,CAAA,SAC7C8yB,EAAQ9yB,mBACR8yB,EAAQ/gC,iBACR+gC,EAAQjhC,kBACRihC,EAAQ6J,oBAEf9J,SAASsB,gBAAgB7wE,GACxBmV,MAAK,WACFyiE,KAAK53E,EAAQwvE,QAASxvE,GAClBA,EAAQ04E,OACRzmE,EAAQjS,EAAQwvE,SAGhBv9D,EAAQjS,EAExB,IACS4uE,OAAM,SAASV,GACZpzD,QAAQk2B,KAAKk9B,GACbzoC,EAAOyoC,EACnB,GAEK,IACL,CAEA,SAASoL,WAAWh1E,EAAKtE,EAASyV,GAC9B,OAAOyoC,MAAMzoC,EAAU,IAAIiuB,SAAQ,SAAUzxB,EAASwzB,GAClD,IAAIpD,EAAM,KACNrmC,EAAQ,KACZ,IACIqmC,EAAMv/B,KAAKwO,MAAMhN,GACjBtE,EAAQga,KAAOlX,KAAKC,UAAUs/B,EAAI,KAAK,EAC1C,CACD,MAAO6rC,GACHlyE,EAAQkyE,EACR,IACI7rC,EAAM2lC,KAAK12D,MAAMhN,EAAK,CAAE6pC,OAAQ,OAAQg3B,cAAc,IACtDnlE,EAAQu5E,YAAa,EACrBv5E,EAAQga,KAAO1V,CAClB,CACD,MAAO4pE,GACHlyE,EAAQkyE,CACX,CACJ,CACG7rC,EACAo2C,WAAWp2C,EAAKriC,GACfmV,MAAKnV,GAAWiS,EAAQjS,KACxB4uE,OAAMV,GAAMzoC,EAAOyoC,KAGpBzoC,EAAO,IAAI8sC,SAASv2E,EAAQA,EAAMR,QAAU,0BAEnD,IACL,CAEA,SAASg+E,WAAW/9C,EAAKz7B,EAASyV,GAC9B,OAAOyoC,MAAMzoC,EAAU,IAAIiuB,SAAQ,SAAUzxB,EAASwzB,GAClDzlC,EAAQ2hC,QAAS,EACZ3hC,EAAQ0Q,SACT1Q,EAAQ0Q,OAAS+qB,GAEjBz7B,EAAQ8pE,SACRhvD,QAAQk2B,KAAK,OAASvV,GAErBz7B,EAAQ4rC,QACX5rC,EAAQ4rC,MAAQA,OAElB,MAAMijC,EAAetoE,OAAOC,OAAO,GAAIxG,EAAQ6uE,aAAc,CAAC/jC,MAAM9qC,EAAQ8qC,QAC5E9qC,EAAQ4rC,MAAMnQ,EAAKozC,GAAc15D,MAAK,SAAUsqB,GAC5C,GAAmB,MAAfA,EAAItG,OAAgB,MAAM,IAAIo5C,SAAS,wBAAwB9yC,EAAItG,WAAWsC,KAClF,OAAOgE,EAAIzlB,MACvB,IAAW7E,MAAK,SAAU2vB,GACdw0C,WAAWx0C,EAAM9kC,GAChBmV,MAAKnV,GAAWiS,EAAQjS,KACxB4uE,OAAMV,GAAMzoC,EAAOyoC,IAChC,IAAWU,OAAM,SAAUvgE,GACfo3B,EAAOp3B,EACnB,GACK,IACL,CAEA,SAASorE,YAAYpgE,EAAUrZ,EAASyV,GACpC,OAAOyoC,MAAMzoC,EAAU,IAAIiuB,SAAQ,SAAUzxB,EAASwzB,GAClDj8B,KAAG+jE,SAASl0D,EAAUrZ,EAAQstE,UAAY,QAAQ,SAAUj/D,EAAKuK,GACzDvK,EACAo3B,EAAOp3B,IAGPrO,EAAQ05E,WAAargE,EACrBigE,WAAW1gE,EAAG5Y,GACbmV,MAAKnV,GAAWiS,EAAQjS,KACxB4uE,OAAMV,GAAMzoC,EAAOyoC,KAEpC,GACK,IACL,CAEA,SAASyL,cAAc91C,EAAU7jC,EAASyV,GACtC,OAAOyoC,MAAMzoC,EAAU,IAAIiuB,SAAQ,SAAUzxB,EAASwzB,GAClD,IAAI0J,EAAO,GACXtL,EAASv0B,GAAG,QAAQ,SAAUmjB,GAC1B0c,GAAQ1c,CACpB,IACSnjB,GAAG,OAAO,WACPgqE,WAAWnqC,EAAMnvC,GAChBmV,MAAKnV,GAAWiS,EAAQjS,KACxB4uE,OAAMV,GAAMzoC,EAAOyoC,IAChC,GACK,IACL,CAEA,IAAA0L,gBAAiB,CACbrH,SAAUA,SACVF,cAAeA,cACf9tD,QAASk0D,WACTA,WAAYA,WACZe,WAAYA,WACZF,WAAYA,WACZG,YAAaA,YACbE,cAAeA,kEC9nDJ,SAAShmE,KAAKtW,EAAIqrC,GAC/B,OAAO,WACL,OAAOrrC,EAAGsR,MAAM+5B,EAASvpC,UAC7B,CACA,CCAA,MAAM6pB,SAACA,UAAYziB,OAAO+tB,WACpB4U,eAACA,gBAAkB3iC,OAEnBszE,QAAUzoC,MAGb7qC,OAAOqtB,OAAO,MAHQkmD,IACrB,MAAMx1E,EAAM0kB,SAASsb,KAAKw1C,GAC1B,OAAO1oC,MAAM9sC,KAAS8sC,MAAM9sC,GAAOA,EAAI3H,MAAM,GAAI,GAAGy+B,cAAc,GAFvD,IAACgW,MAKhB,MAAM2oC,WAAct2C,IAClBA,EAAOA,EAAKrI,cACJ0+C,GAAUD,OAAOC,KAAWr2C,GAGhCu2C,WAAav2C,GAAQq2C,UAAgBA,IAAUr2C,GAS/CxmC,QAACA,SAAWD,MASZi9E,YAAcD,WAAW,aAS/B,SAASpgE,WAAS3K,GAChB,OAAe,OAARA,IAAiBgrE,YAAYhrE,IAA4B,OAApBA,EAAI5T,cAAyB4+E,YAAYhrE,EAAI5T,cACpF6+E,aAAWjrE,EAAI5T,YAAYue,WAAa3K,EAAI5T,YAAYue,SAAS3K,EACxE,CASA,MAAMkrE,cAAgBJ,WAAW,eAUjC,SAASK,kBAAkBnrE,GACzB,IAAIoG,EAMJ,OAJEA,EAD0B,oBAAhBguB,aAAiCA,YAAkB,OACpDA,YAAYC,OAAOr0B,GAEnB,GAAUA,EAAU,QAAMkrE,cAAclrE,EAAIksB,QAEhD9lB,CACT,CASA,MAAMglE,WAAWL,WAAW,UAQtBE,aAAaF,WAAW,YASxBM,SAAWN,WAAW,UAStBO,SAAYT,GAAoB,OAAVA,GAAmC,iBAAVA,EAQ/C72E,UAAY62E,IAAmB,IAAVA,IAA4B,IAAVA,EASvCU,cAAiBvrE,IACrB,GAAoB,WAAhB4qE,OAAO5qE,GACT,OAAO,EAGT,MAAMqlB,EAAY4U,eAAej6B,GACjC,QAAsB,OAAdqlB,GAAsBA,IAAc/tB,OAAO+tB,WAAkD,OAArC/tB,OAAO2iC,eAAe5U,IAA0BqD,OAAO6M,eAAev1B,GAAU0oB,OAAO4Q,YAAYt5B,EAAI,EAUnKwrE,OAASV,WAAW,QASpBW,OAASX,WAAW,QASpB10C,OAAS00C,WAAW,QASpBY,WAAaZ,WAAW,YASxBa,SAAY3rE,GAAQsrE,SAAStrE,IAAQirE,aAAWjrE,EAAI63B,MASpD+zC,WAAcf,IAClB,IAAIhxC,EACJ,OAAOgxC,IACgB,mBAAbgB,UAA2BhB,aAAiBgB,UAClDZ,aAAWJ,EAAMzzC,UACY,cAA1ByC,EAAO+wC,OAAOC,KAEL,WAAThxC,GAAqBoxC,aAAWJ,EAAM9wD,WAAkC,sBAArB8wD,EAAM9wD,YAG/D,EAUGoc,kBAAoB20C,WAAW,mBAS/BxnD,KAAQjuB,GAAQA,EAAIiuB,KACxBjuB,EAAIiuB,OAASjuB,EAAIzE,QAAQ,qCAAsC,IAiBjE,SAASqB,QAAQmhC,EAAKhlC,GAAI09E,WAACA,GAAa,GAAS,IAE/C,GAAI14C,QACF,OAGF,IAAIl9B,EACA4gB,EAQJ,GALmB,iBAARsc,IAETA,EAAM,CAACA,IAGLplC,QAAQolC,GAEV,IAAKl9B,EAAI,EAAG4gB,EAAIsc,EAAIzlC,OAAQuI,EAAI4gB,EAAG5gB,IACjC9H,EAAGinC,KAAK,KAAMjC,EAAIl9B,GAAIA,EAAGk9B,OAEtB,CAEL,MAAMzqB,EAAOmjE,EAAax0E,OAAOixB,oBAAoB6K,GAAO97B,OAAOqR,KAAKyqB,GAClElrB,EAAMS,EAAKhb,OACjB,IAAI2K,EAEJ,IAAKpC,EAAI,EAAGA,EAAIgS,EAAKhS,IACnBoC,EAAMqQ,EAAKzS,GACX9H,EAAGinC,KAAK,KAAMjC,EAAI96B,GAAMA,EAAK86B,EAEhC,CACH,CAEA,SAAS24C,QAAQ34C,EAAK96B,GACpBA,EAAMA,EAAI6zB,cACV,MAAMxjB,EAAOrR,OAAOqR,KAAKyqB,GACzB,IACI44C,EADA91E,EAAIyS,EAAKhb,OAEb,KAAOuI,KAAM,GAEX,GADA81E,EAAOrjE,EAAKzS,GACRoC,IAAQ0zE,EAAK7/C,cACf,OAAO6/C,EAGX,OAAO,IACT,CAEA,MAAMC,QAEsB,oBAAfC,WAAmCA,WACvB,oBAAT7lD,KAAuBA,KAA0B,oBAAX4hB,OAAyBA,OAASvP,OAGlFyzC,iBAAoB3hE,IAAawgE,YAAYxgE,IAAYA,IAAYyhE,QAoB3E,SAAS9d,QACP,MAAMie,SAACA,GAAYD,iBAAiBz/E,OAASA,MAAQ,GAC/C0Z,EAAS,CAAA,EACTimE,EAAc,CAACrsE,EAAK1H,KACxB,MAAMg0E,EAAYF,GAAYL,QAAQ3lE,EAAQ9N,IAAQA,EAClDizE,cAAcnlE,EAAOkmE,KAAef,cAAcvrE,GACpDoG,EAAOkmE,GAAane,MAAM/nD,EAAOkmE,GAAYtsE,GACpCurE,cAAcvrE,GACvBoG,EAAOkmE,GAAane,MAAM,CAAE,EAAEnuD,GACrBhS,QAAQgS,GACjBoG,EAAOkmE,GAAatsE,EAAItS,QAExB0Y,EAAOkmE,GAAatsE,CACrB,EAGH,IAAK,IAAI9J,EAAI,EAAG4gB,EAAI5mB,UAAUvC,OAAQuI,EAAI4gB,EAAG5gB,IAC3ChG,UAAUgG,IAAMjE,QAAQ/B,UAAUgG,GAAIm2E,GAExC,OAAOjmE,CACT,CAYA,MAAMmmE,OAAS,CAACl8E,EAAGC,EAAGmpC,GAAUqyC,cAAa,MAC3C75E,QAAQ3B,GAAG,CAAC0P,EAAK1H,KACXmhC,GAAWwxC,aAAWjrE,GACxB3P,EAAEiI,GAAOoM,KAAK1E,EAAKy5B,GAEnBppC,EAAEiI,GAAO0H,CACV,GACA,CAAC8rE,eACGz7E,GAUHm8E,SAAYpF,IACc,QAA1BA,EAAQh/C,WAAW,KACrBg/C,EAAUA,EAAQ15E,MAAM,IAEnB05E,GAYHqF,SAAW,CAACrgF,EAAasgF,EAAkBlxB,EAAOmxB,KACtDvgF,EAAYi5B,UAAY/tB,OAAOqtB,OAAO+nD,EAAiBrnD,UAAWsnD,GAClEvgF,EAAYi5B,UAAUj5B,YAAcA,EACpCkL,OAAOmf,eAAerqB,EAAa,QAAS,CAC1CyB,MAAO6+E,EAAiBrnD,YAE1Bm2B,GAASlkD,OAAOC,OAAOnL,EAAYi5B,UAAWm2B,EAAM,EAYhDoxB,aAAe,CAACC,EAAWC,EAASv9E,EAAQw9E,KAChD,IAAIvxB,EACAtlD,EACA2lD,EACJ,MAAMmxB,EAAS,CAAA,EAIf,GAFAF,EAAUA,GAAW,GAEJ,MAAbD,EAAmB,OAAOC,EAE9B,EAAG,CAGD,IAFAtxB,EAAQlkD,OAAOixB,oBAAoBskD,GACnC32E,EAAIslD,EAAM7tD,OACHuI,KAAM,GACX2lD,EAAOL,EAAMtlD,GACP62E,IAAcA,EAAWlxB,EAAMgxB,EAAWC,IAAcE,EAAOnxB,KACnEixB,EAAQjxB,GAAQgxB,EAAUhxB,GAC1BmxB,EAAOnxB,IAAQ,GAGnBgxB,GAAuB,IAAXt9E,GAAoB0qC,eAAe4yC,EACnD,OAAWA,KAAet9E,GAAUA,EAAOs9E,EAAWC,KAAaD,IAAcv1E,OAAO+tB,WAEtF,OAAOynD,CAAO,EAYVrwC,SAAW,CAACpnC,EAAK43E,EAAcniE,KACnCzV,EAAM0tB,OAAO1tB,SACIxI,IAAbie,GAA0BA,EAAWzV,EAAI1H,UAC3Cmd,EAAWzV,EAAI1H,QAEjBmd,GAAYmiE,EAAat/E,OACzB,MAAMm2B,EAAYzuB,EAAI4S,QAAQglE,EAAcniE,GAC5C,OAAsB,IAAfgZ,GAAoBA,IAAchZ,CAAQ,EAW7CoiE,QAAWrC,IACf,IAAKA,EAAO,OAAO,KACnB,GAAI78E,QAAQ68E,GAAQ,OAAOA,EAC3B,IAAI30E,EAAI20E,EAAMl9E,OACd,IAAK09E,SAASn1E,GAAI,OAAO,KACzB,MAAMg5B,EAAM,IAAInhC,MAAMmI,GACtB,KAAOA,KAAM,GACXg5B,EAAIh5B,GAAK20E,EAAM30E,GAEjB,OAAOg5B,CAAG,EAYNi+C,cAAgBC,WAKG,oBAAf9d,YAA8Br1B,eAAeq1B,YAH9Cub,GACEuC,YAAcvC,aAAiBuC,YAHrB,IAACA,WAetB,MAAMC,aAAe,CAACj6C,EAAKhlC,KACzB,MAEMkrC,GAFYlG,GAAOA,EAAI1K,OAAO4Q,WAETjE,KAAKjC,GAEhC,IAAIhtB,EAEJ,MAAQA,EAASkzB,EAASU,UAAY5zB,EAAO+zB,MAAM,CACjD,MAAMX,EAAOpzB,EAAOvY,MACpBO,EAAGinC,KAAKjC,EAAKoG,EAAK,GAAIA,EAAK,GAC5B,GAWG8zC,SAAW,CAACC,EAAQl4E,KACxB,IAAIkuB,EACJ,MAAM2L,EAAM,GAEZ,KAAwC,QAAhC3L,EAAUgqD,EAAO7sE,KAAKrL,KAC5B65B,EAAI/+B,KAAKozB,GAGX,OAAO2L,CAAG,EAINs+C,WAAa1C,WAAW,mBAExBtN,YAAcnoE,GACXA,EAAI82B,cAAcv7B,QAAQ,yBAC/B,SAAkB6P,EAAGg3B,EAAIC,GACvB,OAAOD,EAAG1+B,cAAgB2+B,CAC3B,IAKC2J,eAAiB,GAAGA,oBAAoB,CAACjO,EAAKyoB,IAASxa,EAAehM,KAAKjC,EAAKyoB,GAA/D,CAAsEvkD,OAAO+tB,WAS9FooD,SAAW3C,WAAW,UAEtB4C,kBAAoB,CAACt6C,EAAKu6C,KAC9B,MAAMhB,EAAcr1E,OAAOk8C,0BAA0BpgB,GAC/Cw6C,EAAqB,CAAA,EAE3B37E,QAAQ06E,GAAa,CAACkB,EAAYlhF,MACO,IAAnCghF,EAAQE,EAAYlhF,EAAMymC,KAC5Bw6C,EAAmBjhF,GAAQkhF,EAC5B,IAGHv2E,OAAO2uB,iBAAiBmN,EAAKw6C,EAAmB,EAQ5CE,cAAiB16C,IACrBs6C,kBAAkBt6C,GAAK,CAACy6C,EAAYlhF,KAElC,GAAIs+E,aAAW73C,KAA6D,IAArD,CAAC,YAAa,SAAU,UAAUnrB,QAAQtb,GAC/D,OAAO,EAGT,MAAMkB,EAAQulC,EAAIzmC,GAEbs+E,aAAWp9E,KAEhBggF,EAAWlxD,YAAa,EAEpB,aAAckxD,EAChBA,EAAWr4C,UAAW,EAInBq4C,EAAWx1E,MACdw1E,EAAWx1E,IAAM,KACf,MAAMlM,MAAM,qCAAwCQ,EAAO,IAAK,GAEnE,GACD,EAGEohF,YAAc,CAACC,EAAehpC,KAClC,MAAM5R,EAAM,CAAA,EAEN66C,EAAU/+C,IACdA,EAAIj9B,SAAQpE,IACVulC,EAAIvlC,IAAS,CAAI,GACjB,EAKJ,OAFAG,QAAQggF,GAAiBC,EAAOD,GAAiBC,EAAOlrD,OAAOirD,GAAen1E,MAAMmsC,IAE7E5R,CAAG,EAGN86C,OAAO,OAEPC,eAAiB,CAACtgF,EAAOR,KAC7BQ,GAASA,EACFmzB,OAAO6G,SAASh6B,GAASA,EAAQR,GAGpC+gF,MAAQ,6BAERC,MAAQ,aAERC,SAAW,CACfD,YACAD,YACAG,YAAaH,MAAQA,MAAMr1E,cAAgBs1E,OAGvCG,eAAiB,CAACt6C,EAAO,GAAIu6C,EAAWH,SAASC,eACrD,IAAIl5E,EAAM,GACV,MAAM1H,OAACA,GAAU8gF,EACjB,KAAOv6C,KACL7+B,GAAOo5E,EAAS17E,KAAK27E,SAAW/gF,EAAO,GAGzC,OAAO0H,CAAG,EAUZ,SAASs5E,oBAAoB9D,GAC3B,SAAUA,GAASI,aAAWJ,EAAMzzC,SAAyC,aAA9ByzC,EAAMniD,OAAO6M,cAA+Bs1C,EAAMniD,OAAO4Q,UAC1G,CAEA,MAAMs1C,aAAgBx7C,IACpB,MAAM65B,EAAQ,IAAIl/D,MAAM,IAElBmpE,EAAQ,CAACz1D,EAAQvL,KAErB,GAAIo1E,SAAS7pE,GAAS,CACpB,GAAIwrD,EAAMhlD,QAAQxG,IAAW,EAC3B,OAGF,KAAK,WAAYA,GAAS,CACxBwrD,EAAM/2D,GAAKuL,EACX,MAAMwH,EAASjb,QAAQyT,GAAU,GAAK,CAAA,EAStC,OAPAxP,QAAQwP,GAAQ,CAAC5T,EAAOyK,KACtB,MAAMu2E,EAAe3X,EAAMrpE,EAAOqI,EAAI,IACrC80E,YAAY6D,KAAkB5lE,EAAO3Q,GAAOu2E,EAAa,IAG5D5hB,EAAM/2D,QAAKrJ,EAEJoc,CACR,CACF,CAED,OAAOxH,CAAM,EAGf,OAAOy1D,EAAM9jC,EAAK,EAAE,EAGhB07C,UAAYhE,WAAW,iBAEvBiE,WAAclE,GAClBA,IAAUS,SAAST,IAAUI,aAAWJ,KAAWI,aAAWJ,EAAM3kE,OAAS+kE,aAAWJ,EAAMlL,OAEhG,IAAe3sC,MAAA,CACbhlC,gBACAk9E,4BACFvgE,SAAEA,WACAihE,sBACAT,oCACFC,SAAEA,WACAC,kBACAr3E,oBACAs3E,kBACAC,4BACAP,wBACAQ,cACAC,cACAr1C,cACAq3C,kBACFxC,WAAEA,aACAU,kBACAx1C,oCACAg3C,0BACAzB,sBACAz5E,gBACAk8D,YACAoe,cACAjpD,UACAkpD,kBACAC,kBACAG,0BACAhC,cACAE,sBACAruC,kBACAywC,gBACAG,0BACAC,kBACAE,sBACAnsC,8BACA2tC,WAAY3tC,eACZqsC,oCACAI,4BACAC,wBACAvQ,wBACF0Q,KAAEA,OACAC,8BACApC,gBACArzC,OAAQuzC,QACRE,kCACAmC,kBACAE,8BACAG,wCACAC,0BACAE,oBACAC,uBCjsBF,SAASE,WAAW1iF,EAASD,EAAMiU,EAAQw7B,EAASc,GAClD1wC,MAAMkpC,KAAK3oC,MAEPP,MAAMM,kBACRN,MAAMM,kBAAkBC,KAAMA,KAAKN,aAEnCM,KAAKugE,OAAQ,IAAK9gE,OAAS8gE,MAG7BvgE,KAAKH,QAAUA,EACfG,KAAKC,KAAO,aACZL,IAASI,KAAKJ,KAAOA,GACrBiU,IAAW7T,KAAK6T,OAASA,GACzBw7B,IAAYrvC,KAAKqvC,QAAUA,GAC3Bc,IAAanwC,KAAKmwC,SAAWA,EAC/B,CAEA7J,MAAMy5C,SAASwC,WAAY9iF,MAAO,CAChC4mC,OAAQ,WACN,MAAO,CAELxmC,QAASG,KAAKH,QACdI,KAAMD,KAAKC,KAEXO,YAAaR,KAAKQ,YAClBu2B,OAAQ/2B,KAAK+2B,OAEbyrD,SAAUxiF,KAAKwiF,SACfC,WAAYziF,KAAKyiF,WACjBC,aAAc1iF,KAAK0iF,aACnBniB,MAAOvgE,KAAKugE,MAEZ1sD,OAAQyyB,MAAM47C,aAAaliF,KAAK6T,QAChCjU,KAAMI,KAAKJ,KACX49B,OAAQx9B,KAAKmwC,UAAYnwC,KAAKmwC,SAAS3S,OAASx9B,KAAKmwC,SAAS3S,OAAS,KAE1E,IAGH,MAAM7E,YAAY4pD,WAAW5pD,UACvBsnD,YAAc,CAAA,EAEpB,CACE,uBACA,iBACA,eACA,YACA,cACA,4BACA,iBACA,mBACA,kBACA,eACA,kBACA,mBAEA16E,SAAQ3F,IACRqgF,YAAYrgF,GAAQ,CAACuB,MAAOvB,EAAK,IAGnCgL,OAAO2uB,iBAAiBgpD,WAAYtC,aACpCr1E,OAAOmf,eAAe4O,YAAW,eAAgB,CAACx3B,OAAO,IAGzDohF,WAAWt1E,KAAO,CAAC5M,EAAOT,EAAMiU,EAAQw7B,EAASc,EAAUwyC,KACzD,MAAMC,EAAah4E,OAAOqtB,OAAOU,aAgBjC,OAdA2N,MAAM45C,aAAa7/E,EAAOuiF,GAAY,SAAgBl8C,GACpD,OAAOA,IAAQjnC,MAAMk5B,SACtB,IAAEw2B,GACe,iBAATA,IAGTozB,WAAW55C,KAAKi6C,EAAYviF,EAAMR,QAASD,EAAMiU,EAAQw7B,EAASc,GAElEyyC,EAAWC,MAAQxiF,EAEnBuiF,EAAW3iF,KAAOI,EAAMJ,KAExB0iF,GAAe/3E,OAAOC,OAAO+3E,EAAYD,GAElCC,CAAU,EChGnB,IAAI17C,SAAS5mC,gBAAiB,QAAC4mC,OAC3BtR,OAAOloB,sBAAAA,QAEXo1E,eAAiBC,gBACjB,SAASA,kBACP/iF,KAAK+U,OAAS,KACd/U,KAAKgjF,SAAW,EAChBhjF,KAAKijF,YAAc,QACnBjjF,KAAKkjF,aAAc,EAEnBljF,KAAKmjF,sBAAuB,EAC5BnjF,KAAKojF,WAAY,EACjBpjF,KAAKqjF,gBAAkB,EACzB,CACAztD,OAAKmqD,SAASgD,gBAAe77C,UAE7B67C,gBAAc9qD,OAAS,SAASljB,EAAQ1Q,GACtC,IAAIi/E,EAAgB,IAAItjF,KAGxB,IAAK,IAAIgE,KADTK,EAAUA,GAAW,GAEnBi/E,EAAct/E,GAAUK,EAAQL,GAGlCs/E,EAAcvuE,OAASA,EAEvB,IAAIwuE,EAAWxuE,EAAOyF,KAWtB,OAVAzF,EAAOyF,KAAO,WAEZ,OADA8oE,EAAcE,YAAYhgF,WACnB+/E,EAASvwE,MAAM+B,EAAQvR,UAClC,EAEEuR,EAAOpB,GAAG,SAAS,WAAa,IAC5B2vE,EAAcJ,aAChBnuE,EAAO+tC,QAGFwgC,CACT,EAEA14E,OAAOmf,eAAeg5D,gBAAcpqD,UAAW,WAAY,CACzDzI,cAAc,EACdD,YAAY,EACZhkB,IAAK,WACH,OAAOjM,KAAK+U,OAAOmzB,QACpB,IAGH66C,gBAAcpqD,UAAU8qD,YAAc,WACpC,OAAOzjF,KAAK+U,OAAO0uE,YAAYzwE,MAAMhT,KAAK+U,OAAQvR,UACpD,EAEAu/E,gBAAcpqD,UAAU+qD,OAAS,WAC1B1jF,KAAKojF,WACRpjF,KAAKq0B,UAGPr0B,KAAK+U,OAAO2uE,QACd,EAEAX,gBAAcpqD,UAAUmqB,MAAQ,WAC9B9iD,KAAK+U,OAAO+tC,OACd,EAEAigC,gBAAcpqD,UAAUtE,QAAU,WAChCr0B,KAAKojF,WAAY,EAEjBpjF,KAAKqjF,gBAAgB99E,QAAQ,SAASG,GACpC1F,KAAKwa,KAAKxH,MAAMhT,KAAM0F,EAC1B,EAAIsS,KAAKhY,OACPA,KAAKqjF,gBAAkB,EACzB,EAEAN,gBAAcpqD,UAAUwS,KAAO,WAC7B,IAAInhB,EAAIkd,SAAOvO,UAAUwS,KAAKn4B,MAAMhT,KAAMwD,WAE1C,OADAxD,KAAK0jF,SACE15D,CACT,EAEA+4D,gBAAcpqD,UAAU6qD,YAAc,SAAS99E,GACzC1F,KAAKojF,UACPpjF,KAAKwa,KAAKxH,MAAMhT,KAAM0F,IAIR,SAAZA,EAAK,KACP1F,KAAKgjF,UAAYt9E,EAAK,GAAGzE,OACzBjB,KAAK2jF,+BAGP3jF,KAAKqjF,gBAAgB5/E,KAAKiC,GAC5B,EAEAq9E,gBAAcpqD,UAAUgrD,4BAA8B,WACpD,KAAI3jF,KAAKmjF,sBAILnjF,KAAKgjF,UAAYhjF,KAAKijF,aAA1B,CAIAjjF,KAAKmjF,sBAAuB,EAC5B,IAAItjF,EACF,gCAAkCG,KAAKijF,YAAc,mBACvDjjF,KAAKwa,KAAK,QAAS,IAAI/a,MAAMI,GAL5B,CAMH,EC1GA,IAAI+1B,OAAOt1B,sBAAAA,QACP4mC,SAASx5B,gBAAiB,QAACw5B,OAC3B67C,cAAgBn1E,eAEpBg2E,gBAAiBC,iBACjB,SAASA,mBACP7jF,KAAK8oC,UAAW,EAChB9oC,KAAKkoC,UAAW,EAChBloC,KAAKgjF,SAAW,EAChBhjF,KAAKijF,YAAc,QACnBjjF,KAAK8jF,cAAe,EAEpB9jF,KAAKojF,WAAY,EACjBpjF,KAAK+jF,SAAW,GAChB/jF,KAAKgkF,eAAiB,KACtBhkF,KAAKikF,aAAc,EACnBjkF,KAAKkkF,cAAe,CACtB,CACAtuD,OAAKmqD,SAAS8D,iBAAgB38C,UAE9B28C,iBAAe5rD,OAAS,SAAS5zB,GAC/B,IAAI8/E,EAAiB,IAAInkF,KAGzB,IAAK,IAAIgE,KADTK,EAAUA,GAAW,GAEnB8/E,EAAengF,GAAUK,EAAQL,GAGnC,OAAOmgF,CACT,EAEAN,iBAAeO,aAAe,SAASrvD,GACrC,MAA0B,mBAAXA,GACS,iBAAXA,GACW,kBAAXA,GACW,iBAAXA,IACN/W,OAAOC,SAAS8W,EACzB,EAEA8uD,iBAAelrD,UAAU+R,OAAS,SAAS3V,GAGzC,GAFmB8uD,iBAAeO,aAAarvD,GAE7B,CAChB,KAAMA,aAAkBguD,eAAgB,CACtC,IAAIsB,EAAYtB,cAAc9qD,OAAOlD,EAAQ,CAC3CkuD,YAAaj4D,IACbk4D,YAAaljF,KAAK8jF,eAEpB/uD,EAAOphB,GAAG,OAAQ3T,KAAKskF,eAAetsE,KAAKhY,OAC3C+0B,EAASsvD,CACV,CAEDrkF,KAAKukF,cAAcxvD,GAEf/0B,KAAK8jF,cACP/uD,EAAO+tB,OAEV,CAGD,OADA9iD,KAAK+jF,SAAStgF,KAAKsxB,GACZ/0B,IACT,EAEA6jF,iBAAelrD,UAAUwS,KAAO,SAAShwB,EAAM9W,GAG7C,OAFA6iC,SAAOvO,UAAUwS,KAAKxC,KAAK3oC,KAAMmb,EAAM9W,GACvCrE,KAAK0jF,SACEvoE,CACT,EAEA0oE,iBAAelrD,UAAU6rD,SAAW,WAGlC,GAFAxkF,KAAKgkF,eAAiB,KAElBhkF,KAAKikF,YACPjkF,KAAKkkF,cAAe,MADtB,CAKAlkF,KAAKikF,aAAc,EACnB,IACE,GACEjkF,KAAKkkF,cAAe,EACpBlkF,KAAKykF,qBACEzkF,KAAKkkF,aAClB,CAAY,QACRlkF,KAAKikF,aAAc,CACpB,CAVA,CAWH,EAEAJ,iBAAelrD,UAAU8rD,aAAe,WACtC,IAAI1vD,EAAS/0B,KAAK+jF,SAASx3E,aAGN,IAAVwoB,EAKW,mBAAXA,EAKKA,EACN,SAASA,GACE8uD,iBAAeO,aAAarvD,KAE7CA,EAAOphB,GAAG,OAAQ3T,KAAKskF,eAAetsE,KAAKhY,OAC3CA,KAAKukF,cAAcxvD,IAGrB/0B,KAAK0kF,UAAU3vD,EACnB,EAAI/c,KAAKhY,OAbLA,KAAK0kF,UAAU3vD,GALf/0B,KAAK88B,KAmBT,EAEA+mD,iBAAelrD,UAAU+rD,UAAY,SAAS3vD,GAI5C,GAHA/0B,KAAKgkF,eAAiBjvD,EAEH8uD,iBAAeO,aAAarvD,GAI7C,OAFAA,EAAOphB,GAAG,MAAO3T,KAAKwkF,SAASxsE,KAAKhY,YACpC+0B,EAAOoW,KAAKnrC,KAAM,CAAC88B,KAAK,IAI1B,IAAI37B,EAAQ4zB,EACZ/0B,KAAKgQ,MAAM7O,GACXnB,KAAKwkF,UACP,EAEAX,iBAAelrD,UAAU4rD,cAAgB,SAASxvD,GAChD,IAAI4E,EAAO35B,KACX+0B,EAAOphB,GAAG,SAAS,SAASjB,GAC1BinB,EAAKgrD,WAAWjyE,EACpB,GACA,EAEAmxE,iBAAelrD,UAAU3oB,MAAQ,SAASwjC,GACxCxzC,KAAKwa,KAAK,OAAQg5B,EACpB,EAEAqwC,iBAAelrD,UAAUmqB,MAAQ,WAC1B9iD,KAAK8jF,eAIP9jF,KAAK8jF,cAAgB9jF,KAAKgkF,gBAAuD,mBAA9BhkF,KAAKgkF,eAAoB,OAAiBhkF,KAAKgkF,eAAelhC,QACpH9iD,KAAKwa,KAAK,SACZ,EAEAqpE,iBAAelrD,UAAU+qD,OAAS,WAC3B1jF,KAAKojF,YACRpjF,KAAKojF,WAAY,EACjBpjF,KAAK8oC,UAAW,EAChB9oC,KAAKwkF,YAGJxkF,KAAK8jF,cAAgB9jF,KAAKgkF,gBAAwD,mBAA/BhkF,KAAKgkF,eAAqB,QAAiBhkF,KAAKgkF,eAAeN,SACrH1jF,KAAKwa,KAAK,SACZ,EAEAqpE,iBAAelrD,UAAUmE,IAAM,WAC7B98B,KAAK4kF,SACL5kF,KAAKwa,KAAK,MACZ,EAEAqpE,iBAAelrD,UAAUyZ,QAAU,WACjCpyC,KAAK4kF,SACL5kF,KAAKwa,KAAK,QACZ,EAEAqpE,iBAAelrD,UAAUisD,OAAS,WAChC5kF,KAAK8oC,UAAW,EAChB9oC,KAAK+jF,SAAW,GAChB/jF,KAAKgkF,eAAiB,IACxB,EAEAH,iBAAelrD,UAAU2rD,eAAiB,WAExC,GADAtkF,KAAK6kF,oBACD7kF,KAAKgjF,UAAYhjF,KAAKijF,aAA1B,CAIA,IAAIpjF,EACF,gCAAkCG,KAAKijF,YAAc,mBACvDjjF,KAAK2kF,WAAW,IAAIllF,MAAMI,GAJzB,CAKH,EAEAgkF,iBAAelrD,UAAUksD,gBAAkB,WACzC7kF,KAAKgjF,SAAW,EAEhB,IAAIrpD,EAAO35B,KACXA,KAAK+jF,SAASx+E,SAAQ,SAASwvB,GACxBA,EAAOiuD,WAIZrpD,EAAKqpD,UAAYjuD,EAAOiuD,SAC5B,IAEMhjF,KAAKgkF,gBAAkBhkF,KAAKgkF,eAAehB,WAC7ChjF,KAAKgjF,UAAYhjF,KAAKgkF,eAAehB,SAEzC,EAEAa,iBAAelrD,UAAUgsD,WAAa,SAASjyE,GAC7C1S,KAAK4kF,SACL5kF,KAAKwa,KAAK,QAAS9H,EACrB,i/qICpMAoyE,OAAiBxkF;;;;;;;aCGjB,IA2IuBykF,EAAYvhC,EAE7BwhC,EA7IFC,EAAK3kF,OACLkW,EAAU9I,cAAAA,QAAgB8I,QAO1B0uE,EAAsB,0BACtBC,EAAmB,WAyBvB,SAAS16C,EAAS3C,GAChB,IAAKA,GAAwB,iBAATA,EAClB,OAAO,EAIT,IAAI3kC,EAAQ+hF,EAAoBlxE,KAAK8zB,GACjCs9C,EAAOjiF,GAAS8hF,EAAG9hF,EAAM,GAAGs8B,eAEhC,OAAI2lD,GAAQA,EAAK36C,QACR26C,EAAK36C,WAIVtnC,IAASgiF,EAAiBv7E,KAAKzG,EAAM,MAChC,OAIV,CArCD0b,EAAA4rB,QAAkBA,EAClB5rB,EAAAwmE,SAAmB,CAAEC,OAAQ76C,GAC7B5rB,EAAAovB,YA4CA,SAAsBtlC,GAEpB,IAAKA,GAAsB,iBAARA,EACjB,OAAO,EAGT,IAAIy8E,GAA6B,IAAtBz8E,EAAI4S,QAAQ,KACnBsD,EAAQymE,OAAO38E,GACfA,EAEJ,IAAKy8E,EACH,OAAO,EAIT,IAAiC,IAA7BA,EAAK7pE,QAAQ,WAAmB,CAClC,IAAIkvB,EAAU5rB,EAAQ4rB,QAAQ26C,GAC1B36C,IAAS26C,GAAQ,aAAe36C,EAAQhL,cAC7C,CAED,OAAO2lD,CACR,EAhEDvmE,EAAA0mE,UAyEA,SAAoBz9C,GAClB,IAAKA,GAAwB,iBAATA,EAClB,OAAO,EAIT,IAAI3kC,EAAQ+hF,EAAoBlxE,KAAK8zB,GAGjC09C,EAAOriF,GAAS0b,EAAQkmE,WAAW5hF,EAAM,GAAGs8B,eAEhD,IAAK+lD,IAASA,EAAKvkF,OACjB,OAAO,EAGT,OAAOukF,EAAK,EACb,EAxFD3mE,EAAAkmE,WAAqBn6E,OAAOqtB,OAAO,MACnCpZ,EAAAymE,OAgGA,SAAiB33E,GACf,IAAKA,GAAwB,iBAATA,EAClB,OAAO,EAIT,IAAI43E,EAAY/uE,EAAQ,KAAO7I,GAC5B8xB,cACAjK,OAAO,GAEV,IAAK+vD,EACH,OAAO,EAGT,OAAO1mE,EAAQ2kC,MAAM+hC,KAAc,CACpC,EA9GD1mE,EAAA2kC,MAAgB54C,OAAOqtB,OAAO,MAqHP8sD,EAlHVlmE,EAAQkmE,WAkHcvhC,EAlHF3kC,EAAQ2kC,MAoHnCwhC,EAAa,CAAC,QAAS,cAAU7kF,EAAW,QAEhDyK,OAAOqR,KAAKgpE,GAAI1/E,SAAQ,SAA0BuiC,GAChD,IAAIs9C,EAAOH,EAAGn9C,GACV09C,EAAOJ,EAAKL,WAEhB,GAAKS,GAASA,EAAKvkF,OAAnB,CAKA8jF,EAAWj9C,GAAQ09C,EAGnB,IAAK,IAAIh8E,EAAI,EAAGA,EAAIg8E,EAAKvkF,OAAQuI,IAAK,CACpC,IAAI+7E,EAAYC,EAAKh8E,GAErB,GAAIg6C,EAAM+hC,GAAY,CACpB,IAAIt4E,EAAO+3E,EAAWzpE,QAAQ0pE,EAAGzhC,EAAM+hC,IAAYxwE,QAC/C4Z,EAAKq2D,EAAWzpE,QAAQ6pE,EAAKrwE,QAEjC,GAAyB,6BAArByuC,EAAM+hC,KACPt4E,EAAO0hB,GAAO1hB,IAAS0hB,GAAyC,iBAAnC60B,EAAM+hC,GAAW/vD,OAAO,EAAG,KAEzD,QAEH,CAGDguB,EAAM+hC,GAAaz9C,CACpB,CAtBA,CAuBL,oBC1LA29C,QAAiBC,QAOjB,SAASA,QAAMhkF,GAEb,IAAI2gD,EAAkC,mBAAhBC,aAClBA,aAEkB,iBAAXv0C,SAAkD,mBAApBA,QAAQs0C,SAC3Ct0C,QAAQs0C,SACR,KAGFA,EAEFA,EAAS3gD,GAIT0oC,WAAW1oC,EAAI,EAEnB,CCzBA,IAAIgkF,MAAQplF,QAGZqlF,QAAiB9vE,QASjB,SAASA,QAAMiE,GAEb,IAAI8rE,GAAU,EAKd,OAFAF,OAAM,WAAaE,GAAU,CAAO,IAE7B,SAAwBlzE,EAAKgH,GAE9BksE,EAEF9rE,EAASpH,EAAKgH,GAIdgsE,OAAM,WAEJ5rE,EAASpH,EAAKgH,EACtB,GAEA,CACA,KChCAmsE,QAAiB37C,QAOjB,SAASA,QAAMjG,GAEbr5B,OAAOqR,KAAKgoB,EAAM6hD,MAAMvgF,QAAQwgF,MAAM/tE,KAAKisB,IAG3CA,EAAM6hD,KAAO,EACf,CAQA,SAASC,MAAMn6E,GAEgB,mBAAlB5L,KAAK8lF,KAAKl6E,IAEnB5L,KAAK8lF,KAAKl6E,IAEd,CC5BA,IAAIiK,QAAQvV,QACR4pC,QAAQx8B,QAIZs4E,UAAiBC,UAUjB,SAASA,UAAQzwC,EAAM5I,EAAU3I,EAAOnqB,GAGtC,IAAIlO,EAAMq4B,EAAiB,UAAIA,EAAiB,UAAEA,EAAM7qB,OAAS6qB,EAAM7qB,MAEvE6qB,EAAM6hD,KAAKl6E,GAAOs6E,OAAOt5C,EAAUhhC,EAAK4pC,EAAK5pC,IAAM,SAASvL,EAAOiI,GAI3DsD,KAAOq4B,EAAM6hD,cAMZ7hD,EAAM6hD,KAAKl6E,GAEdvL,EAKF6pC,QAAMjG,GAINA,EAAMvN,QAAQ9qB,GAAOtD,EAIvBwR,EAASzZ,EAAO4jC,EAAMvN,SAC1B,GACA,CAWA,SAASwvD,OAAOt5C,EAAUhhC,EAAK0oC,EAAMx6B,GAenC,OAVuB,GAAnB8yB,EAAS3rC,OAED2rC,EAAS0H,EAAMz+B,QAAMiE,IAKrB8yB,EAAS0H,EAAM1oC,EAAKiK,QAAMiE,GAIxC,KCzEAqsE,QAAiBliD,MAWjB,SAASA,MAAMuR,EAAM4wC,GAEnB,IAAIC,GAAehlF,MAAMC,QAAQk0C,GAC7B8wC,EACF,CACEltE,MAAW,EACXmtE,UAAWF,GAAeD,EAAax7E,OAAOqR,KAAKu5B,GAAQ,KAC3DswC,KAAW,CAAE,EACbpvD,QAAW2vD,EAAc,CAAA,EAAK,GAC9B7+C,KAAW6+C,EAAcz7E,OAAOqR,KAAKu5B,GAAMv0C,OAASu0C,EAAKv0C,QAc7D,OAVImlF,GAIFE,EAAUC,UAAU7iF,KAAK2iF,EAAcD,EAAa,SAASziF,EAAGC,GAE9D,OAAOwiF,EAAW5wC,EAAK7xC,GAAI6xC,EAAK5xC,GACtC,GAGS0iF,CACT,CCpCA,IAAIp8C,MAAQ5pC,QACRuV,MAAQnI,QAIZ84E,aAAiBC,aAQjB,SAASA,aAAW3sE,GAEblP,OAAOqR,KAAKjc,KAAK8lF,MAAM7kF,SAM5BjB,KAAKoZ,MAAQpZ,KAAKwnC,KAGlB0C,MAAMlqC,MAGN6V,MAAMiE,EAANjE,CAAgB,KAAM7V,KAAK02B,SAC7B,CC5BA,IAAIuvD,UAAa3lF,UACbgmF,YAAa54E,QACb+4E,aAAa74E,aAIjB84E,WAAiBC,SAUjB,SAASA,SAASnxC,EAAM5I,EAAU9yB,GAIhC,IAFA,IAAImqB,EAAQqiD,YAAU9wC,GAEfvR,EAAM7qB,OAAS6qB,EAAiB,WAAKuR,GAAMv0C,QAEhDglF,UAAQzwC,EAAM5I,EAAU3I,GAAO,SAAS5jC,EAAOqZ,GAEzCrZ,EAEFyZ,EAASzZ,EAAOqZ,GAKqB,IAAnC9O,OAAOqR,KAAKgoB,EAAM6hD,MAAM7kF,QAE1B6Y,EAAS,KAAMmqB,EAAMvN,QAG7B,IAEIuN,EAAM7qB,QAGR,OAAOqtE,aAAWzuE,KAAKisB,EAAOnqB,EAChC,kCC1CImsE,QAAa3lF,UACbgmF,UAAa54E,QACb+4E,WAAa74E,aAkBjB,SAASg5E,gBAAcpxC,EAAM5I,EAAUw5C,EAAYtsE,GAEjD,IAAImqB,EAAQqiD,UAAU9wC,EAAM4wC,GAuB5B,OArBAH,QAAQzwC,EAAM5I,EAAU3I,GAAO,SAAS4iD,EAAgBxmF,EAAOqZ,GAEzDrZ,EAEFyZ,EAASzZ,EAAOqZ,IAIlBuqB,EAAM7qB,QAGF6qB,EAAM7qB,OAAS6qB,EAAiB,WAAKuR,GAAMv0C,OAE7CglF,QAAQzwC,EAAM5I,EAAU3I,EAAO4iD,GAKjC/sE,EAAS,KAAMmqB,EAAMvN,SACzB,IAES+vD,WAAWzuE,KAAKisB,EAAOnqB,EAChC,CAaA,SAASgtE,UAAUnjF,EAAGC,GAEpB,OAAOD,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,CAClC,CASA,SAASmjF,WAAWpjF,EAAGC,GAErB,OAAQ,EAAIkjF,UAAUnjF,EAAGC,EAC3B,CApEAojF,gBAAcnoE,QAAG+nE,gBAEOI,gBAAAnoE,QAAAioE,UAAIA,UACHE,gBAAAnoE,QAAAkoE,WAAGA,4DCTxBH,cAAgBtmF,qBAGpB2mF,SAAiBtS,OAUjB,SAASA,OAAOn/B,EAAM5I,EAAU9yB,GAE9B,OAAO8sE,cAAcpxC,EAAM5I,EAAU,KAAM9yB,EAC7C,KChBAotE,WACA,CACEP,SAAgBrmF,WAChBq0E,OAAgBjnE,SAChBk5E,cAAgBh5E,sBCHlBu5E,WAAiB,SAASC,EAAKltC,GAO7B,OALAtvC,OAAOqR,KAAKi+B,GAAK30C,SAAQ,SAAS4pD,GAEhCi4B,EAAIj4B,GAAQi4B,EAAIj4B,IAASjV,EAAIiV,EACjC,IAESi4B,CACT,ECTIvD,eAAiBvjF,gBACjBs1B,KAAOloB,sBAAAA,QACPC,KAAOC,cAAAA,QACP8wB,OAAO5wB,cAAAA,QACP6wB,QAAQ3wB,eAAAA,QACRq5E,WAAWp5E,aAAc,QAAC0H,MAC1B9H,GAAKK,YAAAA,QACLg5B,OAAS/4B,gBAAiB,QAAC+4B,OAC3Bk+C,KAAOh3E,UACP84E,SAAW74E,WACX84E,SAAW3V,WAGf8V,UAAiBnI,WAajB,SAASA,WAAS96E,GAChB,KAAMrE,gBAAgBm/E,YACpB,OAAO,IAAIA,WAAS96E,GAUtB,IAAK,IAAIL,KAPThE,KAAKunF,gBAAkB,EACvBvnF,KAAKwnF,aAAe,EACpBxnF,KAAKynF,iBAAmB,GAExB5D,eAAel7C,KAAK3oC,MAEpBqE,EAAUA,GAAW,GAEnBrE,KAAKgE,GAAUK,EAAQL,EAE3B,CAzBA4xB,KAAKmqD,SAASZ,WAAU0E,gBA2BxB1E,WAASuI,WAAa,OACtBvI,WAASwI,qBAAuB,2BAEhCxI,WAASxmD,UAAU+R,OAAS,SAASk9C,EAAOzmF,EAAOkD,GAK3B,iBAHtBA,EAAUA,GAAW,MAInBA,EAAU,CAACqZ,SAAUrZ,IAGvB,IAAIqmC,EAASm5C,eAAelrD,UAAU+R,OAAO1yB,KAAKhY,MAQlD,GALoB,iBAATmB,IACTA,EAAQ,GAAKA,GAIXy0B,KAAKt0B,QAAQH,GAGfnB,KAAK6nF,OAAO,IAAIpoF,MAAM,kCAHxB,CAOA,IAAI+vD,EAASxvD,KAAK8nF,iBAAiBF,EAAOzmF,EAAOkD,GAC7C0jF,EAAS/nF,KAAKgoF,mBAElBt9C,EAAO8kB,GACP9kB,EAAOvpC,GACPupC,EAAOq9C,GAGP/nF,KAAKioF,aAAaz4B,EAAQruD,EAAOkD,EAVhC,CAWH,EAEA86E,WAASxmD,UAAUsvD,aAAe,SAASz4B,EAAQruD,EAAOkD,GACxD,IAAI6jF,EAAc,EAMS,MAAvB7jF,EAAQ8jF,YACVD,IAAgB7jF,EAAQ8jF,YACfnqE,OAAOC,SAAS9c,GACzB+mF,EAAc/mF,EAAMF,OACM,iBAAVE,IAChB+mF,EAAclqE,OAAO6pB,WAAW1mC,IAGlCnB,KAAKwnF,cAAgBU,EAGrBloF,KAAKunF,iBACHvpE,OAAO6pB,WAAW2nB,GAClB2vB,WAASuI,WAAWzmF,OAGjBE,IAAYA,EAAMwM,MAAUxM,EAAM+mC,UAAY/mC,EAAMwzC,eAAe,gBAAqBxzC,aAAiB+lC,UAKzG7iC,EAAQ8jF,aACXnoF,KAAKynF,iBAAiBhkF,KAAKtC,GAE/B,EAEAg+E,WAASxmD,UAAUyvD,iBAAmB,SAASjnF,EAAO2Y,GAEhD3Y,EAAMwzC,eAAe,MASNx0C,MAAbgB,EAAM27B,KAAoB37B,EAAM27B,KAAO9R,KAA2B7qB,MAAfgB,EAAM07B,MAK3D/iB,EAAS,KAAM3Y,EAAM27B,IAAM,GAAK37B,EAAM07B,MAAQ17B,EAAM07B,MAAQ,IAK5DhvB,GAAGw6E,KAAKlnF,EAAMwM,MAAM,SAAS+E,EAAK21E,GAEhC,IAAIC,EAEA51E,EACFoH,EAASpH,IAKX41E,EAAWD,EAAK7gD,MAAQrmC,EAAM07B,MAAQ17B,EAAM07B,MAAQ,GACpD/iB,EAAS,KAAMwuE,GACvB,IAIannF,EAAMwzC,eAAe,eAC9B76B,EAAS,MAAO3Y,EAAMopC,QAAQ,mBAGrBppC,EAAMwzC,eAAe,eAE9BxzC,EAAMwS,GAAG,YAAY,SAASw8B,GAC5BhvC,EAAM2hD,QACNhpC,EAAS,MAAOq2B,EAAS5F,QAAQ,kBACvC,IACIppC,EAAMuiF,UAIN5pE,EAAS,iBAEb,EAEAqlE,WAASxmD,UAAUmvD,iBAAmB,SAASF,EAAOzmF,EAAOkD,GAI3D,GAA6B,iBAAlBA,EAAQmrD,OACjB,OAAOnrD,EAAQmrD,OAGjB,IAgBIA,EAhBA+4B,EAAqBvoF,KAAKwoF,uBAAuBrnF,EAAOkD,GACxD4pC,EAAcjuC,KAAKyoF,gBAAgBtnF,EAAOkD,GAE1CmuD,EAAW,GACXjoB,EAAW,CAEb,sBAAuB,CAAC,YAAa,SAAWq9C,EAAQ,KAAKrmF,OAAOgnF,GAAsB,IAE1F,eAAgB,GAAGhnF,OAAO0sC,GAAe,KAS3C,IAAK,IAAIkhB,IALoB,iBAAlB9qD,EAAQmrD,QACjB23B,SAAS58C,EAASlmC,EAAQmrD,QAIXjlB,EACVA,EAAQoK,eAAewa,IAId,OAHdK,EAASjlB,EAAQ4kB,MAQZ9tD,MAAMC,QAAQkuD,KACjBA,EAAS,CAACA,IAIRA,EAAOvuD,SACTuxD,GAAYrD,EAAO,KAAOK,EAAOztD,KAAK,MAAQo9E,WAASuI,aAI3D,MAAO,KAAO1nF,KAAKkrC,cAAgBi0C,WAASuI,WAAal1B,EAAW2sB,WAASuI,UAC/E,EAEAvI,WAASxmD,UAAU6vD,uBAAyB,SAASrnF,EAAOkD,GAE1D,IAAIqZ,EACA6qE,EAoBJ,MAjBgC,iBAArBlkF,EAAQqkF,SAEjBhrE,EAAW/P,KAAKgvB,UAAUt4B,EAAQqkF,UAAUxkF,QAAQ,MAAO,KAClDG,EAAQqZ,UAAYvc,EAAMlB,MAAQkB,EAAMwM,KAIjD+P,EAAW/P,KAAKyJ,SAAS/S,EAAQqZ,UAAYvc,EAAMlB,MAAQkB,EAAMwM,MACxDxM,EAAM+mC,UAAY/mC,EAAMwzC,eAAe,iBAEhDj3B,EAAW/P,KAAKyJ,SAASjW,EAAM82C,OAAO0wC,aAAah7E,MAAQ,KAGzD+P,IACF6qE,EAAqB,aAAe7qE,EAAW,KAG1C6qE,CACT,EAEApJ,WAASxmD,UAAU8vD,gBAAkB,SAAStnF,EAAOkD,GAGnD,IAAI4pC,EAAc5pC,EAAQ4pC,YA2B1B,OAxBKA,GAAe9sC,EAAMlB,OACxBguC,EAAcm3C,KAAKE,OAAOnkF,EAAMlB,QAI7BguC,GAAe9sC,EAAMwM,OACxBsgC,EAAcm3C,KAAKE,OAAOnkF,EAAMwM,QAI7BsgC,GAAe9sC,EAAM+mC,UAAY/mC,EAAMwzC,eAAe,iBACzD1G,EAAc9sC,EAAMopC,QAAQ,iBAIzB0D,IAAgB5pC,EAAQqkF,WAAYrkF,EAAQqZ,WAC/CuwB,EAAcm3C,KAAKE,OAAOjhF,EAAQqkF,UAAYrkF,EAAQqZ,WAInDuwB,GAA+B,iBAAT9sC,IACzB8sC,EAAckxC,WAASwI,sBAGlB15C,CACT,EAEAkxC,WAASxmD,UAAUqvD,iBAAmB,WACpC,OAAO,SAAS16C,GACd,IAAIy6C,EAAS5I,WAASuI,WAEmB,IAAzB1nF,KAAK+jF,SAAS9iF,SAE5B8mF,GAAU/nF,KAAK4oF,iBAGjBt7C,EAAKy6C,EACT,EAAI/vE,KAAKhY,KACT,EAEAm/E,WAASxmD,UAAUiwD,cAAgB,WACjC,MAAO,KAAO5oF,KAAKkrC,cAAgB,KAAOi0C,WAASuI,UACrD,EAEAvI,WAASxmD,UAAUqU,WAAa,SAAS67C,GACvC,IAAIr5B,EACAs5B,EAAc,CAChB,eAAgB,iCAAmC9oF,KAAKkrC,eAG1D,IAAKskB,KAAUq5B,EACTA,EAAYl0C,eAAe6a,KAC7Bs5B,EAAYt5B,EAAO/vB,eAAiBopD,EAAYr5B,IAIpD,OAAOs5B,CACT,EAEA3J,WAASxmD,UAAUowD,YAAc,SAASC,GACxChpF,KAAKipF,UAAYD,CACnB,EAEA7J,WAASxmD,UAAUuS,YAAc,WAK/B,OAJKlrC,KAAKipF,WACRjpF,KAAKkpF,oBAGAlpF,KAAKipF,SACd,EAEA9J,WAASxmD,UAAUwwD,UAAY,WAK7B,IAJA,IAAIC,EAAa,IAAIprE,OAAO+rB,MAAO,GAC/Bi/C,EAAWhpF,KAAKkrC,cAGX1hC,EAAI,EAAGgS,EAAMxb,KAAK+jF,SAAS9iF,OAAQuI,EAAIgS,EAAKhS,IACnB,mBAArBxJ,KAAK+jF,SAASv6E,KAIrB4/E,EADCprE,OAAOC,SAASje,KAAK+jF,SAASv6E,IAClBwU,OAAOzc,OAAQ,CAAC6nF,EAAYppF,KAAK+jF,SAASv6E,KAE1CwU,OAAOzc,OAAQ,CAAC6nF,EAAYprE,OAAO/Q,KAAKjN,KAAK+jF,SAASv6E,MAIrC,iBAArBxJ,KAAK+jF,SAASv6E,IAAmBxJ,KAAK+jF,SAASv6E,GAAG8jB,UAAW,EAAG07D,EAAS/nF,OAAS,KAAQ+nF,IACnGI,EAAaprE,OAAOzc,OAAQ,CAAC6nF,EAAYprE,OAAO/Q,KAAKkyE,WAASuI,gBAMpE,OAAO1pE,OAAOzc,OAAQ,CAAC6nF,EAAYprE,OAAO/Q,KAAKjN,KAAK4oF,kBACtD,EAEAzJ,WAASxmD,UAAUuwD,kBAAoB,WAIrC,IADA,IAAIF,EAAW,6BACNx/E,EAAI,EAAGA,EAAI,GAAIA,IACtBw/E,GAAY3iF,KAAKqlB,MAAsB,GAAhBrlB,KAAK27E,UAAe30D,SAAS,IAGtDrtB,KAAKipF,UAAYD,CACnB,EAKA7J,WAASxmD,UAAU2S,cAAgB,WACjC,IAAI68C,EAAcnoF,KAAKunF,gBAAkBvnF,KAAKwnF,aAgB9C,OAZIxnF,KAAK+jF,SAAS9iF,SAChBknF,GAAenoF,KAAK4oF,gBAAgB3nF,QAIjCjB,KAAKwrC,kBAIRxrC,KAAK6nF,OAAO,IAAIpoF,MAAM,uDAGjB0oF,CACT,EAKAhJ,WAASxmD,UAAU6S,eAAiB,WAClC,IAAIA,GAAiB,EAMrB,OAJIxrC,KAAKynF,iBAAiBxmF,SACxBuqC,GAAiB,GAGZA,CACT,EAEA2zC,WAASxmD,UAAU0wD,UAAY,SAAS/vC,GACtC,IAAI6uC,EAAcnoF,KAAKunF,gBAAkBvnF,KAAKwnF,aAE1CxnF,KAAK+jF,SAAS9iF,SAChBknF,GAAenoF,KAAK4oF,gBAAgB3nF,QAGjCjB,KAAKynF,iBAAiBxmF,OAK3BimF,SAASP,SAAS3mF,KAAKynF,iBAAkBznF,KAAKooF,kBAAkB,SAAS11E,EAAK9Q,GACxE8Q,EACF4mC,EAAG5mC,IAIL9Q,EAAO2D,SAAQ,SAAStE,GACtBknF,GAAelnF,CACrB,IAEIq4C,EAAG,KAAM6uC,GACb,IAfIp6E,QAAQs0C,SAAS/I,EAAGthC,KAAKhY,KAAM,KAAMmoF,GAgBzC,EAEAhJ,WAASxmD,UAAU2wD,OAAS,SAASC,EAAQjwC,GAC3C,IAAIjK,EACAhrC,EACA4mE,EAAW,CAACt+B,OAAQ,QAiExB,MA5DqB,iBAAV48C,GAETA,EAASlC,WAASkC,GAClBllF,EAAU8iF,SAAS,CACjBzjD,KAAM6lD,EAAO7lD,KACb/1B,KAAM47E,EAAOpjD,SACb9D,KAAMknD,EAAOrjD,SACbD,SAAUsjD,EAAOtjD,UAChBglC,KAKH5mE,EAAU8iF,SAASoC,EAAQte,IAEdvnC,OACXr/B,EAAQq/B,KAA2B,UAApBr/B,EAAQ4hC,SAAuB,IAAM,IAKxD5hC,EAAQkmC,QAAUvqC,KAAKgtC,WAAWu8C,EAAOh/C,SAIvC8E,EADsB,UAApBhrC,EAAQ4hC,SACAtH,QAAM0Q,QAAQhrC,GAEdq6B,OAAK2Q,QAAQhrC,GAIzBrE,KAAKqpF,UAAU,SAAS32E,EAAKzR,GAC3B,GAAIyR,GAAe,mBAARA,EACT1S,KAAK6nF,OAAOn1E,QAUd,GALIzR,GACFouC,EAAQm6C,UAAU,iBAAkBvoF,GAGtCjB,KAAKmrC,KAAKkE,GACNiK,EAAI,CACN,IAAIoQ,EAEA5vC,EAAW,SAAUzZ,EAAOopF,GAI9B,OAHAp6C,EAAQya,eAAe,QAAShwC,GAChCu1B,EAAQya,eAAe,WAAYJ,GAE5BpQ,EAAG3Q,KAAK3oC,KAAMK,EAAOopF,EACpC,EAEM//B,EAAa5vC,EAAS9B,KAAKhY,KAAM,MAEjCqvC,EAAQ17B,GAAG,QAASmG,GACpBu1B,EAAQ17B,GAAG,WAAY+1C,EACxB,CACL,EAAI1xC,KAAKhY,OAEAqvC,CACT,EAEA8vC,WAASxmD,UAAUkvD,OAAS,SAASn1E,GAC9B1S,KAAKK,QACRL,KAAKK,MAAQqS,EACb1S,KAAK8iD,QACL9iD,KAAKwa,KAAK,QAAS9H,GAEvB,EAEAysE,WAASxmD,UAAUtL,SAAW,WAC5B,MAAO,mBACT,oDCteA,SAASq8D,YAAYvL,GACnB,OAAO73C,MAAMu4C,cAAcV,IAAU73C,MAAMhlC,QAAQ68E,EACrD,CASA,SAASwL,eAAe/9E,GACtB,OAAO06B,MAAMyJ,SAASnkC,EAAK,MAAQA,EAAI5K,MAAM,GAAI,GAAK4K,CACxD,CAWA,SAASg+E,UAAUj8E,EAAM/B,EAAKi+E,GAC5B,OAAKl8E,EACEA,EAAKpM,OAAOqK,GAAKjG,KAAI,SAAcmkF,EAAOtgF,GAG/C,OADAsgF,EAAQH,eAAeG,IACfD,GAAQrgF,EAAI,IAAMsgF,EAAQ,IAAMA,CACzC,IAAE/nF,KAAK8nF,EAAO,IAAM,IALHj+E,CAMpB,CASA,SAASm+E,YAAYvnD,GACnB,OAAO8D,MAAMhlC,QAAQkhC,KAASA,EAAIjO,KAAKm1D,YACzC,CAEA,MAAMM,WAAa1jD,MAAM45C,aAAa55C,MAAO,CAAE,EAAE,MAAM,SAAgB6oB,GACrE,MAAO,WAAWvlD,KAAKulD,EACzB,IAyBA,SAAS86B,WAAWvjD,EAAKwjD,EAAU7lF,GACjC,IAAKiiC,MAAMs4C,SAASl4C,GAClB,MAAM,IAAItL,UAAU,4BAItB8uD,EAAWA,GAAY,IAAKC,YAAoBhL,UAGhD96E,EAAUiiC,MAAM45C,aAAa77E,EAAS,CACpC+lF,YAAY,EACZP,MAAM,EACNQ,SAAS,IACR,GAAO,SAAiBrmF,EAAQ+Q,GAEjC,OAAQuxB,MAAMg4C,YAAYvpE,EAAO/Q,GACrC,IAEE,MAAMomF,EAAa/lF,EAAQ+lF,WAErBE,EAAUjmF,EAAQimF,SAAWC,EAC7BV,EAAOxlF,EAAQwlF,KACfQ,EAAUhmF,EAAQgmF,QAElBG,GADQnmF,EAAQgjC,MAAwB,oBAATA,MAAwBA,OACpCf,MAAM27C,oBAAoBiI,GAEnD,IAAK5jD,MAAMi4C,WAAW+L,GACpB,MAAM,IAAIlvD,UAAU,8BAGtB,SAASqvD,EAAatpF,GACpB,GAAc,OAAVA,EAAgB,MAAO,GAE3B,GAAImlC,MAAMw4C,OAAO39E,GACf,OAAOA,EAAM0jE,cAGf,IAAK2lB,GAAWlkD,MAAMoD,OAAOvoC,GAC3B,MAAM,IAAIohF,WAAW,gDAGvB,OAAIj8C,MAAMk4C,cAAcr9E,IAAUmlC,MAAMm6C,aAAat/E,GAC5CqpF,GAA2B,mBAATnjD,KAAsB,IAAIA,KAAK,CAAClmC,IAAU6c,OAAO/Q,KAAK9L,GAG1EA,CACR,CAYD,SAASopF,EAAeppF,EAAOyK,EAAK+B,GAClC,IAAI60B,EAAMrhC,EAEV,GAAIA,IAAUwM,GAAyB,iBAAVxM,EAC3B,GAAImlC,MAAMyJ,SAASnkC,EAAK,MAEtBA,EAAMw+E,EAAax+E,EAAMA,EAAI5K,MAAM,GAAI,GAEvCG,EAAQgG,KAAKC,UAAUjG,QAClB,GACJmlC,MAAMhlC,QAAQH,IAAU4oF,YAAY5oF,KACnCmlC,MAAM04C,WAAW79E,IAAUmlC,MAAMyJ,SAASnkC,EAAK,SAAW42B,EAAM8D,MAAMk6C,QAAQr/E,IAYhF,OATAyK,EAAM+9E,eAAe/9E,GAErB42B,EAAIj9B,SAAQ,SAAcmlF,EAAItxE,IAC1BktB,MAAMg4C,YAAYoM,IAAc,OAAPA,GAAgBR,EAASx/C,QAEtC,IAAZ2/C,EAAmBT,UAAU,CAACh+E,GAAMwN,EAAOywE,GAAqB,OAAZQ,EAAmBz+E,EAAMA,EAAM,KACnF6+E,EAAaC,GAEzB,KACe,EAIX,QAAIhB,YAAYvoF,KAIhB+oF,EAASx/C,OAAOk/C,UAAUj8E,EAAM/B,EAAKi+E,GAAOY,EAAatpF,KAElD,EACR,CAED,MAAMo/D,EAAQ,GAERoqB,EAAiB//E,OAAOC,OAAOm/E,WAAY,CAC/CO,iBACAE,eACAf,0BAyBF,IAAKpjD,MAAMs4C,SAASl4C,GAClB,MAAM,IAAItL,UAAU,0BAKtB,OA5BA,SAASwvD,EAAMzpF,EAAOwM,GACpB,IAAI24B,MAAMg4C,YAAYn9E,GAAtB,CAEA,IAA8B,IAA1Bo/D,EAAMhlD,QAAQpa,GAChB,MAAM1B,MAAM,kCAAoCkO,EAAK5L,KAAK,MAG5Dw+D,EAAM98D,KAAKtC,GAEXmlC,MAAM/gC,QAAQpE,GAAO,SAAcupF,EAAI9+E,IAKtB,OAJE06B,MAAMg4C,YAAYoM,IAAc,OAAPA,IAAgBJ,EAAQ3hD,KAChEuhD,EAAUQ,EAAIpkD,MAAMo4C,SAAS9yE,GAAOA,EAAIgrB,OAAShrB,EAAK+B,EAAMg9E,KAI5DC,EAAMF,EAAI/8E,EAAOA,EAAKpM,OAAOqK,GAAO,CAACA,GAE7C,IAEI20D,EAAMjyC,KAlB+B,CAmBtC,CAMDs8D,CAAMlkD,GAECwjD,CACT,CC5MA,SAASW,SAAOliF,GACd,MAAMmiF,EAAU,CACd,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,MAAO,IACP,MAAO,MAET,OAAOhd,mBAAmBnlE,GAAKzE,QAAQ,oBAAoB,SAAkBf,GAC3E,OAAO2nF,EAAQ3nF,EACnB,GACA,CAUA,SAAS4nF,qBAAqBxB,EAAQllF,GACpCrE,KAAKgrF,OAAS,GAEdzB,GAAUU,WAAWV,EAAQvpF,KAAMqE,EACrC,CAEA,MAAMs0B,UAAYoyD,qBAAqBpyD,UC5BvC,SAASkyD,OAAOv3E,GACd,OAAOw6D,mBAAmBx6D,GACxBpP,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,IACrB,CAWe,SAAS+mF,SAASnrD,EAAKypD,EAAQllF,GAE5C,IAAKklF,EACH,OAAOzpD,EAGT,MAAMorD,EAAU7mF,GAAWA,EAAQwmF,QAAUA,OAEvCM,EAAc9mF,GAAWA,EAAQ+mF,UAEvC,IAAIC,EAUJ,GAPEA,EADEF,EACiBA,EAAY5B,EAAQllF,GAEpBiiC,MAAMmD,kBAAkB8/C,GACzCA,EAAOl8D,WACP,IAAI09D,qBAAqBxB,EAAQllF,GAASgpB,SAAS69D,GAGnDG,EAAkB,CACpB,MAAMC,EAAgBxrD,EAAIvkB,QAAQ,MAEX,IAAnB+vE,IACFxrD,EAAMA,EAAI9+B,MAAM,EAAGsqF,IAErBxrD,KAA8B,IAAtBA,EAAIvkB,QAAQ,KAAc,IAAM,KAAO8vE,CAChD,CAED,OAAOvrD,CACT,CDnBAnH,UAAU+R,OAAS,SAAgBzqC,EAAMkB,GACvCnB,KAAKgrF,OAAOvnF,KAAK,CAACxD,EAAMkB,GAC1B,EAEAw3B,UAAUtL,SAAW,SAAkBk+D,GACrC,MAAML,EAAUK,EAAU,SAASpqF,GACjC,OAAOoqF,EAAQ5iD,KAAK3oC,KAAMmB,EAAO0pF,SAClC,EAAGA,SAEJ,OAAO7qF,KAAKgrF,OAAOrlF,KAAI,SAAcmnC,GACnC,OAAOo+C,EAAQp+C,EAAK,IAAM,IAAMo+C,EAAQp+C,EAAK,GAC9C,GAAE,IAAI/qC,KAAK,IACd,EEnDA,MAAMypF,mBACJ9rF,cACEM,KAAKgzE,SAAW,EACjB,CAUDyY,IAAIC,EAAWC,EAAUtnF,GAOvB,OANArE,KAAKgzE,SAASvvE,KAAK,CACjBioF,YACAC,WACAC,cAAavnF,GAAUA,EAAQunF,YAC/BC,QAASxnF,EAAUA,EAAQwnF,QAAU,OAEhC7rF,KAAKgzE,SAAS/xE,OAAS,CAC/B,CASD6qF,MAAM3gB,GACAnrE,KAAKgzE,SAAS7H,KAChBnrE,KAAKgzE,SAAS7H,GAAM,KAEvB,CAOD4gB,QACM/rF,KAAKgzE,WACPhzE,KAAKgzE,SAAW,GAEnB,CAYDztE,QAAQ7D,GACN4kC,MAAM/gC,QAAQvF,KAAKgzE,UAAU,SAAwB7oD,GACzC,OAANA,GACFzoB,EAAGyoB,EAEX,GACG,EAGH,IAAA6hE,qBAAeR,mBCpEAS,qBAAA,CACbC,mBAAmB,EACnBC,mBAAmB,EACnBC,qBAAqB,GCFRtsD,gBAAAA,aAAAA,QAAIusD,gBCAJh1E,SAAA,CACbi1E,QAAQ,EACRC,QAAS,CACPF,gCACJlN,SAAIA,WACA93C,KAAsB,oBAATA,MAAwBA,MAAQ,MAE/CmlD,UAAW,CAAE,OAAQ,QAAS,OAAQ,SCJzB,SAASC,iBAAiBj5C,EAAMnvC,GAC7C,OAAO4lF,WAAWz2C,EAAM,IAAIn8B,SAASk1E,QAAQF,gBAAmBzhF,OAAOC,OAAO,CAC5Ey/E,QAAS,SAASnpF,EAAOyK,EAAK+B,EAAM++E,GAClC,OAAuBpmD,MAAMroB,SAAS9c,IACpCnB,KAAK0qC,OAAO9+B,EAAKzK,EAAMksB,SAAS,YACzB,GAGFq/D,EAAQnC,eAAev3E,MAAMhT,KAAMwD,UAC3C,GACAa,GACL,CCNA,SAASsoF,cAAc1sF,GAKrB,OAAOqmC,MAAMs6C,SAAS,gBAAiB3gF,GAAM0F,KAAIxC,GAC3B,OAAbA,EAAM,GAAc,GAAKA,EAAM,IAAMA,EAAM,IAEtD,CASA,SAASypF,cAAcpqD,GACrB,MAAMkE,EAAM,CAAA,EACNzqB,EAAOrR,OAAOqR,KAAKumB,GACzB,IAAIh5B,EACJ,MAAMgS,EAAMS,EAAKhb,OACjB,IAAI2K,EACJ,IAAKpC,EAAI,EAAGA,EAAIgS,EAAKhS,IACnBoC,EAAMqQ,EAAKzS,GACXk9B,EAAI96B,GAAO42B,EAAI52B,GAEjB,OAAO86B,CACT,CASA,SAASmmD,eAAe3C,GACtB,SAAS4C,EAAUn/E,EAAMxM,EAAOob,EAAQnD,GACtC,IAAInZ,EAAO0N,EAAKyL,KAChB,MAAM2zE,EAAez4D,OAAO6G,UAAUl7B,GAChC+sF,EAAS5zE,GAASzL,EAAK1M,OAG7B,GAFAhB,GAAQA,GAAQqmC,MAAMhlC,QAAQib,GAAUA,EAAOtb,OAAShB,EAEpD+sF,EAOF,OANI1mD,MAAMg8C,WAAW/lE,EAAQtc,GAC3Bsc,EAAOtc,GAAQ,CAACsc,EAAOtc,GAAOkB,GAE9Bob,EAAOtc,GAAQkB,GAGT4rF,EAGLxwE,EAAOtc,IAAUqmC,MAAMs4C,SAASriE,EAAOtc,MAC1Csc,EAAOtc,GAAQ,IASjB,OANe6sF,EAAUn/E,EAAMxM,EAAOob,EAAOtc,GAAOmZ,IAEtCktB,MAAMhlC,QAAQib,EAAOtc,MACjCsc,EAAOtc,GAAQ2sF,cAAcrwE,EAAOtc,MAG9B8sF,CACT,CAED,GAAIzmD,MAAM44C,WAAWgL,IAAa5jD,MAAMi4C,WAAW2L,EAASx5D,SAAU,CACpE,MAAMgW,EAAM,CAAA,EAMZ,OAJAJ,MAAMq6C,aAAauJ,GAAU,CAACjqF,EAAMkB,KAClC2rF,EAAUH,cAAc1sF,GAAOkB,EAAOulC,EAAK,EAAE,IAGxCA,CACR,CAED,OAAO,IACT,CC/EA,MAAMihD,qBAAuB,CAC3B,oBAAgBxnF,GAalB,SAAS8sF,gBAAgBl9B,EAAUm9B,EAAQ3B,GACzC,GAAIjlD,MAAMo4C,SAAS3uB,GACjB,IAEE,OADCm9B,GAAU/lF,KAAKwO,OAAOo6C,GAChBzpB,MAAM1P,KAAKm5B,EACnB,CAAC,MAAO/xB,GACP,GAAe,gBAAXA,EAAE/9B,KACJ,MAAM+9B,CAET,CAGH,OAAQutD,GAAWpkF,KAAKC,WAAW2oD,EACrC,CAEA,MAAMkb,SAAW,CAEfkiB,aAAclB,qBAEdmB,QAAS,CAAC,MAAO,QAEjBC,iBAAkB,CAAC,SAA0B75C,EAAMjJ,GACjD,MAAM0D,EAAc1D,EAAQ+iD,kBAAoB,GAC1CC,EAAqBt/C,EAAY1yB,QAAQ,qBAAuB,EAChEiyE,EAAkBlnD,MAAMs4C,SAASprC,GAEnCg6C,GAAmBlnD,MAAMw6C,WAAWttC,KACtCA,EAAO,IAAI2rC,SAAS3rC,IAKtB,GAFmBlN,MAAM44C,WAAW1rC,GAGlC,OAAK+5C,GAGEA,EAAqBpmF,KAAKC,UAAUylF,eAAer5C,IAFjDA,EAKX,GAAIlN,MAAMk4C,cAAchrC,IACtBlN,MAAMroB,SAASu1B,IACflN,MAAM24C,SAASzrC,IACflN,MAAMy4C,OAAOvrC,IACblN,MAAMoD,OAAO8J,GAEb,OAAOA,EAET,GAAIlN,MAAMm4C,kBAAkBjrC,GAC1B,OAAOA,EAAKhU,OAEd,GAAI8G,MAAMmD,kBAAkB+J,GAE1B,OADAjJ,EAAQkjD,eAAe,mDAAmD,GACnEj6C,EAAKnmB,WAGd,IAAI2xD,EAEJ,GAAIwO,EAAiB,CACnB,GAAIv/C,EAAY1yB,QAAQ,sCAAwC,EAC9D,OAAOkxE,iBAAiBj5C,EAAMxzC,KAAK0tF,gBAAgBrgE,WAGrD,IAAK2xD,EAAa14C,MAAM04C,WAAWxrC,KAAUvF,EAAY1yB,QAAQ,wBAA0B,EAAG,CAC5F,MAAMoyE,EAAY3tF,KAAK8K,KAAO9K,KAAK8K,IAAIq0E,SAEvC,OAAO8K,WACLjL,EAAa,CAAC,UAAWxrC,GAAQA,EACjCm6C,GAAa,IAAIA,EACjB3tF,KAAK0tF,eAER,CACF,CAED,OAAIF,GAAmBD,GACrBhjD,EAAQkjD,eAAe,oBAAoB,GACpCR,gBAAgBz5C,IAGlBA,CACX,GAEEo6C,kBAAmB,CAAC,SAA2Bp6C,GAC7C,MAAM25C,EAAentF,KAAKmtF,cAAgBliB,SAASkiB,aAC7ChB,EAAoBgB,GAAgBA,EAAahB,kBACjD0B,EAAsC,SAAtB7tF,KAAK8tF,aAE3B,GAAIt6C,GAAQlN,MAAMo4C,SAASlrC,KAAW24C,IAAsBnsF,KAAK8tF,cAAiBD,GAAgB,CAChG,MACME,IADoBZ,GAAgBA,EAAajB,oBACP2B,EAEhD,IACE,OAAO1mF,KAAKwO,MAAM69B,EACnB,CAAC,MAAOxV,GACP,GAAI+vD,EAAmB,CACrB,GAAe,gBAAX/vD,EAAE/9B,KACJ,MAAMsiF,WAAWt1E,KAAK+wB,EAAGukD,WAAWyL,iBAAkBhuF,KAAM,KAAMA,KAAKmwC,UAEzE,MAAMnS,CACP,CACF,CACF,CAED,OAAOwV,CACX,GAMEhK,QAAS,EAETykD,eAAgB,aAChBC,eAAgB,eAEhB1kC,kBAAmB,EACnB2kC,eAAgB,EAEhBrjF,IAAK,CACHq0E,SAAU9nE,SAASk1E,QAAQpN,SAC3B93C,KAAMhwB,SAASk1E,QAAQllD,MAGzB+mD,eAAgB,SAAwB5wD,GACtC,OAAOA,GAAU,KAAOA,EAAS,GAClC,EAED+M,QAAS,CACPgnC,OAAQ,CACN8c,OAAU,uCAKhB/nD,MAAM/gC,QAAQ,CAAC,SAAU,MAAO,SAAS,SAA6BonC,GACpEs+B,SAAS1gC,QAAQoC,GAAU,EAC7B,IAEArG,MAAM/gC,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BonC,GACrEs+B,SAAS1gC,QAAQoC,GAAUrG,MAAMm7B,MAAMkmB,qBACzC,IAEA,IAAA2G,WAAerjB,SC/Jf,MAAMsjB,kBAAoBjoD,MAAM+6C,YAAY,CAC1C,MAAO,gBAAiB,iBAAkB,eAAgB,OAC1D,UAAW,OAAQ,OAAQ,oBAAqB,sBAChD,gBAAiB,WAAY,eAAgB,sBAC7C,UAAW,cAAe,eAiB5B,IAAAmN,aAAehiD,IACb,MAAMxyB,EAAS,CAAA,EACf,IAAIpO,EACA0H,EACA9J,EAsBJ,OApBAgjC,GAAcA,EAAWrgC,MAAM,MAAM5G,SAAQ,SAAgBgE,GAC3DC,EAAID,EAAKgS,QAAQ,KACjB3P,EAAMrC,EAAK+jB,UAAU,EAAG9jB,GAAGotB,OAAO6I,cAClCnsB,EAAM/J,EAAK+jB,UAAU9jB,EAAI,GAAGotB,QAEvBhrB,GAAQoO,EAAOpO,IAAQ2iF,kBAAkB3iF,KAIlC,eAARA,EACEoO,EAAOpO,GACToO,EAAOpO,GAAKnI,KAAK6P,GAEjB0G,EAAOpO,GAAO,CAAC0H,GAGjB0G,EAAOpO,GAAOoO,EAAOpO,GAAOoO,EAAOpO,GAAO,KAAO0H,EAAMA,EAE7D,IAES0G,CAAM,EChDf,MAAMy0E,WAAazyD,OAAO,aAE1B,SAAS0yD,gBAAgBl/B,GACvB,OAAOA,GAAUn5B,OAAOm5B,GAAQ54B,OAAO6I,aACzC,CAEA,SAASkvD,eAAextF,GACtB,OAAc,IAAVA,GAA4B,MAATA,EACdA,EAGFmlC,MAAMhlC,QAAQH,GAASA,EAAMwE,IAAIgpF,gBAAkBt4D,OAAOl1B,EACnE,CAEA,SAASytF,YAAYjmF,GACnB,MAAMkmF,EAASjkF,OAAOqtB,OAAO,MACvB62D,EAAW,mCACjB,IAAI3rF,EAEJ,KAAQA,EAAQ2rF,EAAS96E,KAAKrL,IAC5BkmF,EAAO1rF,EAAM,IAAMA,EAAM,GAG3B,OAAO0rF,CACT,CAEA,MAAME,kBAAqBpmF,GAAQ,iCAAiCiB,KAAKjB,EAAIiuB,QAE7E,SAASo4D,iBAAiBlxE,EAAS3c,EAAOquD,EAAQ3sD,EAAQosF,GACxD,OAAI3oD,MAAMi4C,WAAW17E,GACZA,EAAO8lC,KAAK3oC,KAAMmB,EAAOquD,IAG9By/B,IACF9tF,EAAQquD,GAGLlpB,MAAMo4C,SAASv9E,GAEhBmlC,MAAMo4C,SAAS77E,IACiB,IAA3B1B,EAAMoa,QAAQ1Y,GAGnByjC,MAAMy6C,SAASl+E,GACVA,EAAO+G,KAAKzI,QADrB,OANA,EASF,CAEA,SAAS+tF,aAAa1/B,GACpB,OAAOA,EAAO54B,OACX6I,cAAcv7B,QAAQ,mBAAmB,CAACymB,EAAG6C,EAAM7kB,IAC3C6kB,EAAKnhB,cAAgB1D,GAElC,CAEA,SAASwmF,eAAezoD,EAAK8oB,GAC3B,MAAM4/B,EAAe9oD,MAAMwqC,YAAY,IAAMthB,GAE7C,CAAC,MAAO,MAAO,OAAOjqD,SAAQ64C,IAC5BxzC,OAAOmf,eAAe2c,EAAK0X,EAAagxC,EAAc,CACpDjuF,MAAO,SAASkuF,EAAMC,EAAMC,GAC1B,OAAOvvF,KAAKo+C,GAAYzV,KAAK3oC,KAAMwvD,EAAQ6/B,EAAMC,EAAMC,EACxD,EACDr/D,cAAc,GACd,GAEN,CAEA,MAAMs/D,aACJ9vF,YAAY6qC,GACVA,GAAWvqC,KAAK2L,IAAI4+B,EACrB,CAED5+B,IAAI6jD,EAAQigC,EAAgBC,GAC1B,MAAM/1D,EAAO35B,KAEb,SAASwpF,EAAUmG,EAAQC,EAASC,GAClC,MAAMC,EAAUpB,gBAAgBkB,GAEhC,IAAKE,EACH,MAAM,IAAIrwF,MAAM,0CAGlB,MAAMmM,EAAM06B,MAAM+4C,QAAQ1lD,EAAMm2D,KAE5BlkF,QAAqBzL,IAAdw5B,EAAK/tB,KAAmC,IAAbikF,QAAmC1vF,IAAb0vF,IAAwC,IAAdl2D,EAAK/tB,MACzF+tB,EAAK/tB,GAAOgkF,GAAWjB,eAAegB,GAEzC,CAED,MAAMI,EAAa,CAACxlD,EAASslD,IAC3BvpD,MAAM/gC,QAAQglC,GAAS,CAAColD,EAAQC,IAAYpG,EAAUmG,EAAQC,EAASC,KAUzE,OARIvpD,MAAMu4C,cAAcrvB,IAAWA,aAAkBxvD,KAAKN,YACxDqwF,EAAWvgC,EAAQigC,GACXnpD,MAAMo4C,SAASlvB,KAAYA,EAASA,EAAO54B,UAAYm4D,kBAAkBv/B,GACjFugC,EAAWvB,aAAah/B,GAASigC,GAEvB,MAAVjgC,GAAkBg6B,EAAUiG,EAAgBjgC,EAAQkgC,GAG/C1vF,IACR,CAEDiM,IAAIujD,EAAQ09B,GAGV,GAFA19B,EAASk/B,gBAAgBl/B,GAEb,CACV,MAAM5jD,EAAM06B,MAAM+4C,QAAQr/E,KAAMwvD,GAEhC,GAAI5jD,EAAK,CACP,MAAMzK,EAAQnB,KAAK4L,GAEnB,IAAKshF,EACH,OAAO/rF,EAGT,IAAe,IAAX+rF,EACF,OAAO0B,YAAYztF,GAGrB,GAAImlC,MAAMi4C,WAAW2O,GACnB,OAAOA,EAAOvkD,KAAK3oC,KAAMmB,EAAOyK,GAGlC,GAAI06B,MAAMy6C,SAASmM,GACjB,OAAOA,EAAOl5E,KAAK7S,GAGrB,MAAM,IAAIi6B,UAAU,yCACrB,CACF,CACF,CAEDvvB,IAAI2jD,EAAQwgC,GAGV,GAFAxgC,EAASk/B,gBAAgBl/B,GAEb,CACV,MAAM5jD,EAAM06B,MAAM+4C,QAAQr/E,KAAMwvD,GAEhC,SAAU5jD,QAAqBzL,IAAdH,KAAK4L,IAAwBokF,IAAWhB,iBAAiBhvF,KAAMA,KAAK4L,GAAMA,EAAKokF,GACjG,CAED,OAAO,CACR,CAEDrlD,OAAO6kB,EAAQwgC,GACb,MAAMr2D,EAAO35B,KACb,IAAIiwF,GAAU,EAEd,SAASC,EAAaN,GAGpB,GAFAA,EAAUlB,gBAAgBkB,GAEb,CACX,MAAMhkF,EAAM06B,MAAM+4C,QAAQ1lD,EAAMi2D,IAE5BhkF,GAASokF,IAAWhB,iBAAiBr1D,EAAMA,EAAK/tB,GAAMA,EAAKokF,YACtDr2D,EAAK/tB,GAEZqkF,GAAU,EAEb,CACF,CAQD,OANI3pD,MAAMhlC,QAAQkuD,GAChBA,EAAOjqD,QAAQ2qF,GAEfA,EAAa1gC,GAGRygC,CACR,CAEDlE,MAAMiE,GACJ,MAAM/zE,EAAOrR,OAAOqR,KAAKjc,MACzB,IAAIwJ,EAAIyS,EAAKhb,OACTgvF,GAAU,EAEd,KAAOzmF,KAAK,CACV,MAAMoC,EAAMqQ,EAAKzS,GACbwmF,IAAWhB,iBAAiBhvF,KAAMA,KAAK4L,GAAMA,EAAKokF,GAAS,YACtDhwF,KAAK4L,GACZqkF,GAAU,EAEb,CAED,OAAOA,CACR,CAEDtzD,UAAU+R,GACR,MAAM/U,EAAO35B,KACPuqC,EAAU,CAAA,EAsBhB,OApBAjE,MAAM/gC,QAAQvF,MAAM,CAACmB,EAAOquD,KAC1B,MAAM5jD,EAAM06B,MAAM+4C,QAAQ90C,EAASilB,GAEnC,GAAI5jD,EAGF,OAFA+tB,EAAK/tB,GAAO+iF,eAAextF,eACpBw4B,EAAK61B,GAId,MAAM2gC,EAAazhD,EAASwgD,aAAa1/B,GAAUn5B,OAAOm5B,GAAQ54B,OAE9Du5D,IAAe3gC,UACV71B,EAAK61B,GAGd71B,EAAKw2D,GAAcxB,eAAextF,GAElCopC,EAAQ4lD,IAAc,CAAI,IAGrBnwF,IACR,CAEDuB,UAAU6uF,GACR,OAAOpwF,KAAKN,YAAY6B,OAAOvB,QAASowF,EACzC,CAED/pD,OAAOgqD,GACL,MAAM3pD,EAAM97B,OAAOqtB,OAAO,MAM1B,OAJAqO,MAAM/gC,QAAQvF,MAAM,CAACmB,EAAOquD,KACjB,MAATruD,IAA2B,IAAVA,IAAoBulC,EAAI8oB,GAAU6gC,GAAa/pD,MAAMhlC,QAAQH,GAASA,EAAMY,KAAK,MAAQZ,EAAM,IAG3GulC,CACR,CAED,CAAC1K,OAAO4Q,YACN,OAAOhiC,OAAO8lB,QAAQ1wB,KAAKqmC,UAAUrK,OAAO4Q,WAC7C,CAEDvf,WACE,OAAOziB,OAAO8lB,QAAQ1wB,KAAKqmC,UAAU1gC,KAAI,EAAE6pD,EAAQruD,KAAWquD,EAAS,KAAOruD,IAAOY,KAAK,KAC3F,CAEW8mC,IAAP7M,OAAO6M,eACV,MAAO,cACR,CAED+gB,YAAYu0B,GACV,OAAOA,aAAiBn+E,KAAOm+E,EAAQ,IAAIn+E,KAAKm+E,EACjD,CAEDv0B,cAAc0mC,KAAUF,GACtB,MAAMG,EAAW,IAAIvwF,KAAKswF,GAI1B,OAFAF,EAAQ7qF,SAASgX,GAAWg0E,EAAS5kF,IAAI4Q,KAElCg0E,CACR,CAED3mC,gBAAgB4F,GACd,MAIMghC,GAJYxwF,KAAKyuF,YAAezuF,KAAKyuF,YAAc,CACvD+B,UAAW,CAAE,IAGaA,UACtB73D,EAAY34B,KAAK24B,UAEvB,SAAS83D,EAAeb,GACtB,MAAME,EAAUpB,gBAAgBkB,GAE3BY,EAAUV,KACbX,eAAex2D,EAAWi3D,GAC1BY,EAAUV,IAAW,EAExB,CAID,OAFAxpD,MAAMhlC,QAAQkuD,GAAUA,EAAOjqD,QAAQkrF,GAAkBA,EAAejhC,GAEjExvD,IACR,EAGHwvF,aAAakB,SAAS,CAAC,eAAgB,iBAAkB,SAAU,kBAAmB,aAAc,kBAEpGpqD,MAAM86C,cAAcoO,aAAa72D,WACjC2N,MAAM86C,cAAcoO,cAEpB,IAAAmB,eAAenB,aCjRA,SAASoB,cAAcC,EAAK1gD,GACzC,MAAMt8B,EAAS7T,MAAQirE,WACjBntD,EAAUqyB,GAAYt8B,EACtB02B,EAAUilD,eAAaviF,KAAK6Q,EAAQysB,SAC1C,IAAIiJ,EAAO11B,EAAQ01B,KAQnB,OANAlN,MAAM/gC,QAAQsrF,GAAK,SAAmBnvF,GACpC8xC,EAAO9xC,EAAGinC,KAAK90B,EAAQ2/B,EAAMjJ,EAAQ5N,YAAawT,EAAWA,EAAS3S,YAASr9B,EACnF,IAEEoqC,EAAQ5N,YAED6W,CACT,CCzBe,SAASs9C,SAAS3vF,GAC/B,SAAUA,IAASA,EAAM4vF,WAC3B,CCUA,SAASC,cAAcnxF,EAASgU,EAAQw7B,GAEtCkzC,WAAW55C,KAAK3oC,KAAiB,MAAXH,EAAkB,WAAaA,EAAS0iF,WAAW0O,aAAcp9E,EAAQw7B,GAC/FrvC,KAAKC,KAAO,eACd,CCLe,SAASixF,OAAO56E,EAASwzB,EAAQqG,GAC9C,MAAMi+C,EAAiBj+C,EAASt8B,OAAOu6E,eAClCj+C,EAAS3S,QAAW4wD,IAAkBA,EAAej+C,EAAS3S,QAGjEsM,EAAO,IAAIy4C,WACT,mCAAqCpyC,EAAS3S,OAC9C,CAAC+kD,WAAW4O,gBAAiB5O,WAAWyL,kBAAkB3nF,KAAKqlB,MAAMykB,EAAS3S,OAAS,KAAO,GAC9F2S,EAASt8B,OACTs8B,EAASd,QACTc,IAPF75B,EAAQ65B,EAUZ,CCjBe,SAASihD,cAActxD,GAIpC,MAAO,8BAA8Bl2B,KAAKk2B,EAC5C,CCJe,SAASuxD,YAAYjsD,EAASksD,GAC3C,OAAOA,EACHlsD,EAAQlhC,QAAQ,OAAQ,IAAM,IAAMotF,EAAYptF,QAAQ,OAAQ,IAChEkhC,CACN,CCCe,SAASmsD,cAAcnsD,EAASosD,GAC7C,OAAIpsD,IAAYgsD,cAAcI,GACrBH,YAAYjsD,EAASosD,GAEvBA,CACT,CJAAlrD,MAAMy5C,SAASiR,cAAezO,WAAY,CACxCwO,YAAY,IKnBd,IAAI1J,SAAW/mF,aAAc,QAACqV,MAE1B87E,cAAgB,CAClBlzD,IAAK,GACLE,OAAQ,GACRC,KAAM,GACNC,MAAO,IACPC,GAAI,GACJC,IAAK,KAGH6yD,eAAiBr7D,OAAOsC,UAAUoX,UAAY,SAAS9yB,GACzD,OAAOA,EAAEhc,QAAUjB,KAAKiB,SACuB,IAA7CjB,KAAKub,QAAQ0B,EAAGjd,KAAKiB,OAASgc,EAAEhc,OACpC,EAOA,SAAS0wF,eAAe7xD,GACtB,IAAI8xD,EAA2B,iBAAR9xD,EAAmBunD,SAASvnD,GAAOA,GAAO,GAC7DxG,EAAQs4D,EAAU3rD,SAClBC,EAAW0rD,EAAUvvD,KACrBqB,EAAOkuD,EAAUluD,KACrB,GAAwB,iBAAbwC,IAA0BA,GAA6B,iBAAV5M,EACtD,MAAO,GAQT,GALAA,EAAQA,EAAMntB,MAAM,IAAK,GAAG,IAKvB0lF,YAFL3rD,EAAWA,EAAShiC,QAAQ,QAAS,IACrCw/B,EAAO/kB,SAAS+kB,IAAS+tD,cAAcn4D,IAAU,GAE/C,MAAO,GAGT,IAAIw4D,EACFC,OAAO,cAAgBz4D,EAAQ,WAC/By4D,OAAOz4D,EAAQ,WACfy4D,OAAO,qBACPA,OAAO,aAKT,OAJID,IAAmC,IAA1BA,EAAMv2E,QAAQ,SAEzBu2E,EAAQx4D,EAAQ,MAAQw4D,GAEnBA,CACT,CAUA,SAASD,YAAY3rD,EAAUxC,GAC7B,IAAIsuD,GACDD,OAAO,wBAA0BA,OAAO,aAAatyD,cACxD,OAAKuyD,GAGY,MAAbA,GAIGA,EAAS7lF,MAAM,SAASgsD,OAAM,SAAS25B,GAC5C,IAAKA,EACH,OAAO,EAET,IAAIG,EAAcH,EAAM3uF,MAAM,gBAC1B+uF,EAAsBD,EAAcA,EAAY,GAAKH,EACrDK,EAAkBF,EAActzE,SAASszE,EAAY,IAAM,EAC/D,SAAIE,GAAmBA,IAAoBzuD,KAItC,QAAQ95B,KAAKsoF,IAKoB,MAAlCA,EAAoBtxD,OAAO,KAE7BsxD,EAAsBA,EAAoBlxF,MAAM,KAG1C0wF,eAAe/oD,KAAKzC,EAAUgsD,IAR7BhsD,IAAagsD,EAS1B,GACA,CASA,SAASH,OAAOnmF,GACd,OAAOmC,QAAQjD,IAAIc,EAAI6zB,gBAAkB1xB,QAAQjD,IAAIc,EAAIS,gBAAkB,EAC7E,CAEA,IAAA+lF,iBAAyBT,iNCvGzB,IAAI10E,EAAI,IACJlJ,EAAQ,GAAJkJ,EACJkN,EAAQ,GAAJpW,EACJpH,EAAQ,GAAJwd,EACJQ,EAAQ,EAAJhe,EACJse,EAAQ,OAAJte,EAqJR,SAAS0lF,EAAOC,EAAIC,EAAOnmE,EAAGnsB,GAC5B,IAAIuyF,EAAWD,GAAa,IAAJnmE,EACxB,OAAO/lB,KAAK0mB,MAAMulE,EAAKlmE,GAAK,IAAMnsB,GAAQuyF,EAAW,IAAM,GAC7D,QAxIAF,GAAiB,SAAUh/E,EAAKjP,GAC9BA,EAAUA,GAAW,GACrB,IAAIyjC,SAAcx0B,EAClB,GAAa,WAATw0B,GAAqBx0B,EAAIrS,OAAS,EACpC,OAkBJ,SAAe0H,GAEb,IADAA,EAAM0tB,OAAO1tB,IACL1H,OAAS,IACf,OAEF,IAAIkC,EAAQ,mIAAmI6Q,KAC7IrL,GAEF,IAAKxF,EACH,OAEF,IAAIipB,EAAIy6C,WAAW1jE,EAAM,IAEzB,QADYA,EAAM,IAAM,MAAMs8B,eAE5B,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOrT,EAAInB,EACb,IAAK,QACL,IAAK,OACL,IAAK,IACH,OAAOmB,EAAIzB,EACb,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOyB,EAAIzf,EACb,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOyf,EAAIjC,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOiC,EAAIrY,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOqY,EAAInP,EACb,IAAK,eACL,IAAK,cACL,IAAK,QACL,IAAK,OACL,IAAK,KACH,OAAOmP,EACT,QACE,OAEL,CAzEUzW,CAAMrC,GACR,GAAa,WAATw0B,GAAqB3M,SAAS7nB,GACvC,OAAOjP,EAAQF,KA0GnB,SAAiBmuF,GACf,IAAIC,EAAQlsF,KAAKqG,IAAI4lF,GACrB,GAAIC,GAAS5lF,EACX,OAAO0lF,EAAOC,EAAIC,EAAO5lF,EAAG,OAE9B,GAAI4lF,GAASpoE,EACX,OAAOkoE,EAAOC,EAAIC,EAAOpoE,EAAG,QAE9B,GAAIooE,GAASx+E,EACX,OAAOs+E,EAAOC,EAAIC,EAAOx+E,EAAG,UAE9B,GAAIw+E,GAASt1E,EACX,OAAOo1E,EAAOC,EAAIC,EAAOt1E,EAAG,UAE9B,OAAOq1E,EAAK,KACb,CAzHyBG,CAAQn/E,GAiFlC,SAAkBg/E,GAChB,IAAIC,EAAQlsF,KAAKqG,IAAI4lF,GACrB,GAAIC,GAAS5lF,EACX,OAAOtG,KAAK0mB,MAAMulE,EAAK3lF,GAAK,IAE9B,GAAI4lF,GAASpoE,EACX,OAAO9jB,KAAK0mB,MAAMulE,EAAKnoE,GAAK,IAE9B,GAAIooE,GAASx+E,EACX,OAAO1N,KAAK0mB,MAAMulE,EAAKv+E,GAAK,IAE9B,GAAIw+E,GAASt1E,EACX,OAAO5W,KAAK0mB,MAAMulE,EAAKr1E,GAAK,IAE9B,OAAOq1E,EAAK,IACb,CAhGwCI,CAASp/E,GAEhD,MAAM,IAAI7T,MACR,wDACE0H,KAAKC,UAAUkM,GAErB,yFCkNAi+D,OAjPA,SAAezmE,GAoCb,SAAS6nF,EAAYnb,GAGnB,IAFA,IAAIpxC,EAAO,EAEF58B,EAAI,EAAGA,EAAIguE,EAAUv2E,OAAQuI,IACpC48B,GAAQA,GAAQ,GAAKA,EAAOoxC,EAAU97C,WAAWlyB,GACjD48B,GAAQ,EAGV,OAAOwsD,EAAYC,OAAOxsF,KAAKqG,IAAI05B,GAAQwsD,EAAYC,OAAO5xF,OAC/D,CAWD,SAAS2xF,EAAYpb,GACnB,IAAIsb,EAEJ,SAAS36C,IAEP,GAAKA,EAAM5gB,QAAX,CAIA,IAAK,IAAIw7D,EAAOvvF,UAAUvC,OAAQyE,EAAO,IAAIrE,MAAM0xF,GAAOzT,EAAO,EAAGA,EAAOyT,EAAMzT,IAC/E55E,EAAK45E,GAAQ97E,UAAU87E,GAGzB,IAAI3lD,EAAOwe,EAEPT,EAAOpjB,OAAO,IAAIqH,MAClB22D,EAAK56C,GAAQo7C,GAAYp7C,GAC7B/d,EAAKnP,KAAO8nE,EACZ34D,EAAKm0B,KAAOglC,EACZn5D,EAAK+d,KAAOA,EACZo7C,EAAWp7C,EACXhyC,EAAK,GAAKktF,EAAYI,OAAOttF,EAAK,IAEX,iBAAZA,EAAK,IAEdA,EAAK4R,QAAQ,MAIf,IAAI8B,EAAQ,EACZ1T,EAAK,GAAKA,EAAK,GAAGxB,QAAQ,iBAAiB,SAAUf,EAAOurC,GAE1D,GAAc,OAAVvrC,EACF,OAAOA,EAGTiW,IACA,IAAI65E,EAAYL,EAAYM,WAAWxkD,GAEvC,GAAyB,mBAAdukD,EAA0B,CACnC,IAAI3/E,EAAM5N,EAAK0T,GACfjW,EAAQ8vF,EAAUtqD,KAAKhP,EAAMrmB,GAE7B5N,EAAKqtD,OAAO35C,EAAO,GACnBA,GACD,CAED,OAAOjW,CACf,IAEMyvF,EAAYO,WAAWxqD,KAAKhP,EAAMj0B,IACtBi0B,EAAKva,KAAOwzE,EAAYxzE,KAC9BpM,MAAM2mB,EAAMj0B,EA7CjB,CA8CF,CAgBD,OAdAyyC,EAAMq/B,UAAYA,EAClBr/B,EAAM5gB,QAAUq7D,EAAYr7D,QAAQigD,GACpCr/B,EAAMi7C,UAAYR,EAAYQ,YAC9Bj7C,EAAMlrB,MAAQ0lE,EAAYnb,GAC1Br/B,EAAM/F,QAAUA,EAChB+F,EAAM0nC,OAASA,EAIiB,mBAArB+S,EAAYrmD,MACrBqmD,EAAYrmD,KAAK4L,GAGnBy6C,EAAYS,UAAU5vF,KAAK00C,GACpBA,CACR,CAED,SAAS/F,IACP,IAAIh5B,EAAQw5E,EAAYS,UAAU93E,QAAQvb,MAE1C,OAAe,IAAXoZ,IACFw5E,EAAYS,UAAUtgC,OAAO35C,EAAO,IAC7B,EAIV,CAED,SAASymE,EAAOrI,EAAWl/B,GACzB,OAAOs6C,EAAY5yF,KAAKw3E,gBAAkC,IAAdl/B,EAA4B,IAAMA,GAAak/B,EAC5F,CAiGD,OA7OAob,EAAYz6C,MAAQy6C,EACpBA,EAAYpxF,QAAUoxF,EACtBA,EAAYI,OAkOZ,SAAgB1/E,GACd,GAAIA,aAAe7T,MACjB,OAAO6T,EAAIitD,OAASjtD,EAAIzT,QAG1B,OAAOyT,CACR,EAvODs/E,EAAYU,QAsLZ,WACEV,EAAYW,OAAO,GACpB,EAvLDX,EAAYW,OAkJZ,SAAgBC,GAId,IAAIhqF,EAHJopF,EAAYa,KAAKD,GACjBZ,EAAYpoF,MAAQ,GACpBooF,EAAYc,MAAQ,GAEpB,IAAIvnF,GAA+B,iBAAfqnF,EAA0BA,EAAa,IAAIrnF,MAAM,UACjEqP,EAAMrP,EAAMlL,OAEhB,IAAKuI,EAAI,EAAGA,EAAIgS,EAAKhS,IACd2C,EAAM3C,KAOW,OAFtBgqF,EAAarnF,EAAM3C,GAAGtF,QAAQ,MAAO,QAEtB,GACb0uF,EAAYc,MAAMjwF,KAAK,IAAIuF,OAAO,IAAMwqF,EAAWh+D,OAAO,GAAK,MAE/Do9D,EAAYpoF,MAAM/G,KAAK,IAAIuF,OAAO,IAAMwqF,EAAa,OAIzD,IAAKhqF,EAAI,EAAGA,EAAIopF,EAAYS,UAAUpyF,OAAQuI,IAAK,CACjD,IAAIshC,EAAW8nD,EAAYS,UAAU7pF,GACrCshC,EAASvT,QAAUq7D,EAAYr7D,QAAQuT,EAAS0sC,UACjD,CACF,EA5KDob,EAAYr7D,QAgMZ,SAAiBt3B,GACf,GAA8B,MAA1BA,EAAKA,EAAKgB,OAAS,GACrB,OAAO,EAGT,IAAIuI,EACAgS,EAEJ,IAAKhS,EAAI,EAAGgS,EAAMo3E,EAAYc,MAAMzyF,OAAQuI,EAAIgS,EAAKhS,IACnD,GAAIopF,EAAYc,MAAMlqF,GAAGI,KAAK3J,GAC5B,OAAO,EAIX,IAAKuJ,EAAI,EAAGgS,EAAMo3E,EAAYpoF,MAAMvJ,OAAQuI,EAAIgS,EAAKhS,IACnD,GAAIopF,EAAYpoF,MAAMhB,GAAGI,KAAK3J,GAC5B,OAAO,EAIX,OAAO,CACR,EApND2yF,EAAYe,SAAWrzF,YACvBsK,OAAOqR,KAAKnR,GAAKvF,SAAQ,SAAUqG,GACjCgnF,EAAYhnF,GAAOd,EAAIc,EAC3B,IAKEgnF,EAAYS,UAAY,GAKxBT,EAAYpoF,MAAQ,GACpBooF,EAAYc,MAAQ,GAOpBd,EAAYM,WAAa,GAmBzBN,EAAYD,YAAcA,EA8L1BC,EAAYW,OAAOX,EAAYgB,QACxBhB,CACR,kGCnPD,SAASiB,EAAQntD,GAAwT,OAAtOmtD,EAArD,mBAAX73D,QAAoD,iBAApBA,OAAO4Q,SAAmC,SAAiBlG,GAAO,cAAcA,CAAM,EAAqB,SAAiBA,GAAO,OAAOA,GAAyB,mBAAX1K,QAAyB0K,EAAIhnC,cAAgBs8B,QAAU0K,IAAQ1K,OAAOrD,UAAY,gBAAkB+N,CAAI,EAAamtD,EAAQntD,EAAO,CAO/V7nB,EAAAO,IAqFA,WACE,IAAI00E,EAIJ,MAA6E,YAAlD,oBAAZ30E,QAA0B,YAAc00E,EAAQ10E,WAA0BA,QAAQC,MAAQ00E,EAAW30E,SAASC,IAAIpM,MAAM8gF,EAAUtwF,UAClJ,EA1FDqb,EAAAs0E,WA+CA,SAAoBztF,GAGlB,GAFAA,EAAK,IAAM1F,KAAKozF,UAAY,KAAO,IAAMpzF,KAAKw3E,WAAax3E,KAAKozF,UAAY,MAAQ,KAAO1tF,EAAK,IAAM1F,KAAKozF,UAAY,MAAQ,KAAO,IAAMt0E,EAAOD,QAAQ80E,SAAS3zF,KAAKwqB,OAEpKxqB,KAAKozF,UACR,OAGF,IAAI1oE,EAAI,UAAY1qB,KAAKitB,MACzBvnB,EAAKqtD,OAAO,EAAG,EAAGroC,EAAG,kBAIrB,IAAItR,EAAQ,EACR26E,EAAQ,EACZruF,EAAK,GAAGxB,QAAQ,eAAe,SAAUf,GACzB,OAAVA,IAIJiW,IAEc,OAAVjW,IAGF4wF,EAAQ36E,GAEd,IACE1T,EAAKqtD,OAAOghC,EAAO,EAAGrpE,EACvB,EA1ED7L,EAAA40E,KAkGA,SAAcD,GACZ,IACMA,EACF30E,EAAQm1E,QAAQC,QAAQ,QAAST,GAEjC30E,EAAQm1E,QAAQE,WAAW,QAE9B,CAAC,MAAO7zF,GAER,CACF,EA3GDwe,EAAA+0E,KAoHA,WACE,IAAI5pE,EAEJ,IACEA,EAAInL,EAAQm1E,QAAQG,QAAQ,QAChC,CAAI,MAAO9zF,GAAS,EAKb2pB,GAAwB,oBAAZjc,SAA2B,QAASA,UACnDic,EAAIjc,QAAQjD,IAAIspF,OAGlB,OAAOpqE,CACR,EAlIDnL,EAAAu0E,UAgBA,WAIE,GAAsB,oBAAX73C,QAA0BA,OAAOxtC,UAAoC,aAAxBwtC,OAAOxtC,QAAQ+5B,MAAuByT,OAAOxtC,QAAQsmF,QAC3G,OAAO,EAIT,GAAyB,oBAAdC,WAA6BA,UAAUC,WAAaD,UAAUC,UAAU90D,cAAct8B,MAAM,yBACrG,OAAO,EAKT,MAA2B,oBAAbqxF,UAA4BA,SAASC,iBAAmBD,SAASC,gBAAgBvhE,OAASshE,SAASC,gBAAgBvhE,MAAMwhE,kBACrH,oBAAXn5C,QAA0BA,OAAOp8B,UAAYo8B,OAAOp8B,QAAQw1E,SAAWp5C,OAAOp8B,QAAQy1E,WAAar5C,OAAOp8B,QAAQ01E,QAEpG,oBAAdP,WAA6BA,UAAUC,WAAaD,UAAUC,UAAU90D,cAAct8B,MAAM,mBAAqBwb,SAAS3V,OAAO8rF,GAAI,KAAO,IAC9H,oBAAdR,WAA6BA,UAAUC,WAAaD,UAAUC,UAAU90D,cAAct8B,MAAM,qBACpG,EAnCD0b,EAAkBm1E,QA8IlB,WACE,IAGE,OAAOe,YACR,CAAC,MAAO10F,GAER,CACF,CAtJiB20F,GAKlBn2E,EAAAg0E,OAAiB,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAmJ30B/zE,EAAAD,QAAiBve,gBAAoBue,GACpBC,EAAOD,QAAQq0E,WAKrBtmF,EAAI,SAAU0M,GACvB,IACE,OAAOnS,KAAKC,UAAUkS,EACvB,CAAC,MAAOjZ,GACP,MAAO,+BAAiCA,EAAMR,OAC/C,uLCjLCs4C,0FCCJ9kB,QAAiB,CAAC1W,EAAMvH,KACvBA,EAAOA,GAAQrH,QAAQqH,KACvB,MAAMke,EAAS3W,EAAKxS,WAAW,KAAO,GAAsB,IAAhBwS,EAAK1b,OAAe,IAAM,KAChEghE,EAAM7sD,EAAKmG,QAAQ+X,EAAS3W,GAC5Bs4E,EAAgB7/E,EAAKmG,QAAQ,MACnC,OAAgB,IAAT0mD,KAAkC,IAAnBgzB,GAA8BhzB,EAAMgzB,EAAc,iHCLzE,MAAMzhE,EAAKlzB,sBAAAA,QACL+yB,EAAU3lB,iBAEV5C,EAAMiD,QAAQjD,IAEpB,IAAI4oB,EAmHJ,SAASoB,EAAgBC,GACxB,MAAMnB,EAxFP,SAAuBmB,GACtB,IAAmB,IAAfrB,EACH,OAAO,EAGR,GAAIL,EAAQ,cACXA,EAAQ,eACRA,EAAQ,mBACR,OAAO,EAGR,GAAIA,EAAQ,aACX,OAAO,EAGR,GAAI0B,IAAWA,EAAO3kB,QAAwB,IAAfsjB,EAC9B,OAAO,EAGR,MAAM5mB,EAAM4mB,EAAa,EAAI,EAE7B,GAAyB,UAArB3lB,QAAQsJ,SAAsB,CAOjC,MAAM+c,EAAYZ,EAAGa,UAAUloB,MAAM,KACrC,OACCmoB,OAAOvmB,QAAQwH,SAASkZ,KAAKtiB,MAAM,KAAK,KAAO,GAC/CmoB,OAAOF,EAAU,KAAO,IACxBE,OAAOF,EAAU,KAAO,MAEjBE,OAAOF,EAAU,KAAO,MAAQ,EAAI,EAGrC,CACP,CAED,GAAI,OAAQtpB,EACX,MAAI,CAAC,SAAU,WAAY,WAAY,aAAaypB,MAAKC,GAAQA,KAAQ1pB,KAAwB,aAAhBA,EAAI2pB,QAC7E,EAGD3nB,EAGR,GAAI,qBAAsBhC,EACzB,MAAO,gCAAgClB,KAAKkB,EAAI4pB,kBAAoB,EAAI,EAGzE,GAAsB,cAAlB5pB,EAAI6pB,UACP,OAAO,EAGR,GAAI,iBAAkB7pB,EAAK,CAC1B,MAAMuS,EAAUsB,UAAU7T,EAAI8pB,sBAAwB,IAAIzoB,MAAM,KAAK,GAAI,IAEzE,OAAQrB,EAAI+pB,cACX,IAAK,YACJ,OAAOxX,GAAW,EAAI,EAAI,EAC3B,IAAK,iBACJ,OAAO,EAGT,CAED,MAAI,iBAAiBzT,KAAKkB,EAAIqpB,MACtB,EAGJ,8DAA8DvqB,KAAKkB,EAAIqpB,OAIvE,cAAerpB,EAHX,GAOJA,EAAIqpB,KACArnB,EAIR,CAGcknB,CAAce,GAC5B,OAtGD,SAAwBnB,GACvB,OAAc,IAAVA,GAIG,CACNA,QACAC,UAAU,EACVC,OAAQF,GAAS,EACjBG,OAAQH,GAAS,EAElB,CA2FOD,CAAeC,EACtB,QArHGP,EAAQ,aACXA,EAAQ,cACRA,EAAQ,eACRK,GAAa,GACHL,EAAQ,UAClBA,EAAQ,WACRA,EAAQ,eACRA,EAAQ,mBACRK,GAAa,GAEV,gBAAiB5oB,IACpB4oB,EAAwC,IAA3B5oB,EAAIkqB,YAAY/zB,QAAkD,IAAlC0d,SAAS7T,EAAIkqB,YAAa,KA4GxEC,gBAAiB,CAChBjB,cAAec,EACf/kB,OAAQ+kB,EAAgB/mB,QAAQgC,QAChCG,OAAQ4kB,EAAgB/mB,QAAQmC,yFC5HjC,IAAIujB,EAAMnzB,sBAAAA,QAENs1B,EAAOloB,sBAAAA,QAMXmR,EAAA0tB,KAoIA,SAAc4L,GACZA,EAAM+8C,YAAc,GAGpB,IAFA,IAAIj5E,EAAOrR,OAAOqR,KAAK4C,EAAQq2E,aAEtB1rF,EAAI,EAAGA,EAAIyS,EAAKhb,OAAQuI,IAC/B2uC,EAAM+8C,YAAYj5E,EAAKzS,IAAMqV,EAAQq2E,YAAYj5E,EAAKzS,GAEzD,EA1IDqV,EAAAO,IA4FA,WACE,OAAOrR,QAAQmC,OAAOF,MAAM4lB,EAAK8Y,OAAO17B,MAAM4iB,EAAMpyB,WAAa,KAClE,EA7FDqb,EAAAs0E,WAgEA,SAAoBztF,GAClB,IAAIzF,EAAOD,KAAKw3E,UACZ4b,EAAYpzF,KAAKozF,UAErB,GAAIA,EAAW,CACb,IAAI1oE,EAAI1qB,KAAKitB,MACTkoE,EAAY,OAAYzqE,EAAI,EAAIA,EAAI,OAASA,GAC7C4I,EAAS,KAAK/xB,OAAO4zF,EAAW,OAAO5zF,OAAOtB,EAAM,SACxDyF,EAAK,GAAK4tB,EAAS5tB,EAAK,GAAGyG,MAAM,MAAMpK,KAAK,KAAOuxB,GACnD5tB,EAAKjC,KAAK0xF,EAAY,KAAOr2E,EAAOD,QAAQ80E,SAAS3zF,KAAKwqB,MAAQ,OACtE,MACI9kB,EAAK,GAIT,WACE,GAAImZ,EAAQq2E,YAAYE,SACtB,MAAO,GAGT,OAAO,IAAIz5D,MAAOkpC,cAAgB,GACnC,CAVawwB,GAAYp1F,EAAO,IAAMyF,EAAK,EAE3C,EA5EDmZ,EAAA40E,KAqGA,SAAcD,GACRA,EACFzlF,QAAQjD,IAAIspF,MAAQZ,SAIbzlF,QAAQjD,IAAIspF,KAEtB,EA5GDv1E,EAAA+0E,KAqHA,WACE,OAAO7lF,QAAQjD,IAAIspF,KACpB,EAtHDv1E,EAAAu0E,UAmDA,WACE,MAAO,WAAYv0E,EAAQq2E,YAAcI,QAAQz2E,EAAQq2E,YAAYrC,QAAUp/D,EAAIyB,OAAOnnB,QAAQmC,OAAOqlF,GAC1G,EAhDD12E,EAAAg0E,OAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAEjC,IAGE,IAAI7+D,EAAgBpmB,uBAEhBomB,IAAkBA,EAAc9jB,QAAU8jB,GAAeJ,OAAS,IACpE/U,EAAiBg0E,OAAA,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAE7W,CAAE,MAAOxyF,GAAS,CASlBwe,EAAAq2E,YAAsBtqF,OAAOqR,KAAKlO,QAAQjD,KAAKjI,QAAO,SAAU+I,GAC9D,MAAO,WAAWhC,KAAKgC,EACxB,IAAE1F,QAAO,SAAUwgC,EAAK96B,GAEvB,IAAIujD,EAAOvjD,EAAI0hB,UAAU,GAAGmS,cAAcv7B,QAAQ,aAAa,SAAUgsD,EAAGtlC,GAC1E,OAAOA,EAAEve,aACb,IAEMiH,EAAMvF,QAAQjD,IAAIc,GAatB,OAVE0H,IADE,2BAA2B1J,KAAK0J,KAEzB,6BAA6B1J,KAAK0J,KAE1B,SAARA,EACH,KAEAghB,OAAOhhB,IAGfozB,EAAIyoB,GAAQ77C,EACLozB,CACR,GAAE,CAAE,GA0FL5nB,EAAAD,QAAiB/Q,gBAAoB+Q,GACrC,IAAIq0E,EAAap0E,EAAOD,QAAQq0E,WAKhCA,EAAW95C,EAAI,SAAU9/B,GAEvB,OADAtZ,KAAKk1F,YAAYrC,OAAS7yF,KAAKozF,UACxBx9D,EAAK4/D,QAAQl8E,EAAGtZ,KAAKk1F,aACzB/oF,MAAM,MACNxG,KAAI,SAAUgD,GAAO,OAAOA,EAAIiuB,UAChC70B,KAAK,IACV,EAMAmxF,EAAWuC,EAAI,SAAUn8E,GAEvB,OADAtZ,KAAKk1F,YAAYrC,OAAS7yF,KAAKozF,UACxBx9D,EAAK4/D,QAAQl8E,EAAGtZ,KAAKk1F,+GCxKP,oBAAZnnF,SAA4C,aAAjBA,QAAQ+5B,OAA2C,IAApB/5B,QAAQ2nF,SAAoB3nF,QAAQsmF,OACvGsB,IAAA92E,QAAiBve,iBAEjBq1F,IAAA92E,QAAiBnR,wCJPnB,IAAAkoF,QAAiB,WACf,IAAKz9C,QAAO,CACV,IAEEA,QAAQ73C,aAAiB,mBAC1B,CACD,MAAOD,GAAgB,CACF,mBAAV83C,UACTA,QAAQ,WAAY,EAEvB,CACDA,QAAMnlC,MAAM,KAAMxP,UACpB,EKdIs8B,IAAMx/B,aAAAA,QACNkmC,MAAM1G,IAAI0G,IACV9H,KAAOhxB,cAAAA,QACPixB,MAAQ/wB,eAAAA,QACRioF,SAAW/nF,gBAAiB,QAAC+nF,SAC7BC,OAAS9nF,sBAAAA,QACTmqC,MAAQlqC,QAGR8nF,OAAS,CAAC,QAAS,UAAW,UAAW,QAAS,SAAU,WAC5DC,cAAgBprF,OAAOqtB,OAAO,MAClC89D,OAAOxwF,SAAQ,SAAU+M,GACvB0jF,cAAc1jF,GAAS,SAAU+8E,EAAMC,EAAMC,GAC3CvvF,KAAKi2F,cAAcz7E,KAAKlI,EAAO+8E,EAAMC,EAAMC,EAC/C,CACA,IAEA,IAAI2G,gBAAkBC,gBACpB,kBACA,cACA/6D,WAGEg7D,iBAAmBD,gBACrB,6BACA,6BAEEE,sBAAwBF,gBAC1B,4BACA,wCAEEG,2BAA6BH,gBAC/B,kCACA,gDAEEI,mBAAqBJ,gBACvB,6BACA,mBAIF,SAASK,oBAAoBnyF,EAASoyF,GAEpCZ,SAASltD,KAAK3oC,MACdA,KAAK02F,iBAAiBryF,GACtBrE,KAAK22F,SAAWtyF,EAChBrE,KAAK42F,QAAS,EACd52F,KAAK62F,SAAU,EACf72F,KAAK82F,eAAiB,EACtB92F,KAAK+2F,WAAa,GAClB/2F,KAAKg3F,mBAAqB,EAC1Bh3F,KAAKi3F,oBAAsB,GAGvBR,GACFz2F,KAAK2T,GAAG,WAAY8iF,GAItB,IAAI98D,EAAO35B,KACXA,KAAKk3F,kBAAoB,SAAU/mD,GACjCxW,EAAKw9D,iBAAiBhnD,EAC1B,EAGEnwC,KAAKo3F,iBACP,CAgZA,SAASlvF,KAAKskF,GAEZ,IAAI3tE,EAAU,CACZw4E,aAAc,GACdlJ,cAAe,UAIbmJ,EAAkB,CAAA,EAgEtB,OA/DA1sF,OAAOqR,KAAKuwE,GAAWjnF,SAAQ,SAAUq6B,GACvC,IAAIqG,EAAWrG,EAAS,IACpB23D,EAAiBD,EAAgBrxD,GAAYumD,EAAU5sD,GACvD43D,EAAkB34E,EAAQ+gB,GAAUh1B,OAAOqtB,OAAOs/D,GAuDtD3sF,OAAO2uB,iBAAiBi+D,EAAiB,CACvCnoD,QAAS,CAAEluC,MArDb,SAAiB+9B,EAAO76B,EAASyV,GAE/B,GAAI4kE,SAASx/C,GAAQ,CACnB,IAAIllB,EACJ,IACEA,EAASyrC,aAAa,IAAIjf,MAAItH,GAC/B,CACD,MAAOxsB,GAELsH,EAAS8lB,IAAInqB,MAAMupB,EACpB,CACD,IAAKw/C,SAAS1kE,EAAOisB,UACnB,MAAM,IAAIiwD,gBAAgB,CAAEh3D,UAE9BA,EAAQllB,CACT,MACQwsB,OAAQtH,aAAiBsH,MAChCtH,EAAQumB,aAAavmB,IAGrBplB,EAAWzV,EACXA,EAAU66B,EACVA,EAAQ,CAAE+G,SAAUA,IAmBtB,OAjBIs4C,WAAWl6E,KACbyV,EAAWzV,EACXA,EAAU,OAIZA,EAAUuG,OAAOC,OAAO,CACtBwsF,aAAcx4E,EAAQw4E,aACtBlJ,cAAetvE,EAAQsvE,eACtBjvD,EAAO76B,IACFizF,gBAAkBA,EACrB5Y,SAASr6E,EAAQg+B,OAAUq8C,SAASr6E,EAAQ6hC,YAC/C7hC,EAAQ6hC,SAAW,OAGrB4vD,OAAO2B,MAAMpzF,EAAQ4hC,SAAUA,EAAU,qBACzCkS,MAAM,UAAW9zC,GACV,IAAImyF,oBAAoBnyF,EAASyV,EACzC,EAW4BoW,cAAc,EAAMD,YAAY,EAAM6Y,UAAU,GAC3E78B,IAAK,CAAE9K,MATT,SAAa+9B,EAAO76B,EAASyV,GAC3B,IAAI49E,EAAiBF,EAAgBnoD,QAAQnQ,EAAO76B,EAASyV,GAE7D,OADA49E,EAAe56D,MACR46D,CACR,EAKoBxnE,cAAc,EAAMD,YAAY,EAAM6Y,UAAU,IAEzE,IACSjqB,CACT,CAGA,SAAS2iE,OAAsB,CAG/B,SAAS/7B,aAAakyC,GACpB,IAAItzF,EAAU,CACZ4hC,SAAU0xD,EAAU1xD,SACpBC,SAAUyxD,EAAUzxD,SAAS/7B,WAAW,KAEtCwtF,EAAUzxD,SAASllC,MAAM,GAAI,GAC7B22F,EAAUzxD,SACZE,KAAMuxD,EAAUvxD,KAChBvI,OAAQ85D,EAAU95D,OAClBsI,SAAUwxD,EAAUxxD,SACpBx4B,KAAMgqF,EAAUxxD,SAAWwxD,EAAU95D,OACrCkI,KAAM4xD,EAAU5xD,MAKlB,MAHuB,KAAnB4xD,EAAUj0D,OACZr/B,EAAQq/B,KAAOpP,OAAOqjE,EAAUj0D,OAE3Br/B,CACT,CAEA,SAASuzF,sBAAsBtuF,EAAOihC,GACpC,IAAIstD,EACJ,IAAK,IAAIroC,KAAUjlB,EACbjhC,EAAMM,KAAK4lD,KACbqoC,EAAYttD,EAAQilB,UACbjlB,EAAQilB,IAGnB,OAAO,MAACqoC,OACN13F,EAAYk2B,OAAOwhE,GAAWjhE,MAClC,CAEA,SAASu/D,gBAAgBv2F,EAAMC,EAASi4F,GAEtC,SAASC,EAAY92C,GACnBxhD,MAAMM,kBAAkBC,KAAMA,KAAKN,aACnCkL,OAAOC,OAAO7K,KAAMihD,GAAc,CAAE,GACpCjhD,KAAKJ,KAAOA,EACZI,KAAKH,QAAUG,KAAK6iF,MAAQhjF,EAAU,KAAOG,KAAK6iF,MAAMhjF,QAAUA,CACnE,CAMD,OAHAk4F,EAAYp/D,UAAY,IAAKm/D,GAAar4F,OAC1Cs4F,EAAYp/D,UAAUj5B,YAAcq4F,EACpCA,EAAYp/D,UAAU14B,KAAO,UAAYL,EAAO,IACzCm4F,CACT,CAEA,SAASC,aAAa3oD,GACpB,IAAK,IAAI/8B,KAASyjF,OAChB1mD,EAAQya,eAAex3C,EAAO0jF,cAAc1jF,IAE9C+8B,EAAQ17B,GAAG,QAAS6tE,MACpBnyC,EAAQnF,OACV,CAEA,SAAS+tD,YAAYC,EAAW75D,GAC9By3D,OAAOpX,SAASwZ,IAAcxZ,SAASrgD,IACvC,IAAI85D,EAAMD,EAAUj3F,OAASo9B,EAAOp9B,OAAS,EAC7C,OAAOk3F,EAAM,GAAwB,MAAnBD,EAAUC,IAAgBD,EAAUnoD,SAAS1R,EACjE,CAEA,SAASqgD,SAASv9E,GAChB,MAAwB,iBAAVA,GAAsBA,aAAiBk1B,MACvD,CAEA,SAASkoD,WAAWp9E,GAClB,MAAwB,mBAAVA,CAChB,CAEA,SAAS8c,SAAS9c,GAChB,MAAwB,iBAAVA,GAAuB,WAAYA,CACnD,CAriBAq1F,oBAAoB79D,UAAY/tB,OAAOqtB,OAAO49D,SAASl9D,WAEvD69D,oBAAoB79D,UAAUuR,MAAQ,WACpC8tD,aAAah4F,KAAKo4F,iBAClBp4F,KAAKwa,KAAK,QACZ,EAGAg8E,oBAAoB79D,UAAU3oB,MAAQ,SAAUwjC,EAAMm+B,EAAU73D,GAE9D,GAAI9Z,KAAK62F,QACP,MAAM,IAAIN,mBAIZ,IAAK7X,SAASlrC,KAAUv1B,SAASu1B,GAC/B,MAAM,IAAIpY,UAAU,iDAElBmjD,WAAW5M,KACb73D,EAAW63D,EACXA,EAAW,MAKO,IAAhBn+B,EAAKvyC,OAOLjB,KAAKg3F,mBAAqBxjD,EAAKvyC,QAAUjB,KAAK22F,SAASxI,eACzDnuF,KAAKg3F,oBAAsBxjD,EAAKvyC,OAChCjB,KAAKi3F,oBAAoBxzF,KAAK,CAAE+vC,KAAMA,EAAMm+B,SAAUA,IACtD3xE,KAAKo4F,gBAAgBpoF,MAAMwjC,EAAMm+B,EAAU73D,KAI3C9Z,KAAKwa,KAAK,QAAS,IAAI87E,4BACvBt2F,KAAKkqC,SAdDpwB,GACFA,GAeN,EAGA08E,oBAAoB79D,UAAUmE,IAAM,SAAU0W,EAAMm+B,EAAU73D,GAY5D,GAVIykE,WAAW/qC,IACb15B,EAAW05B,EACXA,EAAOm+B,EAAW,MAEX4M,WAAW5M,KAClB73D,EAAW63D,EACXA,EAAW,MAIRn+B,EAIA,CACH,IAAI7Z,EAAO35B,KACPq4F,EAAiBr4F,KAAKo4F,gBAC1Bp4F,KAAKgQ,MAAMwjC,EAAMm+B,GAAU,WACzBh4C,EAAKi9D,QAAS,EACdyB,EAAev7D,IAAI,KAAM,KAAMhjB,EACrC,IACI9Z,KAAK62F,SAAU,CAChB,MAXC72F,KAAK42F,OAAS52F,KAAK62F,SAAU,EAC7B72F,KAAKo4F,gBAAgBt7D,IAAI,KAAM,KAAMhjB,EAWzC,EAGA08E,oBAAoB79D,UAAU6wD,UAAY,SAAUvpF,EAAMkB,GACxDnB,KAAK22F,SAASpsD,QAAQtqC,GAAQkB,EAC9BnB,KAAKo4F,gBAAgB5O,UAAUvpF,EAAMkB,EACvC,EAGAq1F,oBAAoB79D,UAAU2/D,aAAe,SAAUr4F,UAC9CD,KAAK22F,SAASpsD,QAAQtqC,GAC7BD,KAAKo4F,gBAAgBE,aAAar4F,EACpC,EAGAu2F,oBAAoB79D,UAAUyR,WAAa,SAAUmuD,EAAOz+E,GAC1D,IAAI6f,EAAO35B,KAGX,SAASw4F,EAAiB3nD,GACxBA,EAAOzG,WAAWmuD,GAClB1nD,EAAOiZ,eAAe,UAAWjZ,EAAOuB,SACxCvB,EAAOE,YAAY,UAAWF,EAAOuB,QACtC,CAGD,SAASqmD,EAAW5nD,GACdlX,EAAK++D,UACPruD,aAAa1Q,EAAK++D,UAEpB/+D,EAAK++D,SAAWtuD,YAAW,WACzBzQ,EAAKnf,KAAK,WACVm+E,GACD,GAAEJ,GACHC,EAAiB3nD,EAClB,CAGD,SAAS8nD,IAEHh/D,EAAK++D,WACPruD,aAAa1Q,EAAK++D,UAClB/+D,EAAK++D,SAAW,MAIlB/+D,EAAKmwB,eAAe,QAAS6uC,GAC7Bh/D,EAAKmwB,eAAe,QAAS6uC,GAC7Bh/D,EAAKmwB,eAAe,WAAY6uC,GAC5B7+E,GACF6f,EAAKmwB,eAAe,UAAWhwC,GAE5B6f,EAAKkX,QACRlX,EAAKy+D,gBAAgBtuC,eAAe,SAAU2uC,EAEjD,CAqBD,OAlBI3+E,GACF9Z,KAAK2T,GAAG,UAAWmG,GAIjB9Z,KAAK6wC,OACP4nD,EAAWz4F,KAAK6wC,QAGhB7wC,KAAKo4F,gBAAgBxnD,KAAK,SAAU6nD,GAItCz4F,KAAK2T,GAAG,SAAU6kF,GAClBx4F,KAAK2T,GAAG,QAASglF,GACjB34F,KAAK2T,GAAG,QAASglF,GACjB34F,KAAK2T,GAAG,WAAYglF,GAEb34F,IACT,EAGA,CACE,eAAgB,YAChB,aAAc,sBACduF,SAAQ,SAAUonC,GAClB6pD,oBAAoB79D,UAAUgU,GAAU,SAAUhpC,EAAGC,GACnD,OAAO5D,KAAKo4F,gBAAgBzrD,GAAQhpC,EAAGC,EAC3C,CACA,IAGA,CAAC,UAAW,aAAc,UAAU2B,SAAQ,SAAUyqB,GACpDplB,OAAOmf,eAAeysE,oBAAoB79D,UAAW3I,EAAU,CAC7D/jB,IAAK,WAAc,OAAOjM,KAAKo4F,gBAAgBpoE,EAAY,GAE/D,IAEAwmE,oBAAoB79D,UAAU+9D,iBAAmB,SAAUryF,GAkBzD,GAhBKA,EAAQkmC,UACXlmC,EAAQkmC,QAAU,IAMhBlmC,EAAQg+B,OAELh+B,EAAQ6hC,WACX7hC,EAAQ6hC,SAAW7hC,EAAQg+B,aAEtBh+B,EAAQg+B,OAIZh+B,EAAQ8hC,UAAY9hC,EAAQsJ,KAAM,CACrC,IAAIirF,EAAYv0F,EAAQsJ,KAAK4N,QAAQ,KACjCq9E,EAAY,EACdv0F,EAAQ8hC,SAAW9hC,EAAQsJ,MAG3BtJ,EAAQ8hC,SAAW9hC,EAAQsJ,KAAK2f,UAAU,EAAGsrE,GAC7Cv0F,EAAQw5B,OAASx5B,EAAQsJ,KAAK2f,UAAUsrE,GAE3C,CACH,EAIApC,oBAAoB79D,UAAUy+D,gBAAkB,WAE9C,IAAInxD,EAAWjmC,KAAK22F,SAAS1wD,SACzBsxD,EAAiBv3F,KAAK22F,SAASW,gBAAgBrxD,GACnD,GAAKsxD,EAAL,CAOA,GAAIv3F,KAAK22F,SAASkC,OAAQ,CACxB,IAAIj5D,EAASqG,EAASjlC,MAAM,GAAI,GAChChB,KAAK22F,SAASxnD,MAAQnvC,KAAK22F,SAASkC,OAAOj5D,EAC5C,CAGD,IAAIyP,EAAUrvC,KAAKo4F,gBACbb,EAAeloD,QAAQrvC,KAAK22F,SAAU32F,KAAKk3F,mBAEjD,IAAK,IAAI5kF,KADT+8B,EAAQ4mD,cAAgBj2F,KACN+1F,QAChB1mD,EAAQ17B,GAAGrB,EAAO0jF,cAAc1jF,IAalC,GARAtS,KAAK84F,YAAc,MAAMlvF,KAAK5J,KAAK22F,SAAShpF,MAC1CmyB,IAAI4O,OAAO1uC,KAAK22F,UAGhB32F,KAAK22F,SAAShpF,KAIZ3N,KAAK+4F,YAAa,CAEpB,IAAIvvF,EAAI,EACJmwB,EAAO35B,KACPunC,EAAUvnC,KAAKi3F,qBAClB,SAAS+B,EAAU34F,GAGlB,GAAIgvC,IAAY1V,EAAKy+D,gBAGnB,GAAI/3F,EACFs5B,EAAKnf,KAAK,QAASna,QAGhB,GAAImJ,EAAI+9B,EAAQtmC,OAAQ,CAC3B,IAAIu+B,EAAS+H,EAAQ/9B,KAEhB6lC,EAAQ4pD,UACX5pD,EAAQr/B,MAAMwvB,EAAOgU,KAAMhU,EAAOmyC,SAAUqnB,EAE/C,MAEQr/D,EAAKi9D,QACZvnD,EAAQvS,KAGlB,CAtBI,EAuBD,CAvDA,MAFC98B,KAAKwa,KAAK,QAAS,IAAI4gB,UAAU,wBAA0B6K,GA0D/D,EAGAuwD,oBAAoB79D,UAAUw+D,iBAAmB,SAAUhnD,GAEzD,IAAIgB,EAAahB,EAASgB,WACtBnxC,KAAK22F,SAASuC,gBAChBl5F,KAAK+2F,WAAWtzF,KAAK,CACnBq8B,IAAK9/B,KAAK84F,YACVvuD,QAAS4F,EAAS5F,QAClB4G,WAAYA,IAYhB,IAAIC,EAAWjB,EAAS5F,QAAQ6G,SAChC,IAAKA,IAA8C,IAAlCpxC,KAAK22F,SAASwC,iBAC3BhoD,EAAa,KAAOA,GAAc,IAOpC,OANAhB,EAASipD,YAAcp5F,KAAK84F,YAC5B3oD,EAASkpD,UAAYr5F,KAAK+2F,WAC1B/2F,KAAKwa,KAAK,WAAY21B,QAGtBnwC,KAAKi3F,oBAAsB,IAW7B,GANAe,aAAah4F,KAAKo4F,iBAElBjoD,EAASiC,YAIHpyC,KAAK82F,eAAiB92F,KAAK22F,SAASU,aACxCr3F,KAAKwa,KAAK,QAAS,IAAI67E,2BADzB,CAMA,IAAIiD,EACAC,EAAiBv5F,KAAK22F,SAAS4C,eAC/BA,IACFD,EAAiB1uF,OAAOC,OAAO,CAE7B2uF,KAAMrpD,EAASK,IAAIipD,UAAU,SAC5Bz5F,KAAK22F,SAASpsD,UAOnB,IAAIoC,EAAS3sC,KAAK22F,SAAShqD,SACP,MAAfwE,GAAqC,MAAfA,IAAgD,SAAzBnxC,KAAK22F,SAAShqD,QAK5C,MAAfwE,IAAwB,iBAAiBvnC,KAAK5J,KAAK22F,SAAShqD,WAC/D3sC,KAAK22F,SAAShqD,OAAS,MAEvB3sC,KAAKi3F,oBAAsB,GAC3BW,sBAAsB,aAAc53F,KAAK22F,SAASpsD,UAIpD,IASImvD,EATAC,EAAoB/B,sBAAsB,UAAW53F,KAAK22F,SAASpsD,SAGnEqvD,EAAkB95D,IAAInqB,MAAM3V,KAAK84F,aACjCe,EAAcF,GAAqBC,EAAgBv3D,KACnDy3D,EAAa,QAAQlwF,KAAKwnC,GAAYpxC,KAAK84F,YAC7Ch5D,IAAI4O,OAAO9jC,OAAOC,OAAO+uF,EAAiB,CAAEv3D,KAAMw3D,KAIpD,IACEH,EAAc55D,IAAIxpB,QAAQwjF,EAAY1oD,EACvC,CACD,MAAOyxC,GAEL,YADA7iF,KAAKwa,KAAK,QAAS,IAAI47E,iBAAiB,CAAEvT,MAAOA,IAElD,CAGD1qC,MAAM,iBAAkBuhD,GACxB15F,KAAK+4F,aAAc,EACnB,IAAIgB,EAAmBj6D,IAAInqB,MAAM+jF,GAajC,GAZA9uF,OAAOC,OAAO7K,KAAK22F,SAAUoD,IAIzBA,EAAiB9zD,WAAa2zD,EAAgB3zD,UACjB,WAA9B8zD,EAAiB9zD,UACjB8zD,EAAiB13D,OAASw3D,IACzB5B,YAAY8B,EAAiB13D,KAAMw3D,KACrCjC,sBAAsB,8BAA+B53F,KAAK22F,SAASpsD,SAIjEg0C,WAAWgb,GAAiB,CAC9B,IAAIS,EAAkB,CACpBzvD,QAAS4F,EAAS5F,QAClB4G,WAAYA,GAEV8oD,EAAiB,CACnBn6D,IAAKg6D,EACLntD,OAAQA,EACRpC,QAAS+uD,GAEX,IACEC,EAAev5F,KAAK22F,SAAUqD,EAAiBC,EAChD,CACD,MAAOvnF,GAEL,YADA1S,KAAKwa,KAAK,QAAS9H,EAEpB,CACD1S,KAAK02F,iBAAiB12F,KAAK22F,SAC5B,CAGD,IACE32F,KAAKo3F,iBACN,CACD,MAAOvU,GACL7iF,KAAKwa,KAAK,QAAS,IAAI47E,iBAAiB,CAAEvT,MAAOA,IAClD,CA1FA,CA2FH,EA4JAqX,kBAAAr7E,QAAiB3W,KAAK,CAAEw2B,KAAMA,KAAMC,MAAOA,QAC3Cu7D,kBAAAr7E,QAAA3W,KAAsBA,0HC5mBf,MAAMozC,QAAU,QCER,SAAS6+C,cAAcr6D,GACpC,MAAM38B,EAAQ,4BAA4B6Q,KAAK8rB,GAC/C,OAAO38B,GAASA,EAAM,IAAM,EAC9B,CCCA,MAAMi3F,iBAAmB,gDAYV,SAASC,YAAYC,EAAKC,EAAQl2F,GAC/C,MAAMm2F,EAAQn2F,GAAWA,EAAQgjC,MAAQhwB,SAASk1E,QAAQllD,KACpDpB,EAAWk0D,cAAcG,GAM/B,QAJen6F,IAAXo6F,GAAwBC,IAC1BD,GAAS,GAGM,SAAbt0D,EAAqB,CACvBq0D,EAAMr0D,EAAShlC,OAASq5F,EAAIt5F,MAAMilC,EAAShlC,OAAS,GAAKq5F,EAEzD,MAAMn3F,EAAQi3F,iBAAiBpmF,KAAKsmF,GAEpC,IAAKn3F,EACH,MAAM,IAAIo/E,WAAW,cAAeA,WAAWkY,iBAGjD,MAAMrV,EAAOjiF,EAAM,GACbu3F,EAAWv3F,EAAM,GACjBgmC,EAAOhmC,EAAM,GACbq8B,EAASxhB,OAAO/Q,KAAK4yD,mBAAmB12B,GAAOuxD,EAAW,SAAW,QAE3E,GAAIH,EAAQ,CACV,IAAKC,EACH,MAAM,IAAIjY,WAAW,wBAAyBA,WAAWoY,iBAG3D,OAAO,IAAIH,EAAM,CAACh7D,GAAS,CAACsI,KAAMs9C,GACnC,CAED,OAAO5lD,CACR,CAED,MAAM,IAAI+iD,WAAW,wBAA0Bt8C,EAAUs8C,WAAWoY,gBACtE,CC5CA,SAASC,SAASl5F,EAAIm5F,GACpB,IAAI32B,EAAY,EAChB,MAAM42B,EAAY,IAAOD,EACzB,IAAI13C,EAAQ,KACZ,OAAO,SAAmB43C,EAAOr1F,GAC/B,MAAMojD,EAAMntB,KAAKmtB,MACjB,GAAIiyC,GAASjyC,EAAMob,EAAY42B,EAM7B,OALI33C,IACF9Y,aAAa8Y,GACbA,EAAQ,MAEV+gB,EAAYpb,EACLpnD,EAAGsR,MAAM,KAAMtN,GAEnBy9C,IACHA,EAAQ/Y,YAAW,KACjB+Y,EAAQ,KACR+gB,EAAYvoC,KAAKmtB,MACVpnD,EAAGsR,MAAM,KAAMtN,KACrBo1F,GAAahyC,EAAMob,IAE5B,CACA,CCtBA,SAAS82B,YAAYC,EAAcnuF,GACjCmuF,EAAeA,GAAgB,GAC/B,MAAMC,EAAQ,IAAI75F,MAAM45F,GAClBE,EAAa,IAAI95F,MAAM45F,GAC7B,IAEIG,EAFAC,EAAO,EACPC,EAAO,EAKX,OAFAxuF,OAAc3M,IAAR2M,EAAoBA,EAAM,IAEzB,SAAcyuF,GACnB,MAAMzyC,EAAMntB,KAAKmtB,MAEX0yC,EAAYL,EAAWG,GAExBF,IACHA,EAAgBtyC,GAGlBoyC,EAAMG,GAAQE,EACdJ,EAAWE,GAAQvyC,EAEnB,IAAIt/C,EAAI8xF,EACJG,EAAa,EAEjB,KAAOjyF,IAAM6xF,GACXI,GAAcP,EAAM1xF,KACpBA,GAAQyxF,EASV,GANAI,GAAQA,EAAO,GAAKJ,EAEhBI,IAASC,IACXA,GAAQA,EAAO,GAAKL,GAGlBnyC,EAAMsyC,EAAgBtuF,EACxB,OAGF,MAAM4uF,EAASF,GAAa1yC,EAAM0yC,EAElC,OAAOE,EAASr1F,KAAK0mB,MAAmB,IAAb0uE,EAAoBC,QAAUv7F,CAC7D,CACA,CC7CA,MAAMw7F,WAAa3/D,OAAO,aAE1B,MAAM4/D,6BAA6B7mE,gBAAM,QAAC8mE,UACxCn8F,YAAY2E,GACVA,EAAUiiC,MAAM45C,aAAa77E,EAAS,CACpCy3F,QAAS,EACTC,UAAW,MACXC,aAAc,IACdC,WAAY,IACZC,UAAW,EACXjB,aAAc,IACb,MAAM,CAAC9rC,EAAMp6C,KACNuxB,MAAMg4C,YAAYvpE,EAAOo6C,MAGnCrvD,MAAM,CACJq8F,sBAAuB93F,EAAQ03F,YAGjC,MAAMpiE,EAAO35B,KAEPo8F,EAAYp8F,KAAK27F,YAAc,CACnC16F,OAAQoD,EAAQpD,OAChBg7F,WAAY53F,EAAQ43F,WACpBC,UAAW73F,EAAQ63F,UACnBH,UAAW13F,EAAQ03F,UACnBD,QAASz3F,EAAQy3F,QACjBE,aAAc33F,EAAQ23F,aACtBK,UAAW,EACXC,YAAY,EACZC,oBAAqB,EACrBC,GAAI7gE,KAAKmtB,MACToyC,MAAO,EACPuB,eAAgB,MAGZC,EAAe1B,YAAYoB,EAAUF,UAAY73F,EAAQ42F,aAAcmB,EAAUH,YAEvFj8F,KAAK2T,GAAG,eAAerB,IACP,aAAVA,IACG8pF,EAAUE,aACbF,EAAUE,YAAa,GAE1B,IAGH,IAAIK,EAAgB,EAEpBP,EAAUQ,eAAiBhC,UAAS,WAClC,MAAMrrD,EAAa6sD,EAAUn7F,OACvB47F,EAAmBT,EAAUC,UAC7BS,EAAgBD,EAAmBF,EACzC,IAAKG,GAAiBnjE,EAAKojE,UAAW,OAEtC,MAAMC,EAAON,EAAaI,GAE1BH,EAAgBE,EAEhB9uF,QAAQs0C,UAAS,KACf1oB,EAAKnf,KAAK,WAAY,CACpByiF,OAAUJ,EACVz+D,MAASmR,EACT2tD,SAAY3tD,EAAcstD,EAAmBttD,OAAcpvC,EAC3D+6F,MAAS4B,EACTE,KAAQA,QAAc78F,EACtBg9F,UAAaH,GAAQztD,GAAcstD,GAAoBttD,GACpDA,EAAastD,GAAoBG,OAAO78F,GAC3C,GAEV,GAAOi8F,EAAUF,WAEb,MAAMkB,EAAW,KACfhB,EAAUQ,gBAAe,EAAK,EAGhC58F,KAAK4wC,KAAK,MAAOwsD,GACjBp9F,KAAK4wC,KAAK,QAASwsD,EACpB,CAEDj1D,MAAMX,GACJ,MAAM40D,EAAYp8F,KAAK27F,YAMvB,OAJIS,EAAUK,gBACZL,EAAUK,iBAGL38F,MAAMqoC,MAAMX,EACpB,CAED61D,WAAWvmE,EAAO66C,EAAU73D,GAC1B,MAAM6f,EAAO35B,KACPo8F,EAAYp8F,KAAK27F,YACjBG,EAAUM,EAAUN,QAEpBK,EAAwBn8F,KAAKm8F,sBAE7BF,EAAaG,EAAUH,WAGvBqB,EAAkBxB,GADR,IAAOG,GAEjBD,GAA0C,IAA3BI,EAAUJ,aAAyB31F,KAAKF,IAAIi2F,EAAUJ,aAA+B,IAAjBsB,GAAyB,EAqBlH,MAAMC,EAAiB,CAACC,EAAQC,KAC9B,MAAM1B,EAAY/9E,OAAO6pB,WAAW21D,GACpC,IAEIE,EAFAC,EAAiB,KACjBC,EAAezB,EAEfT,EAAS,EAEb,GAAII,EAAS,CACX,MAAMhzC,EAAMntB,KAAKmtB,QAEZszC,EAAUI,KAAOd,EAAU5yC,EAAMszC,EAAUI,KAAQP,KACtDG,EAAUI,GAAK1zC,EACf40C,EAAYJ,EAAiBlB,EAAUlB,MACvCkB,EAAUlB,MAAQwC,EAAY,GAAKA,EAAY,EAC/ChC,EAAS,GAGXgC,EAAYJ,EAAiBlB,EAAUlB,KACxC,CAED,GAAIY,EAAS,CACX,GAAI4B,GAAa,EAEf,OAAOtzD,YAAW,KAChBqzD,EAAU,KAAMD,EAAO,GACtBvB,EAAaP,GAGdgC,EAAYE,IACdA,EAAeF,EAElB,CAEGE,GAAgB7B,EAAY6B,GAAiB7B,EAAY6B,EAAgB5B,IAC3E2B,EAAiBH,EAAOK,SAASD,GACjCJ,EAASA,EAAOK,SAAS,EAAGD,IAtDhC,SAAmBJ,EAAQC,GACzB,MAAMvC,EAAQl9E,OAAO6pB,WAAW21D,GAChCpB,EAAUC,WAAanB,EACvBkB,EAAUlB,OAASA,EAEfkB,EAAUE,YACZF,EAAUQ,iBAGRjjE,EAAKl2B,KAAK+5F,GACZzvF,QAAQs0C,SAASo7C,GAEjBrB,EAAUK,eAAiB,KACzBL,EAAUK,eAAiB,KAC3B1uF,QAAQs0C,SAASo7C,EAAU,CAGhC,CAwCCK,CAAUN,EAAQG,EAAiB,KACjC5vF,QAAQs0C,SAASo7C,EAAW,KAAME,EAAe,EAC/CF,EAAU,EAGhBF,EAAezmE,GAAO,SAASinE,EAAmBrrF,EAAK8qF,GACrD,GAAI9qF,EACF,OAAOoH,EAASpH,GAGd8qF,EACFD,EAAeC,EAAQO,GAEvBjkF,EAAS,KAEjB,GACG,CAEDkkF,UAAU/8F,GAER,OADAjB,KAAK27F,YAAY16F,QAAUA,EACpBjB,IACR,EAGH,IAAAi+F,uBAAerC,qBC9Lf,MAAMsC,cAACA,eAAiBliE,OAElBmiE,SAAWtoF,gBAAiB2yB,GAC5BA,EAAKzT,aACAyT,EAAKzT,SACHyT,EAAKR,wBACFQ,EAAKR,cACRQ,EAAK01D,qBACP11D,EAAK01D,uBAEN11D,CAEV,EAEA,IAAA41D,WAAeD,SCTf,MAAME,kBAAoB/3D,MAAMs7C,SAASC,YAAc,KAEjDyc,YAAc,IAAIC,aAAAA,YAElBC,KAAO,OACPC,WAAaH,YAAYzT,OAAO2T,MAChCE,iBAAmB,EAEzB,MAAMC,aACJj/F,YAAYO,EAAMkB,GAChB,MAAMy9F,WAACA,GAAc5+F,KAAKN,YACpBm/F,EAAgBv4D,MAAMo4C,SAASv9E,GAErC,IAAIopC,EAAU,yCAAyCq0D,EAAW3+F,OAC/D4+F,GAAiB19F,EAAMlB,KAAO,eAAe2+F,EAAWz9F,EAAMlB,SAAW,KACzEu+F,OAECK,EACF19F,EAAQm9F,YAAYzT,OAAOx0D,OAAOl1B,GAAO+C,QAAQ,eAAgBs6F,OAEjEj0D,GAAW,iBAAiBppC,EAAM2mC,MAAQ,6BAA6B02D,OAGzEx+F,KAAKuqC,QAAU+zD,YAAYzT,OAAOtgD,EAAUi0D,MAE5Cx+F,KAAK8+F,cAAgBD,EAAgB19F,EAAM0mC,WAAa1mC,EAAMqmC,KAE9DxnC,KAAKwnC,KAAOxnC,KAAKuqC,QAAQ1C,WAAa7nC,KAAK8+F,cAAgBJ,iBAE3D1+F,KAAKC,KAAOA,EACZD,KAAKmB,MAAQA,CACd,CAED0U,qBACQ7V,KAAKuqC,QAEX,MAAMppC,MAACA,GAASnB,KAEbsmC,MAAMm6C,aAAat/E,SACdA,QAECg9F,WAASh9F,SAGZs9F,UACP,CAED70C,kBAAkB3pD,GACd,OAAOo2B,OAAOp2B,GAAMiE,QAAQ,YAAaf,IAAW,CAClD,KAAO,MACP,KAAO,MACP,IAAM,OACNA,KACL,EAGH,MAAM47F,iBAAmB,CAACC,EAAMC,EAAgB56F,KAC9C,MAAM2rD,IACJA,EAAM,qBAAoBxoB,KAC1BA,EAAO,GAAEwhD,SACTA,EAAWh5B,EAAM,IAAM1pB,MAAMw7C,eAAet6C,EAAM62D,oBAChDh6F,GAAW,CAAA,EAEf,IAAIiiC,MAAM44C,WAAW8f,GACnB,MAAM5jE,UAAU,8BAGlB,GAAI4tD,EAAS/nF,OAAS,GAAK+nF,EAAS/nF,OAAS,GAC3C,MAAMxB,MAAM,0CAGd,MAAMy/F,EAAgBZ,YAAYzT,OAAO,KAAO7B,EAAWwV,MACrDW,EAAcb,YAAYzT,OAAO,KAAO7B,EAAW,KAAOwV,KAAOA,MACvE,IAAIM,EAAgBK,EAAYt3D,WAEhC,MAAM7N,EAAQ34B,MAAM4L,KAAK+xF,EAAKtuE,WAAW/qB,KAAI,EAAE1F,EAAMkB,MACnD,MAAM6gC,EAAO,IAAI28D,aAAa1+F,EAAMkB,GAEpC,OADA29F,GAAiB98D,EAAKwF,KACfxF,CAAI,IAGb88D,GAAiBI,EAAcr3D,WAAa7N,EAAM/4B,OAElD69F,EAAgBx4D,MAAMm7C,eAAeqd,GAErC,MAAMM,EAAkB,CACtB,eAAgB,iCAAiCpW,KASnD,OANI10D,OAAO6G,SAAS2jE,KAClBM,EAAgB,kBAAoBN,GAGtCG,GAAkBA,EAAeG,GAE1Bn4D,SAAQA,SAACh6B,KAAK,kBACnB,IAAI,MAAM+0B,KAAQhI,QACVklE,QACCl9D,EAAK6oD,eAGRsU,CACP,CAPoB,GAOhB,EAGP,IAAAE,mBAAeN,iBC1Gf,MAAMO,kCAAkCvqE,gBAAM,QAAC8mE,UAC7C0D,YAAYzoE,EAAO66C,EAAU73D,GAC3B9Z,KAAKyD,KAAKqzB,GACVhd,GACD,CAEDujF,WAAWvmE,EAAO66C,EAAU73D,GAC1B,GAAqB,IAAjBgd,EAAM71B,SACRjB,KAAKq9F,WAAar9F,KAAKu/F,YAGN,MAAbzoE,EAAM,IAAY,CACpB,MAAM04B,EAASxxC,OAAO+rB,MAAM,GAC5BylB,EAAO,GAAK,IACZA,EAAO,GAAK,IACZxvD,KAAKyD,KAAK+rD,EAAQmiB,EACnB,CAGH3xE,KAAKu/F,YAAYzoE,EAAO66C,EAAU73D,EACnC,EAGH,IAAA0lF,4BAAeF,0BCzBf,MAAMG,YAAc,CAAC/9F,EAAIu/E,IAChB36C,MAAM87C,UAAU1gF,GAAM,YAAagE,GACxC,MAAM4zC,EAAK5zC,EAAK4oB,MAChB5sB,EAAGsR,MAAMhT,KAAM0F,GAAM8T,MAAMrY,IACzB,IACE8/E,EAAU3nC,EAAG,QAAS2nC,EAAQ9/E,IAAUm4C,EAAG,KAAMn4C,EAClD,CAAC,MAAOuR,GACP4mC,EAAG5mC,EACJ,IACA4mC,EACJ,EAAG53C,EAGN,IAAAg+F,cAAeD,YCYf,MAAM/tD,YAAc,CAClBC,MAAOC,cAAAA,QAAK+tD,UAAU9tD,aACtBC,YAAaF,cAAAA,QAAK+tD,UAAU9tD,cAGxB+tD,cAAgB,CACpBjuD,MAAOC,cAAAA,QAAK+tD,UAAUE,uBACtB/tD,YAAaF,cAAAA,QAAK+tD,UAAUE,wBAGxBC,kBAAoBx5D,MAAMi4C,WAAW3sC,cAAI,QAACM,yBAEzCxT,KAAMqhE,WAAYphE,MAAOqhE,aAAe7G,gBAEzC8G,QAAU,UAEVC,mBAAqB7oF,SAASm1E,UAAU7mF,KAAIsgC,GACzCA,EAAW,MAWpB,SAASk6D,uBAAuB97F,GAC1BA,EAAQ+7F,gBAAgBtO,OAC1BztF,EAAQ+7F,gBAAgBtO,MAAMztF,GAE5BA,EAAQ+7F,gBAAgBvsF,QAC1BxP,EAAQ+7F,gBAAgBvsF,OAAOxP,EAEnC,CAWA,SAASg8F,SAASh8F,EAASi8F,EAAalvD,GACtC,IAAI0gD,EAAQwO,EACZ,IAAKxO,IAAmB,IAAVA,EAAiB,CAC7B,MAAMyO,EAAW5O,iBAAevgD,GAC5BmvD,IACFzO,EAAQ,IAAItrD,IAAI+5D,GAEnB,CACD,GAAIzO,EAAO,CAMT,GAJIA,EAAM3uD,WACR2uD,EAAM3nC,MAAQ2nC,EAAM3uD,UAAY,IAAM,KAAO2uD,EAAM1uD,UAAY,KAG7D0uD,EAAM3nC,KAAM,EAEV2nC,EAAM3nC,KAAKhnB,UAAY2uD,EAAM3nC,KAAK/mB,YACpC0uD,EAAM3nC,MAAQ2nC,EAAM3nC,KAAKhnB,UAAY,IAAM,KAAO2uD,EAAM3nC,KAAK/mB,UAAY,KAE3E,MAAMo9D,EAASxiF,OACZ/Q,KAAK6kF,EAAM3nC,KAAM,QACjB98B,SAAS,UACZhpB,EAAQkmC,QAAQ,uBAAyB,SAAWi2D,CACrD,CAEDn8F,EAAQkmC,QAAQlI,KAAOh+B,EAAQ6hC,UAAY7hC,EAAQq/B,KAAO,IAAMr/B,EAAQq/B,KAAO,IAC/E,MAAM+8D,EAAY3O,EAAM5rD,UAAY4rD,EAAMzvD,KAC1Ch+B,EAAQ6hC,SAAWu6D,EAEnBp8F,EAAQg+B,KAAOo+D,EACfp8F,EAAQq/B,KAAOouD,EAAMpuD,KACrBr/B,EAAQsJ,KAAOyjC,EACX0gD,EAAM7rD,WACR5hC,EAAQ4hC,SAAW6rD,EAAM7rD,SAASnkC,SAAS,KAAOgwF,EAAM7rD,SAAW,GAAG6rD,EAAM7rD,YAE/E,CAED5hC,EAAQ+7F,gBAAgBtO,MAAQ,SAAwB4O,GAGtDL,SAASK,EAAiBJ,EAAaI,EAAgB36D,KAC3D,CACA,CAEA,MAAM46D,uBAA4C,oBAAZ5yF,SAAqD,YAA1Bu4B,MAAM43C,OAAOnwE,SAIxE6yF,UAAaC,GACV,IAAI94D,SAAQ,CAACzxB,EAASwzB,KAC3B,IAAIg3D,EACAC,EAEJ,MAAMtzD,EAAO,CAACtsC,EAAO6/F,KACfD,IACJA,GAAS,EACTD,GAAUA,EAAO3/F,EAAO6/F,GAAW,EAQ/BC,EAAWC,IACfzzD,EAAKyzD,GAAQ,GACbp3D,EAAOo3D,EAAO,EAGhBL,GAVkB1/F,IAChBssC,EAAKtsC,GACLmV,EAAQnV,EAAM,GAQQ8/F,GAAUE,GAAmBL,EAASK,IAAgBluB,MAAMguB,EAAQ,IAKhG,IAAAG,YAAeT,wBAA0B,SAAqB9sF,GAC5D,OAAO+sF,WAAU/qF,eAAmCS,EAASwzB,EAAQg3D,GACnE,IAAIttD,KAACA,EAAI8xC,OAAEA,EAAM+b,OAAEA,GAAUxtF,EAC7B,MAAMi6E,aAACA,EAAYwT,iBAAEA,GAAoBztF,EACnC84B,EAAS94B,EAAO84B,OAAOtgC,cAC7B,IAAI00F,EAEAvwD,EADAm7C,GAAW,EAGXrG,GAAUh/C,MAAM87C,UAAUkD,KAC5BA,EAASma,cAAYna,GAAS7W,IAC5B,GAAGnoC,MAAMo4C,SAASjQ,GAChBA,EAAQ,CAACA,EAAOA,EAAMlzD,QAAQ,KAAO,EAAI,EAAI,QACxC,IAAK+qB,MAAMhlC,QAAQmtE,GACxB,MAAM,IAAIrzC,UAAU,4EAEtB,OAAOqzC,CAAK,KAKhB,MAAM8yB,EAAU,IAAI/zF,oBAAAA,QAEdg0F,EAAa,KACb3tF,EAAO4tF,aACT5tF,EAAO4tF,YAAYC,YAAYx3D,GAG7Br2B,EAAOgE,QACThE,EAAOgE,OAAO64B,oBAAoB,QAASxG,GAG7Cq3D,EAAQ14C,oBAAoB,EAW9B,SAAS3e,EAAMg3D,GACbK,EAAQ/mF,KAAK,SAAU0mF,GAAUA,EAAOp5D,KAAO,IAAIkpD,cAAc,KAAMn9E,EAAQ28B,GAAO0wD,EACvF,CAVDJ,GAAO,CAAC3/F,EAAO6/F,KACbD,GAAS,EACLC,IACFrV,GAAW,EACX6V,IACD,IAOHD,EAAQ3wD,KAAK,QAAS9G,IAElBj2B,EAAO4tF,aAAe5tF,EAAOgE,UAC/BhE,EAAO4tF,aAAe5tF,EAAO4tF,YAAYE,UAAUz3D,GAC/Cr2B,EAAOgE,SACThE,EAAOgE,OAAOw4B,QAAUnG,IAAUr2B,EAAOgE,OAAO84B,iBAAiB,QAASzG,KAK9E,MAAM03D,EAAWrQ,cAAc19E,EAAOuxB,QAASvxB,EAAOisB,KAChD9lB,EAAS,IAAIwsB,IAAIo7D,EAAU,oBAC3B37D,EAAWjsB,EAAOisB,UAAYi6D,mBAAmB,GAEvD,GAAiB,UAAbj6D,EAAsB,CACxB,IAAI47D,EAEJ,GAAe,QAAXl1D,EACF,OAAOukD,OAAO56E,EAASwzB,EAAQ,CAC7BtM,OAAQ,IACR0Q,WAAY,qBACZ3D,QAAS,CAAE,EACX12B,WAIJ,IACEguF,EAAgBxH,YAAYxmF,EAAOisB,IAAsB,SAAjBguD,EAAyB,CAC/DzmD,KAAMxzB,EAAO/I,KAAO+I,EAAO/I,IAAIu8B,MAElC,CAAC,MAAO30B,GACP,MAAM6vE,WAAWt1E,KAAKyF,EAAK6vE,WAAW4O,gBAAiBt9E,EACxD,CAYD,MAVqB,SAAjBi6E,GACF+T,EAAgBA,EAAcx0E,SAASi0E,GAElCA,GAAyC,SAArBA,IACvBO,EAAgBv7D,MAAMw5C,SAAS+hB,KAEP,WAAjB/T,IACT+T,EAAgB9sE,gBAAAA,QAAOkS,SAASh6B,KAAK40F,IAGhC3Q,OAAO56E,EAASwzB,EAAQ,CAC7B0J,KAAMquD,EACNrkE,OAAQ,IACR0Q,WAAY,KACZ3D,QAAS,IAAIilD,eACb37E,UAEH,CAED,IAA8C,IAA1CqsF,mBAAmB3kF,QAAQ0qB,GAC7B,OAAO6D,EAAO,IAAIy4C,WAChB,wBAA0Bt8C,EAC1Bs8C,WAAW4O,gBACXt9E,IAIJ,MAAM02B,EAAUilD,eAAaviF,KAAK4G,EAAO02B,SAAS5N,YAMlD4N,EAAQ5+B,IAAI,aAAc,SAAW2vC,SAAS,GAE9C,MAAMwmD,EAAqBjuF,EAAOiuF,mBAC5BC,EAAmBluF,EAAOkuF,iBAC1BjG,EAAUjoF,EAAOioF,QACvB,IAAIkG,EACAC,EAGJ,GAAI37D,MAAM27C,oBAAoBzuC,GAAO,CACnC,MAAM0uD,EAAe33D,EAAQ+iD,eAAe,+BAE5C95C,EAAOurD,mBAAiBvrD,GAAOs1C,IAC7Bv+C,EAAQ5+B,IAAIm9E,EAAY,GACvB,CACD94B,IAAK,SAAS1U,mBACd0tC,SAAUkZ,GAAgBA,EAAa,SAAM/hG,GAGrD,MAAW,GAAImmC,MAAM44C,WAAW1rC,IAASlN,MAAMi4C,WAAW/qC,EAAKxG,aAGzD,GAFAzC,EAAQ5+B,IAAI6nC,EAAKxG,eAEZzC,EAAQ43D,mBACX,IACE,MAAMha,QAAoBvyD,sBAAAA,QAAKwsE,UAAU5uD,EAAK61C,WAAW1gD,KAAK6K,GAC9Dlf,OAAO6G,SAASgtD,IAAgBA,GAAe,GAAK59C,EAAQ83D,iBAAiBla,EAE9E,CAAC,MAAOnqD,GACR,OAEE,GAAIsI,MAAMoD,OAAO8J,GACtBA,EAAKhM,MAAQ+C,EAAQkjD,eAAej6C,EAAK1L,MAAQ,4BACjDyC,EAAQ83D,iBAAiB7uD,EAAKhM,MAAQ,GACtCgM,EAAOze,gBAAM,QAACkS,SAASh6B,KAAKkxF,WAAS3qD,SAChC,GAAIA,IAASlN,MAAM24C,SAASzrC,GAAO,CACxC,GAAIx1B,OAAOC,SAASu1B,SAEb,GAAIlN,MAAMk4C,cAAchrC,GAC7BA,EAAOx1B,OAAO/Q,KAAK,IAAI21D,WAAWpvB,QAC7B,KAAIlN,MAAMo4C,SAASlrC,GAGxB,OAAO1J,EAAO,IAAIy4C,WAChB,oFACAA,WAAW4O,gBACXt9E,IALF2/B,EAAOx1B,OAAO/Q,KAAKumC,EAAM,QAO1B,CAKD,GAFAjJ,EAAQ83D,iBAAiB7uD,EAAKvyC,QAAQ,GAElC4S,EAAOs6E,eAAiB,GAAK36C,EAAKvyC,OAAS4S,EAAOs6E,cACpD,OAAOrkD,EAAO,IAAIy4C,WAChB,+CACAA,WAAW4O,gBACXt9E,GAGL,CAED,MAAMirF,EAAgBx4D,MAAMm7C,eAAel3C,EAAQ+3D,oBA2BnD,IAAIn4C,EAeAx8C,EAdJ,GA1BI24B,MAAMhlC,QAAQw6F,IAChBkG,EAAgBlG,EAAQ,GACxBmG,EAAkBnG,EAAQ,IAE1BkG,EAAgBC,EAAkBnG,EAGhCtoD,IAASuuD,GAAoBC,KAC1B17D,MAAM24C,SAASzrC,KAClBA,EAAOze,gBAAAA,QAAOkS,SAASh6B,KAAKumC,EAAM,CAAC+uD,YAAY,KAGjD/uD,EAAOze,gBAAAA,QAAOytE,SAAS,CAAChvD,EAAM,IAAIooD,uBAAqB,CACrD36F,OAAQ69F,EACRhD,QAASx1D,MAAMm7C,eAAeugB,MAC3B17D,MAAMk7C,MAEXugB,GAAoBvuD,EAAK7/B,GAAG,YAAYupF,IACtC6E,EAAiBn3F,OAAOC,OAAOqyF,EAAU,CACvCuF,QAAQ,IACP,KAMH5uF,EAAOs2C,KAAM,CAGfA,GAFiBt2C,EAAOs2C,KAAKhnB,UAAY,IAEvB,KADDtvB,EAAOs2C,KAAK/mB,UAAY,GAE1C,CAED,IAAK+mB,GAAQnwC,EAAOmpB,SAAU,CAG5BgnB,EAFoBnwC,EAAOmpB,SAEN,IADDnpB,EAAOopB,QAE5B,CAED+mB,GAAQ5f,EAAQI,OAAO,iBAIvB,IACEh9B,EAAOs9E,SACLjxE,EAAOmsB,SAAWnsB,EAAO6jB,OACzBhqB,EAAO01E,OACP11E,EAAO6uF,kBACPx+F,QAAQ,MAAO,GAClB,CAAC,MAAOwO,GACP,MAAMiwF,EAAY,IAAIljG,MAAMiT,EAAI7S,SAIhC,OAHA8iG,EAAU9uF,OAASA,EACnB8uF,EAAU7iE,IAAMjsB,EAAOisB,IACvB6iE,EAAUhmD,QAAS,EACZ7S,EAAO64D,EACf,CAEDp4D,EAAQ5+B,IACN,kBACA,2BAA6Bm0F,kBAAoB,OAAS,KAAK,GAGjE,MAAMz7F,EAAU,CACdsJ,OACAg/B,OAAQA,EACRpC,QAASA,EAAQlE,SACjBwyD,OAAQ,CAAEn6D,KAAM7qB,EAAOszC,UAAWxoB,MAAO9qB,EAAOozC,YAChDkD,OACAlkB,WACAo7D,SACA/b,SACAiU,eAAgB4G,uBAChBC,gBAAiB,CAAE,GAWrB,IAAIwC,EARA/uF,EAAOgvF,WACTx+F,EAAQw+F,WAAahvF,EAAOgvF,YAE5Bx+F,EAAQ6hC,SAAWlsB,EAAOksB,SAC1B7hC,EAAQq/B,KAAO1pB,EAAO0pB,KACtB28D,SAASh8F,EAASwP,EAAOi+E,MAAO7rD,EAAW,KAAOjsB,EAAOksB,UAAYlsB,EAAO0pB,KAAO,IAAM1pB,EAAO0pB,KAAO,IAAMr/B,EAAQsJ,OAIvH,MAAMm1F,EAAiB7C,QAAQr2F,KAAKvF,EAAQ4hC,UAiM5C,GAhMA5hC,EAAQ8qC,MAAQ2zD,EAAiBjvF,EAAOozC,WAAapzC,EAAOszC,UACxDtzC,EAAO+uF,UACTA,EAAY/uF,EAAO+uF,UACc,IAAxB/uF,EAAOwjF,aAChBuL,EAAYE,EAAiBnkE,eAAK,QAAGD,uBAEjC7qB,EAAOwjF,eACThzF,EAAQgzF,aAAexjF,EAAOwjF,cAE5BxjF,EAAO0lF,iBACTl1F,EAAQ+7F,gBAAgBvsF,OAASA,EAAO0lF,gBAE1CqJ,EAAYE,EAAiB9C,YAAcD,YAGzClsF,EAAOs6E,eAAiB,EAC1B9pF,EAAQ8pF,cAAgBt6E,EAAOs6E,cAG/B9pF,EAAQ8pF,cAAgBnjE,IAGtBnX,EAAOkvF,qBACT1+F,EAAQ0+F,mBAAqBlvF,EAAOkvF,oBAItCvyD,EAAMoyD,EAAUvzD,QAAQhrC,GAAS,SAAwBy/B,GACvD,GAAI0M,EAAIusD,UAAW,OAEnB,MAAMiG,EAAU,CAACl/D,GAEXm/D,GAAkBn/D,EAAIyG,QAAQ,kBAEpC,GAAIu3D,EAAoB,CACtB,MAAMoB,EAAkB,IAAItH,uBAAqB,CAC/C36F,OAAQqlC,MAAMm7C,eAAewhB,GAC7BnH,QAASx1D,MAAMm7C,eAAewgB,KAGhCH,GAAsBoB,EAAgBvvF,GAAG,YAAYupF,IACnD4E,EAAmBl3F,OAAOC,OAAOqyF,EAAU,CACzCiG,UAAU,IACT,IAGLH,EAAQv/F,KAAKy/F,EACd,CAGD,IAAIE,EAAiBt/D,EAGrB,MAAMu/D,EAAcv/D,EAAI0M,KAAOA,EAG/B,IAA0B,IAAtB38B,EAAOyvF,YAAwBx/D,EAAIyG,QAAQ,oBAO7C,OAJe,SAAXoC,GAAwC,MAAnB7I,EAAIqN,mBACpBrN,EAAIyG,QAAQ,oBAGbzG,EAAIyG,QAAQ,qBAEpB,IAAK,OACL,IAAK,SACL,IAAK,WACL,IAAK,aAEHy4D,EAAQv/F,KAAKmuC,cAAAA,QAAK2xD,YAAY7xD,qBAGvB5N,EAAIyG,QAAQ,oBACnB,MACF,IAAK,UACHy4D,EAAQv/F,KAAK,IAAI67F,6BAGjB0D,EAAQv/F,KAAKmuC,cAAAA,QAAK2xD,YAAY7xD,qBAGvB5N,EAAIyG,QAAQ,oBACnB,MACF,IAAK,KACCu1D,oBACFkD,EAAQv/F,KAAKmuC,cAAAA,QAAKM,uBAAuB0tD,uBAClC97D,EAAIyG,QAAQ,qBAKzB64D,EAAiBJ,EAAQ/hG,OAAS,EAAI8zB,gBAAAA,QAAOytE,SAASQ,EAAS18D,MAAMk7C,MAAQwhB,EAAQ,GAErF,MAAMQ,EAAezuE,gBAAAA,QAAOkkE,SAASmK,GAAgB,KACnDI,IACAhC,GAAY,IAGRrxD,EAAW,CACf3S,OAAQsG,EAAIqN,WACZjD,WAAYpK,EAAI0N,cAChBjH,QAAS,IAAIilD,eAAa1rD,EAAIyG,SAC9B12B,SACAw7B,QAASg0D,GAGX,GAAqB,WAAjBvV,EACF39C,EAASqD,KAAO4vD,EAChBlS,OAAO56E,EAASwzB,EAAQqG,OACnB,CACL,MAAMszD,EAAiB,GACvB,IAAIC,EAAqB,EAEzBN,EAAezvF,GAAG,QAAQ,SAA0BmjB,GAClD2sE,EAAehgG,KAAKqzB,GACpB4sE,GAAsB5sE,EAAM71B,OAGxB4S,EAAO21C,kBAAoB,GAAKk6C,EAAqB7vF,EAAO21C,mBAE9DmiC,GAAW,EACXyX,EAAehxD,UACftI,EAAO,IAAIy4C,WAAW,4BAA8B1uE,EAAO21C,iBAAmB,YAC5E+4B,WAAWyL,iBAAkBn6E,EAAQwvF,IAEnD,IAEQD,EAAezvF,GAAG,WAAW,WAC3B,GAAIg4E,EACF,OAGF,MAAMj5E,EAAM,IAAI6vE,WACd,4BAA8B1uE,EAAO21C,iBAAmB,YACxD+4B,WAAWyL,iBACXn6E,EACAwvF,GAEFD,EAAehxD,QAAQ1/B,GACvBo3B,EAAOp3B,EACjB,IAEQ0wF,EAAezvF,GAAG,SAAS,SAA2BjB,GAChD89B,EAAIusD,WACRjzD,EAAOy4C,WAAWt1E,KAAKyF,EAAK,KAAMmB,EAAQwvF,GACpD,IAEQD,EAAezvF,GAAG,OAAO,WACvB,IACE,IAAIgwF,EAAyC,IAA1BF,EAAexiG,OAAewiG,EAAe,GAAKzlF,OAAOzc,OAAOkiG,GAC9D,gBAAjB3V,IACF6V,EAAeA,EAAat2E,SAASi0E,GAChCA,GAAyC,SAArBA,IACvBqC,EAAer9D,MAAMw5C,SAAS6jB,KAGlCxzD,EAASqD,KAAOmwD,CACjB,CAAC,MAAOjxF,GACPo3B,EAAOy4C,WAAWt1E,KAAKyF,EAAK,KAAMmB,EAAQs8B,EAASd,QAASc,GAC7D,CACD+gD,OAAO56E,EAASwzB,EAAQqG,EAClC,GACO,CAEDoxD,EAAQ3wD,KAAK,SAASl+B,IACf0wF,EAAerG,YAClBqG,EAAe5oF,KAAK,QAAS9H,GAC7B0wF,EAAehxD,UAChB,GAET,IAEImvD,EAAQ3wD,KAAK,SAASl+B,IACpBo3B,EAAOp3B,GACP89B,EAAI4B,QAAQ1/B,EAAI,IAIlB89B,EAAI78B,GAAG,SAAS,SAA4BjB,GAG1Co3B,EAAOy4C,WAAWt1E,KAAKyF,EAAK,KAAMmB,EAAQ28B,GAChD,IAGIA,EAAI78B,GAAG,UAAU,SAA6Bk9B,GAE5CA,EAAO+yD,cAAa,EAAM,IAChC,IAGQ/vF,EAAO21B,QAAS,CAElB,MAAMA,EAAU7qB,SAAS9K,EAAO21B,QAAS,IAEzC,GAAIxS,MAAMwS,GAQR,YAPAM,EAAO,IAAIy4C,WACT,gDACAA,WAAWshB,qBACXhwF,EACA28B,IAWJA,EAAIpG,WAAWZ,GAAS,WACtB,GAAIu3D,EAAQ,OACZ,IAAI+C,EAAsBjwF,EAAO21B,QAAU,cAAgB31B,EAAO21B,QAAU,cAAgB,mBAC5F,MAAM2jD,EAAet5E,EAAOs5E,cAAgBlB,qBACxCp4E,EAAOiwF,sBACTA,EAAsBjwF,EAAOiwF,qBAE/Bh6D,EAAO,IAAIy4C,WACTuhB,EACA3W,EAAaf,oBAAsB7J,WAAWwhB,UAAYxhB,WAAWyhB,aACrEnwF,EACA28B,IAEFtG,GACR,GACK,CAID,GAAI5D,MAAM24C,SAASzrC,GAAO,CACxB,IAAIywD,GAAQ,EACRC,GAAU,EAEd1wD,EAAK7/B,GAAG,OAAO,KACbswF,GAAQ,CAAI,IAGdzwD,EAAK5C,KAAK,SAASl+B,IACjBwxF,GAAU,EACV1zD,EAAI4B,QAAQ1/B,EAAI,IAGlB8gC,EAAK7/B,GAAG,SAAS,KACVswF,GAAUC,GACbh6D,EAAM,IAAI8mD,cAAc,kCAAmCn9E,EAAQ28B,GACpE,IAGHgD,EAAKrI,KAAKqF,EAChB,MACMA,EAAI1T,IAAI0W,EAEd,GACA,EClpBe2wD,QAAA9sF,SAAS+sF,qBAIb,CACLp0F,MAAO,SAAe/P,EAAMkB,EAAOkjG,EAAS12F,EAAM0wB,EAAQimE,GACxD,MAAMC,EAAS,GACfA,EAAO9gG,KAAKxD,EAAO,IAAM6tE,mBAAmB3sE,IAExCmlC,MAAMq4C,SAAS0lB,IACjBE,EAAO9gG,KAAK,WAAa,IAAIk4B,KAAK0oE,GAASG,eAGzCl+D,MAAMo4C,SAAS/wE,IACjB42F,EAAO9gG,KAAK,QAAUkK,GAGpB24B,MAAMo4C,SAASrgD,IACjBkmE,EAAO9gG,KAAK,UAAY46B,IAGX,IAAXimE,GACFC,EAAO9gG,KAAK,UAGd+wF,SAAS+P,OAASA,EAAOxiG,KAAK,KAC/B,EAED0iG,KAAM,SAAcxkG,GAClB,MAAMkD,EAAQqxF,SAAS+P,OAAOphG,MAAM,IAAI6F,OAAO,aAAe/I,EAAO,cACrE,OAAQkD,EAAQ08D,mBAAmB18D,EAAM,IAAM,IAChD,EAEDwyC,OAAQ,SAAgB11C,GACtBD,KAAKgQ,MAAM/P,EAAM,GAAI07B,KAAKmtB,MAAQ,MACnC,GAMI,CACL94C,MAAO,WAAmB,EAC1By0F,KAAM,WAAkB,OAAO,IAAO,EACtC9uD,OAAQ,WAAoB,GC5CnB+uD,gBAAArtF,SAAS+sF,qBAItB,WACE,MAAMO,EAAO,kBAAkB/6F,KAAK0qF,UAAUC,WACxCqQ,EAAiBpQ,SAASqQ,cAAc,KAC9C,IAAIC,EAQJ,SAASC,EAAWjlE,GAClB,IAAIiG,EAAOjG,EAWX,OATI6kE,IAEFC,EAAeI,aAAa,OAAQj/D,GACpCA,EAAO6+D,EAAe7+D,MAGxB6+D,EAAeI,aAAa,OAAQj/D,GAG7B,CACLA,KAAM6+D,EAAe7+D,KACrBE,SAAU2+D,EAAe3+D,SAAW2+D,EAAe3+D,SAAS/hC,QAAQ,KAAM,IAAM,GAChFm+B,KAAMuiE,EAAeviE,KACrBxE,OAAQ+mE,EAAe/mE,OAAS+mE,EAAe/mE,OAAO35B,QAAQ,MAAO,IAAM,GAC3EkiC,KAAMw+D,EAAex+D,KAAOw+D,EAAex+D,KAAKliC,QAAQ,KAAM,IAAM,GACpEgiC,SAAU0+D,EAAe1+D,SACzBxC,KAAMkhE,EAAelhE,KACrByC,SAAiD,MAAtCy+D,EAAez+D,SAASvF,OAAO,GACxCgkE,EAAez+D,SACf,IAAMy+D,EAAez+D,SAE1B,CAUD,OARA2+D,EAAYC,EAAWxpD,OAAOnK,SAASrL,MAQhC,SAAyBk/D,GAC9B,MAAMjrF,EAAUssB,MAAMo4C,SAASumB,GAAeF,EAAWE,GAAcA,EACvE,OAAQjrF,EAAOisB,WAAa6+D,EAAU7+D,UAClCjsB,EAAOqoB,OAASyiE,EAAUziE,IACpC,CACG,CAlDD,GAsDS,WACL,OAAO,CACb,ECjDA,SAAS6iE,qBAAqB3yF,EAAU4yF,GACtC,IAAIxI,EAAgB,EACpB,MAAMD,EAAe1B,YAAY,GAAI,KAErC,OAAOh9D,IACL,MAAMi/D,EAASj/D,EAAEi/D,OACX7+D,EAAQJ,EAAEonE,iBAAmBpnE,EAAEI,WAAQj+B,EACvC28F,EAAgBG,EAASN,EACzBK,EAAON,EAAaI,GAG1BH,EAAgBM,EAEhB,MAAMzpD,EAAO,CACXypD,SACA7+D,QACA8+D,SAAU9+D,EAAS6+D,EAAS7+D,OAASj+B,EACrC+6F,MAAO4B,EACPE,KAAMA,QAAc78F,EACpBg9F,UAAWH,GAAQ5+D,GAVL6+D,GAAU7+D,GAUeA,EAAQ6+D,GAAUD,OAAO78F,EAChEmS,MAAO0rB,GAGTwV,EAAK2xD,EAAmB,WAAa,WAAY,EAEjD5yF,EAASihC,EAAK,CAElB,CAEA,MAAM6xD,sBAAkD,oBAAnBC,eAErC,IAAAC,WAAeF,uBAAyB,SAAUxxF,GAChD,OAAO,IAAIk0B,SAAQ,SAA4BzxB,EAASwzB,GACtD,IAAI07D,EAAc3xF,EAAO2/B,KACzB,MAAM8lD,EAAiB9J,eAAaviF,KAAK4G,EAAO02B,SAAS5N,YACnDmxD,EAAej6E,EAAOi6E,aAC5B,IAAI2X,EACJ,SAASh4D,IACH55B,EAAO4tF,aACT5tF,EAAO4tF,YAAYC,YAAY+D,GAG7B5xF,EAAOgE,QACThE,EAAOgE,OAAO64B,oBAAoB,QAAS+0D,EAE9C,CAEGn/D,MAAM44C,WAAWsmB,KACfnuF,SAAS+sF,sBAAwB/sF,SAASquF,8BAC5CpM,EAAe7L,gBAAe,GAE9B6L,EAAe7L,eAAe,wBAAwB,IAI1D,IAAIp+C,EAAU,IAAIi2D,eAGlB,GAAIzxF,EAAOs2C,KAAM,CACf,MAAMhnB,EAAWtvB,EAAOs2C,KAAKhnB,UAAY,GACnCC,EAAWvvB,EAAOs2C,KAAK/mB,SAAWlN,SAAS43C,mBAAmBj6D,EAAOs2C,KAAK/mB,WAAa,GAC7Fk2D,EAAe3tF,IAAI,gBAAiB,SAAWm3D,KAAK3/B,EAAW,IAAMC,GACtE,CAED,MAAMw+D,EAAWrQ,cAAc19E,EAAOuxB,QAASvxB,EAAOisB,KAOtD,SAAS6lE,IACP,IAAKt2D,EACH,OAGF,MAAMu2D,EAAkBpW,eAAaviF,KACnC,0BAA2BoiC,GAAWA,EAAQw2D,yBAahD3U,QAAO,SAAkB/vF,GACvBmV,EAAQnV,GACRssC,GACR,IAAS,SAAiB/6B,GAClBo3B,EAAOp3B,GACP+6B,GACD,GAfgB,CACf+F,KAHoBs6C,GAAiC,SAAjBA,GAA4C,SAAjBA,EACxCz+C,EAAQc,SAA/Bd,EAAQy2D,aAGRtoE,OAAQ6R,EAAQ7R,OAChB0Q,WAAYmB,EAAQnB,WACpB3D,QAASq7D,EACT/xF,SACAw7B,YAYFA,EAAU,IACX,CAmED,GArGAA,EAAQlc,KAAKtf,EAAO84B,OAAOtgC,cAAe4+E,SAAS2W,EAAU/tF,EAAO01E,OAAQ11E,EAAO6uF,mBAAmB,GAGtGrzD,EAAQ7F,QAAU31B,EAAO21B,QAiCrB,cAAe6F,EAEjBA,EAAQs2D,UAAYA,EAGpBt2D,EAAQ02D,mBAAqB,WACtB12D,GAAkC,IAAvBA,EAAQ22D,aAQD,IAAnB32D,EAAQ7R,QAAkB6R,EAAQ42D,aAAwD,IAAzC52D,EAAQ42D,YAAY1qF,QAAQ,WAKjF6uB,WAAWu7D,EACnB,EAIIt2D,EAAQ62D,QAAU,WACX72D,IAILvF,EAAO,IAAIy4C,WAAW,kBAAmBA,WAAWyhB,aAAcnwF,EAAQw7B,IAG1EA,EAAU,KAChB,EAGIA,EAAQ82D,QAAU,WAGhBr8D,EAAO,IAAIy4C,WAAW,gBAAiBA,WAAW6jB,YAAavyF,EAAQw7B,IAGvEA,EAAU,IAChB,EAGIA,EAAQg3D,UAAY,WAClB,IAAIvC,EAAsBjwF,EAAO21B,QAAU,cAAgB31B,EAAO21B,QAAU,cAAgB,mBAC5F,MAAM2jD,EAAet5E,EAAOs5E,cAAgBlB,qBACxCp4E,EAAOiwF,sBACTA,EAAsBjwF,EAAOiwF,qBAE/Bh6D,EAAO,IAAIy4C,WACTuhB,EACA3W,EAAaf,oBAAsB7J,WAAWwhB,UAAYxhB,WAAWyhB,aACrEnwF,EACAw7B,IAGFA,EAAU,IAChB,EAKQh4B,SAAS+sF,qBAAsB,CAEjC,MAAMkC,GAAazyF,EAAO0yF,iBAAmB7B,gBAAgB9C,KACxD/tF,EAAOo6E,gBAAkBkW,QAAQM,KAAK5wF,EAAOo6E,gBAE9CqY,GACFhN,EAAe3tF,IAAIkI,EAAOq6E,eAAgBoY,EAE7C,MAGenmG,IAAhBqlG,GAA6BlM,EAAe7L,eAAe,MAGvD,qBAAsBp+C,GACxB/I,MAAM/gC,QAAQ+zF,EAAejzD,UAAU,SAA0B/yB,EAAK1H,GACpEyjC,EAAQm3D,iBAAiB56F,EAAK0H,EACtC,IAISgzB,MAAMg4C,YAAYzqE,EAAO0yF,mBAC5Bl3D,EAAQk3D,kBAAoB1yF,EAAO0yF,iBAIjCzY,GAAiC,SAAjBA,IAClBz+C,EAAQy+C,aAAej6E,EAAOi6E,cAIS,mBAA9Bj6E,EAAOiuF,oBAChBzyD,EAAQsB,iBAAiB,WAAYu0D,qBAAqBrxF,EAAOiuF,oBAAoB,IAIhD,mBAA5BjuF,EAAOkuF,kBAAmC1yD,EAAQozD,QAC3DpzD,EAAQozD,OAAO9xD,iBAAiB,WAAYu0D,qBAAqBrxF,EAAOkuF,oBAGtEluF,EAAO4tF,aAAe5tF,EAAOgE,UAG/B4tF,EAAagB,IACNp3D,IAGLvF,GAAQ28D,GAAUA,EAAO3+D,KAAO,IAAIkpD,cAAc,KAAMn9E,EAAQw7B,GAAWo3D,GAC3Ep3D,EAAQnF,QACRmF,EAAU,KAAI,EAGhBx7B,EAAO4tF,aAAe5tF,EAAO4tF,YAAYE,UAAU8D,GAC/C5xF,EAAOgE,SACThE,EAAOgE,OAAOw4B,QAAUo1D,IAAe5xF,EAAOgE,OAAO84B,iBAAiB,QAAS80D,KAInF,MAAMx/D,EAAWk0D,cAAcyH,GAE3B37D,IAAsD,IAA1C5uB,SAASm1E,UAAUjxE,QAAQ0qB,GACzC6D,EAAO,IAAIy4C,WAAW,wBAA0Bt8C,EAAW,IAAKs8C,WAAW4O,gBAAiBt9E,IAM9Fw7B,EAAQa,KAAKs1D,GAAe,KAChC,GACA,ECvPA,MAAMkB,cAAgB,CACpBhoE,KAAM0iE,YACNuF,IAAKpB,YAGPj/D,MAAM/gC,QAAQmhG,eAAe,CAAChlG,EAAIP,KAChC,GAAGO,EAAI,CACL,IACEkJ,OAAOmf,eAAeroB,EAAI,OAAQ,CAACP,SACpC,CAAC,MAAO68B,GAER,CACDpzB,OAAOmf,eAAeroB,EAAI,cAAe,CAACP,SAC3C,KAGH,IAAeylG,SAAA,CACbC,WAAaD,IACXA,EAAWtgE,MAAMhlC,QAAQslG,GAAYA,EAAW,CAACA,GAEjD,MAAM3lG,OAACA,GAAU2lG,EACjB,IAAIE,EACA1Z,EAEJ,IAAK,IAAI5jF,EAAI,EAAGA,EAAIvI,IAClB6lG,EAAgBF,EAASp9F,KACrB4jF,EAAU9mD,MAAMo4C,SAASooB,GAAiBJ,cAAcI,EAAcrnE,eAAiBqnE,IAFjEt9F,KAO5B,IAAK4jF,EAAS,CACZ,IAAgB,IAAZA,EACF,MAAM,IAAI7K,WACR,WAAWukB,wCACX,mBAIJ,MAAM,IAAIrnG,MACR6mC,MAAMg8C,WAAWokB,cAAeI,GAC9B,YAAYA,mCACZ,oBAAoBA,KAEzB,CAED,IAAKxgE,MAAMi4C,WAAW6O,GACpB,MAAM,IAAIhyD,UAAU,6BAGtB,OAAOgyD,CAAO,EAEhBwZ,SAAUF,eCzCZ,SAASK,6BAA6BlzF,GAKpC,GAJIA,EAAO4tF,aACT5tF,EAAO4tF,YAAYuF,mBAGjBnzF,EAAOgE,QAAUhE,EAAOgE,OAAOw4B,QACjC,MAAM,IAAI2gD,cAAc,KAAMn9E,EAElC,CASe,SAASozF,gBAAgBpzF,GACtCkzF,6BAA6BlzF,GAE7BA,EAAO02B,QAAUilD,eAAaviF,KAAK4G,EAAO02B,SAG1C12B,EAAO2/B,KAAOo9C,cAAcjoD,KAC1B90B,EACAA,EAAOw5E,mBAGgD,IAArD,CAAC,OAAQ,MAAO,SAAS9xE,QAAQ1H,EAAO84B,SAC1C94B,EAAO02B,QAAQkjD,eAAe,qCAAqC,GAKrE,OAFgBmZ,SAASC,WAAWhzF,EAAOu5E,SAAWniB,WAASmiB,QAExDA,CAAQv5E,GAAQ2F,MAAK,SAA6B22B,GAYvD,OAXA42D,6BAA6BlzF,GAG7Bs8B,EAASqD,KAAOo9C,cAAcjoD,KAC5B90B,EACAA,EAAO+5E,kBACPz9C,GAGFA,EAAS5F,QAAUilD,eAAaviF,KAAKkjC,EAAS5F,SAEvC4F,CACX,IAAK,SAA4B+wD,GAe7B,OAdKpQ,SAASoQ,KACZ6F,6BAA6BlzF,GAGzBqtF,GAAUA,EAAO/wD,WACnB+wD,EAAO/wD,SAASqD,KAAOo9C,cAAcjoD,KACnC90B,EACAA,EAAO+5E,kBACPsT,EAAO/wD,UAET+wD,EAAO/wD,SAAS5F,QAAUilD,eAAaviF,KAAKi0F,EAAO/wD,SAAS5F,WAIzDxC,QAAQ+B,OAAOo3D,EAC1B,GACA,CC3EA,MAAMgG,gBAAmB/oB,GAAUA,aAAiBqR,eAAerR,EAAM93C,SAAW83C,EAWrE,SAASgpB,YAAYC,EAASC,GAE3CA,EAAUA,GAAW,GACrB,MAAMxzF,EAAS,CAAA,EAEf,SAASyzF,EAAe/qF,EAAQxH,EAAQ2qE,GACtC,OAAIp5C,MAAMu4C,cAActiE,IAAW+pB,MAAMu4C,cAAc9pE,GAC9CuxB,MAAMm7B,MAAM94B,KAAK,CAAC+2C,YAAWnjE,EAAQxH,GACnCuxB,MAAMu4C,cAAc9pE,GACtBuxB,MAAMm7B,MAAM,CAAE,EAAE1sD,GACduxB,MAAMhlC,QAAQyT,GAChBA,EAAO/T,QAET+T,CACR,CAGD,SAASwyF,EAAoB5jG,EAAGC,EAAG87E,GACjC,OAAKp5C,MAAMg4C,YAAY16E,GAEX0iC,MAAMg4C,YAAY36E,QAAvB,EACE2jG,OAAennG,EAAWwD,EAAG+7E,GAF7B4nB,EAAe3jG,EAAGC,EAAG87E,EAI/B,CAGD,SAAS8nB,EAAiB7jG,EAAGC,GAC3B,IAAK0iC,MAAMg4C,YAAY16E,GACrB,OAAO0jG,OAAennG,EAAWyD,EAEpC,CAGD,SAAS6jG,EAAiB9jG,EAAGC,GAC3B,OAAK0iC,MAAMg4C,YAAY16E,GAEX0iC,MAAMg4C,YAAY36E,QAAvB,EACE2jG,OAAennG,EAAWwD,GAF1B2jG,OAAennG,EAAWyD,EAIpC,CAGD,SAAS8jG,EAAgB/jG,EAAGC,EAAGurD,GAC7B,OAAIA,KAAQk4C,EACHC,EAAe3jG,EAAGC,GAChBurD,KAAQi4C,EACVE,OAAennG,EAAWwD,QAD5B,CAGR,CAED,MAAMgkG,EAAW,CACf7nE,IAAK0nE,EACL76D,OAAQ66D,EACRh0D,KAAMg0D,EACNpiE,QAASqiE,EACTpa,iBAAkBoa,EAClB7Z,kBAAmB6Z,EACnB/E,iBAAkB+E,EAClBj+D,QAASi+D,EACTG,eAAgBH,EAChBlB,gBAAiBkB,EACjBra,QAASqa,EACT3Z,aAAc2Z,EACdxZ,eAAgBwZ,EAChBvZ,eAAgBuZ,EAChB1F,iBAAkB0F,EAClB3F,mBAAoB2F,EACpBnE,WAAYmE,EACZj+C,iBAAkBi+C,EAClBtZ,cAAesZ,EACflO,eAAgBkO,EAChB7E,UAAW6E,EACXtgD,UAAWsgD,EACXxgD,WAAYwgD,EACZhG,YAAagG,EACb5E,WAAY4E,EACZnG,iBAAkBmG,EAClBrZ,eAAgBsZ,EAChBn9D,QAAS,CAAC5mC,EAAGC,IAAM2jG,EAAoBL,gBAAgBvjG,GAAIujG,gBAAgBtjG,IAAI,IASjF,OANA0iC,MAAM/gC,QAAQqF,OAAOqR,KAAKrR,OAAOC,OAAO,GAAIu8F,EAASC,KAAW,SAA4Bl4C,GAC1F,MAAMsS,EAAQkmC,EAASx4C,IAASo4C,EAC1BM,EAAcpmC,EAAM2lC,EAAQj4C,GAAOk4C,EAAQl4C,GAAOA,GACvD7oB,MAAMg4C,YAAYupB,IAAgBpmC,IAAUimC,IAAqB7zF,EAAOs7C,GAAQ04C,EACrF,IAESh0F,CACT,CCnGA,MAAMi0F,aAAa,CAAA,EAGnB,CAAC,SAAU,UAAW,SAAU,WAAY,SAAU,UAAUviG,SAAQ,CAACuiC,EAAMt+B,KAC7Es+F,aAAWhgE,GAAQ,SAAmBq2C,GACpC,cAAcA,IAAUr2C,GAAQ,KAAOt+B,EAAI,EAAI,KAAO,KAAOs+B,CACjE,CAAG,IAGH,MAAMigE,mBAAqB,CAAA,EAkD3B,SAASC,cAAc3jG,EAASmuC,EAAQn+B,GACtC,GAAuB,iBAAZhQ,EACT,MAAM,IAAIk+E,WAAW,4BAA6BA,WAAWshB,sBAE/D,MAAM5nF,EAAOrR,OAAOqR,KAAK5X,GACzB,IAAImF,EAAIyS,EAAKhb,OACb,KAAOuI,KAAM,GAAG,CACd,MAAMkgE,EAAMztD,EAAKzS,GACXy+F,EAAYz1D,EAAOk3B,GACzB,GAAIu+B,EAAJ,CACE,MAAM9mG,EAAQkD,EAAQqlE,GAChBhwD,OAAmBvZ,IAAVgB,GAAuB8mG,EAAU9mG,EAAOuoE,EAAKrlE,GAC5D,IAAe,IAAXqV,EACF,MAAM,IAAI6oE,WAAW,UAAY7Y,EAAM,YAAchwD,EAAQ6oE,WAAWshB,qBAG3E,MACD,IAAqB,IAAjBxvF,EACF,MAAM,IAAIkuE,WAAW,kBAAoB7Y,EAAK6Y,WAAW2lB,eAE5D,CACH,CA5DAJ,aAAW3a,aAAe,SAAsB8a,EAAW5qF,EAASxd,GAClE,SAASsoG,EAAcz+B,EAAK14D,GAC1B,MAAO,WAAasqC,QAAU,0BAA6BouB,EAAM,IAAO14D,GAAQnR,EAAU,KAAOA,EAAU,GAC5G,CAGD,MAAO,CAACsB,EAAOuoE,EAAKz4D,KAClB,IAAkB,IAAdg3F,EACF,MAAM,IAAI1lB,WACR4lB,EAAcz+B,EAAK,qBAAuBrsD,EAAU,OAASA,EAAU,KACvEklE,WAAW6lB,gBAef,OAXI/qF,IAAY0qF,mBAAmBr+B,KACjCq+B,mBAAmBr+B,IAAO,EAE1BvqD,QAAQk2B,KACN8yD,EACEz+B,EACA,+BAAiCrsD,EAAU,8CAK1C4qF,GAAYA,EAAU9mG,EAAOuoE,EAAKz4D,EAAY,CAEzD,EAmCA,IAAeg3F,UAAA,CACbD,4BACFF,WAAEA,cC9EF,MAAMA,WAAaG,UAAUH,WAS7B,MAAMO,MACJ3oG,YAAY4oG,GACVtoG,KAAKirE,SAAWq9B,EAChBtoG,KAAKuoG,aAAe,CAClBl5D,QAAS,IAAIm8C,qBACbr7C,SAAU,IAAIq7C,qBAEjB,CAUDn8C,QAAQm5D,EAAa30F,GAGQ,iBAAhB20F,GACT30F,EAASA,GAAU,IACZisB,IAAM0oE,EAEb30F,EAAS20F,GAAe,GAG1B30F,EAASszF,YAAYnnG,KAAKirE,SAAUp3D,GAEpC,MAAMs5E,aAACA,EAAYuV,iBAAEA,EAAgBn4D,QAAEA,GAAW12B,EA0BlD,IAAI40F,OAxBiBtoG,IAAjBgtF,GACF8a,UAAUD,cAAc7a,EAAc,CACpCjB,kBAAmB4b,WAAW3a,aAAa2a,WAAWY,SACtDvc,kBAAmB2b,WAAW3a,aAAa2a,WAAWY,SACtDtc,oBAAqB0b,WAAW3a,aAAa2a,WAAWY,WACvD,GAGmB,MAApBhG,IACEp8D,MAAMi4C,WAAWmkB,GACnB7uF,EAAO6uF,iBAAmB,CACxBtX,UAAWsX,GAGbuF,UAAUD,cAActF,EAAkB,CACxC7X,OAAQid,WAAWa,SACnBvd,UAAW0c,WAAWa,WACrB,IAKP90F,EAAO84B,QAAU94B,EAAO84B,QAAU3sC,KAAKirE,SAASt+B,QAAU,OAAOlN,cAKjEgpE,EAAiBl+D,GAAWjE,MAAMm7B,MAChCl3B,EAAQgnC,OACRhnC,EAAQ12B,EAAO84B,SAGjB87D,GAAkBniE,MAAM/gC,QACtB,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,QAAS,WACjDonC,WACQpC,EAAQoC,EAAO,IAI1B94B,EAAO02B,QAAUilD,eAAajuF,OAAOknG,EAAgBl+D,GAGrD,MAAMq+D,EAA0B,GAChC,IAAIC,GAAiC,EACrC7oG,KAAKuoG,aAAal5D,QAAQ9pC,SAAQ,SAAoCujG,GACjC,mBAAxBA,EAAYjd,UAA0D,IAAhCid,EAAYjd,QAAQh4E,KAIrEg1F,EAAiCA,GAAkCC,EAAYld,YAE/Egd,EAAwBtxF,QAAQwxF,EAAYpd,UAAWod,EAAYnd,UACzE,IAEI,MAAMod,EAA2B,GAKjC,IAAIxvF,EAJJvZ,KAAKuoG,aAAap4D,SAAS5qC,SAAQ,SAAkCujG,GACnEC,EAAyBtlG,KAAKqlG,EAAYpd,UAAWod,EAAYnd,SACvE,IAGI,IACInwE,EADAhS,EAAI,EAGR,IAAKq/F,EAAgC,CACnC,MAAMG,EAAQ,CAAC/B,gBAAgBjvF,KAAKhY,WAAOG,GAO3C,IANA6oG,EAAM1xF,QAAQtE,MAAMg2F,EAAOJ,GAC3BI,EAAMvlG,KAAKuP,MAAMg2F,EAAOD,GACxBvtF,EAAMwtF,EAAM/nG,OAEZsY,EAAUwuB,QAAQzxB,QAAQzC,GAEnBrK,EAAIgS,GACTjC,EAAUA,EAAQC,KAAKwvF,EAAMx/F,KAAMw/F,EAAMx/F,MAG3C,OAAO+P,CACR,CAEDiC,EAAMotF,EAAwB3nG,OAE9B,IAAIgoG,EAAYp1F,EAIhB,IAFArK,EAAI,EAEGA,EAAIgS,GAAK,CACd,MAAM0tF,EAAcN,EAAwBp/F,KACtC2/F,EAAaP,EAAwBp/F,KAC3C,IACEy/F,EAAYC,EAAYD,EACzB,CAAC,MAAO5oG,GACP8oG,EAAWxgE,KAAK3oC,KAAMK,GACtB,KACD,CACF,CAED,IACEkZ,EAAU0tF,gBAAgBt+D,KAAK3oC,KAAMipG,EACtC,CAAC,MAAO5oG,GACP,OAAO0nC,QAAQ+B,OAAOzpC,EACvB,CAKD,IAHAmJ,EAAI,EACJgS,EAAMutF,EAAyB9nG,OAExBuI,EAAIgS,GACTjC,EAAUA,EAAQC,KAAKuvF,EAAyBv/F,KAAMu/F,EAAyBv/F,MAGjF,OAAO+P,CACR,CAED6vF,OAAOv1F,GAGL,OAAOo3E,SADUsG,eADjB19E,EAASszF,YAAYnnG,KAAKirE,SAAUp3D,IACEuxB,QAASvxB,EAAOisB,KAC5BjsB,EAAO01E,OAAQ11E,EAAO6uF,iBACjD,EAIHp8D,MAAM/gC,QAAQ,CAAC,SAAU,MAAO,OAAQ,YAAY,SAA6BonC,GAE/E07D,MAAM1vE,UAAUgU,GAAU,SAAS7M,EAAKjsB,GACtC,OAAO7T,KAAKqvC,QAAQ83D,YAAYtzF,GAAU,CAAA,EAAI,CAC5C84B,SACA7M,MACA0T,MAAO3/B,GAAU,CAAA,GAAI2/B,OAE3B,CACA,IAEAlN,MAAM/gC,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BonC,GAGrE,SAAS08D,EAAmBC,GAC1B,OAAO,SAAoBxpE,EAAK0T,EAAM3/B,GACpC,OAAO7T,KAAKqvC,QAAQ83D,YAAYtzF,GAAU,CAAA,EAAI,CAC5C84B,SACApC,QAAS++D,EAAS,CAChB,eAAgB,uBACd,CAAE,EACNxpE,MACA0T,SAER,CACG,CAED60D,MAAM1vE,UAAUgU,GAAU08D,IAE1BhB,MAAM1vE,UAAUgU,EAAS,QAAU08D,GAAmB,EACxD,IAEA,IAAAE,QAAelB,MC/Lf,MAAMmB,YACJ9pG,YAAY+pG,GACV,GAAwB,mBAAbA,EACT,MAAM,IAAIruE,UAAU,gCAGtB,IAAIsuE,EAEJ1pG,KAAKuZ,QAAU,IAAIwuB,SAAQ,SAAyBzxB,GAClDozF,EAAiBpzF,CACvB,IAEI,MAAMwzE,EAAQ9pF,KAGdA,KAAKuZ,QAAQC,MAAKitF,IAChB,IAAK3c,EAAM6f,WAAY,OAEvB,IAAIngG,EAAIsgF,EAAM6f,WAAW1oG,OAEzB,KAAOuI,KAAM,GACXsgF,EAAM6f,WAAWngG,GAAGi9F,GAEtB3c,EAAM6f,WAAa,IAAI,IAIzB3pG,KAAKuZ,QAAQC,KAAOowF,IAClB,IAAIC,EAEJ,MAAMtwF,EAAU,IAAIwuB,SAAQzxB,IAC1BwzE,EAAM6X,UAAUrrF,GAChBuzF,EAAWvzF,CAAO,IACjBkD,KAAKowF,GAMR,OAJArwF,EAAQktF,OAAS,WACf3c,EAAM4X,YAAYmI,EAC1B,EAEatwF,CAAO,EAGhBkwF,GAAS,SAAgB5pG,EAASgU,EAAQw7B,GACpCy6C,EAAMoX,SAKVpX,EAAMoX,OAAS,IAAIlQ,cAAcnxF,EAASgU,EAAQw7B,GAClDq6D,EAAe5f,EAAMoX,QAC3B,GACG,CAKD8F,mBACE,GAAIhnG,KAAKkhG,OACP,MAAMlhG,KAAKkhG,MAEd,CAMDS,UAAUpvF,GACJvS,KAAKkhG,OACP3uF,EAASvS,KAAKkhG,QAIZlhG,KAAK2pG,WACP3pG,KAAK2pG,WAAWlmG,KAAK8O,GAErBvS,KAAK2pG,WAAa,CAACp3F,EAEtB,CAMDmvF,YAAYnvF,GACV,IAAKvS,KAAK2pG,WACR,OAEF,MAAMvwF,EAAQpZ,KAAK2pG,WAAWpuF,QAAQhJ,IACvB,IAAX6G,GACFpZ,KAAK2pG,WAAW52C,OAAO35C,EAAO,EAEjC,CAMDwwC,gBACE,IAAI68C,EAIJ,MAAO,CACL3c,MAJY,IAAI0f,aAAY,SAAkB9+E,GAC9C+7E,EAAS/7E,CACf,IAGM+7E,SAEH,EAGH,IAAAqD,cAAeN,YCjGA,SAASO,OAAOjwF,GAC7B,OAAO,SAAc0oB,GACnB,OAAO1oB,EAAS9G,MAAM,KAAMwvB,EAChC,CACA,CChBe,SAASwnE,aAAav8B,GACnC,OAAOnnC,MAAMs4C,SAASnR,KAAsC,IAAzBA,EAAQu8B,YAC7C,CCbA,MAAMC,eAAiB,CACrBC,SAAU,IACVC,mBAAoB,IACpBC,WAAY,IACZC,WAAY,IACZC,GAAI,IACJC,QAAS,IACTC,SAAU,IACVC,4BAA6B,IAC7BC,UAAW,IACXC,aAAc,IACdC,eAAgB,IAChBC,YAAa,IACbC,gBAAiB,IACjBC,OAAQ,IACRC,gBAAiB,IACjBC,iBAAkB,IAClBC,MAAO,IACPC,SAAU,IACVC,YAAa,IACbC,SAAU,IACVC,OAAQ,IACRC,kBAAmB,IACnBC,kBAAmB,IACnBC,WAAY,IACZC,aAAc,IACdC,gBAAiB,IACjBC,UAAW,IACXC,SAAU,IACVC,iBAAkB,IAClBC,cAAe,IACfC,4BAA6B,IAC7BC,eAAgB,IAChBC,SAAU,IACVC,KAAM,IACNC,eAAgB,IAChBC,mBAAoB,IACpBC,gBAAiB,IACjBC,WAAY,IACZC,qBAAsB,IACtBC,oBAAqB,IACrBC,kBAAmB,IACnBC,UAAW,IACXC,mBAAoB,IACpBC,oBAAqB,IACrBC,OAAQ,IACRC,iBAAkB,IAClBC,SAAU,IACVC,gBAAiB,IACjBC,qBAAsB,IACtBC,gBAAiB,IACjBC,4BAA6B,IAC7BC,2BAA4B,IAC5BC,oBAAqB,IACrBC,eAAgB,IAChBC,WAAY,IACZC,mBAAoB,IACpBC,eAAgB,IAChBC,wBAAyB,IACzBC,sBAAuB,IACvBC,oBAAqB,IACrBC,aAAc,IACdC,YAAa,IACbC,8BAA+B,KAGjCpjG,OAAO8lB,QAAQu5E,gBAAgB1kG,SAAQ,EAAEqG,EAAKzK,MAC5C8oG,eAAe9oG,GAASyK,CAAG,IAG7B,IAAAqiG,iBAAehE,eC5Cf,SAASiE,eAAeC,GACtB,MAAMrwF,EAAU,IAAIuqF,QAAM8F,GACpBrjE,EAAW9yB,KAAKqwF,QAAM1vE,UAAU0W,QAASvxB,GAa/C,OAVAwoB,MAAMu5C,OAAO/0C,EAAUu9D,QAAM1vE,UAAW7a,EAAS,CAACshE,YAAY,IAG9D94C,MAAMu5C,OAAO/0C,EAAUhtB,EAAS,KAAM,CAACshE,YAAY,IAGnDt0C,EAAS7S,OAAS,SAAgBqwE,GAChC,OAAO4F,eAAe/G,YAAYgH,EAAe7F,GACrD,EAESx9D,CACT,CAGA,MAAMsjE,MAAQF,eAAejjC,YAG7BmjC,MAAM/F,MAAQA,QAGd+F,MAAMpd,cAAgBA,cACtBod,MAAM5E,YAAcA,cACpB4E,MAAMtd,SAAWA,SACjBsd,MAAM9yD,QAAUA,QAChB8yD,MAAMnkB,WAAaA,WAGnBmkB,MAAM7rB,WAAaA,WAGnB6rB,MAAMC,OAASD,MAAMpd,cAGrBod,MAAME,IAAM,SAAaC,GACvB,OAAOxmE,QAAQumE,IAAIC,EACrB,EAEAH,MAAMrE,OAASA,OAGfqE,MAAMpE,aAAeA,aAGrBoE,MAAMjH,YAAcA,YAEpBiH,MAAM5e,aAAeA,eAErB4e,MAAMI,WAAarwB,GAAS0O,eAAevmD,MAAMw6C,WAAW3C,GAAS,IAAIgB,SAAShB,GAASA,GAE3FiwB,MAAMnE,eAAiBA,iBAEvBmE,MAAM5sG,QAAU4sG,MAGhB,IAAeK,QAAAL,MCtEf,MAAMD,cAA4B,CAChCO,eAAgB,MAChB96D,SAAU,QACV+6D,aAAa,EACbn6D,UAAW,CAAC,cAAe,KAC3BD,aAAc,CAAC,SACfhc,SAAU,UACVrK,OAAQ,CACNuuB,UAAU,EACVb,IAAK,SACLoB,SAAS,EACTuE,eAAgB,aAChBC,aAAc,aACdC,aAAc,aACdE,UAAW,wBAEb27B,KAAM,CACJ7gC,UAAU,EACVb,IAAK,gBACLoB,SAAS,EACT4xD,UAAU,GAEZryD,IAAK,CACHE,UAAU,EACVb,IAAK,MACLoB,SAAS,EACTsC,aAAa,EACbN,SAAU,gBACVgB,YAAa,0BAEf6uD,SAAU,KACVC,aAAa,SAGFC,oBACXC,WACA17D,WACA27D,SAEAvvG,YAAYsvG,EAAoBl1F,GAM9B9Z,KAAKgvG,WAAaA,EAClBhvG,KAAKivG,SAAW,KAChBjvG,KAAKszC,WAAa,IACb66D,iBACAnuG,KAAKkvG,kBAILlvG,KAAKgvG,YAAchvG,KAAKgvG,WAAW/tG,OAAS,EAC/CkuG,MAAU,qBAKoB,SAA5BnvG,KAAKszC,WAAWM,SAMa,UAA7B5zC,KAAKszC,WAAWM,UACb5zC,KAAKszC,WAAWkB,aAAax0C,KAAKszC,WAAWkB,UAAUvzC,OAAS,GAKvEjB,KAAKovG,eAAet1F,GAJhBqF,QAAQ9e,MAAM,iDAPhB8e,QAAQ9e,MAAM,4BAYjB,CAGD6uG,gBACE,MAAM57D,WAAazlC,cAAGkrC,aACpBprC,gBAAK5L,KAAKo9C,UAAW,uBAGvB,OAAOkwD,KAAK,IAAM/7D,WAAa,IAChC,CAGDg8D,aAAarzD,GACX,IAAIumC,EAAW,GACf,GAAIxiF,KAAKszC,WAAWq7D,YAClB,GAAI1yD,EAAQ/hB,MAAQ+hB,EAAQ/hB,KAAK4kB,MAC/B0jC,EAAWvmC,EAAQ/hB,KAAK4kB,WACnB,GAAI7C,EAAQ/hB,MAAQ+hB,EAAQ/hB,KAAKwiD,eACtC8F,EAAWvmC,EAAQ/hB,KAAKwiD,mBACnB,CACL,MAAM6yB,EAASvvG,KAAKgvG,WAAW7iG,MAAM,MACrC,GAAIojG,GAAUA,EAAOtuG,OAAS,EAAG,CAE/BuhF,EADkB+sB,EAAO,GAAGpjG,MAAM,KACb,EACtB,CACF,CAGH,OAAOq2E,CACR,CAEDgtB,0BAA6BvzD,GACtBA,EAAQA,SAKTA,EAAQ/hB,MAAQ+hB,EAAQ/hB,KAAKwiD,iBAC/BzgC,EAAQ/hB,KAAKwiD,eAAiB,MAGzB,IAAI30C,SAAQ,CAACzxB,EAASwzB,KAC3BkzC,UAAUF,WAAW7gC,EAAS,CAAE,GAAE,CAACvpC,EAAKrO,KACtCorG,KAAS,4BACL/8F,EACFo3B,EAAOp3B,GAGT4D,EAAQjS,EAAQwvE,QAAQ,GACxB,KAhBK53B,EAoBXyzD,UAAY75F,MAAO85F,IACjB,GAAIA,EAAWxlG,WAAW,QAAS,CACjC,MAAM87B,EAAW0pE,EAAWxlG,WAAW,UAAYw0B,eAAK,QAAGD,sBAC3D,IACE,MAAMyQ,EAAQ,IAAIlJ,EAASmkB,MAAM,CAC/BzG,oBAAoB,IAKtB,aAHmB1T,QAAM0/D,EAAY,CAAExgE,UAAS31B,MAAMs+C,GACpDA,EAAKnsB,QAGR,CAAC,MAAOtrC,GAEP8e,QAAQC,IAAI,uBAAwB/e,EACrC,CACD,OAAO,IACR,CAED,OADe0oC,QAAQ4mE,EACV,EAGfC,iBAAmB/5F,MAAO85F,IACxB,MAAMn9D,QAAexyC,KAAK0vG,UAAUC,GACpC,IAAKn9D,EACH,OAAO,KAGT,aADsBxyC,KAAKwvG,0BAA0Bh9D,EACvC,EAGhB38B,qBAAqBiE,GA6BnB,IAAIk1F,EAAahvG,KAAKgvG,WAAW9qG,QAAQ,kBAAmB,eAC5D,MAAM2rG,EAAU7vG,KAAKgvG,WAAW7iG,MAAM,OAChCojG,EAASM,EAAQ,GAAG1jG,MAAM,KAC5B6iG,EAAaa,EAAQ,GAAK,MAAQN,EAAO,GAAK,eAC9CvvG,KAAKszC,WAAWw7D,cAClBE,EAAaA,EAAW9qG,QAAQ,QAAS,SAI3C,MAAM4rG,QAAgB9vG,KAAK4vG,iBAAiBZ,GAC5C7vF,QAAQC,IAAI,MAAO0wF,GAEnB1B,QAAMniG,IAAI+iG,GAAYx1F,MAAK3D,MAAOs6B,IAChC,IACE,GAAuB,KAAnBA,EAAS3S,OAAe,CAE1B,MAAMye,EAAoB9L,EAASqD,KAEnC,IAAKyI,GAAWA,EAAQA,SAAWj8C,KAAKszC,WAAWo7D,eAEjD,YADAvvF,QAAQ9e,MAAM,yCAIhBL,KAAKszC,WAAWkJ,cAAgBx8C,KAAKsvG,aAAarzD,GAElD,MAAM4B,EAAW,IAAIzK,kBAAkB6I,EAASj8C,KAAKszC,YAErDtzC,KAAKivG,SAAWpxD,EAASpJ,cAEzB,IAAI0N,WAAWniD,KAAKivG,SAAUjvG,KAAKszC,WAAY2I,GAE/C7R,YAAW,KACLtwB,GACFA,GACD,GACA,IACJ,MACCqF,QAAQ9e,MAAM,8BAEjB,CAAC,MAAO29B,GACP7e,QAAQ9e,MAAM,SAAW29B,EAAEn+B,QAC5B,IAEJ,EC7OI,MAAMkwG,WAAa,KAExBN,KAAS,gBAGTxyD,YAAY,EAIDA,WAAa,KAExB,MAAMC,EAAc8yD,oBACdlzD,EAAU/uC,QAAQuuC,MAAQ3uC,gBAAKguC,IAAM,kBAC3C9tC,cAAGuvC,UAAUN,EAASI,GAAcxqC,IAE9BA,GACFy8F,MAAU,YAAYz8F,KAGxB+8F,KAAS,YAAY,GACrB,EAISO,kBAAoB,KAC/B,MAAM9wD,EAAWvxC,gBAAK2I,QACpB6oC,UAEA,IAAMxxC,gBAAKguC,IAAM,YAAchuC,gBAAKguC,IAAM,SAAWhuC,gBAAKguC,IAAM,aAIlE,OADiB9tC,cAAGkrC,aAAamG,GACjB7xB,UAAU,EAGf4iF,WAAap6F,MAAOm5F,IAC/B,IAEES,KAAS,4BAQT,IAAIV,oBAAoBC,GAAY,KAClCS,KAAS,sBAAsB,GAElC,CAAC,MAAO/8F,GACPy8F,MAAU,sBAAsBz8F,EAAI7S,UACrC,GCrDUqwG,eAAiB,KAC5BnxF,QAAQ3Y,QAAQ,KAAK5F,YAAY,WAAWqS,OAAOs9F,YACnDpxF,QAAQ3Y,QAAQ,QAAQ5F,YAAY,WAAWqS,OAAOs9F,YAEtDpxF,QACG3Y,QAAQ,kBACR5F,YAAY,eACZqS,OAAOu9F,YACVrxF,QACG3Y,QAAQ,oBACR5F,YAAY,eACZqS,OAAOu9F,WAAgB,ECT5BrxF,QAAQ1B,QAAQ0rB,QAAQ,mBAAmB1rB,SAG3C6B,cAGAgxF,iBAGAnxF,QAAQpJ,MAAM5H,QAAQqH"}